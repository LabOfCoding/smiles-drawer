(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["SmilesDrawer"] = factory();
	else
		root["SmilesDrawer"] = factory();
})(self, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/Parser.js":
/*!***********************!*\
  !*** ./src/Parser.js ***!
  \***********************/
/***/ ((module) => {

// WHEN REPLACING, CHECK FOR:
// KEEP THIS WHEN REGENERATING THE PARSER !!

module.exports = function () {
  "use strict";

  /*
   * Generated by PEG.js 0.10.0.
   *
   * http://pegjs.org/
   */
  function peg$subclass(child, parent) {
    function ctor() {
      this.constructor = child;
    }
    ctor.prototype = parent.prototype;
    child.prototype = new ctor();
  }
  function peg$SyntaxError(message, expected, found, location) {
    this.message = message;
    this.expected = expected;
    this.found = found;
    this.location = location;
    this.name = "SyntaxError";
    if (typeof Error.captureStackTrace === "function") {
      Error.captureStackTrace(this, peg$SyntaxError);
    }
  }
  peg$subclass(peg$SyntaxError, Error);
  peg$SyntaxError.buildMessage = function (expected, found) {
    var DESCRIBE_EXPECTATION_FNS = {
      literal: function (expectation) {
        return "\"" + literalEscape(expectation.text) + "\"";
      },
      "class": function (expectation) {
        var escapedParts = "",
          i;
        for (i = 0; i < expectation.parts.length; i++) {
          escapedParts += expectation.parts[i] instanceof Array ? classEscape(expectation.parts[i][0]) + "-" + classEscape(expectation.parts[i][1]) : classEscape(expectation.parts[i]);
        }
        return "[" + (expectation.inverted ? "^" : "") + escapedParts + "]";
      },
      any: function (expectation) {
        return "any character";
      },
      end: function (expectation) {
        return "end of input";
      },
      other: function (expectation) {
        return expectation.description;
      }
    };
    function hex(ch) {
      return ch.charCodeAt(0).toString(16).toUpperCase();
    }
    function literalEscape(s) {
      return s.replace(/\\/g, '\\\\').replace(/"/g, '\\"').replace(/\0/g, '\\0').replace(/\t/g, '\\t').replace(/\n/g, '\\n').replace(/\r/g, '\\r').replace(/[\x00-\x0F]/g, function (ch) {
        return '\\x0' + hex(ch);
      }).replace(/[\x10-\x1F\x7F-\x9F]/g, function (ch) {
        return '\\x' + hex(ch);
      });
    }
    function classEscape(s) {
      return s.replace(/\\/g, '\\\\').replace(/\]/g, '\\]').replace(/\^/g, '\\^').replace(/-/g, '\\-').replace(/\0/g, '\\0').replace(/\t/g, '\\t').replace(/\n/g, '\\n').replace(/\r/g, '\\r').replace(/[\x00-\x0F]/g, function (ch) {
        return '\\x0' + hex(ch);
      }).replace(/[\x10-\x1F\x7F-\x9F]/g, function (ch) {
        return '\\x' + hex(ch);
      });
    }
    function describeExpectation(expectation) {
      return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);
    }
    function describeExpected(expected) {
      var descriptions = new Array(expected.length),
        i,
        j;
      for (i = 0; i < expected.length; i++) {
        descriptions[i] = describeExpectation(expected[i]);
      }
      descriptions.sort();
      if (descriptions.length > 0) {
        for (i = 1, j = 1; i < descriptions.length; i++) {
          if (descriptions[i - 1] !== descriptions[i]) {
            descriptions[j] = descriptions[i];
            j++;
          }
        }
        descriptions.length = j;
      }
      switch (descriptions.length) {
        case 1:
          return descriptions[0];
        case 2:
          return descriptions[0] + " or " + descriptions[1];
        default:
          return descriptions.slice(0, -1).join(", ") + ", or " + descriptions[descriptions.length - 1];
      }
    }
    function describeFound(found) {
      return found ? "\"" + literalEscape(found) + "\"" : "end of input";
    }
    return "Expected " + describeExpected(expected) + " but " + describeFound(found) + " found.";
  };
  function peg$parse(input, options) {
    options = options !== void 0 ? options : {};

    // KEEP THIS WHEN REGENERATING THE PARSER !!
    var nOpenParentheses = input.split('(').length - 1;
    var nCloseParentheses = input.split(')').length - 1;
    if (nOpenParentheses !== nCloseParentheses) {
      throw peg$buildSimpleError('The number of opening parentheses does not match the number of closing parentheses.', 0);
    }
    // KEEP THIS WHEN REGENERATING THE PARSER !!

    var peg$FAILED = {},
      peg$startRuleFunctions = {
        chain: peg$parsechain
      },
      peg$startRuleFunction = peg$parsechain,
      peg$c0 = function (s) {
        var branches = [];
        var rings = [];
        for (var i = 0; i < s[1].length; i++) {
          branches.push(s[1][i]);
        }
        for (var i = 0; i < s[2].length; i++) {
          var bond = s[2][i][0] ? s[2][i][0] : '-';
          rings.push({
            'bond': bond,
            'id': s[2][i][1]
          });
        }
        for (var i = 0; i < s[3].length; i++) {
          branches.push(s[3][i]);
        }
        for (var i = 0; i < s[6].length; i++) {
          branches.push(s[6][i]);
        }
        return {
          'atom': s[0],
          'isBracket': s[0].element ? true : false,
          'branches': branches,
          'branchCount': branches.length,
          'ringbonds': rings,
          'ringbondCount': rings.length,
          'bond': s[4] ? s[4] : '-',
          'next': s[5],
          'hasNext': s[5] ? true : false
        };
      },
      peg$c1 = "(",
      peg$c2 = peg$literalExpectation("(", false),
      peg$c3 = ")",
      peg$c4 = peg$literalExpectation(")", false),
      peg$c5 = function (b) {
        var bond = b[1] ? b[1] : '-';
        b[2].branchBond = bond;
        return b[2];
      },
      peg$c6 = function (a) {
        return a;
      },
      peg$c7 = /^[\-=#$:\/\\.]/,
      peg$c8 = peg$classExpectation(["-", "=", "#", "$", ":", "/", "\\", "."], false, false),
      peg$c9 = function (b) {
        return b;
      },
      peg$c10 = "[",
      peg$c11 = peg$literalExpectation("[", false),
      peg$c12 = "se",
      peg$c13 = peg$literalExpectation("se", false),
      peg$c14 = "as",
      peg$c15 = peg$literalExpectation("as", false),
      peg$c16 = "]",
      peg$c17 = peg$literalExpectation("]", false),
      peg$c18 = function (b) {
        return {
          'isotope': b[1],
          'element': b[2],
          'chirality': b[3],
          'hcount': b[4],
          'charge': b[5],
          'class': b[6]
        };
      },
      peg$c19 = "B",
      peg$c20 = peg$literalExpectation("B", false),
      peg$c21 = "r",
      peg$c22 = peg$literalExpectation("r", false),
      peg$c23 = "C",
      peg$c24 = peg$literalExpectation("C", false),
      peg$c25 = "l",
      peg$c26 = peg$literalExpectation("l", false),
      peg$c27 = /^[NOPSFI]/,
      peg$c28 = peg$classExpectation(["N", "O", "P", "S", "F", "I"], false, false),
      peg$c29 = function (o) {
        if (o.length > 1) return o.join('');
        return o;
      },
      peg$c30 = /^[bcnops]/,
      peg$c31 = peg$classExpectation(["b", "c", "n", "o", "p", "s"], false, false),
      peg$c32 = "*",
      peg$c33 = peg$literalExpectation("*", false),
      peg$c34 = function (w) {
        return w;
      },
      peg$c35 = /^[A-Z]/,
      peg$c36 = peg$classExpectation([["A", "Z"]], false, false),
      peg$c37 = /^[a-z]/,
      peg$c38 = peg$classExpectation([["a", "z"]], false, false),
      peg$c39 = function (e) {
        return e.join('');
      },
      peg$c40 = "%",
      peg$c41 = peg$literalExpectation("%", false),
      peg$c42 = /^[1-9]/,
      peg$c43 = peg$classExpectation([["1", "9"]], false, false),
      peg$c44 = /^[0-9]/,
      peg$c45 = peg$classExpectation([["0", "9"]], false, false),
      peg$c46 = function (r) {
        if (r.length == 1) return Number(r);
        return Number(r.join('').replace('%', ''));
      },
      peg$c47 = "@",
      peg$c48 = peg$literalExpectation("@", false),
      peg$c49 = "TH",
      peg$c50 = peg$literalExpectation("TH", false),
      peg$c51 = /^[12]/,
      peg$c52 = peg$classExpectation(["1", "2"], false, false),
      peg$c53 = "AL",
      peg$c54 = peg$literalExpectation("AL", false),
      peg$c55 = "SP",
      peg$c56 = peg$literalExpectation("SP", false),
      peg$c57 = /^[1-3]/,
      peg$c58 = peg$classExpectation([["1", "3"]], false, false),
      peg$c59 = "TB",
      peg$c60 = peg$literalExpectation("TB", false),
      peg$c61 = "OH",
      peg$c62 = peg$literalExpectation("OH", false),
      peg$c63 = function (c) {
        if (!c[1]) return '@';
        if (c[1] == '@') return '@@';
        return c[1].join('').replace(',', '');
      },
      peg$c64 = function (c) {
        return c;
      },
      peg$c65 = "+",
      peg$c66 = peg$literalExpectation("+", false),
      peg$c67 = function (c) {
        if (!c[1]) return 1;
        if (c[1] != '+') return Number(c[1].join(''));
        return 2;
      },
      peg$c68 = "-",
      peg$c69 = peg$literalExpectation("-", false),
      peg$c70 = function (c) {
        if (!c[1]) return -1;
        if (c[1] != '-') return -Number(c[1].join(''));
        return -2;
      },
      peg$c71 = "H",
      peg$c72 = peg$literalExpectation("H", false),
      peg$c73 = function (h) {
        if (h[1]) return Number(h[1]);
        return 1;
      },
      peg$c74 = ":",
      peg$c75 = peg$literalExpectation(":", false),
      peg$c76 = /^[0]/,
      peg$c77 = peg$classExpectation(["0"], false, false),
      peg$c78 = function (c) {
        return Number(c[1][0] + c[1][1].join(''));
      },
      peg$c79 = function (i) {
        return Number(i.join(''));
      },
      peg$currPos = 0,
      peg$savedPos = 0,
      peg$posDetailsCache = [{
        line: 1,
        column: 1
      }],
      peg$maxFailPos = 0,
      peg$maxFailExpected = [],
      peg$silentFails = 0,
      peg$result;
    if ("startRule" in options) {
      if (!(options.startRule in peg$startRuleFunctions)) {
        throw new Error("Can't start parsing from rule \"" + options.startRule + "\".");
      }
      peg$startRuleFunction = peg$startRuleFunctions[options.startRule];
    }
    function text() {
      return input.substring(peg$savedPos, peg$currPos);
    }
    function location() {
      return peg$computeLocation(peg$savedPos, peg$currPos);
    }
    function expected(description, location) {
      location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos);
      throw peg$buildStructuredError([peg$otherExpectation(description)], input.substring(peg$savedPos, peg$currPos), location);
    }
    function error(message, location) {
      location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos);
      throw peg$buildSimpleError(message, location);
    }
    function peg$literalExpectation(text, ignoreCase) {
      return {
        type: "literal",
        text: text,
        ignoreCase: ignoreCase
      };
    }
    function peg$classExpectation(parts, inverted, ignoreCase) {
      return {
        type: "class",
        parts: parts,
        inverted: inverted,
        ignoreCase: ignoreCase
      };
    }
    function peg$anyExpectation() {
      return {
        type: "any"
      };
    }
    function peg$endExpectation() {
      return {
        type: "end"
      };
    }
    function peg$otherExpectation(description) {
      return {
        type: "other",
        description: description
      };
    }
    function peg$computePosDetails(pos) {
      var details = peg$posDetailsCache[pos],
        p;
      if (details) {
        return details;
      } else {
        p = pos - 1;
        while (!peg$posDetailsCache[p]) {
          p--;
        }
        details = peg$posDetailsCache[p];
        details = {
          line: details.line,
          column: details.column
        };
        while (p < pos) {
          if (input.charCodeAt(p) === 10) {
            details.line++;
            details.column = 1;
          } else {
            details.column++;
          }
          p++;
        }
        peg$posDetailsCache[pos] = details;
        return details;
      }
    }
    function peg$computeLocation(startPos, endPos) {
      var startPosDetails = peg$computePosDetails(startPos),
        endPosDetails = peg$computePosDetails(endPos);
      return {
        start: {
          offset: startPos,
          line: startPosDetails.line,
          column: startPosDetails.column
        },
        end: {
          offset: endPos,
          line: endPosDetails.line,
          column: endPosDetails.column
        }
      };
    }
    function peg$fail(expected) {
      if (peg$currPos < peg$maxFailPos) {
        return;
      }
      if (peg$currPos > peg$maxFailPos) {
        peg$maxFailPos = peg$currPos;
        peg$maxFailExpected = [];
      }
      peg$maxFailExpected.push(expected);
    }
    function peg$buildSimpleError(message, location) {
      return new peg$SyntaxError(message, null, null, location);
    }
    function peg$buildStructuredError(expected, found, location) {
      return new peg$SyntaxError(peg$SyntaxError.buildMessage(expected, found), expected, found, location);
    }
    function peg$parsechain() {
      var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9;
      s0 = peg$currPos;
      s1 = peg$currPos;
      s2 = peg$parseatom();
      if (s2 !== peg$FAILED) {
        s3 = [];
        s4 = peg$parsebranch();
        while (s4 !== peg$FAILED) {
          s3.push(s4);
          s4 = peg$parsebranch();
        }
        if (s3 !== peg$FAILED) {
          s4 = [];
          s5 = peg$currPos;
          s6 = peg$parsebond();
          if (s6 === peg$FAILED) {
            s6 = null;
          }
          if (s6 !== peg$FAILED) {
            s7 = peg$parsering();
            if (s7 !== peg$FAILED) {
              s6 = [s6, s7];
              s5 = s6;
            } else {
              peg$currPos = s5;
              s5 = peg$FAILED;
            }
          } else {
            peg$currPos = s5;
            s5 = peg$FAILED;
          }
          while (s5 !== peg$FAILED) {
            s4.push(s5);
            s5 = peg$currPos;
            s6 = peg$parsebond();
            if (s6 === peg$FAILED) {
              s6 = null;
            }
            if (s6 !== peg$FAILED) {
              s7 = peg$parsering();
              if (s7 !== peg$FAILED) {
                s6 = [s6, s7];
                s5 = s6;
              } else {
                peg$currPos = s5;
                s5 = peg$FAILED;
              }
            } else {
              peg$currPos = s5;
              s5 = peg$FAILED;
            }
          }
          if (s4 !== peg$FAILED) {
            s5 = [];
            s6 = peg$parsebranch();
            while (s6 !== peg$FAILED) {
              s5.push(s6);
              s6 = peg$parsebranch();
            }
            if (s5 !== peg$FAILED) {
              s6 = peg$parsebond();
              if (s6 === peg$FAILED) {
                s6 = null;
              }
              if (s6 !== peg$FAILED) {
                s7 = peg$parsechain();
                if (s7 === peg$FAILED) {
                  s7 = null;
                }
                if (s7 !== peg$FAILED) {
                  s8 = [];
                  s9 = peg$parsebranch();
                  while (s9 !== peg$FAILED) {
                    s8.push(s9);
                    s9 = peg$parsebranch();
                  }
                  if (s8 !== peg$FAILED) {
                    s2 = [s2, s3, s4, s5, s6, s7, s8];
                    s1 = s2;
                  } else {
                    peg$currPos = s1;
                    s1 = peg$FAILED;
                  }
                } else {
                  peg$currPos = s1;
                  s1 = peg$FAILED;
                }
              } else {
                peg$currPos = s1;
                s1 = peg$FAILED;
              }
            } else {
              peg$currPos = s1;
              s1 = peg$FAILED;
            }
          } else {
            peg$currPos = s1;
            s1 = peg$FAILED;
          }
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c0(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsebranch() {
      var s0, s1, s2, s3, s4, s5;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 40) {
        s2 = peg$c1;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c2);
        }
      }
      if (s2 !== peg$FAILED) {
        s3 = peg$parsebond();
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          s4 = peg$parsechain();
          if (s4 !== peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 41) {
              s5 = peg$c3;
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$c4);
              }
            }
            if (s5 !== peg$FAILED) {
              s2 = [s2, s3, s4, s5];
              s1 = s2;
            } else {
              peg$currPos = s1;
              s1 = peg$FAILED;
            }
          } else {
            peg$currPos = s1;
            s1 = peg$FAILED;
          }
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c5(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parseatom() {
      var s0, s1;
      s0 = peg$currPos;
      s1 = peg$parseorganicsymbol();
      if (s1 === peg$FAILED) {
        s1 = peg$parsearomaticsymbol();
        if (s1 === peg$FAILED) {
          s1 = peg$parsebracketatom();
          if (s1 === peg$FAILED) {
            s1 = peg$parsewildcard();
          }
        }
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c6(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsebond() {
      var s0, s1;
      s0 = peg$currPos;
      if (peg$c7.test(input.charAt(peg$currPos))) {
        s1 = input.charAt(peg$currPos);

        // Hack to resolve problem caused by:
        // O=C(N[C@@H](CC(O)=O)C(N[C@H](C1=CC=C(O)C=C1)C(N[C@@H](CC(O)=O)C(NCC(N[C@@H](C(N[C@@H]([C@H](C)CC(O)=O)C(N/C(C(O[C@H](C)[C@@H]2NC([C@H](CO)NC(C(O3)C3CCC)=O)=O)=O)=C\\\\C4=CNC5=C4C=CC=C5)=O)=O)[C@H](O)C(N)=O)=O)=O)=O)=O)[C@H](CC(O)=O)NC([C@@H](CC6=CNC7=C6C=CC=C7)NC2=O)=O
        // KEEP THIS WHEN REGENERATING THE PARSER !!
        if (s1 === input.charAt(peg$currPos + 1)) {
          s1 = peg$FAILED;
          if (peg$silentFails === 0) {
            throw peg$buildSimpleError('The parser encountered a bond repetition.', peg$currPos + 1);
          }
        }
        // KEEP THIS WHEN REGENERATING THE PARSER !!

        peg$currPos++;
      } else {
        s1 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c8);
        }
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c9(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsebracketatom() {
      var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 91) {
        s2 = peg$c10;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c11);
        }
      }
      if (s2 !== peg$FAILED) {
        s3 = peg$parseisotope();
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          if (input.substr(peg$currPos, 2) === peg$c12) {
            s4 = peg$c12;
            peg$currPos += 2;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c13);
            }
          }
          if (s4 === peg$FAILED) {
            if (input.substr(peg$currPos, 2) === peg$c14) {
              s4 = peg$c14;
              peg$currPos += 2;
            } else {
              s4 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$c15);
              }
            }
            if (s4 === peg$FAILED) {
              s4 = peg$parsearomaticsymbol();
              if (s4 === peg$FAILED) {
                s4 = peg$parseelementsymbol();
                if (s4 === peg$FAILED) {
                  s4 = peg$parsewildcard();
                }
              }
            }
          }
          if (s4 !== peg$FAILED) {
            s5 = peg$parsechiral();
            if (s5 === peg$FAILED) {
              s5 = null;
            }
            if (s5 !== peg$FAILED) {
              s6 = peg$parsehcount();
              if (s6 === peg$FAILED) {
                s6 = null;
              }
              if (s6 !== peg$FAILED) {
                s7 = peg$parsecharge();
                if (s7 === peg$FAILED) {
                  s7 = null;
                }
                if (s7 !== peg$FAILED) {
                  s8 = peg$parseclass();
                  if (s8 === peg$FAILED) {
                    s8 = null;
                  }
                  if (s8 !== peg$FAILED) {
                    if (input.charCodeAt(peg$currPos) === 93) {
                      s9 = peg$c16;
                      peg$currPos++;
                    } else {
                      s9 = peg$FAILED;
                      if (peg$silentFails === 0) {
                        peg$fail(peg$c17);
                      }
                    }
                    if (s9 !== peg$FAILED) {
                      s2 = [s2, s3, s4, s5, s6, s7, s8, s9];
                      s1 = s2;
                    } else {
                      peg$currPos = s1;
                      s1 = peg$FAILED;
                    }
                  } else {
                    peg$currPos = s1;
                    s1 = peg$FAILED;
                  }
                } else {
                  peg$currPos = s1;
                  s1 = peg$FAILED;
                }
              } else {
                peg$currPos = s1;
                s1 = peg$FAILED;
              }
            } else {
              peg$currPos = s1;
              s1 = peg$FAILED;
            }
          } else {
            peg$currPos = s1;
            s1 = peg$FAILED;
          }
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c18(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parseorganicsymbol() {
      var s0, s1, s2, s3;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 66) {
        s2 = peg$c19;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c20);
        }
      }
      if (s2 !== peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 114) {
          s3 = peg$c21;
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c22);
          }
        }
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          s2 = [s2, s3];
          s1 = s2;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 === peg$FAILED) {
        s1 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 67) {
          s2 = peg$c23;
          peg$currPos++;
        } else {
          s2 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c24);
          }
        }
        if (s2 !== peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 108) {
            s3 = peg$c25;
            peg$currPos++;
          } else {
            s3 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c26);
            }
          }
          if (s3 === peg$FAILED) {
            s3 = null;
          }
          if (s3 !== peg$FAILED) {
            s2 = [s2, s3];
            s1 = s2;
          } else {
            peg$currPos = s1;
            s1 = peg$FAILED;
          }
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
        if (s1 === peg$FAILED) {
          if (peg$c27.test(input.charAt(peg$currPos))) {
            s1 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c28);
            }
          }
        }
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c29(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsearomaticsymbol() {
      var s0, s1;
      s0 = peg$currPos;
      if (peg$c30.test(input.charAt(peg$currPos))) {
        s1 = input.charAt(peg$currPos);
        peg$currPos++;
      } else {
        s1 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c31);
        }
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c6(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsewildcard() {
      var s0, s1;
      s0 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 42) {
        s1 = peg$c32;
        peg$currPos++;
      } else {
        s1 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c33);
        }
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c34(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parseelementsymbol() {
      var s0, s1, s2, s3;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (peg$c35.test(input.charAt(peg$currPos))) {
        s2 = input.charAt(peg$currPos);
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c36);
        }
      }
      if (s2 !== peg$FAILED) {
        if (peg$c37.test(input.charAt(peg$currPos))) {
          s3 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c38);
          }
        }
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          s2 = [s2, s3];
          s1 = s2;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c39(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsering() {
      var s0, s1, s2, s3, s4;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 37) {
        s2 = peg$c40;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c41);
        }
      }
      if (s2 !== peg$FAILED) {
        if (peg$c42.test(input.charAt(peg$currPos))) {
          s3 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c43);
          }
        }
        if (s3 !== peg$FAILED) {
          if (peg$c44.test(input.charAt(peg$currPos))) {
            s4 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c45);
            }
          }
          if (s4 !== peg$FAILED) {
            s2 = [s2, s3, s4];
            s1 = s2;
          } else {
            peg$currPos = s1;
            s1 = peg$FAILED;
          }
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 === peg$FAILED) {
        if (peg$c44.test(input.charAt(peg$currPos))) {
          s1 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s1 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c45);
          }
        }
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c46(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsechiral() {
      var s0, s1, s2, s3, s4, s5, s6;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 64) {
        s2 = peg$c47;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c48);
        }
      }
      if (s2 !== peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 64) {
          s3 = peg$c47;
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c48);
          }
        }
        if (s3 === peg$FAILED) {
          s3 = peg$currPos;
          if (input.substr(peg$currPos, 2) === peg$c49) {
            s4 = peg$c49;
            peg$currPos += 2;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c50);
            }
          }
          if (s4 !== peg$FAILED) {
            if (peg$c51.test(input.charAt(peg$currPos))) {
              s5 = input.charAt(peg$currPos);
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$c52);
              }
            }
            if (s5 !== peg$FAILED) {
              s4 = [s4, s5];
              s3 = s4;
            } else {
              peg$currPos = s3;
              s3 = peg$FAILED;
            }
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
          if (s3 === peg$FAILED) {
            s3 = peg$currPos;
            if (input.substr(peg$currPos, 2) === peg$c53) {
              s4 = peg$c53;
              peg$currPos += 2;
            } else {
              s4 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$c54);
              }
            }
            if (s4 !== peg$FAILED) {
              if (peg$c51.test(input.charAt(peg$currPos))) {
                s5 = input.charAt(peg$currPos);
                peg$currPos++;
              } else {
                s5 = peg$FAILED;
                if (peg$silentFails === 0) {
                  peg$fail(peg$c52);
                }
              }
              if (s5 !== peg$FAILED) {
                s4 = [s4, s5];
                s3 = s4;
              } else {
                peg$currPos = s3;
                s3 = peg$FAILED;
              }
            } else {
              peg$currPos = s3;
              s3 = peg$FAILED;
            }
            if (s3 === peg$FAILED) {
              s3 = peg$currPos;
              if (input.substr(peg$currPos, 2) === peg$c55) {
                s4 = peg$c55;
                peg$currPos += 2;
              } else {
                s4 = peg$FAILED;
                if (peg$silentFails === 0) {
                  peg$fail(peg$c56);
                }
              }
              if (s4 !== peg$FAILED) {
                if (peg$c57.test(input.charAt(peg$currPos))) {
                  s5 = input.charAt(peg$currPos);
                  peg$currPos++;
                } else {
                  s5 = peg$FAILED;
                  if (peg$silentFails === 0) {
                    peg$fail(peg$c58);
                  }
                }
                if (s5 !== peg$FAILED) {
                  s4 = [s4, s5];
                  s3 = s4;
                } else {
                  peg$currPos = s3;
                  s3 = peg$FAILED;
                }
              } else {
                peg$currPos = s3;
                s3 = peg$FAILED;
              }
              if (s3 === peg$FAILED) {
                s3 = peg$currPos;
                if (input.substr(peg$currPos, 2) === peg$c59) {
                  s4 = peg$c59;
                  peg$currPos += 2;
                } else {
                  s4 = peg$FAILED;
                  if (peg$silentFails === 0) {
                    peg$fail(peg$c60);
                  }
                }
                if (s4 !== peg$FAILED) {
                  if (peg$c42.test(input.charAt(peg$currPos))) {
                    s5 = input.charAt(peg$currPos);
                    peg$currPos++;
                  } else {
                    s5 = peg$FAILED;
                    if (peg$silentFails === 0) {
                      peg$fail(peg$c43);
                    }
                  }
                  if (s5 !== peg$FAILED) {
                    if (peg$c44.test(input.charAt(peg$currPos))) {
                      s6 = input.charAt(peg$currPos);
                      peg$currPos++;
                    } else {
                      s6 = peg$FAILED;
                      if (peg$silentFails === 0) {
                        peg$fail(peg$c45);
                      }
                    }
                    if (s6 === peg$FAILED) {
                      s6 = null;
                    }
                    if (s6 !== peg$FAILED) {
                      s4 = [s4, s5, s6];
                      s3 = s4;
                    } else {
                      peg$currPos = s3;
                      s3 = peg$FAILED;
                    }
                  } else {
                    peg$currPos = s3;
                    s3 = peg$FAILED;
                  }
                } else {
                  peg$currPos = s3;
                  s3 = peg$FAILED;
                }
                if (s3 === peg$FAILED) {
                  s3 = peg$currPos;
                  if (input.substr(peg$currPos, 2) === peg$c61) {
                    s4 = peg$c61;
                    peg$currPos += 2;
                  } else {
                    s4 = peg$FAILED;
                    if (peg$silentFails === 0) {
                      peg$fail(peg$c62);
                    }
                  }
                  if (s4 !== peg$FAILED) {
                    if (peg$c42.test(input.charAt(peg$currPos))) {
                      s5 = input.charAt(peg$currPos);
                      peg$currPos++;
                    } else {
                      s5 = peg$FAILED;
                      if (peg$silentFails === 0) {
                        peg$fail(peg$c43);
                      }
                    }
                    if (s5 !== peg$FAILED) {
                      if (peg$c44.test(input.charAt(peg$currPos))) {
                        s6 = input.charAt(peg$currPos);
                        peg$currPos++;
                      } else {
                        s6 = peg$FAILED;
                        if (peg$silentFails === 0) {
                          peg$fail(peg$c45);
                        }
                      }
                      if (s6 === peg$FAILED) {
                        s6 = null;
                      }
                      if (s6 !== peg$FAILED) {
                        s4 = [s4, s5, s6];
                        s3 = s4;
                      } else {
                        peg$currPos = s3;
                        s3 = peg$FAILED;
                      }
                    } else {
                      peg$currPos = s3;
                      s3 = peg$FAILED;
                    }
                  } else {
                    peg$currPos = s3;
                    s3 = peg$FAILED;
                  }
                }
              }
            }
          }
        }
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          s2 = [s2, s3];
          s1 = s2;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c63(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsecharge() {
      var s0, s1;
      s0 = peg$currPos;
      s1 = peg$parseposcharge();
      if (s1 === peg$FAILED) {
        s1 = peg$parsenegcharge();
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c64(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parseposcharge() {
      var s0, s1, s2, s3, s4, s5;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 43) {
        s2 = peg$c65;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c66);
        }
      }
      if (s2 !== peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 43) {
          s3 = peg$c65;
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c66);
          }
        }
        if (s3 === peg$FAILED) {
          s3 = peg$currPos;
          if (peg$c42.test(input.charAt(peg$currPos))) {
            s4 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c43);
            }
          }
          if (s4 !== peg$FAILED) {
            if (peg$c44.test(input.charAt(peg$currPos))) {
              s5 = input.charAt(peg$currPos);
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$c45);
              }
            }
            if (s5 === peg$FAILED) {
              s5 = null;
            }
            if (s5 !== peg$FAILED) {
              s4 = [s4, s5];
              s3 = s4;
            } else {
              peg$currPos = s3;
              s3 = peg$FAILED;
            }
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
        }
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          s2 = [s2, s3];
          s1 = s2;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c67(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsenegcharge() {
      var s0, s1, s2, s3, s4, s5;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 45) {
        s2 = peg$c68;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c69);
        }
      }
      if (s2 !== peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 45) {
          s3 = peg$c68;
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c69);
          }
        }
        if (s3 === peg$FAILED) {
          s3 = peg$currPos;
          if (peg$c42.test(input.charAt(peg$currPos))) {
            s4 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c43);
            }
          }
          if (s4 !== peg$FAILED) {
            if (peg$c44.test(input.charAt(peg$currPos))) {
              s5 = input.charAt(peg$currPos);
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$c45);
              }
            }
            if (s5 === peg$FAILED) {
              s5 = null;
            }
            if (s5 !== peg$FAILED) {
              s4 = [s4, s5];
              s3 = s4;
            } else {
              peg$currPos = s3;
              s3 = peg$FAILED;
            }
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
        }
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          s2 = [s2, s3];
          s1 = s2;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c70(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsehcount() {
      var s0, s1, s2, s3;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 72) {
        s2 = peg$c71;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c72);
        }
      }
      if (s2 !== peg$FAILED) {
        if (peg$c44.test(input.charAt(peg$currPos))) {
          s3 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c45);
          }
        }
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          s2 = [s2, s3];
          s1 = s2;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c73(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parseclass() {
      var s0, s1, s2, s3, s4, s5, s6;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 58) {
        s2 = peg$c74;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c75);
        }
      }
      if (s2 !== peg$FAILED) {
        s3 = peg$currPos;
        if (peg$c42.test(input.charAt(peg$currPos))) {
          s4 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s4 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c43);
          }
        }
        if (s4 !== peg$FAILED) {
          s5 = [];
          if (peg$c44.test(input.charAt(peg$currPos))) {
            s6 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s6 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c45);
            }
          }
          while (s6 !== peg$FAILED) {
            s5.push(s6);
            if (peg$c44.test(input.charAt(peg$currPos))) {
              s6 = input.charAt(peg$currPos);
              peg$currPos++;
            } else {
              s6 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$c45);
              }
            }
          }
          if (s5 !== peg$FAILED) {
            s4 = [s4, s5];
            s3 = s4;
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
        if (s3 === peg$FAILED) {
          if (peg$c76.test(input.charAt(peg$currPos))) {
            s3 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s3 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c77);
            }
          }
        }
        if (s3 !== peg$FAILED) {
          s2 = [s2, s3];
          s1 = s2;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c78(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parseisotope() {
      var s0, s1, s2, s3, s4;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (peg$c42.test(input.charAt(peg$currPos))) {
        s2 = input.charAt(peg$currPos);
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c43);
        }
      }
      if (s2 !== peg$FAILED) {
        if (peg$c44.test(input.charAt(peg$currPos))) {
          s3 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c45);
          }
        }
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          if (peg$c44.test(input.charAt(peg$currPos))) {
            s4 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c45);
            }
          }
          if (s4 === peg$FAILED) {
            s4 = null;
          }
          if (s4 !== peg$FAILED) {
            s2 = [s2, s3, s4];
            s1 = s2;
          } else {
            peg$currPos = s1;
            s1 = peg$FAILED;
          }
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c79(s1);
      }
      s0 = s1;
      return s0;
    }
    peg$result = peg$startRuleFunction();
    if (peg$result !== peg$FAILED && peg$currPos === input.length) {
      return peg$result;
    } else {
      if (peg$result !== peg$FAILED && peg$currPos < input.length) {
        peg$fail(peg$endExpectation());
      }
      throw peg$buildStructuredError(peg$maxFailExpected, peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null, peg$maxFailPos < input.length ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1) : peg$computeLocation(peg$maxFailPos, peg$maxFailPos));
    }
  }
  return {
    SyntaxError: peg$SyntaxError,
    parse: peg$parse
  };
}();

/***/ }),

/***/ "./src/SSSR.js":
/*!*********************!*\
  !*** ./src/SSSR.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SSSR: () => (/* binding */ SSSR)
/* harmony export */ });
/* harmony import */ var _Graph__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Graph */ "./src/Graph.ts");


/** A class encapsulating the functionality to find the smallest set of smallest rings in a graph. */
class SSSR {
  /**
   * Returns an array containing arrays, each representing a ring from the smallest set of smallest rings in the graph.
   * 
   * @param {Graph} graph A Graph object.
   * @param {Boolean} [experimental=false] Whether or not to use experimental SSSR.
   * @returns {Array[]} An array containing arrays, each representing a ring from the smallest set of smallest rings in the group.
   */
  static getRings(graph, experimental = false) {
    let adjacencyMatrix = graph.getComponentsAdjacencyMatrix();
    if (adjacencyMatrix.length === 0) {
      return null;
    }
    let connectedComponents = _Graph__WEBPACK_IMPORTED_MODULE_0__.Graph.getConnectedComponents(adjacencyMatrix);
    let rings = Array();
    for (var i = 0; i < connectedComponents.length; i++) {
      let connectedComponent = connectedComponents[i];
      let ccAdjacencyMatrix = graph.getSubgraphAdjacencyMatrix([...connectedComponent]);
      let arrBondCount = new Uint16Array(ccAdjacencyMatrix.length);
      let arrRingCount = new Uint16Array(ccAdjacencyMatrix.length);
      for (var j = 0; j < ccAdjacencyMatrix.length; j++) {
        arrRingCount[j] = 0;
        arrBondCount[j] = 0;
        for (var k = 0; k < ccAdjacencyMatrix[j].length; k++) {
          arrBondCount[j] += ccAdjacencyMatrix[j][k];
        }
      }

      // Get the edge number and the theoretical number of rings in SSSR
      let nEdges = 0;
      for (var j = 0; j < ccAdjacencyMatrix.length; j++) {
        for (var k = j + 1; k < ccAdjacencyMatrix.length; k++) {
          nEdges += ccAdjacencyMatrix[j][k];
        }
      }
      let nSssr = nEdges - ccAdjacencyMatrix.length + 1;

      // console.log(nEdges, ccAdjacencyMatrix.length, nSssr);
      // console.log(SSSR.getEdgeList(ccAdjacencyMatrix));
      // console.log(ccAdjacencyMatrix);

      // If all vertices have 3 incident edges, calculate with different formula (see Euler)
      let allThree = true;
      for (var j = 0; j < arrBondCount.length; j++) {
        if (arrBondCount[j] !== 3) {
          allThree = false;
        }
      }
      if (allThree) {
        nSssr = 2.0 + nEdges - ccAdjacencyMatrix.length;
      }

      // All vertices are part of one ring if theres only one ring.
      if (nSssr === 1) {
        rings.push([...connectedComponent]);
        continue;
      }
      if (experimental) {
        nSssr = 999;
      }
      let {
        d,
        pe,
        pe_prime
      } = SSSR.getPathIncludedDistanceMatrices(ccAdjacencyMatrix);
      let c = SSSR.getRingCandidates(d, pe, pe_prime);
      let sssr = SSSR.getSSSR(c, d, ccAdjacencyMatrix, pe, pe_prime, arrBondCount, arrRingCount, nSssr);
      for (var j = 0; j < sssr.length; j++) {
        let ring = Array(sssr[j].size);
        let index = 0;
        for (let val of sssr[j]) {
          // Get the original id of the vertex back
          ring[index++] = connectedComponent[val];
        }
        rings.push(ring);
      }
    }

    // So, for some reason, this would return three rings for C1CCCC2CC1CCCC2, which is wrong
    // As I don't have time to fix this properly, it will stay in. I'm sorry next person who works
    // on it. At that point it might be best to reimplement the whole SSSR thing...
    return rings;
  }

  /**
   * Creates a printable string from a matrix (2D array).
   * 
   * @param {Array[]} matrix A 2D array.
   * @returns {String} A string representing the matrix.
   */
  static matrixToString(matrix) {
    let str = '';
    for (var i = 0; i < matrix.length; i++) {
      for (var j = 0; j < matrix[i].length; j++) {
        str += matrix[i][j] + ' ';
      }
      str += '\n';
    }
    return str;
  }

  /**
   * Returnes the two path-included distance matrices used to find the sssr.
   * 
   * @param {Array[]} adjacencyMatrix An adjacency matrix.
   * @returns {Object} The path-included distance matrices. { p1, p2 }
   */
  static getPathIncludedDistanceMatrices(adjacencyMatrix) {
    let length = adjacencyMatrix.length;
    let d = Array(length);
    let pe = Array(length);
    let pe_prime = Array(length);
    var l = 0;
    var m = 0;
    var n = 0;
    var i = length;
    while (i--) {
      d[i] = Array(length);
      pe[i] = Array(length);
      pe_prime[i] = Array(length);
      var j = length;
      while (j--) {
        d[i][j] = i === j || adjacencyMatrix[i][j] === 1 ? adjacencyMatrix[i][j] : Number.POSITIVE_INFINITY;
        if (d[i][j] === 1) {
          pe[i][j] = [[[i, j]]];
        } else {
          pe[i][j] = Array();
        }
        pe_prime[i][j] = Array();
      }
    }
    var k = length;
    var j;
    while (k--) {
      i = length;
      while (i--) {
        j = length;
        while (j--) {
          const previousPathLength = d[i][j];
          const newPathLength = d[i][k] + d[k][j];
          if (previousPathLength > newPathLength) {
            var l, m, n;
            if (previousPathLength === newPathLength + 1) {
              pe_prime[i][j] = [pe[i][j].length];
              l = pe[i][j].length;
              while (l--) {
                pe_prime[i][j][l] = [pe[i][j][l].length];
                m = pe[i][j][l].length;
                while (m--) {
                  pe_prime[i][j][l][m] = [pe[i][j][l][m].length];
                  n = pe[i][j][l][m].length;
                  while (n--) {
                    pe_prime[i][j][l][m][n] = [pe[i][j][l][m][0], pe[i][j][l][m][1]];
                  }
                }
              }
            } else {
              pe_prime[i][j] = Array();
            }
            d[i][j] = newPathLength;
            pe[i][j] = [[]];
            l = pe[i][k][0].length;
            while (l--) {
              pe[i][j][0].push(pe[i][k][0][l]);
            }
            l = pe[k][j][0].length;
            while (l--) {
              pe[i][j][0].push(pe[k][j][0][l]);
            }
          } else if (previousPathLength === newPathLength) {
            if (pe[i][k].length && pe[k][j].length) {
              var l;
              if (pe[i][j].length) {
                let tmp = Array();
                l = pe[i][k][0].length;
                while (l--) {
                  tmp.push(pe[i][k][0][l]);
                }
                l = pe[k][j][0].length;
                while (l--) {
                  tmp.push(pe[k][j][0][l]);
                }
                pe[i][j].push(tmp);
              } else {
                let tmp = Array();
                l = pe[i][k][0].length;
                while (l--) {
                  tmp.push(pe[i][k][0][l]);
                }
                l = pe[k][j][0].length;
                while (l--) {
                  tmp.push(pe[k][j][0][l]);
                }
                pe[i][j][0] = tmp;
              }
            }
          } else if (previousPathLength === newPathLength - 1) {
            var l;
            if (pe_prime[i][j].length) {
              let tmp = Array();
              l = pe[i][k][0].length;
              while (l--) {
                tmp.push(pe[i][k][0][l]);
              }
              l = pe[k][j][0].length;
              while (l--) {
                tmp.push(pe[k][j][0][l]);
              }
              pe_prime[i][j].push(tmp);
            } else {
              let tmp = Array();
              l = pe[i][k][0].length;
              while (l--) {
                tmp.push(pe[i][k][0][l]);
              }
              l = pe[k][j][0].length;
              while (l--) {
                tmp.push(pe[k][j][0][l]);
              }
              pe_prime[i][j][0] = tmp;
            }
          }
        }
      }
    }
    return {
      d: d,
      pe: pe,
      pe_prime: pe_prime
    };
  }

  /**
   * Get the ring candidates from the path-included distance matrices.
   * 
   * @param {Array[]} d The distance matrix.
   * @param {Array[]} pe A matrix containing the shortest paths.
   * @param {Array[]} pe_prime A matrix containing the shortest paths + one vertex.
   * @returns {Array[]} The ring candidates.
   */
  static getRingCandidates(d, pe, pe_prime) {
    let length = d.length;
    let candidates = Array();
    let c = 0;
    for (let i = 0; i < length; i++) {
      for (let j = 0; j < length; j++) {
        if (d[i][j] === 0 || pe[i][j].length === 1 && pe_prime[i][j] === 0) {
          continue;
        } else {
          // c is the number of vertices in the cycle.
          if (pe_prime[i][j].length !== 0) {
            c = 2 * (d[i][j] + 0.5);
          } else {
            c = 2 * d[i][j];
          }
          if (c !== Infinity) {
            candidates.push([c, pe[i][j], pe_prime[i][j]]);
          }
        }
      }
    }

    // Candidates have to be sorted by c
    candidates.sort(function (a, b) {
      return a[0] - b[0];
    });
    return candidates;
  }

  /**
   * Searches the candidates for the smallest set of smallest rings.
   * 
   * @param {Array[]} c The candidates.
   * @param {Array[]} d The distance matrix.
   * @param {Array[]} adjacencyMatrix An adjacency matrix.
   * @param {Array[]} pe A matrix containing the shortest paths.
   * @param {Array[]} pe_prime A matrix containing the shortest paths + one vertex.
   * @param {Uint16Array} arrBondCount A matrix containing the bond count of each vertex.
   * @param {Uint16Array} arrRingCount A matrix containing the number of rings associated with each vertex.
   * @param {Number} nsssr The theoretical number of rings in the graph.
   * @returns {Set[]} The smallest set of smallest rings.
   */
  static getSSSR(c, d, adjacencyMatrix, pe, pe_prime, arrBondCount, arrRingCount, nsssr) {
    let cSssr = Array();
    let allBonds = Array();
    for (let i = 0; i < c.length; i++) {
      if (c[i][0] % 2 !== 0) {
        for (let j = 0; j < c[i][2].length; j++) {
          let bonds = c[i][1][0].concat(c[i][2][j]);
          // Some bonds are added twice, resulting in [[u, v], [u, v]] instead of [u, v].
          // TODO: This is a workaround, fix later. Probably should be a set rather than an array, however the computational overhead
          //       is probably bigger compared to leaving it like this.
          for (var k = 0; k < bonds.length; k++) {
            if (bonds[k][0].constructor === Array) bonds[k] = bonds[k][0];
          }
          let atoms = SSSR.bondsToAtoms(bonds);
          if (SSSR.getBondCount(atoms, adjacencyMatrix) === atoms.size && !SSSR.pathSetsContain(cSssr, atoms, bonds, allBonds, arrBondCount, arrRingCount)) {
            cSssr.push(atoms);
            allBonds = allBonds.concat(bonds);
          }
          if (cSssr.length > nsssr) {
            return cSssr;
          }
        }
      } else {
        for (let j = 0; j < c[i][1].length - 1; j++) {
          let bonds = c[i][1][j].concat(c[i][1][j + 1]);
          // Some bonds are added twice, resulting in [[u, v], [u, v]] instead of [u, v].
          // TODO: This is a workaround, fix later. Probably should be a set rather than an array, however the computational overhead
          //       is probably bigger compared to leaving it like this.
          for (var k = 0; k < bonds.length; k++) {
            if (bonds[k][0].constructor === Array) bonds[k] = bonds[k][0];
          }
          let atoms = SSSR.bondsToAtoms(bonds);
          if (SSSR.getBondCount(atoms, adjacencyMatrix) === atoms.size && !SSSR.pathSetsContain(cSssr, atoms, bonds, allBonds, arrBondCount, arrRingCount)) {
            cSssr.push(atoms);
            allBonds = allBonds.concat(bonds);
          }
          if (cSssr.length > nsssr) {
            return cSssr;
          }
        }
      }
    }
    return cSssr;
  }

  /**
   * Returns the number of edges in a graph defined by an adjacency matrix.
   * 
   * @param {Array[]} adjacencyMatrix An adjacency matrix.
   * @returns {Number} The number of edges in the graph defined by the adjacency matrix.
   */
  static getEdgeCount(adjacencyMatrix) {
    let edgeCount = 0;
    let length = adjacencyMatrix.length;
    var i = length - 1;
    while (i--) {
      var j = length;
      while (j--) {
        if (adjacencyMatrix[i][j] === 1) {
          edgeCount++;
        }
      }
    }
    return edgeCount;
  }

  /**
   * Returns an edge list constructed form an adjacency matrix.
   * 
   * @param {Array[]} adjacencyMatrix An adjacency matrix.
   * @returns {Array[]} An edge list. E.g. [ [ 0, 1 ], ..., [ 16, 2 ] ]
   */
  static getEdgeList(adjacencyMatrix) {
    let length = adjacencyMatrix.length;
    let edgeList = Array();
    var i = length - 1;
    while (i--) {
      var j = length;
      while (j--) {
        if (adjacencyMatrix[i][j] === 1) {
          edgeList.push([i, j]);
        }
      }
    }
    return edgeList;
  }

  /**
   * Return a set of vertex indices contained in an array of bonds.
   * 
   * @param {Array} bonds An array of bonds. A bond is defined as [ sourceVertexId, targetVertexId ].
   * @returns {Set<Number>} An array of vertices.
   */
  static bondsToAtoms(bonds) {
    let atoms = new Set();
    var i = bonds.length;
    while (i--) {
      atoms.add(bonds[i][0]);
      atoms.add(bonds[i][1]);
    }
    return atoms;
  }

  /**
  * Returns the number of bonds within a set of atoms.
  * 
  * @param {Set<Number>} atoms An array of atom ids.
  * @param {Array[]} adjacencyMatrix An adjacency matrix.
  * @returns {Number} The number of bonds in a set of atoms.
  */
  static getBondCount(atoms, adjacencyMatrix) {
    let count = 0;
    for (let u of atoms) {
      for (let v of atoms) {
        if (u === v) {
          continue;
        }
        count += adjacencyMatrix[u][v];
      }
    }
    return count / 2;
  }

  /**
   * Checks whether or not a given path already exists in an array of paths.
   * 
   * @param {Set[]} pathSets An array of sets each representing a path.
   * @param {Set<Number>} pathSet A set representing a path.
   * @param {Array[]} bonds The bonds associated with the current path.
   * @param {Array[]} allBonds All bonds currently associated with rings in the SSSR set.
   * @param {Uint16Array} arrBondCount A matrix containing the bond count of each vertex.
   * @param {Uint16Array} arrRingCount A matrix containing the number of rings associated with each vertex.
   * @returns {Boolean} A boolean indicating whether or not a give path is contained within a set.
   */
  static pathSetsContain(pathSets, pathSet, bonds, allBonds, arrBondCount, arrRingCount) {
    var i = pathSets.length;
    while (i--) {
      if (SSSR.isSupersetOf(pathSet, pathSets[i])) {
        return true;
      }
      if (pathSets[i].size !== pathSet.size) {
        continue;
      }
      if (SSSR.areSetsEqual(pathSets[i], pathSet)) {
        return true;
      }
    }

    // Check if the edges from the candidate are already all contained within the paths of the set of paths.
    // TODO: For some reason, this does not replace the isSupersetOf method above -> why?
    let count = 0;
    let allContained = false;
    i = bonds.length;
    while (i--) {
      var j = allBonds.length;
      while (j--) {
        if (bonds[i][0] === allBonds[j][0] && bonds[i][1] === allBonds[j][1] || bonds[i][1] === allBonds[j][0] && bonds[i][0] === allBonds[j][1]) {
          count++;
        }
        if (count === bonds.length) {
          allContained = true;
        }
      }
    }

    // If all the bonds and thus vertices are already contained within other rings
    // check if there's one vertex with ringCount < bondCount
    let specialCase = false;
    if (allContained) {
      for (let element of pathSet) {
        if (arrRingCount[element] < arrBondCount[element]) {
          specialCase = true;
          break;
        }
      }
    }
    if (allContained && !specialCase) {
      return true;
    }

    // Update the ring counts for the vertices
    for (let element of pathSet) {
      arrRingCount[element]++;
    }
    return false;
  }

  /**
   * Checks whether or not two sets are equal (contain the same elements).
   * 
   * @param {Set<Number>} setA A set.
   * @param {Set<Number>} setB A set.
   * @returns {Boolean} A boolean indicating whether or not the two sets are equal.
   */
  static areSetsEqual(setA, setB) {
    if (setA.size !== setB.size) {
      return false;
    }
    for (let element of setA) {
      if (!setB.has(element)) {
        return false;
      }
    }
    return true;
  }

  /**
   * Checks whether or not a set (setA) is a superset of another set (setB).
   * 
   * @param {Set<Number>} setA A set.
   * @param {Set<Number>} setB A set.
   * @returns {Boolean} A boolean indicating whether or not setB is a superset of setA.
   */
  static isSupersetOf(setA, setB) {
    for (var element of setB) {
      if (!setA.has(element)) {
        return false;
      }
    }
    return true;
  }
}

/***/ }),

/***/ "./src/SvgWrapper.js":
/*!***************************!*\
  !*** ./src/SvgWrapper.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SvgWrapper: () => (/* binding */ SvgWrapper)
/* harmony export */ });
/* harmony import */ var _Vector2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector2 */ "./src/Vector2.ts");
/* harmony import */ var _MathHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MathHelper */ "./src/MathHelper.ts");
/* harmony import */ var _Line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Line */ "./src/Line.ts");



function makeid(length) {
  var result = "";
  var characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
  var charactersLength = characters.length;
  for (var i = 0; i < length; i++) {
    result += characters.charAt(Math.floor(Math.random() * charactersLength));
  }
  return result;
}
class SvgWrapper {
  constructor(themeManager, target, options, clear = true) {
    if (typeof target === "string" || target instanceof String) {
      this.svg = document.getElementById(target);
    } else {
      this.svg = target;
    }
    this.container = null;
    this.opts = options;
    this.uid = makeid(5);
    this.gradientId = 0;

    // maintain a list of line elements and their corresponding gradients
    // maintain a list of vertex elements
    // maintain a list of highlighting elements
    this.backgroundItems = [];
    this.paths = [];
    this.vertices = [];
    this.gradients = [];
    this.highlights = [];

    // maintain the dimensions
    this.drawingWidth = 0;
    this.drawingHeight = 0;
    this.halfBondThickness = this.opts.bondThickness / 2.0;

    // for managing color schemes
    this.themeManager = themeManager;

    // create the mask
    this.maskElements = [];

    // min and max values of the coordinates
    this.maxX = -Number.MAX_VALUE;
    this.maxY = -Number.MAX_VALUE;
    this.minX = Number.MAX_VALUE;
    this.minY = Number.MAX_VALUE;

    // clear the svg element
    if (clear) {
      while (this.svg.firstChild) {
        this.svg.removeChild(this.svg.firstChild);
      }
    }

    // Create styles here as text measurement is done before constructSvg
    this.style = document.createElementNS("http://www.w3.org/2000/svg", "style");

    // create the css styles
    this.style.appendChild(document.createTextNode(`
                .element {
                    font: ${this.opts.fontSizeLarge}pt ${this.opts.fontFamily};
                }
                .sub {
                    font: ${this.opts.fontSizeSmall}pt ${this.opts.fontFamily};
                }
            `));
    if (this.svg) {
      this.svg.appendChild(this.style);
    } else {
      this.container = document.createElementNS("http://www.w3.org/2000/svg", "g");
      container.appendChild(this.style);
    }
  }
  constructSvg() {
    // TODO: add the defs element to put gradients in
    let defs = document.createElementNS("http://www.w3.org/2000/svg", "defs"),
      masks = document.createElementNS("http://www.w3.org/2000/svg", "mask"),
      background = document.createElementNS("http://www.w3.org/2000/svg", "g"),
      highlights = document.createElementNS("http://www.w3.org/2000/svg", "g"),
      paths = document.createElementNS("http://www.w3.org/2000/svg", "g"),
      vertices = document.createElementNS("http://www.w3.org/2000/svg", "g"),
      pathChildNodes = this.paths;
    let mask = document.createElementNS("http://www.w3.org/2000/svg", "rect");
    mask.setAttributeNS(null, "x", this.minX);
    mask.setAttributeNS(null, "y", this.minY);
    mask.setAttributeNS(null, "width", this.maxX - this.minX);
    mask.setAttributeNS(null, "height", this.maxY - this.minY);
    mask.setAttributeNS(null, "fill", "white");
    masks.appendChild(mask);

    // give the mask an id
    masks.setAttributeNS(null, "id", this.uid + "-text-mask");
    for (let path of pathChildNodes) {
      paths.appendChild(path);
    }
    for (let backgroundItem of this.backgroundItems) {
      background.appendChild(backgroundItem);
    }
    for (let highlight of this.highlights) {
      highlights.appendChild(highlight);
    }
    for (let vertex of this.vertices) {
      vertices.appendChild(vertex);
    }
    for (let mask of this.maskElements) {
      masks.appendChild(mask);
    }
    for (let gradient of this.gradients) {
      defs.appendChild(gradient);
    }
    paths.setAttributeNS(null, "mask", "url(#" + this.uid + "-text-mask)");
    this.updateViewbox(this.opts.scale);

    // Position the background
    background.setAttributeNS(null, "style", `transform: translateX(${this.minX}px) translateY(${this.minY}px)`);
    if (this.svg) {
      this.svg.appendChild(defs);
      this.svg.appendChild(masks);
      this.svg.appendChild(background);
      this.svg.appendChild(highlights);
      this.svg.appendChild(paths);
      this.svg.appendChild(vertices);
    } else {
      this.container.appendChild(defs);
      this.container.appendChild(masks);
      this.container.appendChild(background);
      this.container.appendChild(paths);
      this.container.appendChild(vertices);
      return this.container;
    }
  }

  /**
   * Add a background to the svg.
   */
  addLayer(svg) {
    this.backgroundItems.push(svg.firstChild);
  }

  /**
   * Create a linear gradient to apply to a line
   *
   * @param {Line} line the line to apply the gradiation to.
   */
  createGradient(line) {
    // create the gradient and add it
    let gradient = document.createElementNS("http://www.w3.org/2000/svg", "linearGradient"),
      gradientUrl = this.uid + `-line-${this.gradientId++}`,
      l = line.getLeftVector(),
      r = line.getRightVector(),
      fromX = l.x,
      fromY = l.y,
      toX = r.x,
      toY = r.y;
    gradient.setAttributeNS(null, "id", gradientUrl);
    gradient.setAttributeNS(null, "gradientUnits", "userSpaceOnUse");
    gradient.setAttributeNS(null, "x1", fromX);
    gradient.setAttributeNS(null, "y1", fromY);
    gradient.setAttributeNS(null, "x2", toX);
    gradient.setAttributeNS(null, "y2", toY);
    let firstStop = document.createElementNS("http://www.w3.org/2000/svg", "stop");
    firstStop.setAttributeNS(null, "stop-color", this.themeManager.getColor(line.getLeftElement()) || this.themeManager.getColor("C"));
    firstStop.setAttributeNS(null, "offset", "20%");
    let secondStop = document.createElementNS("http://www.w3.org/2000/svg", "stop");
    secondStop.setAttributeNS(null, "stop-color", this.themeManager.getColor(line.getRightElement() || this.themeManager.getColor("C")));
    secondStop.setAttributeNS(null, "offset", "100%");
    gradient.appendChild(firstStop);
    gradient.appendChild(secondStop);
    this.gradients.push(gradient);
    return gradientUrl;
  }

  /**
   * Create a tspan element for sub or super scripts that styles the text
   * appropriately as one of those text types.
   *
   * @param {String} text the actual text
   * @param {String} shift the type of text, either 'sub', or 'super'
   */
  createSubSuperScripts(text, shift) {
    let elem = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
    elem.setAttributeNS(null, "baseline-shift", shift);
    elem.appendChild(document.createTextNode(text));
    elem.setAttributeNS(null, "class", "sub");
    return elem;
  }
  static createUnicodeCharge(n) {
    if (n === 1) {
      return "";
    }
    if (n === -1) {
      return "";
    }
    if (n > 1) {
      return SvgWrapper.createUnicodeSuperscript(n) + "";
    }
    if (n < -1) {
      return SvgWrapper.createUnicodeSuperscript(n) + "";
    }
    return "";
  }

  /**
   * Determine drawing dimensiosn based on vertex positions.
   *
   * @param {Vertex[]} vertices An array of vertices containing the vertices associated with the current molecule.
   */
  determineDimensions(vertices) {
    for (var i = 0; i < vertices.length; i++) {
      if (!vertices[i].value.isDrawn) {
        continue;
      }
      let p = vertices[i].position;
      if (this.maxX < p.x) this.maxX = p.x;
      if (this.maxY < p.y) this.maxY = p.y;
      if (this.minX > p.x) this.minX = p.x;
      if (this.minY > p.y) this.minY = p.y;
    }

    // Add padding
    let padding = this.opts.padding;
    this.maxX += padding;
    this.maxY += padding;
    this.minX -= padding;
    this.minY -= padding;
    this.drawingWidth = this.maxX - this.minX;
    this.drawingHeight = this.maxY - this.minY;
  }
  updateViewbox(scale) {
    let x = this.minX;
    let y = this.minY;
    let width = this.maxX - this.minX;
    let height = this.maxY - this.minY;
    if (scale <= 0.0) {
      if (width > height) {
        let diff = width - height;
        height = width;
        y -= diff / 2.0;
      } else {
        let diff = height - width;
        width = height;
        x -= diff / 2.0;
      }
    } else {
      if (this.svg) {
        this.svg.style.width = scale * width + "px";
        this.svg.style.height = scale * height + "px";
      }
    }
    this.svg.setAttributeNS(null, "viewBox", `${x} ${y} ${width} ${height}`);
  }

  /**
   * Draw an svg ellipse as a ball.
   *
   * @param {Number} x The x position of the text.
   * @param {Number} y The y position of the text.
   * @param {String} elementName The name of the element (single-letter).
   */
  drawBall(x, y, elementName) {
    let r = this.opts.bondLength / 4.5;
    if (x - r < this.minX) {
      this.minX = x - r;
    }
    if (x + r > this.maxX) {
      this.maxX = x + r;
    }
    if (y - r < this.minY) {
      this.minY = y - r;
    }
    if (y + r > this.maxY) {
      this.maxY = y + r;
    }
    let ball = document.createElementNS("http://www.w3.org/2000/svg", "circle");
    ball.setAttributeNS(null, "cx", x);
    ball.setAttributeNS(null, "cy", y);
    ball.setAttributeNS(null, "r", r);
    ball.setAttributeNS(null, "fill", this.themeManager.getColor(elementName));
    this.vertices.push(ball);
  }

  /**
   * @param {Line} line the line object to create the wedge from
   */
  drawWedge(line) {
    let l = line.getLeftVector().clone(),
      r = line.getRightVector().clone();
    let normals = _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.normals(l, r);
    normals[0].normalize();
    normals[1].normalize();
    let isRightChiralCenter = line.getRightChiral();
    let start = l,
      end = r;
    if (isRightChiralCenter) {
      start = r;
      end = l;
    }
    let t = _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.add(start, _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.multiplyScalar(normals[0], this.halfBondThickness)),
      u = _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.add(end, _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.multiplyScalar(normals[0], 3.0 + this.opts.fontSizeLarge / 4.0)),
      v = _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.add(end, _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.multiplyScalar(normals[1], 3.0 + this.opts.fontSizeLarge / 4.0)),
      w = _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.add(start, _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.multiplyScalar(normals[1], this.halfBondThickness));
    let polygon = document.createElementNS("http://www.w3.org/2000/svg", "polygon"),
      gradient = this.createGradient(line, l.x, l.y, r.x, r.y);
    polygon.setAttributeNS(null, "points", `${t.x},${t.y} ${u.x},${u.y} ${v.x},${v.y} ${w.x},${w.y}`);
    polygon.setAttributeNS(null, "fill", `url('#${gradient}')`);
    this.paths.push(polygon);
  }

  /* Draw a highlight for an atom
   *
   *  @param {Number} x The x position of the highlight
   *  @param {Number} y The y position of the highlight
   *  @param {string} color The color of the highlight, default #03fc9d
   */
  drawAtomHighlight(x, y, color = "#03fc9d") {
    let ball = document.createElementNS("http://www.w3.org/2000/svg", "circle");
    ball.setAttributeNS(null, "cx", x);
    ball.setAttributeNS(null, "cy", y);
    ball.setAttributeNS(null, "r", this.opts.bondLength / 3);
    ball.setAttributeNS(null, "fill", color);
    this.highlights.push(ball);
  }

  /**
   * Draw a dashed wedge on the canvas.
   *
   * @param {Line} line A line.
   */
  drawDashedWedge(line) {
    if (isNaN(line.from.x) || isNaN(line.from.y) || isNaN(line.to.x) || isNaN(line.to.y)) {
      return;
    }
    let l = line.getLeftVector().clone(),
      r = line.getRightVector().clone(),
      normals = _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.normals(l, r);
    normals[0].normalize();
    normals[1].normalize();
    let isRightChiralCenter = line.getRightChiral(),
      start,
      end;
    if (isRightChiralCenter) {
      start = r;
      end = l;
    } else {
      start = l;
      end = r;
    }
    let dir = _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.subtract(end, start).normalize(),
      length = line.getLength(),
      step = 1.25 / (length / (this.opts.bondLength / 10.0)),
      changed = false;
    let gradient = this.createGradient(line);
    for (let t = 0.0; t < 1.0; t += step) {
      let to = _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.multiplyScalar(dir, t * length),
        startDash = _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.add(start, to),
        width = this.opts.fontSizeLarge / 2.0 * t,
        dashOffset = _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.multiplyScalar(normals[0], width);
      startDash.subtract(dashOffset);
      let endDash = startDash.clone();
      endDash.add(_Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.multiplyScalar(dashOffset, 2.0));
      this.drawLine(new _Line__WEBPACK_IMPORTED_MODULE_2__.Line(startDash, endDash), null, gradient);
    }
  }

  /**
   * Draws a debug dot at a given coordinate and adds text.
   *
   * @param {Number} x The x coordinate.
   * @param {Number} y The y coordindate.
   * @param {String} [debugText=''] A string.
   * @param {String} [color='#f00'] A color in hex form.
   */
  drawDebugPoint(x, y, debugText = "", color = "#f00") {
    let point = document.createElementNS("http://www.w3.org/2000/svg", "circle");
    point.setAttributeNS(null, "cx", x);
    point.setAttributeNS(null, "cy", y);
    point.setAttributeNS(null, "r", "2");
    point.setAttributeNS(null, "fill", "#f00");
    this.vertices.push(point);
    this.drawDebugText(x, y, debugText);
  }

  /**
   * Draws a debug text message at a given position
   *
   * @param {Number} x The x coordinate.
   * @param {Number} y The y coordinate.
   * @param {String} text The debug text.
   */
  drawDebugText(x, y, text) {
    let textElem = document.createElementNS("http://www.w3.org/2000/svg", "text");
    textElem.setAttributeNS(null, "x", x);
    textElem.setAttributeNS(null, "y", y);
    textElem.setAttributeNS(null, "class", "debug");
    textElem.setAttributeNS(null, "fill", "#ff0000");
    textElem.setAttributeNS(null, "style", `
                font: 5px Droid Sans, sans-serif;
            `);
    textElem.appendChild(document.createTextNode(text));
    this.vertices.push(textElem);
  }

  /**
   * Draws a ring.
   *
   * @param {x} x The x coordinate of the ring.
   * @param {y} r The y coordinate of the ring.
   * @param {s} s The size of the ring.
   */
  drawRing(x, y, s) {
    let circleElem = document.createElementNS("http://www.w3.org/2000/svg", "circle");
    let radius = _MathHelper__WEBPACK_IMPORTED_MODULE_1__.MathHelper.apothemFromSideLength(this.opts.bondLength, s);
    circleElem.setAttributeNS(null, "cx", x);
    circleElem.setAttributeNS(null, "cy", y);
    circleElem.setAttributeNS(null, "r", radius - this.opts.bondSpacing);
    circleElem.setAttributeNS(null, "stroke", this.themeManager.getColor("C"));
    circleElem.setAttributeNS(null, "stroke-width", this.opts.bondThickness);
    circleElem.setAttributeNS(null, "fill", "none");
    this.paths.push(circleElem);
  }

  /**
   * Draws a line.
   *
   * @param {Line} line A line.
   * @param {Boolean} dashed defaults to false.
   * @param {String} gradient gradient url. Defaults to null.
   */
  drawLine(line, dashed = false, gradient = null, linecap = "round") {
    let opts = this.opts,
      stylesArr = [["stroke-width", this.opts.bondThickness], ["stroke-linecap", linecap], ["stroke-dasharray", dashed ? "5, 5" : "none"]],
      l = line.getLeftVector(),
      r = line.getRightVector(),
      fromX = l.x,
      fromY = l.y,
      toX = r.x,
      toY = r.y;
    let styles = stylesArr.map(sub => sub.join(":")).join(";"),
      lineElem = document.createElementNS("http://www.w3.org/2000/svg", "line");
    lineElem.setAttributeNS(null, "x1", fromX);
    lineElem.setAttributeNS(null, "y1", fromY);
    lineElem.setAttributeNS(null, "x2", toX);
    lineElem.setAttributeNS(null, "y2", toY);
    lineElem.setAttributeNS(null, "style", styles);
    this.paths.push(lineElem);
    if (gradient == null) {
      gradient = this.createGradient(line, fromX, fromY, toX, toY);
    }
    lineElem.setAttributeNS(null, "stroke", `url('#${gradient}')`);
  }

  /**
   * Draw a point.
   *
   * @param {Number} x The x position of the point.
   * @param {Number} y The y position of the point.
   * @param {String} elementName The name of the element (single-letter).
   */
  drawPoint(x, y, elementName) {
    let r = 0.75;
    if (x - r < this.minX) {
      this.minX = x - r;
    }
    if (x + r > this.maxX) {
      this.maxX = x + r;
    }
    if (y - r < this.minY) {
      this.minY = y - r;
    }
    if (y + r > this.maxY) {
      this.maxY = y + r;
    }

    // first create a mask
    let mask = document.createElementNS("http://www.w3.org/2000/svg", "circle");
    mask.setAttributeNS(null, "cx", x);
    mask.setAttributeNS(null, "cy", y);
    mask.setAttributeNS(null, "r", "1.5");
    mask.setAttributeNS(null, "fill", "black");
    this.maskElements.push(mask);

    // now create the point
    let point = document.createElementNS("http://www.w3.org/2000/svg", "circle");
    point.setAttributeNS(null, "cx", x);
    point.setAttributeNS(null, "cy", y);
    point.setAttributeNS(null, "r", r);
    point.setAttributeNS(null, "fill", this.themeManager.getColor(elementName));
    this.vertices.push(point);
  }

  /**
   * Draw a text to the canvas.
   *
   * @param {Number} x The x position of the text.
   * @param {Number} y The y position of the text.
   * @param {String} elementName The name of the element (single-letter).
   * @param {Number} hydrogens The number of hydrogen atoms.
   * @param {String} direction The direction of the text in relation to the associated vertex.
   * @param {Boolean} isTerminal A boolean indicating whether or not the vertex is terminal.
   * @param {Number} charge The charge of the atom.
   * @param {Number} isotope The isotope number.
   * @param {Number} totalVertices The total number of vertices in the graph.
   * @param {Object} attachedPseudoElement A map with containing information for pseudo elements or concatinated elements. The key is comprised of the element symbol and the hydrogen count.
   * @param {String} attachedPseudoElement.element The element symbol.
   * @param {Number} attachedPseudoElement.count The number of occurences that match the key.
   * @param {Number} attachedPseudoElement.hyrogenCount The number of hydrogens attached to each atom matching the key.
   */
  drawText(x, y, elementName, hydrogens, direction, isTerminal, charge, isotope, totalVertices, attachedPseudoElement = {}) {
    let text = [];
    let display = elementName;
    if (charge !== 0 && charge !== null) {
      display += SvgWrapper.createUnicodeCharge(charge);
    }
    if (isotope !== 0 && isotope !== null) {
      display = SvgWrapper.createUnicodeSuperscript(isotope) + display;
    }
    text.push([display, elementName]);
    if (hydrogens === 1) {
      text.push(["H", "H"]);
    } else if (hydrogens > 1) {
      text.push(["H" + SvgWrapper.createUnicodeSubscript(hydrogens), "H"]);
    }

    // TODO: Better handle exceptions
    // Exception for nitro (draw nitro as NO2 instead of N+O-O)
    if (charge === 1 && elementName === "N" && attachedPseudoElement.hasOwnProperty("0O") && attachedPseudoElement.hasOwnProperty("0O-1")) {
      attachedPseudoElement = {
        "0O": {
          element: "O",
          count: 2,
          hydrogenCount: 0,
          previousElement: "C",
          charge: ""
        }
      };
      charge = 0;
    }
    for (let key in attachedPseudoElement) {
      if (!attachedPseudoElement.hasOwnProperty(key)) {
        continue;
      }
      let pe = attachedPseudoElement[key];
      let display = pe.element;
      if (pe.count > 1) {
        display += SvgWrapper.createUnicodeSubscript(pe.count);
      }
      if (pe.charge !== "") {
        display += SvgWrapper.createUnicodeCharge(charge);
      }
      text.push([display, pe.element]);
      if (pe.hydrogenCount === 1) {
        text.push(["H", "H"]);
      } else if (pe.hydrogenCount > 1) {
        text.push(["H" + SvgWrapper.createUnicodeSubscript(pe.hydrogenCount), "H"]);
      }
    }
    this.write(text, direction, x, y, totalVertices === 1);
  }
  write(text, direction, x, y, singleVertex) {
    // Measure element name only, without charge or isotope ...
    let bbox = SvgWrapper.measureText(text[0][1], this.opts.fontSizeLarge, this.opts.fontFamily);

    // ... but for direction left move to the right to
    if (direction === "left" && text[0][0] !== text[0][1]) {
      bbox.width *= 2.0;
    }

    // Get the approximate width and height of text and add update max/min
    // to allow for narrower paddings
    if (singleVertex) {
      if (x + bbox.width * text.length > this.maxX) {
        this.maxX = x + bbox.width * text.length;
      }
      if (x - bbox.width / 2.0 < this.minX) {
        this.minX = x - bbox.width / 2.0;
      }
      if (y - bbox.height < this.minY) {
        this.minY = y - bbox.height;
      }
      if (y + bbox.height > this.maxY) {
        this.maxY = y + bbox.height;
      }
    } else {
      if (direction !== "right") {
        if (x + bbox.width * text.length > this.maxX) {
          this.maxX = x + bbox.width * text.length;
        }
        if (x - bbox.width * text.length < this.minX) {
          this.minX = x - bbox.width * text.length;
        }
      } else if (direction !== "left") {
        if (x + bbox.width * text.length > this.maxX) {
          this.maxX = x + bbox.width * text.length;
        }
        if (x - bbox.width / 2.0 < this.minX) {
          this.minX = x - bbox.width / 2.0;
        }
      }
      if (y - bbox.height < this.minY) {
        this.minY = y - bbox.height;
      }
      if (y + bbox.height > this.maxY) {
        this.maxY = y + bbox.height;
      }
      if (direction === "down") {
        if (y + 0.8 * bbox.height * text.length > this.maxY) {
          this.maxY = y + 0.8 * bbox.height * text.length;
        }
      }
      if (direction === "up") {
        if (y - 0.8 * bbox.height * text.length < this.minY) {
          this.minY = y - 0.8 * bbox.height * text.length;
        }
      }
    }
    let cx = x;
    let cy = y;

    // Draw the text
    let textElem = document.createElementNS("http://www.w3.org/2000/svg", "text");
    textElem.setAttributeNS(null, "class", "element");
    let g = document.createElementNS("http://www.w3.org/2000/svg", "g");
    textElem.setAttributeNS(null, "fill", "#ffffff");
    if (direction === "left") {
      text = text.reverse();
    }
    if (direction === "right" || direction === "down" || direction === "up") {
      x -= bbox.width / 2.0;
    }
    if (direction === "left") {
      x += bbox.width / 2.0;
    }
    text.forEach((part, i) => {
      const display = part[0];
      const elementName = part[1];
      let tspanElem = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
      tspanElem.setAttributeNS(null, "fill", this.themeManager.getColor(elementName));
      tspanElem.textContent = display;
      if (direction === "up" || direction === "down") {
        tspanElem.setAttributeNS(null, "x", "0px");
        if (direction === "up") {
          tspanElem.setAttributeNS(null, "y", `-${0.9 * i}em`);
        } else {
          tspanElem.setAttributeNS(null, "y", `${0.9 * i}em`);
        }
      }
      textElem.appendChild(tspanElem);
    });
    textElem.setAttributeNS(null, "data-direction", direction);
    if (direction === "left" || direction === "right") {
      textElem.setAttributeNS(null, "dominant-baseline", "alphabetic");
      textElem.setAttributeNS(null, "y", "0.36em");
    } else {
      textElem.setAttributeNS(null, "dominant-baseline", "central");
    }
    if (direction === "left") {
      textElem.setAttributeNS(null, "text-anchor", "end");
    }
    g.appendChild(textElem);
    g.setAttributeNS(null, "style", `transform: translateX(${x}px) translateY(${y}px)`);
    let maskRadius = this.opts.fontSizeLarge * 0.75;
    if (text[0][1].length > 1) {
      maskRadius = this.opts.fontSizeLarge * 1.1;
    }
    let mask = document.createElementNS("http://www.w3.org/2000/svg", "circle");
    mask.setAttributeNS(null, "cx", cx);
    mask.setAttributeNS(null, "cy", cy);
    mask.setAttributeNS(null, "r", maskRadius);
    mask.setAttributeNS(null, "fill", "black");
    this.maskElements.push(mask);
    this.vertices.push(g);
  }

  /**
   * Draw the wrapped SVG to a canvas.
   * @param {HTMLCanvasElement} canvas The canvas element to draw the svg to.
   */
  toCanvas(canvas, width, height) {
    if (typeof canvas === "string" || canvas instanceof String) {
      canvas = document.getElementById(canvas);
    }
    let image = new Image();
    image.onload = function () {
      canvas.width = width;
      canvas.height = height;
      canvas.getContext("2d").drawImage(image, 0, 0, width, height);
    };
    image.src = "data:image/svg+xml;charset-utf-8," + encodeURIComponent(this.svg.outerHTML);
  }
  static createUnicodeSubscript(n) {
    let result = "";
    n.toString().split("").forEach(d => {
      result += ["", "", "", "", "", "", "", "", "", ""][parseInt(d)];
    });
    return result;
  }
  static createUnicodeSuperscript(n) {
    let result = "";
    n.toString().split("").forEach(d => {
      let parsed = parseInt(d);
      if (parsed) {
        result += ["", "", "", "", "", "", "", "", "", ""][parseInt(d)];
      }
    });
    return result;
  }
  static replaceNumbersWithSubscript(text) {
    let subscriptNumbers = {
      0: "",
      1: "",
      2: "",
      3: "",
      4: "",
      5: "",
      6: "",
      7: "",
      8: "",
      9: ""
    };
    for (const [key, value] of Object.entries(subscriptNumbers)) {
      text = text.replaceAll(key, value);
    }
    return text;
  }
  static measureText(text, fontSize, fontFamily, lineHeight = 0.9) {
    const element = document.createElement("canvas");
    const ctx = element.getContext("2d");
    ctx.font = `${fontSize}pt ${fontFamily}`;
    let textMetrics = ctx.measureText(text);
    let compWidth = Math.abs(textMetrics.actualBoundingBoxLeft) + Math.abs(textMetrics.actualBoundingBoxRight);
    return {
      width: textMetrics.width > compWidth ? textMetrics.width : compWidth,
      height: (Math.abs(textMetrics.actualBoundingBoxAscent) + Math.abs(textMetrics.actualBoundingBoxAscent)) * lineHeight
    };
  }

  /**
   * Convert an SVG to a canvas. Warning: This happens async!
   *
   * @param {SVGElement} svg
   * @param {HTMLCanvasElement} canvas
   * @param {Number} width
   * @param {Number} height
   * @param {CallableFunction} callback
   * @returns {HTMLCanvasElement} The input html canvas element after drawing to.
   */
  static svgToCanvas(svg, canvas, width, height, callback = null) {
    svg.setAttributeNS(null, "width", width);
    svg.setAttributeNS(null, "height", height);
    let image = new Image();
    image.onload = function () {
      canvas.width = width;
      canvas.height = height;
      let context = canvas.getContext("2d");
      context.imageSmoothingEnabled = false;
      context.drawImage(image, 0, 0, width, height);
      if (callback) {
        callback(canvas);
      }
    };
    image.onerror = function (err) {
      console.log(err);
    };
    image.src = "data:image/svg+xml;charset-utf-8," + encodeURIComponent(svg.outerHTML);
    return canvas;
  }

  /**
   * Convert an SVG to a canvas. Warning: This happens async!
   *
   * @param {SVGElement} svg
   * @param {HTMLImageElement} canvas
   * @param {Number} width
   * @param {Number} height
   */
  static svgToImg(svg, img, width, height) {
    let canvas = document.createElement("canvas");
    this.svgToCanvas(svg, canvas, width, height, result => {
      img.src = canvas.toDataURL("image/png");
    });
  }

  /**
   * Create an SVG element containing text.
   * @param {String} text
   * @param {*} themeManager
   * @param {*} options
   * @returns {{svg: SVGElement, width: Number, height: Number}} The SVG element containing the text and its dimensions.
   */
  static writeText(text, themeManager, fontSize, fontFamily, maxWidth = Number.MAX_SAFE_INTEGER) {
    let svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    let style = document.createElementNS("http://www.w3.org/2000/svg", "style");
    style.appendChild(document.createTextNode(`
        .text {
            font: ${fontSize}pt ${fontFamily};
            dominant-baseline: ideographic;
        }
    `));
    svg.appendChild(style);
    let textElem = document.createElementNS("http://www.w3.org/2000/svg", "text");
    textElem.setAttributeNS(null, "class", "text");
    let maxLineWidth = 0.0;
    let totalHeight = 0.0;
    let lines = [];
    text.split("\n").forEach(line => {
      let dims = SvgWrapper.measureText(line, fontSize, fontFamily, 1.0);
      if (dims.width >= maxWidth) {
        let totalWordsWidth = 0.0;
        let maxWordsHeight = 0.0;
        let words = line.split(" ");
        let offset = 0;
        for (let i = 0; i < words.length; i++) {
          let wordDims = SvgWrapper.measureText(words[i], fontSize, fontFamily, 1.0);
          if (totalWordsWidth + wordDims.width > maxWidth) {
            lines.push({
              text: words.slice(offset, i).join(" "),
              width: totalWordsWidth,
              height: maxWordsHeight
            });
            totalWordsWidth = 0.0;
            maxWordsHeight = 0.0;
            offset = i;
          }
          if (wordDims.height > maxWordsHeight) {
            maxWordsHeight = wordDims.height;
          }
          totalWordsWidth += wordDims.width;
        }
        if (offset < words.length) {
          lines.push({
            text: words.slice(offset, words.length).join(" "),
            width: totalWordsWidth,
            height: maxWordsHeight
          });
        }
      } else {
        lines.push({
          text: line,
          width: dims.width,
          height: dims.height
        });
      }
    });
    lines.forEach((line, i) => {
      totalHeight += line.height;
      let tspanElem = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
      tspanElem.setAttributeNS(null, "fill", themeManager.getColor("C"));
      tspanElem.textContent = line.text;
      tspanElem.setAttributeNS(null, "x", "0px");
      tspanElem.setAttributeNS(null, "y", `${totalHeight}px`);
      textElem.appendChild(tspanElem);
      if (line.width > maxLineWidth) {
        maxLineWidth = line.width;
      }
    });
    svg.appendChild(textElem);
    return {
      svg: svg,
      width: maxLineWidth,
      height: totalHeight
    };
  }
}

/***/ }),

/***/ "./src/ArrayHelper.ts":
/*!****************************!*\
  !*** ./src/ArrayHelper.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArrayHelper: () => (/* binding */ ArrayHelper)
/* harmony export */ });
/**
 * A static class containing helper functions for array-related tasks.
 */
class ArrayHelper {
    /**
     * Clone an array or an object. If an object is passed, a shallow clone will be created.
     *
     * @static
     * @template T
     * @param {T} arr The array or object to be cloned.
     * @returns {T} A clone of the array or object.
     */
    static clone(arr) {
        const out = Array.isArray(arr) ? [] : {};
        for (const key in arr) {
            const value = arr[key];
            if (typeof value === "object" && value !== null) {
                if (typeof value.clone === "function") {
                    out[key] = value.clone();
                }
                else {
                    out[key] = ArrayHelper.clone(value);
                }
            }
            else {
                out[key] = value;
            }
        }
        return out;
    }
    /**
     * Returns a boolean indicating whether or not the two arrays contain the same elements.
     * Only supports 1d, non-nested arrays.
     *
     * @static
     * @template T
     * @param {T[]} arrA An array.
     * @param {T[]} arrB An array.
     * @returns {boolean} A boolean indicating whether or not the two arrays contain the same elements.
     */
    static equals(arrA, arrB) {
        if (arrA.length !== arrB.length) {
            return false;
        }
        const tmpA = arrA.slice().sort();
        const tmpB = arrB.slice().sort();
        for (let i = 0; i < tmpA.length; i++) {
            if (tmpA[i] !== tmpB[i]) {
                return false;
            }
        }
        return true;
    }
    /**
     * Returns a string representation of an array. If the array contains objects with an id property, the id property is printed for each of the elements.
     *
     * @static
     * @template T
     * @param {T[]} arr An array.
     * @returns {string} A string representation of the array.
     */
    static print(arr) {
        if (arr.length === 0) {
            return "";
        }
        let s = "(";
        for (let i = 0; i < arr.length; i++) {
            s += arr[i].id ? arr[i].id + ", " : arr[i] + ", ";
        }
        s = s.substring(0, s.length - 2);
        return s + ")";
    }
    /**
     * Run a function for each element in the array. The element is supplied as an argument for the callback function
     *
     * @static
     * @template T
     * @param {T[]} arr An array.
     * @param {(item: T) => void} callback The callback function that is called for each element.
     */
    static each(arr, callback) {
        for (let i = 0; i < arr.length; i++) {
            callback(arr[i]);
        }
    }
    /**
     * Return the array element from an array containing objects, where a property of the object is set to a given value.
     *
     * @static
     * @template T
     * @param {T[]} arr An array.
     * @param {keyof T} property A property contained within an object in the array.
     * @param {string | number} value The value of the property.
     * @returns {T | undefined} The array element matching the value.
     */
    static get(arr, property, value) {
        for (let i = 0; i < arr.length; i++) {
            if (arr[i][property] == value) {
                return arr[i];
            }
        }
        return undefined;
    }
    /**
     * Checks whether or not an array contains a given value.
     *
     * @static
     * @template T
     * @param {T[]} arr An array.
     * @param {ContainsOptions<T>} options The options for the contains check.
     * @returns {boolean} A boolean whether or not the array contains a value.
     */
    static contains(arr, options) {
        if (!options.property && !options.func) {
            for (let i = 0; i < arr.length; i++) {
                if (arr[i] == options.value) {
                    return true;
                }
            }
        }
        else if (options.func) {
            for (let i = 0; i < arr.length; i++) {
                if (options.func(arr[i])) {
                    return true;
                }
            }
        }
        else if (options.property) {
            for (let i = 0; i < arr.length; i++) {
                if (arr[i][options.property] == options.value) {
                    return true;
                }
            }
        }
        return false;
    }
    /**
     * Returns an array containing the intersection between two arrays.
     *
     * @static
     * @template T
     * @param {T[]} arrA An array.
     * @param {T[]} arrB An array.
     * @returns {T[]} The intersecting values.
     */
    static intersection(arrA, arrB) {
        const intersection = [];
        for (let i = 0; i < arrA.length; i++) {
            for (let j = 0; j < arrB.length; j++) {
                if (arrA[i] === arrB[j]) {
                    intersection.push(arrA[i]);
                }
            }
        }
        return intersection;
    }
    /**
     * Returns an array of unique elements contained in an array.
     *
     * @static
     * @template T
     * @param {T[]} arr An array.
     * @returns {T[]} An array of unique elements.
     */
    static unique(arr) {
        const contains = {};
        return arr.filter((i) => {
            return contains[i] !== undefined
                ? false
                : (contains[i] = true);
        });
    }
    /**
     * Count the number of occurrences of a value in an array.
     *
     * @static
     * @template T
     * @param {T[]} arr An array.
     * @param {T} value A value to be counted.
     * @returns {number} The number of occurrences of a value in the array.
     */
    static count(arr, value) {
        let count = 0;
        for (let i = 0; i < arr.length; i++) {
            if (arr[i] === value) {
                count++;
            }
        }
        return count;
    }
    /**
     * Toggles the value of an array.
     *
     * @static
     * @template T
     * @param {T[]} arr An array.
     * @param {T} value A value to be toggled.
     * @returns {T[]} The toggled array.
     */
    static toggle(arr, value) {
        const newArr = [];
        let removed = false;
        for (let i = 0; i < arr.length; i++) {
            if (arr[i] !== value) {
                newArr.push(arr[i]);
            }
            else {
                removed = true;
            }
        }
        if (!removed) {
            newArr.push(value);
        }
        return newArr;
    }
    /**
     * Remove a value from an array.
     *
     * @static
     * @template T
     * @param {T[]} arr An array.
     * @param {T} value A value to be removed.
     * @returns {T[]} A new array with the element with a given value removed.
     */
    static remove(arr, value) {
        const tmp = [];
        for (let i = 0; i < arr.length; i++) {
            if (arr[i] !== value) {
                tmp.push(arr[i]);
            }
        }
        return tmp;
    }
    /**
     * Remove a value from an array with unique values.
     *
     * @static
     * @template T
     * @param {T[]} arr An array.
     * @param {T} value A value to be removed.
     * @returns {T[]} An array with the element with a given value removed.
     */
    static removeUnique(arr, value) {
        const index = arr.indexOf(value);
        if (index > -1) {
            arr.splice(index, 1);
        }
        return arr;
    }
    /**
     * Remove all elements contained in one array from another array.
     *
     * @static
     * @template T
     * @param {T[]} arrA The array to be filtered.
     * @param {T[]} arrB The array containing elements that will be removed from the other array.
     * @returns {T[]} The filtered array.
     */
    static removeAll(arrA, arrB) {
        return arrA.filter((item) => arrB.indexOf(item) === -1);
    }
    /**
     * Merges two arrays and returns the result.
     *
     * @static
     * @template T
     * @param {T[]} arrA An array.
     * @param {T[]} arrB An array.
     * @returns {T[]} The merged array.
     */
    static merge(arrA, arrB) {
        const arr = new Array(arrA.length + arrB.length);
        for (let i = 0; i < arrA.length; i++) {
            arr[i] = arrA[i];
        }
        for (let i = 0; i < arrB.length; i++) {
            arr[arrA.length + i] = arrB[i];
        }
        return arr;
    }
    /**
     * Checks whether or not an array contains all the elements of another array.
     *
     * @static
     * @template T
     * @param {T[]} arrA An array.
     * @param {T[]} arrB An array.
     * @returns {boolean} A boolean indicating whether or not both array contain the same elements.
     */
    static containsAll(arrA, arrB) {
        let containing = 0;
        for (let i = 0; i < arrA.length; i++) {
            for (let j = 0; j < arrB.length; j++) {
                if (arrA[i] === arrB[j]) {
                    containing++;
                }
            }
        }
        return containing === arrB.length;
    }
    /**
     * Sort an array of atomic number information.
     *
     * @static
     * @param {AtomicNumberItem[]} arr An array of vertex ids with their associated atomic numbers.
     * @returns {AtomicNumberItem[]} The array sorted by atomic number.
     */
    static sortByAtomicNumberDesc(arr) {
        const map = arr.map((e, i) => ({
            index: i,
            value: e.atomicNumber.split(".").map(Number),
        }));
        map.sort((a, b) => {
            const min = Math.min(b.value.length, a.value.length);
            let i = 0;
            while (i < min && b.value[i] === a.value[i]) {
                i++;
            }
            return i === min
                ? b.value.length - a.value.length
                : b.value[i] - a.value[i];
        });
        return map.map((e) => arr[e.index]);
    }
    /**
     * Copies an n-dimensional array.
     *
     * @static
     * @template T
     * @param {T[]} arr The array to be copied.
     * @returns {T[]} The copy.
     */
    static deepCopy(arr) {
        const newArr = [];
        for (let i = 0; i < arr.length; i++) {
            const item = arr[i];
            if (item instanceof Array) {
                newArr[i] = ArrayHelper.deepCopy(item);
            }
            else {
                newArr[i] = item;
            }
        }
        return newArr;
    }
}


/***/ }),

/***/ "./src/Atom.ts":
/*!*********************!*\
  !*** ./src/Atom.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Atom: () => (/* binding */ Atom)
/* harmony export */ });
class Atom {
    /**
     * The constructor of the class Atom.
     *
     * @param {String} element The one-letter code of the element.
     * @param {String} [bondType='-'] The type of the bond associated with this atom.
     */
    constructor(element, bondType = "-") {
        this.idx = null;
        this.element = element.length === 1 ? element.toUpperCase() : element;
        this.drawExplicit = false;
        this.ringbonds = [];
        this.rings = [];
        this.bondType = bondType;
        this.branchBond = null;
        this.isBridge = false;
        this.isBridgeNode = false;
        this.originalRings = [];
        this.bridgedRing = null;
        this.anchoredRings = [];
        this.bracket = null;
        this.plane = 0;
        this.attachedPseudoElements = {};
        this.hasAttachedPseudoElements = false;
        this.isDrawn = true;
        this.isConnectedToRing = false;
        this.neighbouringElements = [];
        this.isPartOfAromaticRing = element !== this.element;
        this.bondCount = 0;
        this.chirality = "";
        this.isStereoCenter = false;
        this.priority = 0;
        this.mainChain = false;
        this.hydrogenDirection = "down";
        this.subtreeDepth = 1;
        this.hasHydrogen = false;
    }
    /**
     * Adds a neighbouring element to this atom.
     *
     * @param {String} element A string representing an element.
     */
    addNeighbouringElement(element) {
        this.neighbouringElements.push(element);
    }
    /**
     * Attaches a pseudo element (e.g. Ac) to the atom.
     * @param {String} element The element identifier (e.g. Br, C, ...).
     * @param {String} previousElement The element that is part of the main chain (not the terminals that are converted to the pseudo element or concatinated).
     * @param {Number} [hydrogenCount=0] The number of hydrogens for the element.
     * @param {Number} [charge=0] The charge for the element.
     */
    attachPseudoElement(element, previousElement, hydrogenCount = 0, charge = 0) {
        if (hydrogenCount === null) {
            hydrogenCount = 0;
        }
        if (charge === null) {
            charge = 0;
        }
        const key = `${hydrogenCount}${element}${charge}`;
        if (this.attachedPseudoElements[key]) {
            this.attachedPseudoElements[key].count += 1;
        }
        else {
            this.attachedPseudoElements[key] = {
                element,
                count: 1,
                hydrogenCount,
                previousElement,
                charge,
            };
        }
        this.hasAttachedPseudoElements = true;
    }
    /**
     * Returns the attached pseudo elements sorted by hydrogen count (ascending).
     *
     * @returns {Object} The sorted attached pseudo elements.
     */
    getAttachedPseudoElements() {
        const ordered = {};
        Object.keys(this.attachedPseudoElements)
            .sort()
            .forEach((key) => {
            ordered[key] = this.attachedPseudoElements[key];
        });
        return ordered;
    }
    /**
     * Returns the number of attached pseudo elements.
     *
     * @returns {Number} The number of attached pseudo elements.
     */
    getAttachedPseudoElementsCount() {
        return Object.keys(this.attachedPseudoElements).length;
    }
    /**
     * Returns the number of attached pseudo elements.
     *
     * @returns {Number} The number of attached pseudo elements.
     */
    isHeteroAtom() {
        return this.element !== "C" && this.element !== "H";
    }
    /**
     * Defines this atom as the anchor for a ring. When doing repositionings of the vertices and the vertex associated with this atom is moved, the center of this ring is moved as well.
     *
     * @param {Number} ringId A ring id.
     */
    addAnchoredRing(ringId) {
        if (!this.anchoredRings.includes(ringId)) {
            this.anchoredRings.push(ringId);
        }
    }
    /**
     * Returns the number of ringbonds (breaks in rings to generate the MST of the smiles) within this atom is connected to.
     *
     * @returns {Number} The number of ringbonds this atom is connected to.
     */
    getRingbondCount() {
        return this.ringbonds.length;
    }
    /**
     * Backs up the current rings.
     */
    backupRings() {
        this.originalRings = [...this.rings];
    }
    /**
     * Restores the most recent backed up rings.
     */
    restoreRings() {
        this.rings = [...this.originalRings];
    }
    /**
     * Checks whether or not two atoms share a common ringbond id. A ringbond is a break in a ring created when generating the spanning tree of a structure.
     *
     * @param {Atom} atomA An atom.
     * @param {Atom} atomB An atom.
     * @returns {Boolean} A boolean indicating whether or not two atoms share a common ringbond.
     */
    haveCommonRingbond(atomA, atomB) {
        return atomA.ringbonds.some((rbA) => atomB.ringbonds.some((rbB) => rbA.id === rbB.id));
    }
    /**
     * Check whether or not the neighbouring elements of this atom equal the supplied array.
     *
     * @param {String[]} arr An array containing all the elements that are neighbouring this atom. E.g. ['C', 'O', 'O', 'N']
     * @returns {Boolean} A boolean indicating whether or not the neighbours match the supplied array of elements.
     */
    neighbouringElementsEqual(arr) {
        if (arr.length !== this.neighbouringElements.length) {
            return false;
        }
        const sortedArr = [...arr].sort();
        const sortedNeighbours = [...this.neighbouringElements].sort();
        return sortedArr.every((element, index) => element === sortedNeighbours[index]);
    }
    /**
     * Get the atomic number of this atom.
     *
     * @returns {Number} The atomic number of this atom.
     */
    getAtomicNumber() {
        return Atom.atomicNumbers[this.element];
    }
    /**
     * Get the atomic number of this atom.
     *
     * @returns {Number} The atomic number of this atom.
     */
    getMaxBonds() {
        return Atom.maxBonds[this.element];
    }
}
/**
 * A map mapping element symbols to their maximum bonds.
 */
Atom.maxBonds = {
    H: 1,
    C: 4,
    N: 3,
    O: 2,
    P: 3,
    S: 2,
    B: 3,
    F: 1,
    I: 1,
    Cl: 1,
    Br: 1,
};
/**
 * A map mapping element symbols to the atomic number.
 */
Atom.atomicNumbers = {
    H: 1,
    He: 2,
    Li: 3,
    Be: 4,
    B: 5,
    b: 5,
    C: 6,
    c: 6,
    N: 7,
    n: 7,
    O: 8,
    o: 8,
    F: 9,
    Ne: 10,
    Na: 11,
    Mg: 12,
    Al: 13,
    Si: 14,
    P: 15,
    p: 15,
    S: 16,
    s: 16,
    Cl: 17,
    Ar: 18,
    K: 19,
    Ca: 20,
    Sc: 21,
    Ti: 22,
    V: 23,
    Cr: 24,
    Mn: 25,
    Fe: 26,
    Co: 27,
    Ni: 28,
    Cu: 29,
    Zn: 30,
    Ga: 31,
    Ge: 32,
    As: 33,
    Se: 34,
    Br: 35,
    Kr: 36,
    Rb: 37,
    Sr: 38,
    Y: 39,
    Zr: 40,
    Nb: 41,
    Mo: 42,
    Tc: 43,
    Ru: 44,
    Rh: 45,
    Pd: 46,
    Ag: 47,
    Cd: 48,
    In: 49,
    Sn: 50,
    Sb: 51,
    Te: 52,
    I: 53,
    Xe: 54,
    Cs: 55,
    Ba: 56,
    La: 57,
    Ce: 58,
    Pr: 59,
    Nd: 60,
    Pm: 61,
    Sm: 62,
    Eu: 63,
    Gd: 64,
    Tb: 65,
    Dy: 66,
    Ho: 67,
    Er: 68,
    Tm: 69,
    Yb: 70,
    Lu: 71,
    Hf: 72,
    Ta: 73,
    W: 74,
    Re: 75,
    Os: 76,
    Ir: 77,
    Pt: 78,
    Au: 79,
    Hg: 80,
    Tl: 81,
    Pb: 82,
    Bi: 83,
    Po: 84,
    At: 85,
    Rn: 86,
    Fr: 87,
    Ra: 88,
    Ac: 89,
    Th: 90,
    Pa: 91,
    U: 92,
    Np: 93,
    Pu: 94,
    Am: 95,
    Cm: 96,
    Bk: 97,
    Cf: 98,
    Es: 99,
    Fm: 100,
    Md: 101,
    No: 102,
    Lr: 103,
    Rf: 104,
    Db: 105,
    Sg: 106,
    Bh: 107,
    Hs: 108,
    Mt: 109,
    Ds: 110,
    Rg: 111,
    Cn: 112,
    Uut: 113,
    Uuq: 114,
    Uup: 115,
    Uuh: 116,
    Uus: 117,
    Uuo: 118,
};
/**
 * A map mapping element symbols to the atomic mass.
 */
Atom.mass = {
    H: 1,
    He: 2,
    Li: 3,
    Be: 4,
    B: 5,
    b: 5,
    C: 6,
    c: 6,
    N: 7,
    n: 7,
    O: 8,
    o: 8,
    F: 9,
    Ne: 10,
    Na: 11,
    Mg: 12,
    Al: 13,
    Si: 14,
    P: 15,
    p: 15,
    S: 16,
    s: 16,
    Cl: 17,
    Ar: 18,
    K: 19,
    Ca: 20,
    Sc: 21,
    Ti: 22,
    V: 23,
    Cr: 24,
    Mn: 25,
    Fe: 26,
    Co: 27,
    Ni: 28,
    Cu: 29,
    Zn: 30,
    Ga: 31,
    Ge: 32,
    As: 33,
    Se: 34,
    Br: 35,
    Kr: 36,
    Rb: 37,
    Sr: 38,
    Y: 39,
    Zr: 40,
    Nb: 41,
    Mo: 42,
    Tc: 43,
    Ru: 44,
    Rh: 45,
    Pd: 46,
    Ag: 47,
    Cd: 48,
    In: 49,
    Sn: 50,
    Sb: 51,
    Te: 52,
    I: 53,
    Xe: 54,
    Cs: 55,
    Ba: 56,
    La: 57,
    Ce: 58,
    Pr: 59,
    Nd: 60,
    Pm: 61,
    Sm: 62,
    Eu: 63,
    Gd: 64,
    Tb: 65,
    Dy: 66,
    Ho: 67,
    Er: 68,
    Tm: 69,
    Yb: 70,
    Lu: 71,
    Hf: 72,
    Ta: 73,
    W: 74,
    Re: 75,
    Os: 76,
    Ir: 77,
    Pt: 78,
    Au: 79,
    Hg: 80,
    Tl: 81,
    Pb: 82,
    Bi: 83,
    Po: 84,
    At: 85,
    Rn: 86,
    Fr: 87,
    Ra: 88,
    Ac: 89,
    Th: 90,
    Pa: 91,
    U: 92,
    Np: 93,
    Pu: 94,
    Am: 95,
    Cm: 96,
    Bk: 97,
    Cf: 98,
    Es: 99,
    Fm: 100,
    Md: 101,
    No: 102,
    Lr: 103,
    Rf: 104,
    Db: 105,
    Sg: 106,
    Bh: 107,
    Hs: 108,
    Mt: 109,
    Ds: 110,
    Rg: 111,
    Cn: 112,
    Uut: 113,
    Uuq: 114,
    Uup: 115,
    Uuh: 116,
    Uus: 117,
    Uuo: 118,
};


/***/ }),

/***/ "./src/CanvasWrapper.ts":
/*!******************************!*\
  !*** ./src/CanvasWrapper.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CanvasWrapper: () => (/* binding */ CanvasWrapper)
/* harmony export */ });
/* harmony import */ var _UtilityFunctions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UtilityFunctions */ "./src/UtilityFunctions.ts");
/* harmony import */ var _Vector2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Vector2 */ "./src/Vector2.ts");
/* harmony import */ var _MathHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MathHelper */ "./src/MathHelper.ts");



/**
 * A class wrapping a canvas element.
 *
 * @property {HTMLCanvasElement} canvas The HTML element for the canvas associated with this CanvasWrapper instance.
 * @property {CanvasRenderingContext2D} ctx The CanvasRenderingContext2D of the canvas associated with this CanvasWrapper instance.
 * @property {ThemeManager} themeManager Theme manager for getting colors.
 * @property {DrawingOptions} opts The SmilesDrawer options.
 * @property {Number} drawingWidth The width of the canvas.
 * @property {Number} drawingHeight The height of the canvas.
 * @property {Number} offsetX The horizontal offset required for centering the drawing.
 * @property {Number} offsetY The vertical offset required for centering the drawing.
 * @property {String} fontLarge The large font size in pt.
 * @property {String} fontSmall The small font size in pt.
 */
class CanvasWrapper {
    /**
     * The constructor for the class CanvasWrapper.
     *
     * @param {(String|HTMLElement)} target The canvas id or the canvas HTMLElement.
     * @param {ThemeManager} themeManager Theme manager for setting proper colors.
     * @param {DrawingOptions} options The smiles drawer options object.
     */
    constructor(target, themeManager, options) {
        this.devicePixelRatio = 1;
        this.backingStoreRatio = 1;
        this.ratio = 1;
        this.colors = {};
        if (typeof target === "string") {
            this.canvas = document.getElementById(target);
        }
        else {
            this.canvas = target;
        }
        this.ctx = this.canvas.getContext("2d");
        this.themeManager = themeManager;
        this.opts = options;
        this.drawingWidth = 0.0;
        this.drawingHeight = 0.0;
        this.offsetX = 0.0;
        this.offsetY = 0.0;
        this.fontLarge =
            this.opts.fontSizeLarge + "pt Helvetica, Arial, sans-serif";
        this.fontSmall =
            this.opts.fontSizeSmall + "pt Helvetica, Arial, sans-serif";
        this.updateSize(this.opts.width, this.opts.height);
        this.ctx.font = this.fontLarge;
        this.hydrogenWidth = this.ctx.measureText("H").width;
        this.halfHydrogenWidth = this.hydrogenWidth / 2.0;
        this.halfBondThickness = this.opts.bondThickness / 2.0;
        // TODO: Find out why clear was here.
        // this.clear();
    }
    /**
     * Update the width and height of the canvas
     *
     * @param {Number} width
     * @param {Number} height
     */
    updateSize(width, height) {
        this.devicePixelRatio = window.devicePixelRatio || 1;
        const ctx = this.ctx; // Vendor-prefixed properties not in standard types
        this.backingStoreRatio =
            ctx.webkitBackingStorePixelRatio ||
                ctx.mozBackingStorePixelRatio ||
                ctx.msBackingStorePixelRatio ||
                ctx.oBackingStorePixelRatio ||
                ctx.backingStorePixelRatio ||
                1;
        this.ratio = this.devicePixelRatio / this.backingStoreRatio;
        if (this.ratio !== 1) {
            this.canvas.width = width * this.ratio;
            this.canvas.height = height * this.ratio;
            this.canvas.style.width = width + "px";
            this.canvas.style.height = height + "px";
            this.ctx.setTransform(this.ratio, 0, 0, this.ratio, 0, 0);
        }
        else {
            this.canvas.width = width * this.ratio;
            this.canvas.height = height * this.ratio;
        }
    }
    /**
     * Sets a provided theme.
     *
     * @param {Object} theme A theme from the smiles drawer options.
     */
    setTheme(theme) {
        this.colors = theme;
    }
    /**
     * Scale the canvas based on vertex positions.
     *
     * @param {Vertex[]} vertices An array of vertices containing the vertices associated with the current molecule.
     */
    scale(vertices) {
        // Figure out the final size of the image
        let maxX = -Number.MAX_VALUE;
        let maxY = -Number.MAX_VALUE;
        let minX = Number.MAX_VALUE;
        let minY = Number.MAX_VALUE;
        for (var i = 0; i < vertices.length; i++) {
            if (!vertices[i].value.isDrawn) {
                continue;
            }
            let p = vertices[i].position;
            if (maxX < p.x)
                maxX = p.x;
            if (maxY < p.y)
                maxY = p.y;
            if (minX > p.x)
                minX = p.x;
            if (minY > p.y)
                minY = p.y;
        }
        // Add padding
        var padding = this.opts.padding;
        maxX += padding;
        maxY += padding;
        minX -= padding;
        minY -= padding;
        this.drawingWidth = maxX - minX;
        this.drawingHeight = maxY - minY;
        var scaleX = this.canvas.offsetWidth / this.drawingWidth;
        var scaleY = this.canvas.offsetHeight / this.drawingHeight;
        var scale = scaleX < scaleY ? scaleX : scaleY;
        this.ctx.scale(scale, scale);
        this.offsetX = -minX;
        this.offsetY = -minY;
        // Center
        if (scaleX < scaleY) {
            this.offsetY +=
                this.canvas.offsetHeight / (2.0 * scale) - this.drawingHeight / 2.0;
        }
        else {
            this.offsetX +=
                this.canvas.offsetWidth / (2.0 * scale) - this.drawingWidth / 2.0;
        }
    }
    /**
     * Resets the transform of the canvas.
     */
    reset() {
        this.ctx.setTransform(1, 0, 0, 1, 0, 0);
    }
    /**
     * Returns the hex code of a color associated with a key from the current theme.
     *
     * @param {String} key The color key in the theme (e.g. C, N, BACKGROUND, ...).
     * @returns {String} A color hex value.
     */
    getColor(key) {
        key = key.toUpperCase();
        if (key in this.colors) {
            return this.colors[key];
        }
        return this.colors["C"];
    }
    /**
     * Draws a circle to a canvas context.
     * @param {Number} x The x coordinate of the circles center.
     * @param {Number} y The y coordinate of the circles center.
     * @param {Number} radius The radius of the circle
     * @param {String} color A hex encoded color.
     * @param {Boolean} [fill=true] Whether to fill or stroke the circle.
     * @param {Boolean} [debug=false] Draw in debug mode.
     * @param {String} [debugText=''] A debug message.
     */
    drawCircle(x, y, radius, color, fill = true, debug = false, debugText = "") {
        let ctx = this.ctx;
        let offsetX = this.offsetX;
        let offsetY = this.offsetY;
        ctx.save();
        ctx.lineWidth = 1.5;
        ctx.beginPath();
        ctx.arc(x + offsetX, y + offsetY, radius, 0, _MathHelper__WEBPACK_IMPORTED_MODULE_2__.MathHelper.twoPI, true);
        ctx.closePath();
        if (debug) {
            if (fill) {
                ctx.fillStyle = "#f00";
                ctx.fill();
            }
            else {
                ctx.strokeStyle = "#f00";
                ctx.stroke();
            }
            this.drawDebugText(x, y, debugText);
        }
        else {
            if (fill) {
                ctx.fillStyle = color;
                ctx.fill();
            }
            else {
                ctx.strokeStyle = color;
                ctx.stroke();
            }
        }
        ctx.restore();
    }
    /**
     * Draw a line to a canvas.
     *
     * @param {Line} line A line.
     * @param {Boolean} [dashed=false] Whether or not the line is dashed.
     * @param {Number} [alpha=1.0] The alpha value of the color.
     */
    drawLine(line, dashed = false, alpha = 1.0) {
        let ctx = this.ctx;
        let offsetX = this.offsetX;
        let offsetY = this.offsetY;
        // Add a shadow behind the line
        let shortLine = line.clone().shorten(4.0);
        let l = shortLine.getLeftVector().clone();
        let r = shortLine.getRightVector().clone();
        l.x += offsetX;
        l.y += offsetY;
        r.x += offsetX;
        r.y += offsetY;
        // Draw the "shadow"
        if (!dashed) {
            ctx.save();
            ctx.globalCompositeOperation = "destination-out";
            ctx.beginPath();
            ctx.moveTo(l.x, l.y);
            ctx.lineTo(r.x, r.y);
            ctx.lineCap = "round";
            ctx.lineWidth = this.opts.bondThickness + 1.2;
            ctx.strokeStyle = this.themeManager.getColor("BACKGROUND");
            ctx.stroke();
            ctx.globalCompositeOperation = "source-over";
            ctx.restore();
        }
        l = line.getLeftVector().clone();
        r = line.getRightVector().clone();
        l.x += offsetX;
        l.y += offsetY;
        r.x += offsetX;
        r.y += offsetY;
        ctx.save();
        ctx.beginPath();
        ctx.moveTo(l.x, l.y);
        ctx.lineTo(r.x, r.y);
        ctx.lineCap = "round";
        ctx.lineWidth = this.opts.bondThickness;
        let gradient = this.ctx.createLinearGradient(l.x, l.y, r.x, r.y);
        gradient.addColorStop(0.4, this.themeManager.getColor(line.getLeftElement() || "C"));
        gradient.addColorStop(0.6, this.themeManager.getColor(line.getRightElement() || "C"));
        if (dashed) {
            ctx.setLineDash([1, 1.5]);
            ctx.lineWidth = this.opts.bondThickness / 1.5;
        }
        if (alpha < 1.0) {
            ctx.globalAlpha = alpha;
        }
        ctx.strokeStyle = gradient;
        ctx.stroke();
        ctx.restore();
    }
    /**
     * Draw a wedge on the canvas.
     *
     * @param {Line} line A line.
     * @param {Number} width The wedge width.
     */
    drawWedge(line, width = 1.0) {
        if (isNaN(line.from.x) ||
            isNaN(line.from.y) ||
            isNaN(line.to.x) ||
            isNaN(line.to.y)) {
            return;
        }
        let ctx = this.ctx;
        let offsetX = this.offsetX;
        let offsetY = this.offsetY;
        // Add a shadow behind the line
        let shortLine = line.clone().shorten(5.0);
        let l = shortLine.getLeftVector().clone();
        let r = shortLine.getRightVector().clone();
        l.x += offsetX;
        l.y += offsetY;
        r.x += offsetX;
        r.y += offsetY;
        l = line.getLeftVector().clone();
        r = line.getRightVector().clone();
        l.x += offsetX;
        l.y += offsetY;
        r.x += offsetX;
        r.y += offsetY;
        ctx.save();
        let normals = _Vector2__WEBPACK_IMPORTED_MODULE_1__.Vector2.normals(l, r);
        normals[0].normalize();
        normals[1].normalize();
        let isRightChiralCenter = line.getRightChiral();
        let start = l;
        let end = r;
        if (isRightChiralCenter) {
            start = r;
            end = l;
        }
        let t = _Vector2__WEBPACK_IMPORTED_MODULE_1__.Vector2.add(start, _Vector2__WEBPACK_IMPORTED_MODULE_1__.Vector2.multiplyScalar(normals[0], this.halfBondThickness));
        let u = _Vector2__WEBPACK_IMPORTED_MODULE_1__.Vector2.add(end, _Vector2__WEBPACK_IMPORTED_MODULE_1__.Vector2.multiplyScalar(normals[0], 1.5 + this.halfBondThickness));
        let v = _Vector2__WEBPACK_IMPORTED_MODULE_1__.Vector2.add(end, _Vector2__WEBPACK_IMPORTED_MODULE_1__.Vector2.multiplyScalar(normals[1], 1.5 + this.halfBondThickness));
        let w = _Vector2__WEBPACK_IMPORTED_MODULE_1__.Vector2.add(start, _Vector2__WEBPACK_IMPORTED_MODULE_1__.Vector2.multiplyScalar(normals[1], this.halfBondThickness));
        ctx.beginPath();
        ctx.moveTo(t.x, t.y);
        ctx.lineTo(u.x, u.y);
        ctx.lineTo(v.x, v.y);
        ctx.lineTo(w.x, w.y);
        let gradient = this.ctx.createRadialGradient(r.x, r.y, this.opts.bondLength, r.x, r.y, 0);
        gradient.addColorStop(0.4, this.themeManager.getColor(line.getLeftElement() || "C"));
        gradient.addColorStop(0.6, this.themeManager.getColor(line.getRightElement() || "C"));
        ctx.fillStyle = gradient;
        ctx.fill();
        ctx.restore();
    }
    /**
     * Draw a dashed wedge on the canvas.
     *
     * @param {Line} line A line.
     */
    drawDashedWedge(line) {
        if (isNaN(line.from.x) ||
            isNaN(line.from.y) ||
            isNaN(line.to.x) ||
            isNaN(line.to.y)) {
            return;
        }
        let ctx = this.ctx;
        let offsetX = this.offsetX;
        let offsetY = this.offsetY;
        let l = line.getLeftVector().clone();
        let r = line.getRightVector().clone();
        l.x += offsetX;
        l.y += offsetY;
        r.x += offsetX;
        r.y += offsetY;
        ctx.save();
        let normals = _Vector2__WEBPACK_IMPORTED_MODULE_1__.Vector2.normals(l, r);
        normals[0].normalize();
        normals[1].normalize();
        let isRightChiralCenter = line.getRightChiral();
        let start;
        let end;
        let sStart;
        let sEnd;
        let shortLine = line.clone();
        if (isRightChiralCenter) {
            start = r;
            end = l;
            shortLine.shortenRight(1.0);
            sStart = shortLine.getRightVector().clone();
            sEnd = shortLine.getLeftVector().clone();
        }
        else {
            start = l;
            end = r;
            shortLine.shortenLeft(1.0);
            sStart = shortLine.getLeftVector().clone();
            sEnd = shortLine.getRightVector().clone();
        }
        sStart.x += offsetX;
        sStart.y += offsetY;
        sEnd.x += offsetX;
        sEnd.y += offsetY;
        let dir = _Vector2__WEBPACK_IMPORTED_MODULE_1__.Vector2.subtract(end, start).normalize();
        ctx.strokeStyle = this.themeManager.getColor("C");
        ctx.lineCap = "round";
        ctx.lineWidth = this.opts.bondThickness;
        ctx.beginPath();
        let length = line.getLength();
        let step = 1.25 / (length / (this.opts.bondThickness * 3.0));
        let changed = false;
        for (var t = 0.0; t < 1.0; t += step) {
            let to = _Vector2__WEBPACK_IMPORTED_MODULE_1__.Vector2.multiplyScalar(dir, t * length);
            let startDash = _Vector2__WEBPACK_IMPORTED_MODULE_1__.Vector2.add(start, to);
            let width = 1.5 * t;
            let dashOffset = _Vector2__WEBPACK_IMPORTED_MODULE_1__.Vector2.multiplyScalar(normals[0], width);
            if (!changed && t > 0.5) {
                ctx.stroke();
                ctx.beginPath();
                ctx.strokeStyle = this.themeManager.getColor(line.getRightElement() || "C");
                changed = true;
            }
            startDash.subtract(dashOffset);
            ctx.moveTo(startDash.x, startDash.y);
            startDash.add(_Vector2__WEBPACK_IMPORTED_MODULE_1__.Vector2.multiplyScalar(dashOffset, 2.0));
            ctx.lineTo(startDash.x, startDash.y);
        }
        ctx.stroke();
        ctx.restore();
    }
    /**
     * Draws a debug text message at a given position
     *
     * @param {Number} x The x coordinate.
     * @param {Number} y The y coordinate.
     * @param {String} text The debug text.
     */
    drawDebugText(x, y, text) {
        let ctx = this.ctx;
        ctx.save();
        ctx.font = "5px Droid Sans, sans-serif";
        ctx.textAlign = "start";
        ctx.textBaseline = "top";
        ctx.fillStyle = "#ff0000";
        ctx.fillText(text, x + this.offsetX, y + this.offsetY);
        ctx.restore();
    }
    /**
     * Draw a ball to the canvas.
     *
     * @param {Number} x The x position of the text.
     * @param {Number} y The y position of the text.
     * @param {String} elementName The name of the element (single-letter).
     */
    drawBall(x, y, elementName) {
        let ctx = this.ctx;
        ctx.save();
        ctx.beginPath();
        ctx.arc(x + this.offsetX, y + this.offsetY, this.opts.bondLength / 4.5, 0, _MathHelper__WEBPACK_IMPORTED_MODULE_2__.MathHelper.twoPI, false);
        ctx.fillStyle = this.themeManager.getColor(elementName);
        ctx.fill();
        ctx.restore();
    }
    /**
     * Draw a point to the canvas.
     *
     * @param {Number} x The x position of the point.
     * @param {Number} y The y position of the point.
     * @param {String} elementName The name of the element (single-letter).
     */
    drawPoint(x, y, elementName) {
        let ctx = this.ctx;
        let offsetX = this.offsetX;
        let offsetY = this.offsetY;
        ctx.save();
        ctx.globalCompositeOperation = "destination-out";
        ctx.beginPath();
        ctx.arc(x + offsetX, y + offsetY, 1.5, 0, _MathHelper__WEBPACK_IMPORTED_MODULE_2__.MathHelper.twoPI, true);
        ctx.closePath();
        ctx.fill();
        ctx.globalCompositeOperation = "source-over";
        ctx.beginPath();
        ctx.arc(x + this.offsetX, y + this.offsetY, 0.75, 0, _MathHelper__WEBPACK_IMPORTED_MODULE_2__.MathHelper.twoPI, false);
        ctx.fillStyle = this.themeManager.getColor(elementName);
        ctx.fill();
        ctx.restore();
    }
    /**
     * Draw a text to the canvas.
     *
     * @param {Number} x The x position of the text.
     * @param {Number} y The y position of the text.
     * @param {String} elementName The name of the element (single-letter).
     * @param {Number} hydrogens The number of hydrogen atoms.
     * @param {String} direction The direction of the text in relation to the associated vertex.
     * @param {Boolean} isTerminal A boolean indicating whether or not the vertex is terminal.
     * @param {Number} charge The charge of the atom.
     * @param {Number} isotope The isotope number.
     * @param {Number} vertexCount The number of vertices in the molecular graph.
     * @param {Object} attachedPseudoElement A map with containing information for pseudo elements or concatinated elements. The key is comprised of the element symbol and the hydrogen count.
     * @param {String} attachedPseudoElement.element The element symbol.
     * @param {Number} attachedPseudoElement.count The number of occurences that match the key.
     * @param {Number} attachedPseudoElement.hyrogenCount The number of hydrogens attached to each atom matching the key.
     */
    drawText(x, y, elementName, hydrogens, direction, isTerminal, charge, isotope, vertexCount, attachedPseudoElement = {}) {
        let ctx = this.ctx;
        let offsetX = this.offsetX;
        let offsetY = this.offsetY;
        ctx.save();
        ctx.textAlign = "start";
        ctx.textBaseline = "alphabetic";
        let pseudoElementHandled = false;
        // Charge
        let chargeText = "";
        let chargeWidth = 0;
        if (charge) {
            chargeText = (0,_UtilityFunctions__WEBPACK_IMPORTED_MODULE_0__.getChargeText)(charge);
            ctx.font = this.fontSmall;
            chargeWidth = ctx.measureText(chargeText).width;
        }
        let isotopeText = "0";
        let isotopeWidth = 0;
        if (isotope > 0) {
            isotopeText = isotope.toString();
            ctx.font = this.fontSmall;
            isotopeWidth = ctx.measureText(isotopeText).width;
        }
        // TODO: Better handle exceptions
        // Exception for nitro (draw nitro as NO2 instead of N+O-O)
        if (charge === 1 &&
            elementName === "N" &&
            attachedPseudoElement.hasOwnProperty("0O") &&
            attachedPseudoElement.hasOwnProperty("0O-1")) {
            attachedPseudoElement = {
                "0O": {
                    element: "O",
                    count: 2,
                    hydrogenCount: 0,
                    previousElement: "C",
                    charge: "",
                },
            };
            charge = 0;
        }
        ctx.font = this.fontLarge;
        ctx.fillStyle = this.themeManager.getColor("BACKGROUND");
        let dim = ctx.measureText(elementName);
        dim.totalWidth = dim.width + chargeWidth;
        dim.height = parseInt(this.fontLarge, 10);
        let r = dim.width > this.opts.fontSizeLarge ? dim.width : this.opts.fontSizeLarge;
        r /= 1.5;
        ctx.globalCompositeOperation = "destination-out";
        ctx.beginPath();
        ctx.arc(x + offsetX, y + offsetY, r, 0, _MathHelper__WEBPACK_IMPORTED_MODULE_2__.MathHelper.twoPI, true);
        ctx.closePath();
        ctx.fill();
        ctx.globalCompositeOperation = "source-over";
        let cursorPos = -dim.width / 2.0;
        let cursorPosLeft = -dim.width / 2.0;
        ctx.fillStyle = this.themeManager.getColor(elementName);
        ctx.fillText(elementName, x + offsetX + cursorPos, y + this.opts.halfFontSizeLarge + offsetY);
        cursorPos += dim.width;
        if (charge) {
            ctx.font = this.fontSmall;
            ctx.fillText(chargeText, x + offsetX + cursorPos, y - this.opts.fifthFontSizeSmall + offsetY);
            cursorPos += chargeWidth;
        }
        if (isotope > 0) {
            ctx.font = this.fontSmall;
            ctx.fillText(isotopeText, x + offsetX + cursorPosLeft - isotopeWidth, y - this.opts.fifthFontSizeSmall + offsetY);
            cursorPosLeft -= isotopeWidth;
        }
        ctx.font = this.fontLarge;
        let hydrogenWidth = 0;
        let hydrogenCountWidth = 0;
        if (hydrogens === 1) {
            let hx = x + offsetX;
            let hy = y + offsetY + this.opts.halfFontSizeLarge;
            hydrogenWidth = this.hydrogenWidth;
            cursorPosLeft -= hydrogenWidth;
            if (direction === "left") {
                hx += cursorPosLeft;
            }
            else if (direction === "right") {
                hx += cursorPos;
            }
            else if (direction === "up" && isTerminal) {
                hx += cursorPos;
            }
            else if (direction === "down" && isTerminal) {
                hx += cursorPos;
            }
            else if (direction === "up" && !isTerminal) {
                hy -= this.opts.fontSizeLarge + this.opts.quarterFontSizeLarge;
                hx -= this.halfHydrogenWidth;
            }
            else if (direction === "down" && !isTerminal) {
                hy += this.opts.fontSizeLarge + this.opts.quarterFontSizeLarge;
                hx -= this.halfHydrogenWidth;
            }
            ctx.fillText("H", hx, hy);
            cursorPos += hydrogenWidth;
        }
        else if (hydrogens > 1) {
            let hx = x + offsetX;
            let hy = y + offsetY + this.opts.halfFontSizeLarge;
            hydrogenWidth = this.hydrogenWidth;
            ctx.font = this.fontSmall;
            hydrogenCountWidth = ctx.measureText(hydrogens.toString()).width;
            cursorPosLeft -= hydrogenWidth + hydrogenCountWidth;
            if (direction === "left") {
                hx += cursorPosLeft;
            }
            else if (direction === "right") {
                hx += cursorPos;
            }
            else if (direction === "up" && isTerminal) {
                hx += cursorPos;
            }
            else if (direction === "down" && isTerminal) {
                hx += cursorPos;
            }
            else if (direction === "up" && !isTerminal) {
                hy -= this.opts.fontSizeLarge + this.opts.quarterFontSizeLarge;
                hx -= this.halfHydrogenWidth;
            }
            else if (direction === "down" && !isTerminal) {
                hy += this.opts.fontSizeLarge + this.opts.quarterFontSizeLarge;
                hx -= this.halfHydrogenWidth;
            }
            ctx.font = this.fontLarge;
            ctx.fillText("H", hx, hy);
            ctx.font = this.fontSmall;
            ctx.fillText(hydrogens.toString(), hx + this.halfHydrogenWidth + hydrogenCountWidth, hy + this.opts.fifthFontSizeSmall);
            cursorPos += hydrogenWidth + this.halfHydrogenWidth + hydrogenCountWidth;
        }
        if (pseudoElementHandled) {
            ctx.restore();
            return;
        }
        for (let key in attachedPseudoElement) {
            if (!attachedPseudoElement.hasOwnProperty(key)) {
                continue;
            }
            let openParenthesisWidth = 0;
            let closeParenthesisWidth = 0;
            let element = attachedPseudoElement[key].element;
            let elementCount = attachedPseudoElement[key].count;
            let hydrogenCount = attachedPseudoElement[key].hydrogenCount;
            let elementCharge = attachedPseudoElement[key].charge;
            ctx.font = this.fontLarge;
            if (elementCount > 1 && hydrogenCount > 0) {
                openParenthesisWidth = ctx.measureText("(").width;
                closeParenthesisWidth = ctx.measureText(")").width;
            }
            let elementWidth = ctx.measureText(element).width;
            let elementCountWidth = 0;
            let elementChargeText = "";
            let elementChargeWidth = 0;
            hydrogenWidth = 0;
            if (hydrogenCount > 0) {
                hydrogenWidth = this.hydrogenWidth;
            }
            ctx.font = this.fontSmall;
            if (elementCount > 1) {
                elementCountWidth = ctx.measureText(elementCount).width;
            }
            if (elementCharge !== 0) {
                elementChargeText = (0,_UtilityFunctions__WEBPACK_IMPORTED_MODULE_0__.getChargeText)(elementCharge);
                elementChargeWidth = ctx.measureText(elementChargeText).width;
            }
            hydrogenCountWidth = 0;
            if (hydrogenCount > 1) {
                hydrogenCountWidth = ctx.measureText(hydrogenCount).width;
            }
            ctx.font = this.fontLarge;
            let hx = x + offsetX;
            let hy = y + offsetY + this.opts.halfFontSizeLarge;
            ctx.fillStyle = this.themeManager.getColor(element);
            if (elementCount > 0) {
                cursorPosLeft -= elementCountWidth;
            }
            if (elementCount > 1 && hydrogenCount > 0) {
                if (direction === "left") {
                    cursorPosLeft -= closeParenthesisWidth;
                    ctx.fillText(")", hx + cursorPosLeft, hy);
                }
                else {
                    ctx.fillText("(", hx + cursorPos, hy);
                    cursorPos += openParenthesisWidth;
                }
            }
            if (direction === "left") {
                cursorPosLeft -= elementWidth;
                ctx.fillText(element, hx + cursorPosLeft, hy);
            }
            else {
                ctx.fillText(element, hx + cursorPos, hy);
                cursorPos += elementWidth;
            }
            if (hydrogenCount > 0) {
                if (direction === "left") {
                    cursorPosLeft -= hydrogenWidth + hydrogenCountWidth;
                    ctx.fillText("H", hx + cursorPosLeft, hy);
                    if (hydrogenCount > 1) {
                        ctx.font = this.fontSmall;
                        ctx.fillText(hydrogenCount, hx + cursorPosLeft + hydrogenWidth, hy + this.opts.fifthFontSizeSmall);
                    }
                }
                else {
                    ctx.fillText("H", hx + cursorPos, hy);
                    cursorPos += hydrogenWidth;
                    if (hydrogenCount > 1) {
                        ctx.font = this.fontSmall;
                        ctx.fillText(hydrogenCount, hx + cursorPos, hy + this.opts.fifthFontSizeSmall);
                        cursorPos += hydrogenCountWidth;
                    }
                }
            }
            ctx.font = this.fontLarge;
            if (elementCount > 1 && hydrogenCount > 0) {
                if (direction === "left") {
                    cursorPosLeft -= openParenthesisWidth;
                    ctx.fillText("(", hx + cursorPosLeft, hy);
                }
                else {
                    ctx.fillText(")", hx + cursorPos, hy);
                    cursorPos += closeParenthesisWidth;
                }
            }
            ctx.font = this.fontSmall;
            if (elementCount > 1) {
                if (direction === "left") {
                    ctx.fillText(elementCount, hx +
                        cursorPosLeft +
                        openParenthesisWidth +
                        closeParenthesisWidth +
                        hydrogenWidth +
                        hydrogenCountWidth +
                        elementWidth, hy + this.opts.fifthFontSizeSmall);
                }
                else {
                    ctx.fillText(elementCount, hx + cursorPos, hy + this.opts.fifthFontSizeSmall);
                    cursorPos += elementCountWidth;
                }
            }
            if (elementCharge !== 0) {
                if (direction === "left") {
                    ctx.fillText(elementChargeText, hx +
                        cursorPosLeft +
                        openParenthesisWidth +
                        closeParenthesisWidth +
                        hydrogenWidth +
                        hydrogenCountWidth +
                        elementWidth, y - this.opts.fifthFontSizeSmall + offsetY);
                }
                else {
                    ctx.fillText(elementChargeText, hx + cursorPos, y - this.opts.fifthFontSizeSmall + offsetY);
                    cursorPos += elementChargeWidth;
                }
            }
        }
        ctx.restore();
    }
    /**
     * Translate the integer indicating the charge to the appropriate text.
     * @param {Number} charge The integer indicating the charge.
     * @returns {String} A string representing a charge.
     */
    getChargeText(charge) {
        if (charge === 1) {
            return "+";
        }
        else if (charge === 2) {
            return "2+";
        }
        else if (charge === -1) {
            return "-";
        }
        else if (charge === -2) {
            return "2-";
        }
        else {
            return "";
        }
    }
    /**
     * Draws a dubug dot at a given coordinate and adds text.
     *
     * @param {Number} x The x coordinate.
     * @param {Number} y The y coordindate.
     * @param {String} [debugText=''] A string.
     * @param {String} [color='#f00'] A color in hex form.
     */
    drawDebugPoint(x, y, debugText = "", color = "#f00") {
        this.drawCircle(x, y, 2, color, true, true, debugText);
    }
    /**
     * Draws a ring inside a provided ring, indicating aromaticity.
     *
     * @param {Ring} ring A ring.
     */
    drawAromaticityRing(ring) {
        let ctx = this.ctx;
        let radius = _MathHelper__WEBPACK_IMPORTED_MODULE_2__.MathHelper.apothemFromSideLength(this.opts.bondLength, ring.getSize());
        ctx.save();
        ctx.strokeStyle = this.themeManager.getColor("C");
        ctx.lineWidth = this.opts.bondThickness;
        ctx.beginPath();
        ctx.arc(ring.center.x + this.offsetX, ring.center.y + this.offsetY, radius - this.opts.bondSpacing, 0, Math.PI * 2, true);
        ctx.closePath();
        ctx.stroke();
        ctx.restore();
    }
    /**
     * Clear the canvas.
     *
     */
    clear() {
        this.ctx.clearRect(0, 0, this.canvas.offsetWidth, this.canvas.offsetHeight);
    }
}


/***/ }),

/***/ "./src/Drawer.ts":
/*!***********************!*\
  !*** ./src/Drawer.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Drawer: () => (/* binding */ Drawer)
/* harmony export */ });
/* harmony import */ var _SvgDrawer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SvgDrawer */ "./src/SvgDrawer.ts");

/**
 * The main class of the application representing the smiles drawer
 *
 * @property {Graph} graph The graph associated with this SmilesDrawer.Drawer instance.
 * @property {Number} ringIdCounter An internal counter to keep track of ring ids.
 * @property {Number} ringConnectionIdCounter An internal counter to keep track of ring connection ids.
 * @property {CanvasWrapper} canvasWrapper The CanvasWrapper associated with this SmilesDrawer.Drawer instance.
 * @property {Number} totalOverlapScore The current internal total overlap score.
 * @property {Object} defaultOptions The default options.
 * @property {Object} opts The merged options.
 * @property {Object} theme The current theme.
 */
class Drawer {
    /**
     * The constructor for the class SmilesDrawer.
     *
     * @param {Object} options An object containing custom values for different options. It is merged with the default options.
     */
    constructor(options) {
        this.svgDrawer = new _SvgDrawer__WEBPACK_IMPORTED_MODULE_0__.SvgDrawer(options);
    }
    /**
     * Draws the parsed smiles data to a canvas element.
     *
     * @param {Object} data The tree returned by the smiles parser.
     * @param {(String|HTMLCanvasElement)} target The id of the HTML canvas element the structure is drawn to - or the element itself.
     * @param {String} themeName='dark' The name of the theme to use. Built-in themes are 'light' and 'dark'.
     * @param {Boolean} infoOnly=false Only output info on the molecule without drawing anything to the canvas.
     */
    draw(data, target, themeName = "light", infoOnly = false, highlight_atoms = []) {
        var _a;
        let canvas = null;
        if (typeof target === "string" || target instanceof String) {
            canvas = document.getElementById(target);
        }
        else {
            canvas = target;
        }
        let svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        svg.setAttribute("xmlns", "http://www.w3.org/2000/svg");
        svg.setAttributeNS(null, "viewBox", "0 0 " + this.svgDrawer.opts.width + " " + this.svgDrawer.opts.height);
        svg.setAttributeNS(null, "width", this.svgDrawer.opts.width + "");
        svg.setAttributeNS(null, "height", this.svgDrawer.opts.height + "");
        this.svgDrawer.draw(data, svg, themeName, undefined, infoOnly, highlight_atoms); // Added null for theme, it's not defined in this method.
        (_a = this.svgDrawer.svgWrapper) === null || _a === void 0 ? void 0 : _a.toCanvas(canvas, this.svgDrawer.opts.width, this.svgDrawer.opts.height);
    }
    /**
     * Returns the total overlap score of the current molecule.
     *
     * @returns {Number} The overlap score.
     */
    getTotalOverlapScore() {
        return this.svgDrawer.getTotalOverlapScore();
    }
    /**
     * Returns the molecular formula of the loaded molecule as a string.
     *
     * @returns {String} The molecular formula.
     */
    getMolecularFormula() {
        return this.svgDrawer.getMolecularFormula();
    }
}


/***/ }),

/***/ "./src/DrawerBase.ts":
/*!***************************!*\
  !*** ./src/DrawerBase.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrawerBase: () => (/* binding */ DrawerBase)
/* harmony export */ });
/* harmony import */ var _Atom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Atom */ "./src/Atom.ts");
/* harmony import */ var _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ArrayHelper */ "./src/ArrayHelper.ts");
/* harmony import */ var _Vector2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Vector2 */ "./src/Vector2.ts");
/* harmony import */ var _MathHelper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MathHelper */ "./src/MathHelper.ts");
/* harmony import */ var _Line__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Line */ "./src/Line.ts");
/* harmony import */ var _Edge__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Edge */ "./src/Edge.ts");
/* harmony import */ var _ThemeManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ThemeManager */ "./src/ThemeManager.ts");
/* harmony import */ var _Ring__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Ring */ "./src/Ring.ts");
/* harmony import */ var _RingConnection__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./RingConnection */ "./src/RingConnection.ts");
/* harmony import */ var _Graph__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Graph */ "./src/Graph.ts");
/* harmony import */ var _CanvasWrapper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./CanvasWrapper */ "./src/CanvasWrapper.ts");
/* harmony import */ var _Options__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Options */ "./src/Options.ts");
/* harmony import */ var _SSSR__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./SSSR */ "./src/SSSR.js");
// @ts-nocheck













/**
 * The main class of the application representing the smiles drawer
 */
class DrawerBase {
    constructor(options) {
        this.graph = null;
        this.rings = [];
        this.ringConnections = [];
        this.originalRings = [];
        this.ringIdCounter = 0;
        this.ringConnectionIdCounter = 0;
        this.canvasWrapper = null;
        this.totalOverlapScore = 0;
        this.doubleBondConfigCount = 0;
        this.doubleBondConfig = null;
        this.bridgedRing = false;
        this.graph = null;
        this.doubleBondConfigCount = 0;
        this.doubleBondConfig = null;
        this.ringIdCounter = 0;
        this.ringConnectionIdCounter = 0;
        this.canvasWrapper = null;
        this.totalOverlapScore = 0;
        this.defaultOptions = {
            width: 500,
            height: 500,
            scale: 0.0,
            bondThickness: 1.0,
            bondLength: 30,
            shortBondLength: 0.8,
            bondSpacing: 0.17 * 30,
            atomVisualization: "default",
            isomeric: true,
            debug: false,
            terminalCarbons: false,
            explicitHydrogens: true,
            overlapSensitivity: 0.42,
            overlapResolutionIterations: 1,
            compactDrawing: true,
            fontFamily: "Arial, Helvetica, sans-serif",
            fontSizeLarge: 11,
            fontSizeSmall: 3,
            padding: 10.0,
            experimentalSSSR: false,
            kkThreshold: 0.1,
            kkInnerThreshold: 0.1,
            kkMaxIteration: 20000,
            kkMaxInnerIteration: 50,
            kkMaxEnergy: 1e9,
            weights: {
                colormap: null,
                additionalPadding: 20.0,
                sigma: 10,
                interval: 0.0,
                opacity: 1.0,
            },
            themes: {
                dark: {
                    C: "#fff",
                    O: "#e74c3c",
                    N: "#3498db",
                    F: "#27ae60",
                    CL: "#16a085",
                    BR: "#d35400",
                    I: "#8e44ad",
                    P: "#d35400",
                    S: "#f1c40f",
                    B: "#e67e22",
                    SI: "#e67e22",
                    H: "#aaa",
                    BACKGROUND: "#141414",
                },
                light: {
                    C: "#222",
                    O: "#e74c3c",
                    N: "#3498db",
                    F: "#27ae60",
                    CL: "#16a085",
                    BR: "#d35400",
                    I: "#8e44ad",
                    P: "#d35400",
                    S: "#f1c40f",
                    B: "#e67e22",
                    SI: "#e67e22",
                    H: "#666",
                    BACKGROUND: "#fff",
                },
                oldschool: {
                    C: "#000",
                    O: "#000",
                    N: "#000",
                    F: "#000",
                    CL: "#000",
                    BR: "#000",
                    I: "#000",
                    P: "#000",
                    S: "#000",
                    B: "#000",
                    SI: "#000",
                    H: "#000",
                    BACKGROUND: "#fff",
                },
                solarized: {
                    C: "#586e75",
                    O: "#dc322f",
                    N: "#268bd2",
                    F: "#859900",
                    CL: "#16a085",
                    BR: "#cb4b16",
                    I: "#6c71c4",
                    P: "#d33682",
                    S: "#b58900",
                    B: "#2aa198",
                    SI: "#2aa198",
                    H: "#657b83",
                    BACKGROUND: "#fff",
                },
                "solarized-dark": {
                    C: "#93a1a1",
                    O: "#dc322f",
                    N: "#268bd2",
                    F: "#859900",
                    CL: "#16a085",
                    BR: "#cb4b16",
                    I: "#6c71c4",
                    P: "#d33682",
                    S: "#b58900",
                    B: "#2aa198",
                    SI: "#2aa198",
                    H: "#839496",
                    BACKGROUND: "#fff",
                },
                matrix: {
                    C: "#678c61",
                    O: "#2fc079",
                    N: "#4f7e7e",
                    F: "#90d762",
                    CL: "#82d967",
                    BR: "#23755a",
                    I: "#409931",
                    P: "#c1ff8a",
                    S: "#faff00",
                    B: "#50b45a",
                    SI: "#409931",
                    H: "#426644",
                    BACKGROUND: "#fff",
                },
                github: {
                    C: "#24292f",
                    O: "#cf222e",
                    N: "#0969da",
                    F: "#2da44e",
                    CL: "#6fdd8b",
                    BR: "#bc4c00",
                    I: "#8250df",
                    P: "#bf3989",
                    S: "#d4a72c",
                    B: "#fb8f44",
                    SI: "#bc4c00",
                    H: "#57606a",
                    BACKGROUND: "#fff",
                },
                carbon: {
                    C: "#161616",
                    O: "#da1e28",
                    N: "#0f62fe",
                    F: "#198038",
                    CL: "#007d79",
                    BR: "#fa4d56",
                    I: "#8a3ffc",
                    P: "#ff832b",
                    S: "#f1c21b",
                    B: "#8a3800",
                    SI: "#e67e22",
                    H: "#525252",
                    BACKGROUND: "#fff",
                },
                cyberpunk: {
                    C: "#ea00d9",
                    O: "#ff3131",
                    N: "#0abdc6",
                    F: "#00ff9f",
                    CL: "#00fe00",
                    BR: "#fe9f20",
                    I: "#ff00ff",
                    P: "#fe7f00",
                    S: "#fcee0c",
                    B: "#ff00ff",
                    SI: "#ffffff",
                    H: "#913cb1",
                    BACKGROUND: "#fff",
                },
                gruvbox: {
                    C: "#665c54",
                    O: "#cc241d",
                    N: "#458588",
                    F: "#98971a",
                    CL: "#79740e",
                    BR: "#d65d0e",
                    I: "#b16286",
                    P: "#af3a03",
                    S: "#d79921",
                    B: "#689d6a",
                    SI: "#427b58",
                    H: "#7c6f64",
                    BACKGROUND: "#fbf1c7",
                },
                "gruvbox-dark": {
                    C: "#ebdbb2",
                    O: "#cc241d",
                    N: "#458588",
                    F: "#98971a",
                    CL: "#b8bb26",
                    BR: "#d65d0e",
                    I: "#b16286",
                    P: "#fe8019",
                    S: "#d79921",
                    B: "#8ec07c",
                    SI: "#83a598",
                    H: "#bdae93",
                    BACKGROUND: "#282828",
                },
                custom: {
                    C: "#222",
                    O: "#e74c3c",
                    N: "#3498db",
                    F: "#27ae60",
                    CL: "#16a085",
                    BR: "#d35400",
                    I: "#8e44ad",
                    P: "#d35400",
                    S: "#f1c40f",
                    B: "#e67e22",
                    SI: "#e67e22",
                    H: "#666",
                    BACKGROUND: "#fff",
                },
            },
        };
        this.opts = _Options__WEBPACK_IMPORTED_MODULE_11__.Options.extend(true, this.defaultOptions, options);
        this.opts.halfBondSpacing = this.opts.bondSpacing / 2.0;
        this.opts.bondLengthSq = this.opts.bondLength * this.opts.bondLength;
        this.opts.halfFontSizeLarge = this.opts.fontSizeLarge / 2.0;
        this.opts.quarterFontSizeLarge = this.opts.fontSizeLarge / 4.0;
        this.opts.fifthFontSizeSmall = this.opts.fontSizeSmall / 5.0;
        // Set the default theme.
        this.theme = this.opts.themes.dark;
    }
    /**
     * Draws the parsed smiles data to a canvas element.
     *
     * @param {Object} data The tree returned by the smiles parser.
     * @param {(String|HTMLCanvasElement)} target The id of the HTML canvas element the structure is drawn to - or the element itself.
     * @param {String} themeName='dark' The name of the theme to use. Built-in themes are 'light' and 'dark'.
     * @param {Boolean} infoOnly=false Only output info on the molecule without drawing anything to the canvas.
     */
    draw(data, target, themeName = "light", infoOnly = false) {
        this.initDraw(data, themeName, infoOnly);
        if (!this.infoOnly) {
            this.themeManager = new _ThemeManager__WEBPACK_IMPORTED_MODULE_6__.ThemeManager(this.opts.themes, themeName);
            this.canvasWrapper = new _CanvasWrapper__WEBPACK_IMPORTED_MODULE_10__.CanvasWrapper(target, this.themeManager, this.opts);
        }
        if (!infoOnly) {
            this.processGraph();
            // Set the canvas to the appropriate size
            this.canvasWrapper.scale(this.graph.vertices);
            // Do the actual drawing
            this.drawEdges(this.opts.debug);
            this.drawVertices(this.opts.debug);
            this.canvasWrapper.reset();
            if (this.opts.debug) {
                console.log(this.graph);
                console.log(this.rings);
                console.log(this.ringConnections);
            }
        }
    }
    /**
     * Returns the number of rings this edge is a part of.
     *
     * @param {Number} edgeId The id of an edge.
     * @returns {Number} The number of rings the provided edge is part of.
     */
    edgeRingCount(edgeId) {
        let edge = this.graph.edges[edgeId];
        let a = this.graph.vertices[edge.sourceId];
        let b = this.graph.vertices[edge.targetId];
        return Math.min(a.value.rings.length, b.value.rings.length);
    }
    /**
     * Returns an array containing the bridged rings associated with this  molecule.
     *
     * @returns {Ring[]} An array containing all bridged rings associated with this molecule.
     */
    getBridgedRings() {
        let bridgedRings = Array();
        for (var i = 0; i < this.rings.length; i++) {
            if (this.rings[i].isBridged) {
                bridgedRings.push(this.rings[i]);
            }
        }
        return bridgedRings;
    }
    /**
     * Returns an array containing all fused rings associated with this molecule.
     *
     * @returns {Ring[]} An array containing all fused rings associated with this molecule.
     */
    getFusedRings() {
        let fusedRings = Array();
        for (var i = 0; i < this.rings.length; i++) {
            if (this.rings[i].isFused) {
                fusedRings.push(this.rings[i]);
            }
        }
        return fusedRings;
    }
    /**
     * Returns an array containing all spiros associated with this molecule.
     *
     * @returns {Ring[]} An array containing all spiros associated with this molecule.
     */
    getSpiros() {
        let spiros = Array();
        for (var i = 0; i < this.rings.length; i++) {
            if (this.rings[i].isSpiro) {
                spiros.push(this.rings[i]);
            }
        }
        return spiros;
    }
    /**
     * Returns a string containing a semicolon and new-line separated list of ring properties: Id; Members Count; Neighbours Count; IsSpiro; IsFused; IsBridged; Ring Count (subrings of bridged rings)
     *
     * @returns {String} A string as described in the method description.
     */
    printRingInfo() {
        let result = "";
        for (var i = 0; i < this.rings.length; i++) {
            const ring = this.rings[i];
            result += ring.id + ";";
            result += ring.members.length + ";";
            result += ring.neighbours.length + ";";
            result += ring.isSpiro ? "true;" : "false;";
            result += ring.isFused ? "true;" : "false;";
            result += ring.isBridged ? "true;" : "false;";
            result += ring.rings.length + ";";
            result += "\n";
        }
        return result;
    }
    /**
     * Rotates the drawing to make the widest dimension horizontal.
     */
    rotateDrawing() {
        // Rotate the vertices to make the molecule align horizontally
        // Find the longest distance
        let a = 0;
        let b = 0;
        let maxDist = 0;
        for (var i = 0; i < this.graph.vertices.length; i++) {
            let vertexA = this.graph.vertices[i];
            if (!vertexA.value.isDrawn) {
                continue;
            }
            for (var j = i + 1; j < this.graph.vertices.length; j++) {
                let vertexB = this.graph.vertices[j];
                if (!vertexB.value.isDrawn) {
                    continue;
                }
                let dist = vertexA.position.distanceSq(vertexB.position);
                if (dist > maxDist) {
                    maxDist = dist;
                    a = i;
                    b = j;
                }
            }
        }
        let angle = -_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.subtract(this.graph.vertices[a].position, this.graph.vertices[b].position).angle();
        if (!isNaN(angle)) {
            // Round to 30 degrees
            let remainder = angle % 0.523599;
            // Round either up or down in 30 degree steps
            if (remainder < 0.2617995) {
                angle = angle - remainder;
            }
            else {
                angle += 0.523599 - remainder;
            }
            // Finally, rotate everything
            for (var i = 0; i < this.graph.vertices.length; i++) {
                if (i === b) {
                    continue;
                }
                this.graph.vertices[i].position.rotateAround(angle, this.graph.vertices[b].position);
            }
            for (var i = 0; i < this.rings.length; i++) {
                this.rings[i].center.rotateAround(angle, this.graph.vertices[b].position);
            }
        }
    }
    /**
     * Returns the total overlap score of the current molecule.
     *
     * @returns {Number} The overlap score.
     */
    getTotalOverlapScore() {
        return this.totalOverlapScore;
    }
    /**
     * Returns the ring count of the current molecule.
     *
     * @returns {Number} The ring count.
     */
    getRingCount() {
        return this.rings.length;
    }
    /**
     * Checks whether or not the current molecule  a bridged ring.
     *
     * @returns {Boolean} A boolean indicating whether or not the current molecule  a bridged ring.
     */
    hasBridgedRing() {
        return this.bridgedRing;
    }
    /**
     * Returns the number of heavy atoms (non-hydrogen) in the current molecule.
     *
     * @returns {Number} The heavy atom count.
     */
    getHeavyAtomCount() {
        let hac = 0;
        for (var i = 0; i < this.graph.vertices.length; i++) {
            if (this.graph.vertices[i].value.element !== "H") {
                hac++;
            }
        }
        return hac;
    }
    /**
     * Returns the molecular formula of the loaded molecule as a string.
     *
     * @returns {String} The molecular formula.
     */
    getMolecularFormula(data = null) {
        let molecularFormula = "";
        let counts = new Map();
        let graph = data === null ? this.graph : new _Graph__WEBPACK_IMPORTED_MODULE_9__.Graph(data, this.opts.isomeric);
        // Initialize element count
        for (var i = 0; i < graph.vertices.length; i++) {
            let atom = graph.vertices[i].value;
            if (counts.has(atom.element)) {
                counts.set(atom.element, counts.get(atom.element) + 1);
            }
            else {
                counts.set(atom.element, 1);
            }
            // Hydrogens attached to a chiral center were added as vertices,
            // those in non chiral brackets are added here
            if (atom.bracket && !atom.bracket.chirality) {
                if (counts.has("H")) {
                    counts.set("H", counts.get("H") + atom.bracket.hcount);
                }
                else {
                    counts.set("H", atom.bracket.hcount);
                }
            }
            // Add the implicit hydrogens according to valency, exclude
            // bracket atoms as they were handled and always have the number
            // of hydrogens specified explicitly
            if (!atom.bracket) {
                let nHydrogens = _Atom__WEBPACK_IMPORTED_MODULE_0__.Atom.maxBonds[atom.element] - atom.bondCount;
                if (atom.isPartOfAromaticRing) {
                    nHydrogens--;
                }
                if (counts.has("H")) {
                    counts.set("H", counts.get("H") + nHydrogens);
                }
                else {
                    counts.set("H", nHydrogens);
                }
            }
        }
        if (counts.has("C")) {
            let count = counts.get("C");
            molecularFormula += "C" + (count > 1 ? count : "");
            counts.delete("C");
        }
        if (counts.has("H")) {
            let count = counts.get("H");
            molecularFormula += "H" + (count > 1 ? count : "");
            counts.delete("H");
        }
        let elements = Object.keys(_Atom__WEBPACK_IMPORTED_MODULE_0__.Atom.atomicNumbers).sort();
        elements.map((e) => {
            if (counts.has(e)) {
                let count = counts.get(e);
                molecularFormula += e + (count > 1 ? count : "");
            }
        });
        return molecularFormula;
    }
    /**
     * Returns the type of the ringbond (e.g. '=' for a double bond). The ringbond represents the break in a ring introduced when creating the MST. If the two vertices supplied as arguments are not part of a common ringbond, the method returns null.
     *
     * @param {Vertex} vertexA A vertex.
     * @param {Vertex} vertexB A vertex.
     * @returns {(String|null)} Returns the ringbond type or null, if the two supplied vertices are not connected by a ringbond.
     */
    getRingbondType(vertexA, vertexB) {
        // Checks whether the two vertices are the ones connecting the ring
        // and what the bond type should be.
        if (vertexA.value.getRingbondCount() < 1 ||
            vertexB.value.getRingbondCount() < 1) {
            return null;
        }
        for (var i = 0; i < vertexA.value.ringbonds.length; i++) {
            for (var j = 0; j < vertexB.value.ringbonds.length; j++) {
                // if(i != j) continue;
                if (vertexA.value.ringbonds[i].id === vertexB.value.ringbonds[j].id) {
                    // If the bonds are equal, it doesn't matter which bond is returned.
                    // if they are not equal, return the one that is not the default ("-")
                    if (vertexA.value.ringbonds[i].bondType === "-") {
                        return vertexB.value.ringbonds[j].bond;
                    }
                    else {
                        return vertexA.value.ringbonds[i].bond;
                    }
                }
            }
        }
        return null;
    }
    initDraw(data, themeName, infoOnly, highlight_atoms) {
        this.data = data;
        this.infoOnly = infoOnly;
        this.ringIdCounter = 0;
        this.ringConnectionIdCounter = 0;
        this.graph = new _Graph__WEBPACK_IMPORTED_MODULE_9__.Graph(data, this.opts.isomeric);
        this.rings = Array();
        this.ringConnections = Array();
        this.originalRings = Array();
        this.originalRingConnections = Array();
        this.bridgedRing = false;
        // Reset those, in case the previous drawn SMILES had a dangling \ or /
        this.doubleBondConfigCount = null;
        this.doubleBondConfig = null;
        this.highlight_atoms = highlight_atoms;
        this.initRings();
        this.initHydrogens();
    }
    processGraph() {
        this.position();
        // Restore the ring information (removes bridged rings and replaces them with the original, multiple, rings)
        this.restoreRingInformation();
        // Atoms bonded to the same ring atom
        this.resolvePrimaryOverlaps();
        let overlapScore = this.getOverlapScore();
        this.totalOverlapScore = this.getOverlapScore().total;
        for (var o = 0; o < this.opts.overlapResolutionIterations; o++) {
            for (var i = 0; i < this.graph.edges.length; i++) {
                let edge = this.graph.edges[i];
                if (this.isEdgeRotatable(edge)) {
                    let subTreeDepthA = this.graph.getTreeDepth(edge.sourceId, edge.targetId);
                    let subTreeDepthB = this.graph.getTreeDepth(edge.targetId, edge.sourceId);
                    // Only rotate the shorter subtree
                    let a = edge.targetId;
                    let b = edge.sourceId;
                    if (subTreeDepthA > subTreeDepthB) {
                        a = edge.sourceId;
                        b = edge.targetId;
                    }
                    let subTreeOverlap = this.getSubtreeOverlapScore(b, a, overlapScore.vertexScores);
                    if (subTreeOverlap.value > this.opts.overlapSensitivity) {
                        let vertexA = this.graph.vertices[a];
                        let vertexB = this.graph.vertices[b];
                        let neighboursB = vertexB.getNeighbours(a);
                        if (neighboursB.length === 1) {
                            let neighbour = this.graph.vertices[neighboursB[0]];
                            let angle = neighbour.position.getRotateAwayFromAngle(vertexA.position, vertexB.position, _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.toRad(120));
                            this.rotateSubtree(neighbour.id, vertexB.id, angle, vertexB.position);
                            // If the new overlap is bigger, undo change
                            let newTotalOverlapScore = this.getOverlapScore().total;
                            if (newTotalOverlapScore > this.totalOverlapScore) {
                                this.rotateSubtree(neighbour.id, vertexB.id, -angle, vertexB.position);
                            }
                            else {
                                this.totalOverlapScore = newTotalOverlapScore;
                            }
                        }
                        else if (neighboursB.length === 2) {
                            // Switch places / sides
                            // If vertex a is in a ring, do nothing
                            if (vertexB.value.rings.length !== 0 &&
                                vertexA.value.rings.length !== 0) {
                                continue;
                            }
                            let neighbourA = this.graph.vertices[neighboursB[0]];
                            let neighbourB = this.graph.vertices[neighboursB[1]];
                            if (neighbourA.value.rings.length === 1 &&
                                neighbourB.value.rings.length === 1) {
                                // Both neighbours in same ring. TODO: does this create problems with wedges? (up = down and vice versa?)
                                if (neighbourA.value.rings[0] !== neighbourB.value.rings[0]) {
                                    continue;
                                }
                                // TODO: Rotate circle
                            }
                            else if (neighbourA.value.rings.length !== 0 ||
                                neighbourB.value.rings.length !== 0) {
                                continue;
                            }
                            else {
                                let angleA = neighbourA.position.getRotateAwayFromAngle(vertexA.position, vertexB.position, _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.toRad(120));
                                let angleB = neighbourB.position.getRotateAwayFromAngle(vertexA.position, vertexB.position, _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.toRad(120));
                                this.rotateSubtree(neighbourA.id, vertexB.id, angleA, vertexB.position);
                                this.rotateSubtree(neighbourB.id, vertexB.id, angleB, vertexB.position);
                                let newTotalOverlapScore = this.getOverlapScore().total;
                                if (newTotalOverlapScore > this.totalOverlapScore) {
                                    this.rotateSubtree(neighbourA.id, vertexB.id, -angleA, vertexB.position);
                                    this.rotateSubtree(neighbourB.id, vertexB.id, -angleB, vertexB.position);
                                }
                                else {
                                    this.totalOverlapScore = newTotalOverlapScore;
                                }
                            }
                        }
                        overlapScore = this.getOverlapScore();
                    }
                }
            }
        }
        this.resolveSecondaryOverlaps(overlapScore.scores);
        if (this.opts.isomeric) {
            this.annotateStereochemistry();
        }
        // Initialize pseudo elements or shortcuts
        if (this.opts.compactDrawing && this.opts.atomVisualization === "default") {
            this.initPseudoElements();
        }
        this.rotateDrawing();
    }
    /**
     * Initializes rings and ringbonds for the current molecule.
     */
    initRings() {
        let openBonds = new Map();
        // Close the open ring bonds (spanning tree -> graph)
        for (var i = this.graph.vertices.length - 1; i >= 0; i--) {
            let vertex = this.graph.vertices[i];
            if (vertex.value.ringbonds.length === 0) {
                continue;
            }
            for (var j = 0; j < vertex.value.ringbonds.length; j++) {
                let ringbondId = vertex.value.ringbonds[j].id;
                let ringbondBond = vertex.value.ringbonds[j].bond;
                // If the other ringbond id has not been discovered,
                // add it to the open bonds map and continue.
                // if the other ringbond id has already been discovered,
                // create a bond between the two atoms.
                if (!openBonds.has(ringbondId)) {
                    openBonds.set(ringbondId, [vertex.id, ringbondBond]);
                }
                else {
                    let sourceVertexId = vertex.id;
                    let targetVertexId = openBonds.get(ringbondId)[0];
                    let targetRingbondBond = openBonds.get(ringbondId)[1];
                    let edge = new _Edge__WEBPACK_IMPORTED_MODULE_5__.Edge(sourceVertexId, targetVertexId, 1);
                    edge.setBondType(targetRingbondBond || ringbondBond || "-");
                    let edgeId = this.graph.addEdge(edge);
                    let targetVertex = this.graph.vertices[targetVertexId];
                    vertex.addRingbondChild(targetVertexId, j);
                    vertex.value.addNeighbouringElement(targetVertex.value.element);
                    targetVertex.addRingbondChild(sourceVertexId, j);
                    targetVertex.value.addNeighbouringElement(vertex.value.element);
                    vertex.edges.push(edgeId);
                    targetVertex.edges.push(edgeId);
                    openBonds.delete(ringbondId);
                }
            }
        }
        // Get the rings in the graph (the SSSR)
        let rings = _SSSR__WEBPACK_IMPORTED_MODULE_12__.SSSR.getRings(this.graph, this.opts.experimentalSSSR);
        if (rings === null) {
            return;
        }
        for (var i = 0; i < rings.length; i++) {
            let ringVertices = [...rings[i]];
            let ringId = this.addRing(new _Ring__WEBPACK_IMPORTED_MODULE_7__.Ring(ringVertices));
            // Add the ring to the atoms
            for (var j = 0; j < ringVertices.length; j++) {
                this.graph.vertices[ringVertices[j]].value.rings.push(ringId);
            }
        }
        // Find connection between rings
        // Check for common vertices and create ring connections. This is a bit
        // ugly, but the ringcount is always fairly low (< 100)
        for (var i = 0; i < this.rings.length - 1; i++) {
            for (var j = i + 1; j < this.rings.length; j++) {
                let a = this.rings[i];
                let b = this.rings[j];
                let ringConnection = new _RingConnection__WEBPACK_IMPORTED_MODULE_8__.RingConnection(a, b);
                // If there are no vertices in the ring connection, then there
                // is no ring connection
                if (ringConnection.vertices.size > 0) {
                    this.addRingConnection(ringConnection);
                }
            }
        }
        // Add neighbours to the rings
        for (var i = 0; i < this.rings.length; i++) {
            let ring = this.rings[i];
            ring.neighbours = _RingConnection__WEBPACK_IMPORTED_MODULE_8__.RingConnection.getNeighbours(this.ringConnections, ring.id);
        }
        // Anchor the ring to one of it's members, so that the ring center will always
        // be tied to a single vertex when doing repositionings
        for (var i = 0; i < this.rings.length; i++) {
            let ring = this.rings[i];
            this.graph.vertices[ring.members[0]].value.addAnchoredRing(ring.id);
        }
        // Backup the ring information to restore after placing the bridged ring.
        // This is needed in order to identify aromatic rings and stuff like this in
        // rings that are member of the superring.
        this.backupRingInformation();
        // Replace rings contained by a larger bridged ring with a bridged ring
        while (this.rings.length > 0) {
            let id = -1;
            for (var i = 0; i < this.rings.length; i++) {
                let ring = this.rings[i];
                if (this.isPartOfBridgedRing(ring.id) && !ring.isBridged) {
                    id = ring.id;
                }
            }
            if (id === -1) {
                break;
            }
            let ring = this.getRing(id);
            let involvedRings = this.getBridgedRingRings(ring.id);
            this.bridgedRing = true;
            this.createBridgedRing(involvedRings, ring.members[0]);
            // Remove the rings
            for (var i = 0; i < involvedRings.length; i++) {
                this.removeRing(involvedRings[i]);
            }
        }
    }
    initHydrogens() {
        // Do not draw hydrogens except when they are connected to a stereocenter connected to two or more rings.
        if (!this.opts.explicitHydrogens) {
            for (var i = 0; i < this.graph.vertices.length; i++) {
                let vertex = this.graph.vertices[i];
                if (vertex.value.element !== "H") {
                    continue;
                }
                // Hydrogens should have only one neighbour, so just take the first
                // Also set hasHydrogen true on connected atom
                let neighbour = this.graph.vertices[vertex.neighbours[0]];
                neighbour.value.hasHydrogen = true;
                if (!neighbour.value.isStereoCenter ||
                    (neighbour.value.rings.length < 2 && !neighbour.value.bridgedRing) ||
                    (neighbour.value.bridgedRing &&
                        neighbour.value.originalRings.length < 2)) {
                    vertex.value.isDrawn = false;
                }
            }
        }
    }
    /**
     * Returns all rings connected by bridged bonds starting from the ring with the supplied ring id.
     *
     * @param {Number} ringId A ring id.
     * @returns {Number[]} An array containing all ring ids of rings part of a bridged ring system.
     */
    getBridgedRingRings(ringId) {
        let involvedRings = Array();
        let that = this;
        let recurse = function (r) {
            let ring = that.getRing(r);
            involvedRings.push(r);
            for (var i = 0; i < ring.neighbours.length; i++) {
                let n = ring.neighbours[i];
                if (involvedRings.indexOf(n) === -1 &&
                    n !== r &&
                    _RingConnection__WEBPACK_IMPORTED_MODULE_8__.RingConnection.isBridge(that.ringConnections, that.graph.vertices, r, n)) {
                    recurse(n);
                }
            }
        };
        recurse(ringId);
        return _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.unique(involvedRings);
    }
    /**
     * Checks whether or not a ring is part of a bridged ring.
     *
     * @param {Number} ringId A ring id.
     * @returns {Boolean} A boolean indicating whether or not the supplied ring (by id) is part of a bridged ring system.
     */
    isPartOfBridgedRing(ringId) {
        for (var i = 0; i < this.ringConnections.length; i++) {
            if (this.ringConnections[i].containsRing(ringId) &&
                this.ringConnections[i].isBridge(this.graph.vertices)) {
                return true;
            }
        }
        return false;
    }
    /**
     * Creates a bridged ring.
     *
     * @param {Number[]} ringIds An array of ids of rings involved in the bridged ring.
     * @param {Number} sourceVertexId The vertex id to start the bridged ring discovery from.
     * @returns {Ring} The bridged ring.
     */
    createBridgedRing(ringIds, sourceVertexId) {
        let ringMembers = new Set();
        let vertices = new Set();
        let neighbours = new Set();
        for (var i = 0; i < ringIds.length; i++) {
            let ring = this.getRing(ringIds[i]);
            ring.isPartOfBridged = true;
            for (var j = 0; j < ring.members.length; j++) {
                vertices.add(ring.members[j]);
            }
            for (var j = 0; j < ring.neighbours.length; j++) {
                let id = ring.neighbours[j];
                if (ringIds.indexOf(id) === -1) {
                    neighbours.add(ring.neighbours[j]);
                }
            }
        }
        // A vertex is part of the bridged ring if it only belongs to
        // one of the rings (or to another ring
        // which is not part of the bridged ring).
        let leftovers = new Set();
        for (let id of vertices) {
            let vertex = this.graph.vertices[id];
            let intersection = _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.intersection(ringIds, vertex.value.rings);
            if (vertex.value.rings.length === 1 || intersection.length === 1) {
                ringMembers.add(vertex.id);
            }
            else {
                leftovers.add(vertex.id);
            }
        }
        // Vertices can also be part of multiple rings and lay on the bridged ring,
        // however, they have to have at least two neighbours that are not part of
        // two rings
        let tmp = Array();
        let insideRing = Array();
        for (let id of leftovers) {
            let vertex = this.graph.vertices[id];
            let onRing = false;
            for (let j = 0; j < vertex.edges.length; j++) {
                if (this.edgeRingCount(vertex.edges[j]) === 1) {
                    onRing = true;
                }
            }
            if (onRing) {
                vertex.value.isBridgeNode = true;
                ringMembers.add(vertex.id);
            }
            else {
                vertex.value.isBridge = true;
                ringMembers.add(vertex.id);
            }
        }
        // Create the ring
        let ring = new _Ring__WEBPACK_IMPORTED_MODULE_7__.Ring([...ringMembers]);
        this.addRing(ring);
        ring.isBridged = true;
        ring.neighbours = [...neighbours];
        for (var i = 0; i < ringIds.length; i++) {
            ring.rings.push(this.getRing(ringIds[i]).clone());
        }
        for (var i = 0; i < ring.members.length; i++) {
            this.graph.vertices[ring.members[i]].value.bridgedRing = ring.id;
        }
        // Atoms inside the ring are no longer part of a ring but are now
        // associated with the bridged ring
        for (var i = 0; i < insideRing.length; i++) {
            let vertex = this.graph.vertices[insideRing[i]];
            vertex.value.rings = Array();
        }
        // Remove former rings from members of the bridged ring and add the bridged ring
        for (let id of ringMembers) {
            let vertex = this.graph.vertices[id];
            vertex.value.rings = _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.removeAll(vertex.value.rings, ringIds);
            vertex.value.rings.push(ring.id);
        }
        // Remove all the ring connections no longer used
        for (var i = 0; i < ringIds.length; i++) {
            for (var j = i + 1; j < ringIds.length; j++) {
                this.removeRingConnectionsBetween(ringIds[i], ringIds[j]);
            }
        }
        // Update the ring connections and add this ring to the neighbours neighbours
        for (let id of neighbours) {
            let connections = this.getRingConnections(id, ringIds);
            for (var j = 0; j < connections.length; j++) {
                this.getRingConnection(connections[j]).updateOther(ring.id, id);
            }
            this.getRing(id).neighbours.push(ring.id);
        }
        return ring;
    }
    /**
     * Checks whether or not two vertices are in the same ring.
     *
     * @param {Vertex} vertexA A vertex.
     * @param {Vertex} vertexB A vertex.
     * @returns {Boolean} A boolean indicating whether or not the two vertices are in the same ring.
     */
    areVerticesInSameRing(vertexA, vertexB) {
        // This is a little bit lighter (without the array and push) than
        // getCommonRings().length > 0
        for (var i = 0; i < vertexA.value.rings.length; i++) {
            for (var j = 0; j < vertexB.value.rings.length; j++) {
                if (vertexA.value.rings[i] === vertexB.value.rings[j]) {
                    return true;
                }
            }
        }
        return false;
    }
    /**
     * Returns an array of ring ids shared by both vertices.
     *
     * @param {Vertex} vertexA A vertex.
     * @param {Vertex} vertexB A vertex.
     * @returns {Number[]} An array of ids of rings shared by the two vertices.
     */
    getCommonRings(vertexA, vertexB) {
        let commonRings = Array();
        for (var i = 0; i < vertexA.value.rings.length; i++) {
            for (var j = 0; j < vertexB.value.rings.length; j++) {
                if (vertexA.value.rings[i] == vertexB.value.rings[j]) {
                    commonRings.push(vertexA.value.rings[i]);
                }
            }
        }
        return commonRings;
    }
    /**
     * Returns the aromatic or largest ring shared by the two vertices.
     *
     * @param {Vertex} vertexA A vertex.
     * @param {Vertex} vertexB A vertex.
     * @returns {(Ring|null)} If an aromatic common ring exists, that ring, else the largest (non-aromatic) ring, else null.
     */
    getLargestOrAromaticCommonRing(vertexA, vertexB) {
        let commonRings = this.getCommonRings(vertexA, vertexB);
        let maxSize = 0;
        let largestCommonRing = null;
        for (var i = 0; i < commonRings.length; i++) {
            let ring = this.getRing(commonRings[i]);
            let size = ring.getSize();
            if (ring.isBenzeneLike(this.graph.vertices)) {
                return ring;
            }
            else if (size > maxSize) {
                maxSize = size;
                largestCommonRing = ring;
            }
        }
        return largestCommonRing;
    }
    /**
     * Returns an array of vertices positioned at a specified location.
     *
     * @param {Vector2} position The position to search for vertices.
     * @param {Number} radius The radius within to search.
     * @param {Number} excludeVertexId A vertex id to be excluded from the search results.
     * @returns {Number[]} An array containing vertex ids in a given location.
     */
    getVerticesAt(position, radius, excludeVertexId) {
        let locals = Array();
        for (var i = 0; i < this.graph.vertices.length; i++) {
            let vertex = this.graph.vertices[i];
            if (vertex.id === excludeVertexId || !vertex.positioned) {
                continue;
            }
            let distance = position.distanceSq(vertex.position);
            if (distance <= radius * radius) {
                locals.push(vertex.id);
            }
        }
        return locals;
    }
    /**
     * Returns the closest vertex (connected as well as unconnected).
     *
     * @param {Vertex} vertex The vertex of which to find the closest other vertex.
     * @returns {Vertex} The closest vertex.
     */
    getClosestVertex(vertex) {
        let minDist = 99999;
        let minVertex = null;
        for (var i = 0; i < this.graph.vertices.length; i++) {
            let v = this.graph.vertices[i];
            if (v.id === vertex.id) {
                continue;
            }
            let distSq = vertex.position.distanceSq(v.position);
            if (distSq < minDist) {
                minDist = distSq;
                minVertex = v;
            }
        }
        return minVertex;
    }
    /**
     * Add a ring to this representation of a molecule.
     *
     * @param {Ring} ring A new ring.
     * @returns {Number} The ring id of the new ring.
     */
    addRing(ring) {
        ring.id = this.ringIdCounter++;
        this.rings.push(ring);
        return ring.id;
    }
    /**
     * Removes a ring from the array of rings associated with the current molecule.
     *
     * @param {Number} ringId A ring id.
     */
    removeRing(ringId) {
        this.rings = this.rings.filter(function (item) {
            return item.id !== ringId;
        });
        // Also remove ring connections involving this ring
        this.ringConnections = this.ringConnections.filter(function (item) {
            return item.firstRingId !== ringId && item.secondRingId !== ringId;
        });
        // Remove the ring as neighbour of other rings
        for (var i = 0; i < this.rings.length; i++) {
            let r = this.rings[i];
            r.neighbours = r.neighbours.filter(function (item) {
                return item !== ringId;
            });
        }
    }
    /**
     * Gets a ring object from the array of rings associated with the current molecule by its id. The ring id is not equal to the index, since rings can be added and removed when processing bridged rings.
     *
     * @param {Number} ringId A ring id.
     * @returns {Ring} A ring associated with the current molecule.
     */
    getRing(ringId) {
        for (var i = 0; i < this.rings.length; i++) {
            if (this.rings[i].id == ringId) {
                return this.rings[i];
            }
        }
    }
    /**
     * Add a ring connection to this representation of a molecule.
     *
     * @param {RingConnection} ringConnection A new ringConnection.
     * @returns {Number} The ring connection id of the new ring connection.
     */
    addRingConnection(ringConnection) {
        ringConnection.id = this.ringConnectionIdCounter++;
        this.ringConnections.push(ringConnection);
        return ringConnection.id;
    }
    /**
     * Removes a ring connection from the array of rings connections associated with the current molecule.
     *
     * @param {Number} ringConnectionId A ring connection id.
     */
    removeRingConnection(ringConnectionId) {
        this.ringConnections = this.ringConnections.filter(function (item) {
            return item.id !== ringConnectionId;
        });
    }
    /**
     * Removes all ring connections between two vertices.
     *
     * @param {Number} vertexIdA A vertex id.
     * @param {Number} vertexIdB A vertex id.
     */
    removeRingConnectionsBetween(vertexIdA, vertexIdB) {
        let toRemove = Array();
        for (var i = 0; i < this.ringConnections.length; i++) {
            let ringConnection = this.ringConnections[i];
            if ((ringConnection.firstRingId === vertexIdA &&
                ringConnection.secondRingId === vertexIdB) ||
                (ringConnection.firstRingId === vertexIdB &&
                    ringConnection.secondRingId === vertexIdA)) {
                toRemove.push(ringConnection.id);
            }
        }
        for (var i = 0; i < toRemove.length; i++) {
            this.removeRingConnection(toRemove[i]);
        }
    }
    /**
     * Get a ring connection with a given id.
     *
     * @param {Number} id
     * @returns {RingConnection} The ring connection with the specified id.
     */
    getRingConnection(id) {
        for (var i = 0; i < this.ringConnections.length; i++) {
            if (this.ringConnections[i].id == id) {
                return this.ringConnections[i];
            }
        }
    }
    /**
     * Get the ring connections between a ring and a set of rings.
     *
     * @param {Number} ringId A ring id.
     * @param {Number[]} ringIds An array of ring ids.
     * @returns {Number[]} An array of ring connection ids.
     */
    getRingConnections(ringId, ringIds) {
        let ringConnections = Array();
        for (var i = 0; i < this.ringConnections.length; i++) {
            let rc = this.ringConnections[i];
            for (var j = 0; j < ringIds.length; j++) {
                let id = ringIds[j];
                if ((rc.firstRingId === ringId && rc.secondRingId === id) ||
                    (rc.firstRingId === id && rc.secondRingId === ringId)) {
                    ringConnections.push(rc.id);
                }
            }
        }
        return ringConnections;
    }
    /**
     * Returns the overlap score of the current molecule based on its positioned vertices. The higher the score, the more overlaps occur in the structure drawing.
     *
     * @returns {Object} Returns the total overlap score and the overlap score of each vertex sorted by score (higher to lower). Example: { total: 99, scores: [ { id: 0, score: 22 }, ... ]  }
     */
    getOverlapScore() {
        let total = 0.0;
        let overlapScores = new Float32Array(this.graph.vertices.length);
        for (var i = 0; i < this.graph.vertices.length; i++) {
            overlapScores[i] = 0;
        }
        for (var i = 0; i < this.graph.vertices.length; i++) {
            var j = this.graph.vertices.length;
            while (--j > i) {
                let a = this.graph.vertices[i];
                let b = this.graph.vertices[j];
                if (!a.value.isDrawn || !b.value.isDrawn) {
                    continue;
                }
                let dist = _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.subtract(a.position, b.position).lengthSq();
                if (dist < this.opts.bondLengthSq) {
                    let weighted = (this.opts.bondLength - Math.sqrt(dist)) / this.opts.bondLength;
                    total += weighted;
                    overlapScores[i] += weighted;
                    overlapScores[j] += weighted;
                }
            }
        }
        let sortable = Array();
        for (var i = 0; i < this.graph.vertices.length; i++) {
            sortable.push({
                id: i,
                score: overlapScores[i],
            });
        }
        sortable.sort(function (a, b) {
            return b.score - a.score;
        });
        return {
            total: total,
            scores: sortable,
            vertexScores: overlapScores,
        };
    }
    /**
     * When drawing a double bond, choose the side to place the double bond. E.g. a double bond should always been drawn inside a ring.
     *
     * @param {Vertex} vertexA A vertex.
     * @param {Vertex} vertexB A vertex.
     * @param {Vector2[]} sides An array containing the two normals of the line spanned by the two provided vertices.
     * @returns {Object} Returns an object containing the following information: {
            totalSideCount: Counts the sides of each vertex in the molecule, is an array [ a, b ],
            totalPosition: Same as position, but based on entire molecule,
            sideCount: Counts the sides of each neighbour, is an array [ a, b ],
            position: which side to position the second bond, is 0 or 1, represents the index in the normal array. This is based on only the neighbours
            anCount: the number of neighbours of vertexA,
            bnCount: the number of neighbours of vertexB
        }
     */
    chooseSide(vertexA, vertexB, sides) {
        // Check which side has more vertices
        // Get all the vertices connected to the both ends
        let an = vertexA.getNeighbours(vertexB.id);
        let bn = vertexB.getNeighbours(vertexA.id);
        let anCount = an.length;
        let bnCount = bn.length;
        // All vertices connected to the edge vertexA to vertexB
        let tn = _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.merge(an, bn);
        // Only considering the connected vertices
        let sideCount = [0, 0];
        for (var i = 0; i < tn.length; i++) {
            let v = this.graph.vertices[tn[i]].position;
            if (v.sameSideAs(vertexA.position, vertexB.position, sides[0])) {
                sideCount[0]++;
            }
            else {
                sideCount[1]++;
            }
        }
        // Considering all vertices in the graph, this is to resolve ties
        // from the above side counts
        let totalSideCount = [0, 0];
        for (var i = 0; i < this.graph.vertices.length; i++) {
            let v = this.graph.vertices[i].position;
            if (v.sameSideAs(vertexA.position, vertexB.position, sides[0])) {
                totalSideCount[0]++;
            }
            else {
                totalSideCount[1]++;
            }
        }
        return {
            totalSideCount: totalSideCount,
            totalPosition: totalSideCount[0] > totalSideCount[1] ? 0 : 1,
            sideCount: sideCount,
            position: sideCount[0] > sideCount[1] ? 0 : 1,
            anCount: anCount,
            bnCount: bnCount,
        };
    }
    /**
     * Sets the center for a ring.
     *
     * @param {Ring} ring A ring.
     */
    setRingCenter(ring) {
        let ringSize = ring.getSize();
        let total = new _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2(0, 0);
        for (var i = 0; i < ringSize; i++) {
            total.add(this.graph.vertices[ring.members[i]].position);
        }
        ring.center = total.divide(ringSize);
    }
    /**
     * Gets the center of a ring contained within a bridged ring and containing a given vertex.
     *
     * @param {Ring} ring A bridged ring.
     * @param {Vertex} vertex A vertex.
     * @returns {Vector2} The center of the subring that containing the vertex.
     */
    getSubringCenter(ring, vertex) {
        let rings = vertex.value.originalRings;
        let center = ring.center;
        let smallest = Number.MAX_VALUE;
        // Always get the smallest ring.
        for (var i = 0; i < rings.length; i++) {
            for (var j = 0; j < ring.rings.length; j++) {
                if (rings[i] === ring.rings[j].id) {
                    if (ring.rings[j].getSize() < smallest) {
                        center = ring.rings[j].center;
                        smallest = ring.rings[j].getSize();
                    }
                }
            }
        }
        return center;
    }
    /**
     * Draw the actual edges as bonds to the canvas.
     *
     * @param {Boolean} debug A boolean indicating whether or not to draw debug helpers.
     */
    drawEdges(debug) {
        let that = this;
        let drawn = Array(this.graph.edges.length);
        drawn.fill(false);
        this.graph.traverseBF(0, function (vertex) {
            let edges = that.graph.getEdges(vertex.id);
            for (var i = 0; i < edges.length; i++) {
                let edgeId = edges[i];
                if (!drawn[edgeId]) {
                    drawn[edgeId] = true;
                    that.drawEdge(edgeId, debug);
                }
            }
        });
        // Draw ring for implicitly defined aromatic rings
        if (!this.bridgedRing) {
            for (var i = 0; i < this.rings.length; i++) {
                let ring = this.rings[i];
                if (this.isRingAromatic(ring)) {
                    this.canvasWrapper.drawAromaticityRing(ring);
                }
            }
        }
    }
    /**
     * Draw the an edge as a bonds to the canvas.
     *
     * @param {Number} edgeId An edge id.
     * @param {Boolean} debug A boolean indicating whether or not to draw debug helpers.
     */
    drawEdge(edgeId, debug) {
        let that = this;
        let edge = this.graph.edges[edgeId];
        let vertexA = this.graph.vertices[edge.sourceId];
        let vertexB = this.graph.vertices[edge.targetId];
        let elementA = vertexA.value.element;
        let elementB = vertexB.value.element;
        if ((!vertexA.value.isDrawn || !vertexB.value.isDrawn) &&
            this.opts.atomVisualization === "default") {
            return;
        }
        let a = vertexA.position;
        let b = vertexB.position;
        let normals = this.getEdgeNormals(edge);
        // Create a point on each side of the line
        let sides = _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.clone(normals);
        sides[0].multiplyScalar(10).add(a);
        sides[1].multiplyScalar(10).add(a);
        if (edge.bondType === "=" ||
            this.getRingbondType(vertexA, vertexB) === "=" ||
            (edge.isPartOfAromaticRing && this.bridgedRing)) {
            // Always draw double bonds inside the ring
            let inRing = this.areVerticesInSameRing(vertexA, vertexB);
            let s = this.chooseSide(vertexA, vertexB, sides);
            if (inRing) {
                // Always draw double bonds inside a ring
                // if the bond is shared by two rings, it is drawn in the larger
                // problem: smaller ring is aromatic, bond is still drawn in larger -> fix this
                let lcr = this.getLargestOrAromaticCommonRing(vertexA, vertexB);
                let center = lcr.center;
                normals[0].multiplyScalar(that.opts.bondSpacing);
                normals[1].multiplyScalar(that.opts.bondSpacing);
                // Choose the normal that is on the same side as the center
                let line = null;
                if (center.sameSideAs(vertexA.position, vertexB.position, _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[0]))) {
                    line = new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[0]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[0]), elementA, elementB);
                }
                else {
                    line = new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[1]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[1]), elementA, elementB);
                }
                line.shorten(this.opts.bondLength -
                    this.opts.shortBondLength * this.opts.bondLength);
                // The shortened edge
                if (edge.isPartOfAromaticRing) {
                    this.canvasWrapper.drawLine(line, true);
                }
                else {
                    this.canvasWrapper.drawLine(line);
                }
                // The normal edge
                this.canvasWrapper.drawLine(new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(a, b, elementA, elementB));
            }
            else if (edge.center ||
                (vertexA.isTerminal() && vertexB.isTerminal())) {
                normals[0].multiplyScalar(that.opts.halfBondSpacing);
                normals[1].multiplyScalar(that.opts.halfBondSpacing);
                let lineA = new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[0]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[0]), elementA, elementB);
                let lineB = new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[1]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[1]), elementA, elementB);
                this.canvasWrapper.drawLine(lineA);
                this.canvasWrapper.drawLine(lineB);
            }
            else if ((s.anCount == 0 && s.bnCount > 1) ||
                (s.bnCount == 0 && s.anCount > 1)) {
                // Both lines are the same length here
                // Add the spacing to the edges (which are of unit length)
                normals[0].multiplyScalar(that.opts.halfBondSpacing);
                normals[1].multiplyScalar(that.opts.halfBondSpacing);
                let lineA = new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[0]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[0]), elementA, elementB);
                let lineB = new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[1]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[1]), elementA, elementB);
                this.canvasWrapper.drawLine(lineA);
                this.canvasWrapper.drawLine(lineB);
            }
            else if (s.sideCount[0] > s.sideCount[1]) {
                normals[0].multiplyScalar(that.opts.bondSpacing);
                normals[1].multiplyScalar(that.opts.bondSpacing);
                let line = new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[0]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[0]), elementA, elementB);
                line.shorten(this.opts.bondLength -
                    this.opts.shortBondLength * this.opts.bondLength);
                this.canvasWrapper.drawLine(line);
                this.canvasWrapper.drawLine(new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(a, b, elementA, elementB));
            }
            else if (s.sideCount[0] < s.sideCount[1]) {
                normals[0].multiplyScalar(that.opts.bondSpacing);
                normals[1].multiplyScalar(that.opts.bondSpacing);
                let line = new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[1]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[1]), elementA, elementB);
                line.shorten(this.opts.bondLength -
                    this.opts.shortBondLength * this.opts.bondLength);
                this.canvasWrapper.drawLine(line);
                this.canvasWrapper.drawLine(new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(a, b, elementA, elementB));
            }
            else if (s.totalSideCount[0] > s.totalSideCount[1]) {
                normals[0].multiplyScalar(that.opts.bondSpacing);
                normals[1].multiplyScalar(that.opts.bondSpacing);
                let line = new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[0]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[0]), elementA, elementB);
                line.shorten(this.opts.bondLength -
                    this.opts.shortBondLength * this.opts.bondLength);
                this.canvasWrapper.drawLine(line);
                this.canvasWrapper.drawLine(new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(a, b, elementA, elementB));
            }
            else if (s.totalSideCount[0] <= s.totalSideCount[1]) {
                normals[0].multiplyScalar(that.opts.bondSpacing);
                normals[1].multiplyScalar(that.opts.bondSpacing);
                let line = new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[1]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[1]), elementA, elementB);
                line.shorten(this.opts.bondLength -
                    this.opts.shortBondLength * this.opts.bondLength);
                this.canvasWrapper.drawLine(line);
                this.canvasWrapper.drawLine(new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(a, b, elementA, elementB));
            }
            else {
            }
        }
        else if (edge.bondType === "#") {
            normals[0].multiplyScalar(that.opts.bondSpacing / 1.5);
            normals[1].multiplyScalar(that.opts.bondSpacing / 1.5);
            let lineA = new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[0]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[0]), elementA, elementB);
            let lineB = new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[1]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[1]), elementA, elementB);
            this.canvasWrapper.drawLine(lineA);
            this.canvasWrapper.drawLine(lineB);
            this.canvasWrapper.drawLine(new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(a, b, elementA, elementB));
        }
        else if (edge.bondType === ".") {
            // TODO: Something... maybe... version 2?
        }
        else {
            let isChiralCenterA = vertexA.value.isStereoCenter;
            let isChiralCenterB = vertexB.value.isStereoCenter;
            if (edge.wedge === "up") {
                this.canvasWrapper.drawWedge(new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(a, b, elementA, elementB, isChiralCenterA, isChiralCenterB));
            }
            else if (edge.wedge === "down") {
                this.canvasWrapper.drawDashedWedge(new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(a, b, elementA, elementB, isChiralCenterA, isChiralCenterB));
            }
            else {
                this.canvasWrapper.drawLine(new _Line__WEBPACK_IMPORTED_MODULE_4__.Line(a, b, elementA, elementB, isChiralCenterA, isChiralCenterB));
            }
        }
        if (debug) {
            let midpoint = _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.midpoint(a, b);
            this.canvasWrapper.drawDebugText(midpoint.x, midpoint.y, "e: " + edgeId);
        }
    }
    /**
     * Draws the vertices representing atoms to the canvas.
     *
     * @param {Boolean} debug A boolean indicating whether or not to draw debug messages to the canvas.
     */
    drawVertices(debug) {
        var i = this.graph.vertices.length;
        for (var i = 0; i < this.graph.vertices.length; i++) {
            let vertex = this.graph.vertices[i];
            let atom = vertex.value;
            let charge = 0;
            let isotope = 0;
            let bondCount = vertex.value.bondCount;
            let element = atom.element;
            let hydrogens = _Atom__WEBPACK_IMPORTED_MODULE_0__.Atom.maxBonds[element] - bondCount;
            let dir = vertex.getTextDirection(this.graph.vertices);
            let isTerminal = this.opts.terminalCarbons ||
                element !== "C" ||
                atom.hasAttachedPseudoElements
                ? vertex.isTerminal()
                : false;
            let isCarbon = atom.element === "C";
            // This is a HACK to remove all hydrogens from nitrogens in aromatic rings, as this
            // should be the most common state. This has to be fixed by kekulization
            if (atom.element === "N" && atom.isPartOfAromaticRing) {
                hydrogens = 0;
            }
            if (atom.bracket) {
                hydrogens = atom.bracket.hcount;
                charge = atom.bracket.charge;
                isotope = atom.bracket.isotope;
            }
            if (this.opts.atomVisualization === "allballs") {
                this.canvasWrapper.drawBall(vertex.position.x, vertex.position.y, element);
            }
            else if ((atom.isDrawn &&
                (!isCarbon ||
                    atom.drawExplicit ||
                    isTerminal ||
                    atom.hasAttachedPseudoElements)) ||
                this.graph.vertices.length === 1) {
                if (this.opts.atomVisualization === "default") {
                    this.canvasWrapper.drawText(vertex.position.x, vertex.position.y, element, hydrogens, dir, isTerminal, charge, isotope, this.graph.vertices.length, atom.getAttachedPseudoElements());
                }
                else if (this.opts.atomVisualization === "balls") {
                    this.canvasWrapper.drawBall(vertex.position.x, vertex.position.y, element);
                }
            }
            else if (vertex.getNeighbourCount() === 2 &&
                vertex.forcePositioned == true) {
                // If there is a carbon which bonds are in a straight line, draw a dot
                let a = this.graph.vertices[vertex.neighbours[0]].position;
                let b = this.graph.vertices[vertex.neighbours[1]].position;
                let angle = _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.threePointangle(vertex.position, a, b);
                if (Math.abs(Math.PI - angle) < 0.1) {
                    this.canvasWrapper.drawPoint(vertex.position.x, vertex.position.y, element);
                }
            }
            if (debug) {
                let value = "v: " + vertex.id + " " + _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.print(atom.ringbonds);
                this.canvasWrapper.drawDebugText(vertex.position.x, vertex.position.y, value);
            }
            else {
                // this.canvasWrapper.drawDebugText(vertex.position.x, vertex.position.y, vertex.value.chirality);
            }
        }
        // Draw the ring centers for debug purposes
        if (this.opts.debug) {
            for (var i = 0; i < this.rings.length; i++) {
                let center = this.rings[i].center;
                this.canvasWrapper.drawDebugPoint(center.x, center.y, "r: " + this.rings[i].id);
            }
        }
    }
    /**
     * Position the vertices according to their bonds and properties.
     */
    position() {
        let startVertex = null;
        // Always start drawing at a bridged ring if there is one
        // If not, start with a ring
        // else, start with 0
        for (var i = 0; i < this.graph.vertices.length; i++) {
            if (this.graph.vertices[i].value.bridgedRing !== null) {
                startVertex = this.graph.vertices[i];
                break;
            }
        }
        for (var i = 0; i < this.rings.length; i++) {
            if (this.rings[i].isBridged) {
                startVertex = this.graph.vertices[this.rings[i].members[0]];
            }
        }
        if (this.rings.length > 0 && startVertex === null) {
            startVertex = this.graph.vertices[this.rings[0].members[0]];
        }
        if (startVertex === null) {
            startVertex = this.graph.vertices[0];
        }
        this.createNextBond(startVertex, null, 0.0);
    }
    /**
     * Stores the current information associated with rings.
     */
    backupRingInformation() {
        this.originalRings = Array();
        this.originalRingConnections = Array();
        for (var i = 0; i < this.rings.length; i++) {
            this.originalRings.push(this.rings[i]);
        }
        for (var i = 0; i < this.ringConnections.length; i++) {
            this.originalRingConnections.push(this.ringConnections[i]);
        }
        for (var i = 0; i < this.graph.vertices.length; i++) {
            this.graph.vertices[i].value.backupRings();
        }
    }
    /**
     * Restores the most recently backed up information associated with rings.
     */
    restoreRingInformation() {
        // Get the subring centers from the bridged rings
        let bridgedRings = this.getBridgedRings();
        this.rings = Array();
        this.ringConnections = Array();
        for (var i = 0; i < bridgedRings.length; i++) {
            let bridgedRing = bridgedRings[i];
            for (var j = 0; j < bridgedRing.rings.length; j++) {
                let ring = bridgedRing.rings[j];
                this.originalRings[ring.id].center = ring.center;
            }
        }
        for (var i = 0; i < this.originalRings.length; i++) {
            this.rings.push(this.originalRings[i]);
        }
        for (var i = 0; i < this.originalRingConnections.length; i++) {
            this.ringConnections.push(this.originalRingConnections[i]);
        }
        for (var i = 0; i < this.graph.vertices.length; i++) {
            this.graph.vertices[i].value.restoreRings();
        }
    }
    // TODO: This needs some cleaning up
    /**
     * Creates a new ring, that is, positiones all the vertices inside a ring.
     *
     * @param {Ring} ring The ring to position.
     * @param {(Vector2|null)} [center=null] The center of the ring to be created.
     * @param {(Vertex|null)} [startVertex=null] The first vertex to be positioned inside the ring.
     * @param {(Vertex|null)} [previousVertex=null] The last vertex that was positioned.
     * @param {Boolean} [previousVertex=false] A boolean indicating whether or not this ring was force positioned already - this is needed after force layouting a ring, in order to draw rings connected to it.
     */
    createRing(ring, center = null, startVertex = null, previousVertex = null) {
        if (ring.positioned) {
            return;
        }
        center = center ? center : new _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2(0, 0);
        let orderedNeighbours = ring.getOrderedNeighbours(this.ringConnections);
        let startingAngle = startVertex
            ? _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.subtract(startVertex.position, center).angle()
            : 0;
        let radius = _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.polyCircumradius(this.opts.bondLength, ring.getSize());
        let angle = _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.centralAngle(ring.getSize());
        ring.centralAngle = angle;
        let a = startingAngle;
        let that = this;
        let startVertexId = startVertex ? startVertex.id : null;
        if (ring.members.indexOf(startVertexId) === -1) {
            if (startVertex) {
                startVertex.positioned = false;
            }
            startVertexId = ring.members[0];
        }
        // If the ring is bridged, then draw the vertices inside the ring
        // using a force based approach
        if (ring.isBridged) {
            this.graph.kkLayout(ring.members.slice(), center, startVertex.id, ring, this.opts.bondLength, this.opts.kkThreshold, this.opts.kkInnerThreshold, this.opts.kkMaxIteration, this.opts.kkMaxInnerIteration, this.opts.kkMaxEnergy);
            ring.positioned = true;
            // Update the center of the bridged ring
            this.setRingCenter(ring);
            center = ring.center;
            // Setting the centers for the subrings
            for (var i = 0; i < ring.rings.length; i++) {
                this.setRingCenter(ring.rings[i]);
            }
        }
        else {
            ring.eachMember(this.graph.vertices, function (v) {
                let vertex = that.graph.vertices[v];
                if (!vertex.positioned) {
                    vertex.setPosition(center.x + Math.cos(a) * radius, center.y + Math.sin(a) * radius);
                }
                a += angle;
                if (!ring.isBridged || ring.rings.length < 3) {
                    vertex.angle = a;
                    vertex.positioned = true;
                }
            }, startVertexId, previousVertex ? previousVertex.id : null);
        }
        ring.positioned = true;
        ring.center = center;
        // Draw neighbours in decreasing order of connectivity
        for (var i = 0; i < orderedNeighbours.length; i++) {
            let neighbour = this.getRing(orderedNeighbours[i].neighbour);
            if (neighbour.positioned) {
                continue;
            }
            let vertices = _RingConnection__WEBPACK_IMPORTED_MODULE_8__.RingConnection.getVertices(this.ringConnections, ring.id, neighbour.id);
            if (vertices.length === 2) {
                // This ring is a fused ring
                ring.isFused = true;
                neighbour.isFused = true;
                let vertexA = this.graph.vertices[vertices[0]];
                let vertexB = this.graph.vertices[vertices[1]];
                // Get middle between vertex A and B
                let midpoint = _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.midpoint(vertexA.position, vertexB.position);
                // Get the normals to the line between A and B
                let normals = _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.normals(vertexA.position, vertexB.position);
                // Normalize the normals
                normals[0].normalize();
                normals[1].normalize();
                // Set length from middle of side to center (the apothem)
                let r = _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.polyCircumradius(this.opts.bondLength, neighbour.getSize());
                let apothem = _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.apothem(r, neighbour.getSize());
                normals[0].multiplyScalar(apothem).add(midpoint);
                normals[1].multiplyScalar(apothem).add(midpoint);
                // Pick the normal which results in a larger distance to the previous center
                // Also check whether it's inside another ring
                let nextCenter = normals[0];
                if (_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.subtract(center, normals[1]).lengthSq() >
                    _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.subtract(center, normals[0]).lengthSq()) {
                    nextCenter = normals[1];
                }
                // Get the vertex (A or B) which is in clock-wise direction of the other
                let posA = _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.subtract(vertexA.position, nextCenter);
                let posB = _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.subtract(vertexB.position, nextCenter);
                if (posA.clockwise(posB) === -1) {
                    if (!neighbour.positioned) {
                        this.createRing(neighbour, nextCenter, vertexA, vertexB);
                    }
                }
                else {
                    if (!neighbour.positioned) {
                        this.createRing(neighbour, nextCenter, vertexB, vertexA);
                    }
                }
            }
            else if (vertices.length === 1) {
                // This ring is a spiro
                ring.isSpiro = true;
                neighbour.isSpiro = true;
                let vertexA = this.graph.vertices[vertices[0]];
                // Get the vector pointing from the shared vertex to the new centpositioner
                let nextCenter = _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.subtract(center, vertexA.position);
                nextCenter.invert();
                nextCenter.normalize();
                // Get the distance from the vertex to the center
                let r = _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.polyCircumradius(this.opts.bondLength, neighbour.getSize());
                nextCenter.multiplyScalar(r);
                nextCenter.add(vertexA.position);
                if (!neighbour.positioned) {
                    this.createRing(neighbour, nextCenter, vertexA);
                }
            }
        }
        // Next, draw atoms that are not part of a ring that are directly attached to this ring
        for (var i = 0; i < ring.members.length; i++) {
            let ringMember = this.graph.vertices[ring.members[i]];
            let ringMemberNeighbours = ringMember.neighbours;
            // If there are multiple, the ovlerap will be resolved in the appropriate step
            for (var j = 0; j < ringMemberNeighbours.length; j++) {
                let v = this.graph.vertices[ringMemberNeighbours[j]];
                if (v.positioned) {
                    continue;
                }
                v.value.isConnectedToRing = true;
                this.createNextBond(v, ringMember, 0.0);
            }
        }
    }
    /**
     * Rotate an entire subtree by an angle around a center.
     *
     * @param {Number} vertexId A vertex id (the root of the sub-tree).
     * @param {Number} parentVertexId A vertex id in the previous direction of the subtree that is to rotate.
     * @param {Number} angle An angle in randians.
     * @param {Vector2} center The rotational center.
     */
    rotateSubtree(vertexId, parentVertexId, angle, center) {
        let that = this;
        this.graph.traverseTree(vertexId, parentVertexId, function (vertex) {
            vertex.position.rotateAround(angle, center);
            for (var i = 0; i < vertex.value.anchoredRings.length; i++) {
                let ring = that.rings[vertex.value.anchoredRings[i]];
                if (ring) {
                    ring.center.rotateAround(angle, center);
                }
            }
        });
    }
    /**
     * Gets the overlap score of a subtree.
     *
     * @param {Number} vertexId A vertex id (the root of the sub-tree).
     * @param {Number} parentVertexId A vertex id in the previous direction of the subtree.
     * @param {Number[]} vertexOverlapScores An array containing the vertex overlap scores indexed by vertex id.
     * @returns {Object} An object containing the total overlap score and the center of mass of the subtree weighted by overlap score { value: 0.2, center: new Vector2() }.
     */
    getSubtreeOverlapScore(vertexId, parentVertexId, vertexOverlapScores) {
        let that = this;
        let score = 0;
        let center = new _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2(0, 0);
        let count = 0;
        this.graph.traverseTree(vertexId, parentVertexId, function (vertex) {
            if (!vertex.value.isDrawn) {
                return;
            }
            let s = vertexOverlapScores[vertex.id];
            if (s > that.opts.overlapSensitivity) {
                score += s;
                count++;
            }
            let position = that.graph.vertices[vertex.id].position.clone();
            position.multiplyScalar(s);
            center.add(position);
        });
        center.divide(score);
        return {
            value: score / count,
            center: center,
        };
    }
    /**
     * Returns the current (positioned vertices so far) center of mass.
     *
     * @returns {Vector2} The current center of mass.
     */
    getCurrentCenterOfMass() {
        let total = new _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2(0, 0);
        let count = 0;
        for (var i = 0; i < this.graph.vertices.length; i++) {
            let vertex = this.graph.vertices[i];
            if (vertex.positioned) {
                total.add(vertex.position);
                count++;
            }
        }
        return total.divide(count);
    }
    /**
     * Returns the current (positioned vertices so far) center of mass in the neighbourhood of a given position.
     *
     * @param {Vector2} vec The point at which to look for neighbours.
     * @param {Number} [r=currentBondLength*2.0] The radius of vertices to include.
     * @returns {Vector2} The current center of mass.
     */
    getCurrentCenterOfMassInNeigbourhood(vec, r = this.opts.bondLength * 2.0) {
        let total = new _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2(0, 0);
        let count = 0;
        let rSq = r * r;
        for (var i = 0; i < this.graph.vertices.length; i++) {
            let vertex = this.graph.vertices[i];
            if (vertex.positioned && vec.distanceSq(vertex.position) < rSq) {
                total.add(vertex.position);
                count++;
            }
        }
        return total.divide(count);
    }
    /**
     * Resolve primary (exact) overlaps, such as two vertices that are connected to the same ring vertex.
     */
    resolvePrimaryOverlaps() {
        let overlaps = Array();
        let done = Array(this.graph.vertices.length);
        // Looking for overlaps created by two bonds coming out of a ring atom, which both point straight
        // away from the ring and are thus perfectly overlapping.
        for (var i = 0; i < this.rings.length; i++) {
            let ring = this.rings[i];
            for (var j = 0; j < ring.members.length; j++) {
                let vertex = this.graph.vertices[ring.members[j]];
                if (done[vertex.id]) {
                    continue;
                }
                done[vertex.id] = true;
                let nonRingNeighbours = this.getNonRingNeighbours(vertex.id);
                if (nonRingNeighbours.length > 1) {
                    // Look for rings where there are atoms with two bonds outside the ring (overlaps)
                    let rings = Array();
                    for (var k = 0; k < vertex.value.rings.length; k++) {
                        rings.push(vertex.value.rings[k]);
                    }
                    overlaps.push({
                        common: vertex,
                        rings: rings,
                        vertices: nonRingNeighbours,
                    });
                }
                else if (nonRingNeighbours.length === 1 &&
                    vertex.value.rings.length === 2) {
                    // Look for bonds coming out of joined rings to adjust the angle, an example is: C1=CC(=CC=C1)[C@]12SCCN1CC1=CC=CC=C21
                    // where the angle has to be adjusted to account for fused ring
                    let rings = Array();
                    for (var k = 0; k < vertex.value.rings.length; k++) {
                        rings.push(vertex.value.rings[k]);
                    }
                    overlaps.push({
                        common: vertex,
                        rings: rings,
                        vertices: nonRingNeighbours,
                    });
                }
            }
        }
        for (var i = 0; i < overlaps.length; i++) {
            let overlap = overlaps[i];
            if (overlap.vertices.length === 2) {
                let a = overlap.vertices[0];
                let b = overlap.vertices[1];
                if (!a.value.isDrawn || !b.value.isDrawn) {
                    continue;
                }
                let angle = (2 * Math.PI - this.getRing(overlap.rings[0]).getAngle()) / 6.0;
                this.rotateSubtree(a.id, overlap.common.id, angle, overlap.common.position);
                this.rotateSubtree(b.id, overlap.common.id, -angle, overlap.common.position);
                // Decide which way to rotate the vertices depending on the effect it has on the overlap score
                let overlapScore = this.getOverlapScore();
                let subTreeOverlapA = this.getSubtreeOverlapScore(a.id, overlap.common.id, overlapScore.vertexScores);
                let subTreeOverlapB = this.getSubtreeOverlapScore(b.id, overlap.common.id, overlapScore.vertexScores);
                let total = subTreeOverlapA.value + subTreeOverlapB.value;
                this.rotateSubtree(a.id, overlap.common.id, -2.0 * angle, overlap.common.position);
                this.rotateSubtree(b.id, overlap.common.id, 2.0 * angle, overlap.common.position);
                overlapScore = this.getOverlapScore();
                subTreeOverlapA = this.getSubtreeOverlapScore(a.id, overlap.common.id, overlapScore.vertexScores);
                subTreeOverlapB = this.getSubtreeOverlapScore(b.id, overlap.common.id, overlapScore.vertexScores);
                if (subTreeOverlapA.value + subTreeOverlapB.value > total) {
                    this.rotateSubtree(a.id, overlap.common.id, 2.0 * angle, overlap.common.position);
                    this.rotateSubtree(b.id, overlap.common.id, -2.0 * angle, overlap.common.position);
                }
            }
            else if (overlap.vertices.length === 1) {
                if (overlap.rings.length === 2) {
                    // TODO: Implement for more overlap resolution
                    // console.log(overlap);
                }
            }
        }
    }
    /**
     * Resolve secondary overlaps. Those overlaps are due to the structure turning back on itself.
     *
     * @param {Object[]} scores An array of objects sorted descending by score.
     * @param {Number} scores[].id A vertex id.
     * @param {Number} scores[].score The overlap score associated with the vertex id.
     */
    resolveSecondaryOverlaps(scores) {
        for (var i = 0; i < scores.length; i++) {
            if (scores[i].score > this.opts.overlapSensitivity) {
                let vertex = this.graph.vertices[scores[i].id];
                if (vertex.isTerminal()) {
                    let closest = this.getClosestVertex(vertex);
                    if (closest) {
                        // If one of the vertices is the first one, the previous vertex is not the central vertex but the dummy
                        // so take the next rather than the previous, which is vertex 1
                        let closestPosition = null;
                        if (closest.isTerminal()) {
                            closestPosition =
                                closest.id === 0
                                    ? this.graph.vertices[1].position
                                    : closest.previousPosition;
                        }
                        else {
                            closestPosition =
                                closest.id === 0
                                    ? this.graph.vertices[1].position
                                    : closest.position;
                        }
                        let vertexPreviousPosition = vertex.id === 0
                            ? this.graph.vertices[1].position
                            : vertex.previousPosition;
                        vertex.position.rotateAwayFrom(closestPosition, vertexPreviousPosition, _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.toRad(20));
                    }
                }
            }
        }
    }
    /**
     * Get the last non-null or 0 angle vertex.
     * @param {Number} vertexId A vertex id.
     * @returns {Vertex} The last vertex with an angle that was not 0 or null.
     */
    getLastVertexWithAngle(vertexId) {
        let angle = 0;
        let vertex = null;
        while (!angle && vertexId) {
            vertex = this.graph.vertices[vertexId];
            angle = vertex.angle;
            vertexId = vertex.parentVertexId;
        }
        return vertex;
    }
    /**
     * Positiones the next vertex thus creating a bond.
     *
     * @param {Vertex} vertex A vertex.
     * @param {Vertex} [previousVertex=null] The previous vertex which has been positioned.
     * @param {Number} [angle=0.0] The (global) angle of the vertex.
     * @param {Boolean} [originShortest=false] Whether the origin is the shortest subtree in the branch.
     * @param {Boolean} [skipPositioning=false] Whether or not to skip positioning and just check the neighbours.
     */
    createNextBond(vertex, previousVertex = null, angle = 0.0, originShortest = false, skipPositioning = false) {
        if (vertex.positioned && !skipPositioning) {
            return;
        }
        // If the double bond config was set on this vertex, do not check later
        let doubleBondConfigSet = false;
        // Keeping track of configurations around double bonds
        if (previousVertex) {
            let edge = this.graph.getEdge(vertex.id, previousVertex.id);
            if ((edge.bondType === "/" || edge.bondType === "\\") &&
                ++this.doubleBondConfigCount % 2 === 1) {
                if (this.doubleBondConfig === null) {
                    this.doubleBondConfig = edge.bondType;
                    doubleBondConfigSet = true;
                    // Switch if the bond is a branch bond and previous vertex is the first
                    // TODO: Why is it different with the first vertex?
                    if (previousVertex.parentVertexId === null &&
                        vertex.value.branchBond) {
                        if (this.doubleBondConfig === "/") {
                            this.doubleBondConfig = "\\";
                        }
                        else if (this.doubleBondConfig === "\\") {
                            this.doubleBondConfig = "/";
                        }
                    }
                }
            }
        }
        // If the current node is the member of one ring, then point straight away
        // from the center of the ring. However, if the current node is a member of
        // two rings, point away from the middle of the centers of the two rings
        if (!skipPositioning) {
            if (!previousVertex) {
                // Add a (dummy) previous position if there is no previous vertex defined
                // Since the first vertex is at (0, 0), create a vector at (bondLength, 0)
                // and rotate it by 90
                let dummy = new _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2(this.opts.bondLength, 0);
                dummy.rotate(_MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.toRad(-60));
                vertex.previousPosition = dummy;
                vertex.setPosition(this.opts.bondLength, 0);
                vertex.angle = _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.toRad(-60);
                // Do not position the vertex if it belongs to a bridged ring that is positioned using a layout algorithm.
                if (vertex.value.bridgedRing === null) {
                    vertex.positioned = true;
                }
            }
            else if (previousVertex.value.rings.length > 0) {
                let neighbours = previousVertex.neighbours;
                let joinedVertex = null;
                let pos = new _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2(0.0, 0.0);
                if (previousVertex.value.bridgedRing === null &&
                    previousVertex.value.rings.length > 1) {
                    for (var i = 0; i < neighbours.length; i++) {
                        let neighbour = this.graph.vertices[neighbours[i]];
                        if (_ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.containsAll(neighbour.value.rings, previousVertex.value.rings)) {
                            joinedVertex = neighbour;
                            break;
                        }
                    }
                }
                if (joinedVertex === null) {
                    for (var i = 0; i < neighbours.length; i++) {
                        let v = this.graph.vertices[neighbours[i]];
                        if (v.positioned && this.areVerticesInSameRing(v, previousVertex)) {
                            pos.add(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.subtract(v.position, previousVertex.position));
                        }
                    }
                    pos
                        .invert()
                        .normalize()
                        .multiplyScalar(this.opts.bondLength)
                        .add(previousVertex.position);
                }
                else {
                    pos = joinedVertex.position
                        .clone()
                        .rotateAround(Math.PI, previousVertex.position);
                }
                vertex.previousPosition = previousVertex.position;
                vertex.setPositionFromVector(pos);
                vertex.positioned = true;
            }
            else {
                // If the previous vertex was not part of a ring, draw a bond based
                // on the global angle of the previous bond
                let v = new _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2(this.opts.bondLength, 0);
                v.rotate(angle);
                v.add(previousVertex.position);
                vertex.setPositionFromVector(v);
                vertex.previousPosition = previousVertex.position;
                vertex.positioned = true;
            }
        }
        // Go to next vertex
        // If two rings are connected by a bond ...
        if (vertex.value.bridgedRing !== null) {
            let nextRing = this.getRing(vertex.value.bridgedRing);
            if (!nextRing.positioned) {
                let nextCenter = _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.subtract(vertex.previousPosition, vertex.position);
                nextCenter.invert();
                nextCenter.normalize();
                let r = _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.polyCircumradius(this.opts.bondLength, nextRing.members.length);
                nextCenter.multiplyScalar(r);
                nextCenter.add(vertex.position);
                this.createRing(nextRing, nextCenter, vertex);
            }
        }
        else if (vertex.value.rings.length > 0) {
            let nextRing = this.getRing(vertex.value.rings[0]);
            if (!nextRing.positioned) {
                let nextCenter = _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.subtract(vertex.previousPosition, vertex.position);
                nextCenter.invert();
                nextCenter.normalize();
                let r = _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.polyCircumradius(this.opts.bondLength, nextRing.getSize());
                nextCenter.multiplyScalar(r);
                nextCenter.add(vertex.position);
                this.createRing(nextRing, nextCenter, vertex);
            }
        }
        else {
            // Draw the non-ring vertices connected to this one
            let isStereoCenter = vertex.value.isStereoCenter;
            let tmpNeighbours = vertex.getNeighbours();
            let neighbours = Array();
            // Remove neighbours that are not drawn
            for (var i = 0; i < tmpNeighbours.length; i++) {
                if (this.graph.vertices[tmpNeighbours[i]].value.isDrawn) {
                    neighbours.push(tmpNeighbours[i]);
                }
            }
            // Remove the previous vertex (which has already been drawn)
            if (previousVertex) {
                neighbours = _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.remove(neighbours, previousVertex.id);
            }
            let previousAngle = vertex.getAngle();
            if (neighbours.length === 1) {
                let nextVertex = this.graph.vertices[neighbours[0]];
                // Make a single chain always cis except when there's a tribble (yes, this is a Star Trek reference) bond
                // or if there are successive double bonds. Added a ring check because if there is an aromatic ring the ring bond inside the ring counts as a double bond and leads to =-= being straight.
                if (vertex.value.bondType === "#" ||
                    (previousVertex && previousVertex.value.bondType === "#") ||
                    (vertex.value.bondType === "=" &&
                        previousVertex &&
                        previousVertex.value.rings.length === 0 &&
                        previousVertex.value.bondType === "=" &&
                        vertex.value.branchBond !== "-")) {
                    vertex.value.drawExplicit = false;
                    if (previousVertex) {
                        let straightEdge1 = this.graph.getEdge(vertex.id, previousVertex.id);
                        straightEdge1.center = true;
                    }
                    let straightEdge2 = this.graph.getEdge(vertex.id, nextVertex.id);
                    straightEdge2.center = true;
                    if (vertex.value.bondType === "#" ||
                        (previousVertex && previousVertex.value.bondType === "#")) {
                        nextVertex.angle = 0.0;
                    }
                    nextVertex.drawExplicit = true;
                    this.createNextBond(nextVertex, vertex, previousAngle + nextVertex.angle);
                }
                else if (previousVertex && previousVertex.value.rings.length > 0) {
                    // If coming out of a ring, always draw away from the center of mass
                    let proposedAngleA = _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.toRad(60);
                    let proposedAngleB = -proposedAngleA;
                    let proposedVectorA = new _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2(this.opts.bondLength, 0);
                    let proposedVectorB = new _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2(this.opts.bondLength, 0);
                    proposedVectorA.rotate(proposedAngleA).add(vertex.position);
                    proposedVectorB.rotate(proposedAngleB).add(vertex.position);
                    // let centerOfMass = this.getCurrentCenterOfMassInNeigbourhood(vertex.position, 100);
                    let centerOfMass = this.getCurrentCenterOfMass();
                    let distanceA = proposedVectorA.distanceSq(centerOfMass);
                    let distanceB = proposedVectorB.distanceSq(centerOfMass);
                    nextVertex.angle =
                        distanceA < distanceB ? proposedAngleB : proposedAngleA;
                    this.createNextBond(nextVertex, vertex, previousAngle + nextVertex.angle);
                }
                else {
                    let a = vertex.angle;
                    // Take the min and max if the previous angle was in a 4-neighbourhood (90 angles)
                    // TODO: If a is null or zero, it should be checked whether or not this one should go cis or trans, that is,
                    //       it should go into the oposite direction of the last non-null or 0 previous vertex / angle.
                    if (previousVertex && previousVertex.neighbours.length > 3) {
                        if (a > 0) {
                            a = Math.min(1.0472, a);
                        }
                        else if (a < 0) {
                            a = Math.max(-1.0472, a);
                        }
                        else {
                            a = 1.0472;
                        }
                    }
                    else if (!a) {
                        let v = this.getLastVertexWithAngle(vertex.id);
                        a = v.angle;
                        if (!a) {
                            a = 1.0472;
                        }
                    }
                    // Handle configuration around double bonds
                    if (previousVertex && !doubleBondConfigSet) {
                        let bondType = this.graph.getEdge(vertex.id, nextVertex.id).bondType;
                        if (bondType === "/") {
                            if (this.doubleBondConfig === "/") {
                                // Nothing to do since it will be trans per default
                            }
                            else if (this.doubleBondConfig === "\\") {
                                a = -a;
                            }
                            this.doubleBondConfig = null;
                        }
                        else if (bondType === "\\") {
                            if (this.doubleBondConfig === "/") {
                                a = -a;
                            }
                            else if (this.doubleBondConfig === "\\") {
                                // Nothing to do since it will be trans per default
                            }
                            this.doubleBondConfig = null;
                        }
                    }
                    if (originShortest) {
                        nextVertex.angle = a;
                    }
                    else {
                        nextVertex.angle = -a;
                    }
                    this.createNextBond(nextVertex, vertex, previousAngle + nextVertex.angle);
                }
            }
            else if (neighbours.length === 2) {
                // If the previous vertex comes out of a ring, it doesn't have an angle set
                let a = vertex.angle;
                if (!a) {
                    a = 1.0472;
                }
                // Check for the longer subtree - always go with cis for the longer subtree
                let subTreeDepthA = this.graph.getTreeDepth(neighbours[0], vertex.id);
                let subTreeDepthB = this.graph.getTreeDepth(neighbours[1], vertex.id);
                let l = this.graph.vertices[neighbours[0]];
                let r = this.graph.vertices[neighbours[1]];
                l.value.subtreeDepth = subTreeDepthA;
                r.value.subtreeDepth = subTreeDepthB;
                // Also get the subtree for the previous direction (this is important when
                // the previous vertex is the shortest path)
                let subTreeDepthC = this.graph.getTreeDepth(previousVertex ? previousVertex.id : null, vertex.id);
                if (previousVertex) {
                    previousVertex.value.subtreeDepth = subTreeDepthC;
                }
                let cis = 0;
                let trans = 1;
                // Carbons go always cis
                if (r.value.element === "C" &&
                    l.value.element !== "C" &&
                    subTreeDepthB > 1 &&
                    subTreeDepthA < 5) {
                    cis = 1;
                    trans = 0;
                }
                else if (r.value.element !== "C" &&
                    l.value.element === "C" &&
                    subTreeDepthA > 1 &&
                    subTreeDepthB < 5) {
                    cis = 0;
                    trans = 1;
                }
                else if (subTreeDepthB > subTreeDepthA) {
                    cis = 1;
                    trans = 0;
                }
                let cisVertex = this.graph.vertices[neighbours[cis]];
                let transVertex = this.graph.vertices[neighbours[trans]];
                let edgeCis = this.graph.getEdge(vertex.id, cisVertex.id);
                let edgeTrans = this.graph.getEdge(vertex.id, transVertex.id);
                // If the origin tree is the shortest, make them the main chain
                let originShortest = false;
                if (subTreeDepthC < subTreeDepthA && subTreeDepthC < subTreeDepthB) {
                    originShortest = true;
                }
                transVertex.angle = a;
                cisVertex.angle = -a;
                if (this.doubleBondConfig === "\\") {
                    if (transVertex.value.branchBond === "\\") {
                        transVertex.angle = -a;
                        cisVertex.angle = a;
                    }
                }
                else if (this.doubleBondConfig === "/") {
                    if (transVertex.value.branchBond === "/") {
                        transVertex.angle = -a;
                        cisVertex.angle = a;
                    }
                }
                this.createNextBond(transVertex, vertex, previousAngle + transVertex.angle, originShortest);
                this.createNextBond(cisVertex, vertex, previousAngle + cisVertex.angle, originShortest);
            }
            else if (neighbours.length === 3) {
                // The vertex with the longest sub-tree should always go straight
                let d1 = this.graph.getTreeDepth(neighbours[0], vertex.id);
                let d2 = this.graph.getTreeDepth(neighbours[1], vertex.id);
                let d3 = this.graph.getTreeDepth(neighbours[2], vertex.id);
                let s = this.graph.vertices[neighbours[0]];
                let l = this.graph.vertices[neighbours[1]];
                let r = this.graph.vertices[neighbours[2]];
                s.value.subtreeDepth = d1;
                l.value.subtreeDepth = d2;
                r.value.subtreeDepth = d3;
                if (d2 > d1 && d2 > d3) {
                    s = this.graph.vertices[neighbours[1]];
                    l = this.graph.vertices[neighbours[0]];
                    r = this.graph.vertices[neighbours[2]];
                }
                else if (d3 > d1 && d3 > d2) {
                    s = this.graph.vertices[neighbours[2]];
                    l = this.graph.vertices[neighbours[0]];
                    r = this.graph.vertices[neighbours[1]];
                }
                // Create a cross if more than one subtree is of length > 1
                // or the vertex is connected to a ring
                if (previousVertex &&
                    previousVertex.value.rings.length < 1 &&
                    s.value.rings.length < 1 &&
                    l.value.rings.length < 1 &&
                    r.value.rings.length < 1 &&
                    this.graph.getTreeDepth(l.id, vertex.id) === 1 &&
                    this.graph.getTreeDepth(r.id, vertex.id) === 1 &&
                    this.graph.getTreeDepth(s.id, vertex.id) > 1) {
                    s.angle = -vertex.angle;
                    if (vertex.angle >= 0) {
                        l.angle = _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.toRad(30);
                        r.angle = _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.toRad(90);
                    }
                    else {
                        l.angle = -_MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.toRad(30);
                        r.angle = -_MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.toRad(90);
                    }
                    this.createNextBond(s, vertex, previousAngle + s.angle);
                    this.createNextBond(l, vertex, previousAngle + l.angle);
                    this.createNextBond(r, vertex, previousAngle + r.angle);
                }
                else {
                    s.angle = 0.0;
                    l.angle = _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.toRad(90);
                    r.angle = -_MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.toRad(90);
                    this.createNextBond(s, vertex, previousAngle + s.angle);
                    this.createNextBond(l, vertex, previousAngle + l.angle);
                    this.createNextBond(r, vertex, previousAngle + r.angle);
                }
            }
            else if (neighbours.length === 4) {
                // The vertex with the longest sub-tree should always go to the reflected opposide direction
                let d1 = this.graph.getTreeDepth(neighbours[0], vertex.id);
                let d2 = this.graph.getTreeDepth(neighbours[1], vertex.id);
                let d3 = this.graph.getTreeDepth(neighbours[2], vertex.id);
                let d4 = this.graph.getTreeDepth(neighbours[3], vertex.id);
                let w = this.graph.vertices[neighbours[0]];
                let x = this.graph.vertices[neighbours[1]];
                let y = this.graph.vertices[neighbours[2]];
                let z = this.graph.vertices[neighbours[3]];
                w.value.subtreeDepth = d1;
                x.value.subtreeDepth = d2;
                y.value.subtreeDepth = d3;
                z.value.subtreeDepth = d4;
                if (d2 > d1 && d2 > d3 && d2 > d4) {
                    w = this.graph.vertices[neighbours[1]];
                    x = this.graph.vertices[neighbours[0]];
                    y = this.graph.vertices[neighbours[2]];
                    z = this.graph.vertices[neighbours[3]];
                }
                else if (d3 > d1 && d3 > d2 && d3 > d4) {
                    w = this.graph.vertices[neighbours[2]];
                    x = this.graph.vertices[neighbours[0]];
                    y = this.graph.vertices[neighbours[1]];
                    z = this.graph.vertices[neighbours[3]];
                }
                else if (d4 > d1 && d4 > d2 && d4 > d3) {
                    w = this.graph.vertices[neighbours[3]];
                    x = this.graph.vertices[neighbours[0]];
                    y = this.graph.vertices[neighbours[1]];
                    z = this.graph.vertices[neighbours[2]];
                }
                w.angle = -_MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.toRad(36);
                x.angle = _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.toRad(36);
                y.angle = -_MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.toRad(108);
                z.angle = _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.toRad(108);
                this.createNextBond(w, vertex, previousAngle + w.angle);
                this.createNextBond(x, vertex, previousAngle + x.angle);
                this.createNextBond(y, vertex, previousAngle + y.angle);
                this.createNextBond(z, vertex, previousAngle + z.angle);
            }
        }
    }
    /**
     * Gets the vetex sharing the edge that is the common bond of two rings.
     *
     * @param {Vertex} vertex A vertex.
     * @returns {(Number|null)} The id of a vertex sharing the edge that is the common bond of two rings with the vertex provided or null, if none.
     */
    getCommonRingbondNeighbour(vertex) {
        let neighbours = vertex.neighbours;
        for (var i = 0; i < neighbours.length; i++) {
            let neighbour = this.graph.vertices[neighbours[i]];
            if (_ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.containsAll(neighbour.value.rings, vertex.value.rings)) {
                return neighbour;
            }
        }
        return null;
    }
    /**
     * Check if a vector is inside any ring.
     *
     * @param {Vector2} vec A vector.
     * @returns {Boolean} A boolean indicating whether or not the point (vector) is inside any of the rings associated with the current molecule.
     */
    isPointInRing(vec) {
        for (var i = 0; i < this.rings.length; i++) {
            let ring = this.rings[i];
            if (!ring.positioned) {
                continue;
            }
            let radius = _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.polyCircumradius(this.opts.bondLength, ring.getSize());
            let radiusSq = radius * radius;
            if (vec.distanceSq(ring.center) < radiusSq) {
                return true;
            }
        }
        return false;
    }
    /**
     * Check whether or not an edge is part of a ring.
     *
     * @param {Edge} edge An edge.
     * @returns {Boolean} A boolean indicating whether or not the edge is part of a ring.
     */
    isEdgeInRing(edge) {
        let source = this.graph.vertices[edge.sourceId];
        let target = this.graph.vertices[edge.targetId];
        return this.areVerticesInSameRing(source, target);
    }
    /**
     * Check whether or not an edge is rotatable.
     *
     * @param {Edge} edge An edge.
     * @returns {Boolean} A boolean indicating whether or not the edge is rotatable.
     */
    isEdgeRotatable(edge) {
        let vertexA = this.graph.vertices[edge.sourceId];
        let vertexB = this.graph.vertices[edge.targetId];
        // Only single bonds are rotatable
        if (edge.bondType !== "-") {
            return false;
        }
        // Do not rotate edges that have a further single bond to each side - do that!
        // If the bond is terminal, it doesn't make sense to rotate it
        // if (vertexA.getNeighbourCount() + vertexB.getNeighbourCount() < 5) {
        //   return false;
        // }
        if (vertexA.isTerminal() || vertexB.isTerminal()) {
            return false;
        }
        // Ringbonds are not rotatable
        if (vertexA.value.rings.length > 0 &&
            vertexB.value.rings.length > 0 &&
            this.areVerticesInSameRing(vertexA, vertexB)) {
            return false;
        }
        return true;
    }
    /**
     * Check whether or not a ring is an implicitly defined aromatic ring (lower case smiles).
     *
     * @param {Ring} ring A ring.
     * @returns {Boolean} A boolean indicating whether or not a ring is implicitly defined as aromatic.
     */
    isRingAromatic(ring) {
        for (var i = 0; i < ring.members.length; i++) {
            let vertex = this.graph.vertices[ring.members[i]];
            if (!vertex.value.isPartOfAromaticRing) {
                return false;
            }
        }
        return true;
    }
    /**
     * Get the normals of an edge.
     *
     * @param {Edge} edge An edge.
     * @returns {Vector2[]} An array containing two vectors, representing the normals.
     */
    getEdgeNormals(edge) {
        let v1 = this.graph.vertices[edge.sourceId].position;
        let v2 = this.graph.vertices[edge.targetId].position;
        // Get the normalized normals for the edge
        let normals = _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.units(v1, v2);
        return normals;
    }
    /**
     * Returns an array of vertices that are neighbouring a vertix but are not members of a ring (including bridges).
     *
     * @param {Number} vertexId A vertex id.
     * @returns {Vertex[]} An array of vertices.
     */
    getNonRingNeighbours(vertexId) {
        let nrneighbours = Array();
        let vertex = this.graph.vertices[vertexId];
        let neighbours = vertex.neighbours;
        for (var i = 0; i < neighbours.length; i++) {
            let neighbour = this.graph.vertices[neighbours[i]];
            let nIntersections = _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.intersection(vertex.value.rings, neighbour.value.rings).length;
            if (nIntersections === 0 && neighbour.value.isBridge == false) {
                nrneighbours.push(neighbour);
            }
        }
        return nrneighbours;
    }
    /**
     * Annotaed stereochemistry information for visualization.
     */
    annotateStereochemistry() {
        let maxDepth = 10;
        // For each stereo-center
        for (var i = 0; i < this.graph.vertices.length; i++) {
            let vertex = this.graph.vertices[i];
            if (!vertex.value.isStereoCenter) {
                continue;
            }
            let neighbours = vertex.getNeighbours();
            let nNeighbours = neighbours.length;
            let priorities = Array(nNeighbours);
            for (var j = 0; j < nNeighbours; j++) {
                let visited = new Uint8Array(this.graph.vertices.length);
                let priority = Array(Array());
                visited[vertex.id] = 1;
                this.visitStereochemistry(neighbours[j], vertex.id, visited, priority, maxDepth, 0);
                // Sort each level according to atomic number
                for (var k = 0; k < priority.length; k++) {
                    priority[k].sort(function (a, b) {
                        return b - a;
                    });
                }
                priorities[j] = [j, priority];
            }
            let maxLevels = 0;
            let maxEntries = 0;
            for (var j = 0; j < priorities.length; j++) {
                if (priorities[j][1].length > maxLevels) {
                    maxLevels = priorities[j][1].length;
                }
                for (var k = 0; k < priorities[j][1].length; k++) {
                    if (priorities[j][1][k].length > maxEntries) {
                        maxEntries = priorities[j][1][k].length;
                    }
                }
            }
            for (var j = 0; j < priorities.length; j++) {
                let diff = maxLevels - priorities[j][1].length;
                for (var k = 0; k < diff; k++) {
                    priorities[j][1].push([]);
                }
                // Break ties by the position in the SMILES string as per specification
                priorities[j][1].push([neighbours[j]]);
                // Make all same length. Fill with zeroes.
                for (var k = 0; k < priorities[j][1].length; k++) {
                    let diff = maxEntries - priorities[j][1][k].length;
                    for (var l = 0; l < diff; l++) {
                        priorities[j][1][k].push(0);
                    }
                }
            }
            priorities.sort(function (a, b) {
                for (var j = 0; j < a[1].length; j++) {
                    for (var k = 0; k < a[1][j].length; k++) {
                        if (a[1][j][k] > b[1][j][k]) {
                            return -1;
                        }
                        else if (a[1][j][k] < b[1][j][k]) {
                            return 1;
                        }
                    }
                }
                return 0;
            });
            let order = new Uint8Array(nNeighbours);
            for (var j = 0; j < nNeighbours; j++) {
                order[j] = priorities[j][0];
                vertex.value.priority = j;
            }
            // Check the angles between elements 0 and 1, and 0 and 2 to determine whether they are
            // drawn cw or ccw
            // TODO: OC(Cl)=[C@]=C(C)F currently fails here, however this is, IMHO, not a valid SMILES.
            let posA = this.graph.vertices[neighbours[order[0]]].position;
            let posB = this.graph.vertices[neighbours[order[1]]].position;
            let posC = this.graph.vertices[neighbours[order[2]]].position;
            let cwA = posA.relativeClockwise(posB, vertex.position);
            let cwB = posA.relativeClockwise(posC, vertex.position);
            // If the second priority is clockwise from the first, the ligands are drawn clockwise, since
            // The hydrogen can be drawn on either side
            let isCw = cwA === -1;
            let rotation = vertex.value.bracket.chirality === "@" ? -1 : 1;
            let rs = _MathHelper__WEBPACK_IMPORTED_MODULE_3__.MathHelper.parityOfPermutation(order) * rotation === 1 ? "R" : "S";
            // Flip the hydrogen direction when the drawing doesn't match the chirality.
            let wedgeA = "down";
            let wedgeB = "up";
            if ((isCw && rs !== "R") || (!isCw && rs !== "S")) {
                vertex.value.hydrogenDirection = "up";
                wedgeA = "up";
                wedgeB = "down";
            }
            if (vertex.value.hasHydrogen) {
                this.graph.getEdge(vertex.id, neighbours[order[order.length - 1]]).wedge = wedgeA;
            }
            // Get the shortest subtree to flip up / down. Ignore lowest priority
            // The rules are following:
            // 1. Do not draw wedge between two stereocenters
            // 2. Heteroatoms
            // 3. Draw outside ring
            // 4. Shortest subtree
            let wedgeOrder = new Array(neighbours.length - 1);
            let showHydrogen = vertex.value.rings.length > 1 && vertex.value.hasHydrogen;
            let offset = vertex.value.hasHydrogen ? 1 : 0;
            for (var j = 0; j < order.length - offset; j++) {
                wedgeOrder[j] = new Uint32Array(2);
                let neighbour = this.graph.vertices[neighbours[order[j]]];
                wedgeOrder[j][0] += neighbour.value.isStereoCenter ? 0 : 100000;
                // wedgeOrder[j][0] += neighbour.value.rings.length > 0 ? 0 : 10000;
                // Only add if in same ring, unlike above
                wedgeOrder[j][0] += this.areVerticesInSameRing(neighbour, vertex)
                    ? 0
                    : 10000;
                wedgeOrder[j][0] += neighbour.value.isHeteroAtom() ? 1000 : 0;
                wedgeOrder[j][0] -= neighbour.value.subtreeDepth === 0 ? 1000 : 0;
                wedgeOrder[j][0] += 1000 - neighbour.value.subtreeDepth;
                wedgeOrder[j][1] = neighbours[order[j]];
            }
            wedgeOrder.sort(function (a, b) {
                if (a[0] > b[0]) {
                    return -1;
                }
                else if (a[0] < b[0]) {
                    return 1;
                }
                return 0;
            });
            // If all neighbours are in a ring, do not draw wedge, the hydrogen will be drawn.
            if (!showHydrogen) {
                let wedgeId = wedgeOrder[0][1];
                if (vertex.value.hasHydrogen) {
                    this.graph.getEdge(vertex.id, wedgeId).wedge = wedgeB;
                }
                else {
                    let wedge = wedgeB;
                    for (var j = order.length - 1; j >= 0; j--) {
                        if (wedge === wedgeA) {
                            wedge = wedgeB;
                        }
                        else {
                            wedge = wedgeA;
                        }
                        if (neighbours[order[j]] === wedgeId) {
                            break;
                        }
                    }
                    this.graph.getEdge(vertex.id, wedgeId).wedge = wedge;
                }
            }
            vertex.value.chirality = rs;
        }
    }
    /**
     *
     *
     * @param {Number} vertexId The id of a vertex.
     * @param {(Number|null)} previousVertexId The id of the parent vertex of the vertex.
     * @param {Uint8Array} visited An array containing the visited flag for all vertices in the graph.
     * @param {Array} priority An array of arrays storing the atomic numbers for each level.
     * @param {Number} maxDepth The maximum depth.
     * @param {Number} depth The current depth.
     */
    visitStereochemistry(vertexId, previousVertexId, visited, priority, maxDepth, depth, parentAtomicNumber = 0) {
        visited[vertexId] = 1;
        let vertex = this.graph.vertices[vertexId];
        let atomicNumber = vertex.value.getAtomicNumber();
        if (priority.length <= depth) {
            priority.push(Array());
        }
        for (var i = 0; i < this.graph.getEdge(vertexId, previousVertexId).weight; i++) {
            priority[depth].push(parentAtomicNumber * 1000 + atomicNumber);
        }
        let neighbours = this.graph.vertices[vertexId].neighbours;
        for (var i = 0; i < neighbours.length; i++) {
            if (visited[neighbours[i]] !== 1 && depth < maxDepth - 1) {
                this.visitStereochemistry(neighbours[i], vertexId, visited.slice(), priority, maxDepth, depth + 1, atomicNumber);
            }
        }
        // Valences are filled with hydrogens and passed to the next level.
        if (depth < maxDepth - 1) {
            let bonds = 0;
            for (var i = 0; i < neighbours.length; i++) {
                bonds += this.graph.getEdge(vertexId, neighbours[i]).weight;
            }
            for (var i = 0; i < vertex.value.getMaxBonds() - bonds; i++) {
                if (priority.length <= depth + 1) {
                    priority.push(Array());
                }
                priority[depth + 1].push(atomicNumber * 1000 + 1);
            }
        }
    }
    /**
     * Creates pseudo-elements (such as Et, Me, Ac, Bz, ...) at the position of the carbon sets
     * the involved atoms not to be displayed.
     */
    initPseudoElements() {
        for (var i = 0; i < this.graph.vertices.length; i++) {
            const vertex = this.graph.vertices[i];
            const neighbourIds = vertex.neighbours;
            let neighbours = Array(neighbourIds.length);
            for (var j = 0; j < neighbourIds.length; j++) {
                neighbours[j] = this.graph.vertices[neighbourIds[j]];
            }
            // Ignore atoms that have less than 3 neighbours, except if
            // the vertex is connected to a ring and has two neighbours
            if (vertex.getNeighbourCount() < 3 || vertex.value.rings.length > 0) {
                continue;
            }
            // TODO: This exceptions should be handled more elegantly (via config file?)
            // Ignore phosphates (especially for triphosphates)
            if (vertex.value.element === "P") {
                continue;
            }
            // Ignore also guanidine
            if (vertex.value.element === "C" &&
                neighbours.length === 3 &&
                neighbours[0].value.element === "N" &&
                neighbours[1].value.element === "N" &&
                neighbours[2].value.element === "N") {
                continue;
            }
            // Continue if there are less than two heteroatoms
            // or if a neighbour has more than 1 neighbour
            let heteroAtomCount = 0;
            let ctn = 0;
            for (var j = 0; j < neighbours.length; j++) {
                let neighbour = neighbours[j];
                let neighbouringElement = neighbour.value.element;
                let neighbourCount = neighbour.getNeighbourCount();
                if (neighbouringElement !== "C" &&
                    neighbouringElement !== "H" &&
                    neighbourCount === 1) {
                    heteroAtomCount++;
                }
                if (neighbourCount > 1) {
                    ctn++;
                }
            }
            if (ctn > 1 || heteroAtomCount < 2) {
                continue;
            }
            // Get the previous atom (the one which is not terminal)
            let previous = null;
            for (var j = 0; j < neighbours.length; j++) {
                let neighbour = neighbours[j];
                if (neighbour.getNeighbourCount() > 1) {
                    previous = neighbour;
                }
            }
            for (var j = 0; j < neighbours.length; j++) {
                let neighbour = neighbours[j];
                if (neighbour.getNeighbourCount() > 1) {
                    continue;
                }
                neighbour.value.isDrawn = false;
                let hydrogens = _Atom__WEBPACK_IMPORTED_MODULE_0__.Atom.maxBonds[neighbour.value.element] - neighbour.value.bondCount;
                let charge = "";
                if (neighbour.value.bracket) {
                    hydrogens = neighbour.value.bracket.hcount;
                    charge = neighbour.value.bracket.charge || 0;
                }
                vertex.value.attachPseudoElement(neighbour.value.element, previous ? previous.value.element : null, hydrogens, charge);
            }
        }
        // The second pass
        for (var i = 0; i < this.graph.vertices.length; i++) {
            const vertex = this.graph.vertices[i];
            const atom = vertex.value;
            const element = atom.element;
            if (element === "C" || element === "H" || !atom.isDrawn) {
                continue;
            }
            const neighbourIds = vertex.neighbours;
            let neighbours = Array(neighbourIds.length);
            for (var j = 0; j < neighbourIds.length; j++) {
                neighbours[j] = this.graph.vertices[neighbourIds[j]];
            }
            for (var j = 0; j < neighbours.length; j++) {
                let neighbour = neighbours[j].value;
                if (!neighbour.hasAttachedPseudoElements ||
                    neighbour.getAttachedPseudoElementsCount() !== 2) {
                    continue;
                }
                const pseudoElements = neighbour.getAttachedPseudoElements();
                if (pseudoElements.hasOwnProperty("0O") &&
                    pseudoElements.hasOwnProperty("3C")) {
                    neighbour.isDrawn = false;
                    vertex.value.attachPseudoElement("Ac", "", 0);
                }
            }
        }
    }
}


/***/ }),

/***/ "./src/Edge.ts":
/*!*********************!*\
  !*** ./src/Edge.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Edge: () => (/* binding */ Edge)
/* harmony export */ });
/**
 * A class representing an edge.
 *
 * @property {Number} id The id of this edge.
 * @property {Number} sourceId The id of the source vertex.
 * @property {Number} targetId The id of the target vertex.
 * @property {Number} weight The weight of this edge. That is, the degree of the bond (single bond = 1, double bond = 2, etc).
 * @property {String} [bondType='-'] The bond type of this edge.
 * @property {Boolean} [isPartOfAromaticRing=false] Whether or not this edge is part of an aromatic ring.
 * @property {Boolean} [center=false] Whether or not the bond is centered. For example, this affects straight double bonds.
 * @property {String} [wedge=''] Wedge direction. Either '', 'up' or 'down'
 */
class Edge {
    /**
     * The constructor for the class Edge.
     *
     * @param sourceId A vertex id.
     * @param targetId A vertex id.
     * @param weight The weight of the edge (default is 1).
     */
    constructor(sourceId, targetId, weight = 1) {
        this.id = null;
        this.bondType = "-";
        this.isPartOfAromaticRing = false;
        this.center = false;
        this.wedge = "";
        this.sourceId = sourceId;
        this.targetId = targetId;
        this.weight = weight;
    }
    /**
     * Set the bond type of this edge. This also sets the edge weight.
     * @param bondType The type of bond.
     */
    setBondType(bondType) {
        this.bondType = bondType;
        this.weight = Edge.bonds[bondType];
    }
    /**
     * An object mapping the bond type to the number of bonds.
     *
     * @returns The object containing the map.
     */
    static get bonds() {
        return {
            "-": 1,
            "/": 1,
            "\\": 1,
            "=": 2,
            "#": 3,
            $: 4,
        };
    }
}


/***/ }),

/***/ "./src/FormulaToCommonName.ts":
/*!************************************!*\
  !*** ./src/FormulaToCommonName.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   formulaToCommonName: () => (/* binding */ formulaToCommonName)
/* harmony export */ });
const formulaToCommonName = {
    C2H4O2: "acetic acid",
    C3H6O: "acetone",
    C2H3N: "acetonitrile",
    C6H6: "benzene",
    CCl4: "carbon tetrachloride",
    C6H5Cl: "chlorobenzene",
    CHCl3: "chloroform",
    C6H12: "cyclohexane",
    C2H4Cl2: "1,2-dichloroethane",
    C4H10O3: "diethylene glycol",
    C6H14O3: "diglyme",
    C4H10O2: "DME",
    C3H7NO: "DMF",
    C2H6OS: "DMSO",
    C2H6O: "ethanol",
    C2H6O2: "ethylene glycol",
    C3H8O3: "glycerin",
    C7H16: "heptane",
    C6H18N3OP: "HMPA",
    C6H18N3P: "HMPT",
    C6H14: "hexane",
    CH4O: "methanol",
    C5H12O: "MTBE",
    CH2Cl2: "methylene chloride",
    CH5H9NO: "NMP",
    CH3NO2: "nitromethane",
    C5H12: "pentane",
    C5H5N: "pyridine",
    C7H8: "toluene",
    C6H15N: "triethyl amine",
};


/***/ }),

/***/ "./src/GaussDrawer.ts":
/*!****************************!*\
  !*** ./src/GaussDrawer.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GaussDrawer: () => (/* binding */ GaussDrawer)
/* harmony export */ });
/* harmony import */ var _Vector2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector2 */ "./src/Vector2.ts");
/* harmony import */ var _PixelsToSvg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PixelsToSvg */ "./src/PixelsToSvg.ts");


const chroma = __webpack_require__(/*! chroma-js */ "./node_modules/chroma-js/chroma.js");
class GaussDrawer {
    /**
     * The constructor of the class Graph.
     *
     * @param {Vector2[]} points The centres of the gaussians.
     * @param {number[]} weights The weights / amplitudes for each gaussian.
     */
    constructor(points, weights, width, height, sigma = 0.3, interval = 0, colormap = null, opacity = 1.0, normalized = false) {
        this.points = points;
        this.weights = weights;
        this.width = width;
        this.height = height;
        this.sigma = sigma;
        this.interval = interval;
        this.opacity = opacity;
        this.normalized = normalized;
        if (colormap === null) {
            const piyg11 = [
                "#c51b7d",
                "#de77ae",
                "#f1b6da",
                "#fde0ef",
                "#ffffff",
                "#e6f5d0",
                "#b8e186",
                "#7fbc41",
                "#4d9221",
            ];
            colormap = piyg11;
        }
        this.colormap = colormap;
        this.canvas = document.createElement("canvas");
        const ctx = this.canvas.getContext("2d");
        if (!ctx) {
            throw new Error("Failed to get 2D context");
        }
        this.context = ctx;
        this.canvas.width = this.width;
        this.canvas.height = this.height;
    }
    setFromArray(arr_points, arr_weights) {
        this.points = [];
        arr_points.forEach((a) => {
            this.points.push(new _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2(a[0], a[1]));
        });
        this.weights = [];
        arr_weights.forEach((w) => {
            this.weights.push(w);
        });
    }
    /**
     * Compute and draw the gaussians.
     */
    draw() {
        const m = Array(this.width)
            .fill(0)
            .map(() => Array(this.height).fill(0));
        // It looks like in some common js engines, multiplication by a
        // fraction is faster than division ...
        const divisor = 1.0 / (2 * Math.pow(this.sigma, 2));
        for (let i = 0; i < this.points.length; i++) {
            const v = this.points[i];
            const a = this.weights[i];
            for (let x = 0; x < this.width; x++) {
                for (let y = 0; y < this.height; y++) {
                    // let v_x = (x - v.x) ** 2 / (2 * this.sigma ** 2);
                    // let v_y = (y - v.y) ** 2 / (2 * this.sigma ** 2);
                    const v_xy = (Math.pow((x - v.x), 2) + Math.pow((y - v.y), 2)) * divisor;
                    const val = a * Math.exp(-v_xy);
                    m[x][y] += val;
                }
            }
        }
        let abs_max = 1.0;
        if (!this.normalized) {
            let max = -Number.MAX_SAFE_INTEGER;
            let min = Number.MAX_SAFE_INTEGER;
            for (let x = 0; x < this.width; x++) {
                for (let y = 0; y < this.height; y++) {
                    if (m[x][y] < min) {
                        min = m[x][y];
                    }
                    if (m[x][y] > max) {
                        max = m[x][y];
                    }
                }
            }
            abs_max = Math.max(Math.abs(min), Math.abs(max));
        }
        const scale = chroma.scale(this.colormap).domain([-1.0, 1.0]);
        for (let x = 0; x < this.width; x++) {
            for (let y = 0; y < this.height; y++) {
                if (!this.normalized) {
                    m[x][y] = m[x][y] / abs_max;
                }
                if (this.interval !== 0) {
                    m[x][y] = Math.round(m[x][y] / this.interval) * this.interval;
                }
                const [r, g, b] = scale(m[x][y]).rgb();
                this.setPixel(new _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2(x, y), r, g, b);
            }
        }
    }
    /**
     * Get the canvas as an HTML image.
     *
     * @param {(image: HTMLImageElement) => void} callback
     */
    getImage(callback) {
        const image = new Image();
        image.onload = () => {
            this.context.imageSmoothingEnabled = false;
            this.context.drawImage(image, 0, 0, this.width, this.height);
            if (callback) {
                callback(image);
            }
        };
        image.onerror = function (err) {
            console.log(err);
        };
        image.src = this.canvas.toDataURL();
    }
    /**
     * Get the canvas as an SVG element.
     *
     * @returns {string} The SVG representation of the canvas
     */
    getSVG() {
        return (0,_PixelsToSvg__WEBPACK_IMPORTED_MODULE_1__.convertImage)(this.context.getImageData(0, 0, this.width, this.height));
    }
    /**
     * Set the colour at a specific point on the canvas.
     *
     * @param {Vector2} vec The pixel position on the canvas.
     * @param {number} r The red colour-component.
     * @param {number} g The green colour-component.
     * @param {number} b The blue colour-component.
     */
    setPixel(vec, r, g, b) {
        this.context.fillStyle =
            "rgba(" + r + "," + g + "," + b + "," + this.opacity + ")";
        this.context.fillRect(vec.x, vec.y, 1, 1);
    }
}


/***/ }),

/***/ "./src/Graph.ts":
/*!**********************!*\
  !*** ./src/Graph.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graph: () => (/* binding */ Graph)
/* harmony export */ });
/* harmony import */ var _MathHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MathHelper */ "./src/MathHelper.ts");
/* harmony import */ var _Vertex__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Vertex */ "./src/Vertex.ts");
/* harmony import */ var _Atom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Atom */ "./src/Atom.ts");
/* harmony import */ var _Edge__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Edge */ "./src/Edge.ts");




/**
 * A class representing the molecular graph.
 *
 * @property {Vertex[]} vertices The vertices of the graph.
 * @property {Edge[]} edges The edges of this graph.
 * @property {Number[]} atomIdxToVertexId A map mapping atom indices to vertex ids.
 * @property {Object} vertexIdsToEdgeId A map mapping vertex ids to the edge between the two vertices. The key is defined as vertexAId + '_' + vertexBId.
 * @property {Boolean} isomeric A boolean indicating whether or not the SMILES associated with this graph is isomeric.
 */
class Graph {
    /**
     * The constructor of the class Graph.
     *
     * @param {Object} parseTree A SMILES parse tree.
     * @param {Boolean} [isomeric=false] A boolean specifying whether or not the SMILES is isomeric.
     */
    constructor(parseTree, isomeric = false) {
        this.vertices = Array();
        this.edges = Array();
        this.atomIdxToVertexId = Array();
        this.vertexIdsToEdgeId = {};
        this.isomeric = isomeric;
        // Used to assign indices to the heavy atoms.
        this._atomIdx = 0;
        // Used for the bridge detection algorithm
        this._time = 0;
        this._init(parseTree);
    }
    /**
     * PRIVATE FUNCTION. Initializing the graph from the parse tree.
     *
     * @param {Object} node The current node in the parse tree.
     * @param {Number} order The order of the node in the branch.
     * @param {?Number} parentVertexId The id of the previous vertex.
     * @param {Boolean} isBranch Whether or not the bond leading to this vertex is a branch bond. Branches are represented by parentheses in smiles (e.g. CC(O)C).
     */
    _init(node, order = 0, parentVertexId = null, isBranch = false) {
        var _a, _b;
        // Create a new vertex object
        const element = typeof node.atom === 'string' ? node.atom : node.atom.element;
        let atom = new _Atom__WEBPACK_IMPORTED_MODULE_2__.Atom(element, node.bond);
        if (element !== 'H' || (!node.hasNext && parentVertexId === null)) {
            atom.idx = this._atomIdx;
            this._atomIdx++;
        }
        atom.branchBond = (_a = node.branchBond) !== null && _a !== void 0 ? _a : null;
        atom.ringbonds = node.ringbonds;
        atom.bracket = typeof node.atom === 'object' && node.atom.element ? node.atom : null;
        atom.class = typeof node.atom === 'object' ? node.atom.class : undefined;
        let vertex = new _Vertex__WEBPACK_IMPORTED_MODULE_1__.Vertex(atom);
        let parentVertex = parentVertexId !== null ? this.vertices[parentVertexId] : null;
        this.addVertex(vertex);
        if (atom.idx !== null) {
            this.atomIdxToVertexId.push(vertex.id);
        }
        // Add the id of this node to the parent as child
        if (parentVertexId !== null && parentVertex) {
            const vertexId = vertex.id; // id is set by addVertex
            vertex.setParentVertexId(parentVertexId);
            vertex.value.addNeighbouringElement(parentVertex.value.element);
            parentVertex.addChild(vertexId);
            parentVertex.value.addNeighbouringElement(atom.element);
            // In addition create a spanningTreeChildren property, which later will
            // not contain the children added through ringbonds
            parentVertex.spanningTreeChildren.push(vertexId);
            // Add edge between this node and its parent
            let edge = new _Edge__WEBPACK_IMPORTED_MODULE_3__.Edge(parentVertexId, vertexId, 1);
            if (isBranch) {
                edge.setBondType(vertex.value.branchBond || '-');
                edge.setBondType(vertex.value.branchBond || '-');
            }
            else {
                edge.setBondType(parentVertex.value.bondType || '-');
            }
            let edgeId = this.addEdge(edge);
        }
        let offset = (typeof node.ringbondCount === 'number' ? node.ringbondCount : 0) + 1;
        if (atom.bracket && atom.bracket.hcount) {
            offset += atom.bracket.hcount;
        }
        let stereoHydrogens = 0;
        if (atom.bracket && typeof atom.bracket === 'object' && 'chirality' in atom.bracket && atom.bracket.chirality) {
            atom.isStereoCenter = true;
            stereoHydrogens = (_b = atom.bracket.hcount) !== null && _b !== void 0 ? _b : 0;
            for (var i = 0; i < stereoHydrogens; i++) {
                this._init({
                    atom: 'H',
                    isBracket: 'false',
                    branches: Array(),
                    branchCount: 0,
                    ringbonds: Array(),
                    ringbondCount: false,
                    next: null,
                    hasNext: false,
                    bond: '-'
                }, i, vertex.id, true);
            }
        }
        for (var i = 0; i < node.branchCount; i++) {
            this._init(node.branches[i], i + offset, vertex.id, true);
        }
        if (node.hasNext && node.next) {
            this._init(node.next, node.branchCount + offset, vertex.id);
        }
    }
    /**
     * Clears all the elements in this graph (edges and vertices).
     */
    clear() {
        this.vertices = Array();
        this.edges = Array();
        this.vertexIdsToEdgeId = {};
    }
    /**
     * Add a vertex to the graph.
     *
     * @param {Vertex} vertex A new vertex.
     * @returns {Number} The vertex id of the new vertex.
     */
    addVertex(vertex) {
        vertex.id = this.vertices.length;
        this.vertices.push(vertex);
        return vertex.id;
    }
    /**
     * Add an edge to the graph.
     *
     * @param {Edge} edge A new edge.
     * @returns {Number} The edge id of the new edge.
     */
    addEdge(edge) {
        let source = this.vertices[edge.sourceId];
        let target = this.vertices[edge.targetId];
        edge.id = this.edges.length;
        this.edges.push(edge);
        this.vertexIdsToEdgeId[edge.sourceId + '_' + edge.targetId] = edge.id;
        this.vertexIdsToEdgeId[edge.targetId + '_' + edge.sourceId] = edge.id;
        edge.isPartOfAromaticRing = source.value.isPartOfAromaticRing && target.value.isPartOfAromaticRing;
        source.value.bondCount += edge.weight;
        target.value.bondCount += edge.weight;
        source.edges.push(edge.id);
        target.edges.push(edge.id);
        return edge.id;
    }
    /**
     * Returns the edge between two given vertices.
     *
     * @param {Number} vertexIdA A vertex id.
     * @param {Number} vertexIdB A vertex id.
     * @returns {(Edge|null)} The edge or, if no edge can be found, null.
     */
    getEdge(vertexIdA, vertexIdB) {
        let edgeId = this.vertexIdsToEdgeId[vertexIdA + '_' + vertexIdB];
        return edgeId === undefined ? null : this.edges[edgeId];
    }
    /**
     * Returns the ids of edges connected to a vertex.
     *
     * @param {Number} vertexId A vertex id.
     * @returns {Number[]} An array containing the ids of edges connected to the vertex.
     */
    getEdges(vertexId) {
        let edgeIds = Array();
        let vertex = this.vertices[vertexId];
        for (var i = 0; i < vertex.neighbours.length; i++) {
            edgeIds.push(this.vertexIdsToEdgeId[vertexId + '_' + vertex.neighbours[i]]);
        }
        return edgeIds;
    }
    /**
     * Check whether or not two vertices are connected by an edge.
     *
     * @param {Number} vertexIdA A vertex id.
     * @param {Number} vertexIdB A vertex id.
     * @returns {Boolean} A boolean indicating whether or not two vertices are connected by an edge.
     */
    hasEdge(vertexIdA, vertexIdB) {
        return this.vertexIdsToEdgeId[vertexIdA + '_' + vertexIdB] !== undefined;
    }
    /**
     * Returns an array containing the vertex ids of this graph.
     *
     * @returns {Number[]} An array containing all vertex ids of this graph.
     */
    getVertexList() {
        let arr = Array(this.vertices.length);
        for (var i = 0; i < this.vertices.length; i++) {
            arr[i] = this.vertices[i].id;
        }
        return arr;
    }
    /**
     * Returns an array containing source, target arrays of this graphs edges.
     *
     * @returns {Array[]} An array containing source, target arrays of this graphs edges. Example: [ [ 2, 5 ], [ 6, 9 ] ].
     */
    getEdgeList() {
        let arr = Array(this.edges.length);
        for (var i = 0; i < this.edges.length; i++) {
            arr[i] = [this.edges[i].sourceId, this.edges[i].targetId];
        }
        return arr;
    }
    /**
     * Get the adjacency matrix of the graph.
     *
     * @returns {Array[]} The adjancency matrix of the molecular graph.
     */
    getAdjacencyMatrix() {
        let length = this.vertices.length;
        let adjacencyMatrix = Array(length);
        for (var i = 0; i < length; i++) {
            adjacencyMatrix[i] = new Array(length);
            adjacencyMatrix[i].fill(0);
        }
        for (var i = 0; i < this.edges.length; i++) {
            let edge = this.edges[i];
            adjacencyMatrix[edge.sourceId][edge.targetId] = 1;
            adjacencyMatrix[edge.targetId][edge.sourceId] = 1;
        }
        return adjacencyMatrix;
    }
    /**
     * Get the adjacency matrix of the graph with all bridges removed (thus the components). Thus the remaining vertices are all part of ring systems.
     *
     * @returns {Array[]} The adjancency matrix of the molecular graph with all bridges removed.
     */
    getComponentsAdjacencyMatrix() {
        let length = this.vertices.length;
        let adjacencyMatrix = Array(length);
        let bridges = this.getBridges();
        for (var i = 0; i < length; i++) {
            adjacencyMatrix[i] = new Array(length);
            adjacencyMatrix[i].fill(0);
        }
        for (var i = 0; i < this.edges.length; i++) {
            let edge = this.edges[i];
            adjacencyMatrix[edge.sourceId][edge.targetId] = 1;
            adjacencyMatrix[edge.targetId][edge.sourceId] = 1;
        }
        for (var i = 0; i < bridges.length; i++) {
            adjacencyMatrix[bridges[i][0]][bridges[i][1]] = 0;
            adjacencyMatrix[bridges[i][1]][bridges[i][0]] = 0;
        }
        return adjacencyMatrix;
    }
    /**
     * Get the adjacency matrix of a subgraph.
     *
     * @param {Number[]} vertexIds An array containing the vertex ids contained within the subgraph.
     * @returns {Array[]} The adjancency matrix of the subgraph.
     */
    getSubgraphAdjacencyMatrix(vertexIds) {
        let length = vertexIds.length;
        let adjacencyMatrix = Array(length);
        for (var i = 0; i < length; i++) {
            adjacencyMatrix[i] = new Array(length);
            adjacencyMatrix[i].fill(0);
            for (var j = 0; j < length; j++) {
                if (i === j) {
                    continue;
                }
                if (this.hasEdge(vertexIds[i], vertexIds[j])) {
                    adjacencyMatrix[i][j] = 1;
                }
            }
        }
        return adjacencyMatrix;
    }
    /**
     * Get the distance matrix of the graph.
     *
     * @returns {Array[]} The distance matrix of the graph.
     */
    getDistanceMatrix() {
        let length = this.vertices.length;
        let adja = this.getAdjacencyMatrix();
        let dist = Array(length);
        for (var i = 0; i < length; i++) {
            dist[i] = Array(length);
            dist[i].fill(Infinity);
        }
        for (var i = 0; i < length; i++) {
            for (var j = 0; j < length; j++) {
                if (adja[i][j] === 1) {
                    dist[i][j] = 1;
                }
            }
        }
        for (var k = 0; k < length; k++) {
            for (var i = 0; i < length; i++) {
                for (var j = 0; j < length; j++) {
                    if (dist[i][j] > dist[i][k] + dist[k][j]) {
                        dist[i][j] = dist[i][k] + dist[k][j];
                    }
                }
            }
        }
        return dist;
    }
    /**
     * Get the distance matrix of a subgraph.
     *
     * @param {Number[]} vertexIds An array containing the vertex ids contained within the subgraph.
     * @returns {Array[]} The distance matrix of the subgraph.
     */
    getSubgraphDistanceMatrix(vertexIds) {
        let length = vertexIds.length;
        let adja = this.getSubgraphAdjacencyMatrix(vertexIds);
        let dist = Array(length);
        for (var i = 0; i < length; i++) {
            dist[i] = Array(length);
            dist[i].fill(Infinity);
        }
        for (var i = 0; i < length; i++) {
            for (var j = 0; j < length; j++) {
                if (adja[i][j] === 1) {
                    dist[i][j] = 1;
                }
            }
        }
        for (var k = 0; k < length; k++) {
            for (var i = 0; i < length; i++) {
                for (var j = 0; j < length; j++) {
                    if (dist[i][j] > dist[i][k] + dist[k][j]) {
                        dist[i][j] = dist[i][k] + dist[k][j];
                    }
                }
            }
        }
        return dist;
    }
    /**
     * Get the adjacency list of the graph.
     *
     * @returns {Array[]} The adjancency list of the graph.
     */
    getAdjacencyList() {
        let length = this.vertices.length;
        let adjacencyList = Array(length);
        for (var i = 0; i < length; i++) {
            adjacencyList[i] = [];
            for (var j = 0; j < length; j++) {
                if (i === j) {
                    continue;
                }
                if (this.hasEdge(this.vertices[i].id, this.vertices[j].id)) {
                    adjacencyList[i].push(j);
                }
            }
        }
        return adjacencyList;
    }
    /**
     * Get the adjacency list of a subgraph.
     *
     * @param {Number[]} vertexIds An array containing the vertex ids contained within the subgraph.
     * @returns {Array[]} The adjancency list of the subgraph.
     */
    getSubgraphAdjacencyList(vertexIds) {
        let length = vertexIds.length;
        let adjacencyList = Array(length);
        for (var i = 0; i < length; i++) {
            adjacencyList[i] = Array();
            for (var j = 0; j < length; j++) {
                if (i === j) {
                    continue;
                }
                if (this.hasEdge(vertexIds[i], vertexIds[j])) {
                    adjacencyList[i].push(j);
                }
            }
        }
        return adjacencyList;
    }
    /**
     * Returns an array containing the edge ids of bridges. A bridge splits the graph into multiple components when removed.
     *
     * @returns {Number[]} An array containing the edge ids of the bridges.
     *
     * @example
     * ```typescript
     * const graph = new Graph(parseTree);
     * const bridges = graph.getBridges();
     * console.log(`Found ${bridges.length} rotatable bonds`);
     * ```
     */
    getBridges() {
        let length = this.vertices.length;
        let visited = new Array(length);
        let disc = new Array(length);
        let low = new Array(length);
        let parent = new Array(length);
        let adj = this.getAdjacencyList();
        let outBridges = Array();
        visited.fill(false);
        parent.fill(null);
        this._time = 0;
        for (var i = 0; i < length; i++) {
            if (!visited[i]) {
                this._bridgeDfs(i, visited, disc, low, parent, adj, outBridges);
            }
        }
        return outBridges;
    }
    /**
     * Traverses the graph in breadth-first order.
     *
     * @param {Number} startVertexId The id of the starting vertex.
     * @param {Function} callback The callback function to be called on every vertex.
     */
    traverseBF(startVertexId, callback) {
        let length = this.vertices.length;
        let visited = new Array(length);
        visited.fill(false);
        var queue = [startVertexId];
        while (queue.length > 0) {
            // JavaScripts shift() is O(n) ... bad JavaScript, bad!
            let u = queue.shift();
            let vertex = this.vertices[u];
            callback(vertex);
            for (var i = 0; i < vertex.neighbours.length; i++) {
                let v = vertex.neighbours[i];
                if (!visited[v]) {
                    visited[v] = true;
                    queue.push(v);
                }
            }
        }
    }
    /**
     * Get the depth of a subtree in the direction opposite to the vertex specified as the parent vertex.
     *
     * @param {Number} vertexId A vertex id.
     * @param {Number} parentVertexId The id of a neighbouring vertex.
     * @returns {Number} The depth of the sub-tree.
     */
    getTreeDepth(vertexId, parentVertexId) {
        if (vertexId === null || parentVertexId === null) {
            return 0;
        }
        let neighbours = this.vertices[vertexId].getSpanningTreeNeighbours(parentVertexId);
        let max = 0;
        for (var i = 0; i < neighbours.length; i++) {
            let childId = neighbours[i];
            let d = this.getTreeDepth(childId, vertexId);
            if (d > max) {
                max = d;
            }
        }
        return max + 1;
    }
    /**
     * Traverse a sub-tree in the graph.
     *
     * @param {Number} vertexId A vertex id.
     * @param {Number} parentVertexId A neighbouring vertex.
     * @param {Function} callback The callback function that is called with each visited as an argument.
     * @param {Number} [maxDepth=999999] The maximum depth of the recursion.
     * @param {Boolean} [ignoreFirst=false] Whether or not to ignore the starting vertex supplied as vertexId in the callback.
     * @param {Number} [depth=1] The current depth in the tree.
     * @param {Uint8Array} [visited=null] An array holding a flag on whether or not a node has been visited.
     */
    traverseTree(vertexId, parentVertexId, callback, maxDepth = 999999, ignoreFirst = false, depth = 1, visited = null) {
        if (visited === null) {
            visited = new Uint8Array(this.vertices.length);
        }
        if (depth > maxDepth + 1 || visited[vertexId] === 1) {
            return;
        }
        visited[vertexId] = 1;
        let vertex = this.vertices[vertexId];
        let neighbours = vertex.getNeighbours(parentVertexId);
        if (!ignoreFirst || depth > 1) {
            callback(vertex);
        }
        for (var i = 0; i < neighbours.length; i++) {
            this.traverseTree(neighbours[i], vertexId, callback, maxDepth, ignoreFirst, depth + 1, visited);
        }
    }
    /**
     * Positiones the (sub)graph using Kamada and Kawais algorithm for drawing general undirected graphs. https://pdfs.semanticscholar.org/b8d3/bca50ccc573c5cb99f7d201e8acce6618f04.pdf
     * There are undocumented layout parameters. They are undocumented for a reason, so be very careful.
     *
     * @param {Number[]} vertexIds An array containing vertexIds to be placed using the force based layout.
     * @param {Vector2} center The center of the layout.
     * @param {Number} startVertexId A vertex id. Should be the starting vertex - e.g. the first to be positioned and connected to a previously place vertex.
     * @param {Ring} ring The bridged ring associated with this force-based layout.
     * @param {Number} bondLength The length of bonds in the layout.
     * @param {Number} threshold The energy threshold for the outer loop.
     * @param {Number} innerThreshold The energy threshold for the inner loop.
     * @param {Number} maxIteration Maximum iterations for the outer loop.
     * @param {Number} maxInnerIteration Maximum iterations for the inner loop.
     * @param {Number} maxEnergy Maximum energy value.
     */
    kkLayout(vertexIds, center, startVertexId, ring, bondLength, threshold = 0.1, innerThreshold = 0.1, maxIteration = 2000, maxInnerIteration = 50, maxEnergy = 1e9) {
        let edgeStrength = bondLength;
        // Add vertices that are directly connected to the ring
        var i = vertexIds.length;
        while (i--) {
            let vertex = this.vertices[vertexIds[i]];
            var j = vertex.neighbours.length;
        }
        let matDist = this.getSubgraphDistanceMatrix(vertexIds);
        let length = vertexIds.length;
        // Initialize the positions. Place all vertices on a ring around the center
        let radius = _MathHelper__WEBPACK_IMPORTED_MODULE_0__.MathHelper.polyCircumradius(500, length);
        let angle = _MathHelper__WEBPACK_IMPORTED_MODULE_0__.MathHelper.centralAngle(length);
        let a = 0.0;
        let arrPositionX = new Float32Array(length);
        let arrPositionY = new Float32Array(length);
        let arrPositioned = Array(length);
        i = length;
        while (i--) {
            let vertex = this.vertices[vertexIds[i]];
            if (!vertex.positioned) {
                arrPositionX[i] = center.x + Math.cos(a) * radius;
                arrPositionY[i] = center.y + Math.sin(a) * radius;
            }
            else {
                arrPositionX[i] = vertex.position.x;
                arrPositionY[i] = vertex.position.y;
            }
            arrPositioned[i] = vertex.positioned;
            a += angle;
        }
        // Create the matrix containing the lengths
        let matLength = Array(length);
        i = length;
        while (i--) {
            matLength[i] = new Array(length);
            var j = length;
            while (j--) {
                matLength[i][j] = bondLength * matDist[i][j];
            }
        }
        // Create the matrix containing the spring strenghts
        let matStrength = Array(length);
        i = length;
        while (i--) {
            matStrength[i] = Array(length);
            var j = length;
            while (j--) {
                matStrength[i][j] = edgeStrength * Math.pow(matDist[i][j], -2.0);
            }
        }
        // Create the matrix containing the energies
        let matEnergy = Array(length);
        let arrEnergySumX = new Float32Array(length);
        let arrEnergySumY = new Float32Array(length);
        i = length;
        while (i--) {
            matEnergy[i] = Array(length);
        }
        i = length;
        let ux, uy, dEx, dEy, vx, vy, denom;
        while (i--) {
            ux = arrPositionX[i];
            uy = arrPositionY[i];
            dEx = 0.0;
            dEy = 0.0;
            let j = length;
            while (j--) {
                if (i === j) {
                    continue;
                }
                vx = arrPositionX[j];
                vy = arrPositionY[j];
                denom = 1.0 / Math.sqrt((ux - vx) * (ux - vx) + (uy - vy) * (uy - vy));
                matEnergy[i][j] = [
                    matStrength[i][j] * ((ux - vx) - matLength[i][j] * (ux - vx) * denom),
                    matStrength[i][j] * ((uy - vy) - matLength[i][j] * (uy - vy) * denom)
                ];
                matEnergy[j][i] = matEnergy[i][j];
                dEx += matEnergy[i][j][0];
                dEy += matEnergy[i][j][1];
            }
            arrEnergySumX[i] = dEx;
            arrEnergySumY[i] = dEy;
        }
        // Utility functions, maybe inline them later
        let energy = function (index) {
            return [arrEnergySumX[index] * arrEnergySumX[index] + arrEnergySumY[index] * arrEnergySumY[index], arrEnergySumX[index], arrEnergySumY[index]];
        };
        let highestEnergy = function () {
            let maxEnergy = 0.0;
            let maxEnergyId = 0;
            let maxDEX = 0.0;
            let maxDEY = 0.0;
            i = length;
            while (i--) {
                let [delta, dEX, dEY] = energy(i);
                if (delta > maxEnergy && arrPositioned[i] === false) {
                    maxEnergy = delta;
                    maxEnergyId = i;
                    maxDEX = dEX;
                    maxDEY = dEY;
                }
            }
            return [maxEnergyId, maxEnergy, maxDEX, maxDEY];
        };
        let update = function (index, dEX, dEY) {
            let dxx = 0.0;
            let dyy = 0.0;
            let dxy = 0.0;
            let ux = arrPositionX[index];
            let uy = arrPositionY[index];
            let arrL = matLength[index];
            let arrK = matStrength[index];
            i = length;
            while (i--) {
                if (i === index) {
                    continue;
                }
                let vx = arrPositionX[i];
                let vy = arrPositionY[i];
                let l = arrL[i];
                let k = arrK[i];
                let m = (ux - vx) * (ux - vx);
                let denom = 1.0 / Math.pow(m + (uy - vy) * (uy - vy), 1.5);
                dxx += k * (1 - l * (uy - vy) * (uy - vy) * denom);
                dyy += k * (1 - l * m * denom);
                dxy += k * (l * (ux - vx) * (uy - vy) * denom);
            }
            // Prevent division by zero
            if (dxx === 0) {
                dxx = 0.1;
            }
            if (dyy === 0) {
                dyy = 0.1;
            }
            if (dxy === 0) {
                dxy = 0.1;
            }
            let dy = (dEX / dxx + dEY / dxy);
            dy /= (dxy / dxx - dyy / dxy); // had to split this onto two lines because the syntax highlighter went crazy.
            let dx = -(dxy * dy + dEX) / dxx;
            arrPositionX[index] += dx;
            arrPositionY[index] += dy;
            // Update the energies
            let arrE = matEnergy[index];
            dEX = 0.0;
            dEY = 0.0;
            ux = arrPositionX[index];
            uy = arrPositionY[index];
            let vx, vy, prevEx, prevEy, denom;
            i = length;
            while (i--) {
                if (index === i) {
                    continue;
                }
                vx = arrPositionX[i];
                vy = arrPositionY[i];
                // Store old energies
                prevEx = arrE[i][0];
                prevEy = arrE[i][1];
                denom = 1.0 / Math.sqrt((ux - vx) * (ux - vx) + (uy - vy) * (uy - vy));
                dx = arrK[i] * ((ux - vx) - arrL[i] * (ux - vx) * denom);
                dy = arrK[i] * ((uy - vy) - arrL[i] * (uy - vy) * denom);
                arrE[i] = [dx, dy];
                dEX += dx;
                dEY += dy;
                arrEnergySumX[i] += dx - prevEx;
                arrEnergySumY[i] += dy - prevEy;
            }
            arrEnergySumX[index] = dEX;
            arrEnergySumY[index] = dEY;
        };
        // Setting up variables for the while loops
        let maxEnergyId = 0;
        let dEX = 0.0;
        let dEY = 0.0;
        let delta = 0.0;
        let iteration = 0;
        let innerIteration = 0;
        while (maxEnergy > threshold && maxIteration > iteration) {
            iteration++;
            [maxEnergyId, maxEnergy, dEX, dEY] = highestEnergy();
            delta = maxEnergy;
            innerIteration = 0;
            while (delta > innerThreshold && maxInnerIteration > innerIteration) {
                innerIteration++;
                update(maxEnergyId, dEX, dEY);
                [delta, dEX, dEY] = energy(maxEnergyId);
            }
        }
        i = length;
        while (i--) {
            let index = vertexIds[i];
            let vertex = this.vertices[index];
            vertex.position.x = arrPositionX[i];
            vertex.position.y = arrPositionY[i];
            vertex.positioned = true;
            vertex.forcePositioned = true;
        }
    }
    /**
     * PRIVATE FUNCTION used by getBridges().
     */
    _bridgeDfs(u, visited, disc, low, parent, adj, outBridges) {
        visited[u] = true;
        disc[u] = low[u] = ++this._time;
        for (var i = 0; i < adj[u].length; i++) {
            let v = adj[u][i];
            if (!visited[v]) {
                parent[v] = u;
                this._bridgeDfs(v, visited, disc, low, parent, adj, outBridges);
                low[u] = Math.min(low[u], low[v]);
                // If low > disc, we have a bridge
                if (low[v] > disc[u]) {
                    outBridges.push([u, v]);
                }
            }
            else if (v !== parent[u]) {
                low[u] = Math.min(low[u], disc[v]);
            }
        }
    }
    /**
     * Returns the connected components of the graph.
     *
     * @param {Array[]} adjacencyMatrix An adjacency matrix.
     * @returns {Set[]} Connected components as sets.
     */
    static getConnectedComponents(adjacencyMatrix) {
        let length = adjacencyMatrix.length;
        let visited = new Array(length);
        let components = new Array();
        let count = 0;
        visited.fill(false);
        for (var u = 0; u < length; u++) {
            if (!visited[u]) {
                let component = Array();
                visited[u] = true;
                component.push(u);
                count++;
                Graph._ccGetDfs(u, visited, adjacencyMatrix, component);
                if (component.length > 1) {
                    components.push(component);
                }
            }
        }
        return components;
    }
    /**
     * Returns the number of connected components for the graph.
     *
     * @param {Array[]} adjacencyMatrix An adjacency matrix.
     * @returns {Number} The number of connected components of the supplied graph.
     */
    static getConnectedComponentCount(adjacencyMatrix) {
        let length = adjacencyMatrix.length;
        let visited = new Array(length);
        let count = 0;
        visited.fill(false);
        for (var u = 0; u < length; u++) {
            if (!visited[u]) {
                visited[u] = true;
                count++;
                Graph._ccCountDfs(u, visited, adjacencyMatrix);
            }
        }
        return count;
    }
    /**
     * PRIVATE FUNCTION used by getConnectedComponentCount().
     */
    static _ccCountDfs(u, visited, adjacencyMatrix) {
        for (var v = 0; v < adjacencyMatrix[u].length; v++) {
            let c = adjacencyMatrix[u][v];
            if (!c || visited[v] || u === v) {
                continue;
            }
            visited[v] = true;
            Graph._ccCountDfs(v, visited, adjacencyMatrix);
        }
    }
    /**
     * PRIVATE FUNCTION used by getConnectedComponents().
     */
    static _ccGetDfs(u, visited, adjacencyMatrix, component) {
        for (var v = 0; v < adjacencyMatrix[u].length; v++) {
            let c = adjacencyMatrix[u][v];
            if (!c || visited[v] || u === v) {
                continue;
            }
            visited[v] = true;
            component.push(v);
            Graph._ccGetDfs(v, visited, adjacencyMatrix, component);
        }
    }
}


/***/ }),

/***/ "./src/Line.ts":
/*!*********************!*\
  !*** ./src/Line.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Line: () => (/* binding */ Line)
/* harmony export */ });
/* harmony import */ var _Vector2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector2 */ "./src/Vector2.ts");

/**
 * A class representing a line.
 *
 * @property {Vector2} from The Vector2 defining the start of the line.
 * @property {Vector2} to The Vector2 defining the end of the line.
 * @property {String} elementFrom The element symbol associated with the start of the line.
 * @property {String} elementTo The element symbol associated with the end of the line.
 * @property {Boolean} chiralFrom A boolean indicating whether or not the source atom is a chiral center.
 * @property {Boolean} chiralTo A boolean indicating whether or tno the target atom is a chiral center.
 */
class Line {
    /**
     * The constructor for the class Line.
     *
     * @param {Vector2} [from=new Vector2(0, 0)] A vector marking the beginning of the line.
     * @param {Vector2} [to=new Vector2(0, 0)] A vector marking the end of the line.
     * @param {string} [elementFrom=null] A one-letter representation of the element associated with the vector marking the beginning of the line.
     * @param {string} [elementTo=null] A one-letter representation of the element associated with the vector marking the end of the line.
     * @param {Boolean} [chiralFrom=false] Whether or not the from atom is a chiral center.
     * @param {Boolean} [chiralTo=false] Whether or not the to atom is a chiral center.
     */
    constructor(from = new _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2(0, 0), to = new _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2(0, 0), elementFrom = null, elementTo = null, chiralFrom = false, chiralTo = false) {
        this.from = from;
        this.to = to;
        this.elementFrom = elementFrom;
        this.elementTo = elementTo;
        this.chiralFrom = chiralFrom;
        this.chiralTo = chiralTo;
    }
    /**
     * Clones this line and returns the clone.
     *
     * @returns {Line} A clone of this line.
     */
    clone() {
        return new Line(this.from.clone(), this.to.clone(), this.elementFrom, this.elementTo);
    }
    /**
     * Returns the length of this line.
     *
     * @returns {Number} The length of this line.
     */
    getLength() {
        return Math.sqrt(Math.pow(this.to.x - this.from.x, 2) +
            Math.pow(this.to.y - this.from.y, 2));
    }
    /**
     * Returns the angle of the line in relation to the coordinate system (the x-axis).
     *
     * @returns {Number} The angle in radians.
     */
    getAngle() {
        // Get the angle between the line and the x-axis
        let diff = _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.subtract(this.getRightVector(), this.getLeftVector());
        return diff.angle();
    }
    /**
     * Returns the right vector (the vector with the larger x value).
     *
     * @returns {Vector2} The right vector.
     */
    getRightVector() {
        // Return the vector with the larger x value (the right one)
        if (this.from.x < this.to.x) {
            return this.to;
        }
        else {
            return this.from;
        }
    }
    /**
     * Returns the left vector (the vector with the smaller x value).
     *
     * @returns {Vector2} The left vector.
     */
    getLeftVector() {
        // Return the vector with the smaller x value (the left one)
        if (this.from.x < this.to.x) {
            return this.from;
        }
        else {
            return this.to;
        }
    }
    /**
     * Returns the element associated with the right vector (the vector with the larger x value).
     *
     * @returns {String} The element associated with the right vector.
     */
    getRightElement() {
        if (this.from.x < this.to.x) {
            return this.elementTo;
        }
        else {
            return this.elementFrom;
        }
    }
    /**
     * Returns the element associated with the left vector (the vector with the smaller x value).
     *
     * @returns {String} The element associated with the left vector.
     */
    getLeftElement() {
        if (this.from.x < this.to.x) {
            return this.elementFrom;
        }
        else {
            return this.elementTo;
        }
    }
    /**
     * Returns whether or not the atom associated with the right vector (the vector with the larger x value) is a chiral center.
     *
     * @returns {Boolean} Whether or not the atom associated with the right vector is a chiral center.
     */
    getRightChiral() {
        if (this.from.x < this.to.x) {
            return this.chiralTo;
        }
        else {
            return this.chiralFrom;
        }
    }
    /**
     * Returns whether or not the atom associated with the left vector (the vector with the smaller x value) is a chiral center.
     *
     * @returns {Boolean} Whether or not the atom  associated with the left vector is a chiral center.
     */
    getLeftChiral() {
        if (this.from.x < this.to.x) {
            return this.chiralFrom;
        }
        else {
            return this.chiralTo;
        }
    }
    /**
     * Set the value of the right vector.
     *
     * @param {Number} x The x value.
     * @param {Number} y The y value.
     * @returns {Line} This line.
     */
    setRightVector(x, y) {
        if (this.from.x < this.to.x) {
            this.to.x = x;
            this.to.y = y;
        }
        else {
            this.from.x = x;
            this.from.y = y;
        }
        return this;
    }
    /**
     * Set the value of the left vector.
     *
     * @param {Number} x The x value.
     * @param {Number} y The y value.
     * @returns {Line} This line.
     */
    setLeftVector(x, y) {
        if (this.from.x < this.to.x) {
            this.from.x = x;
            this.from.y = y;
        }
        else {
            this.to.x = x;
            this.to.y = y;
        }
        return this;
    }
    /**
     * Rotates this line to be aligned with the x-axis. The center of rotation is the left vector.
     *
     * @returns {Line} This line.
     */
    rotateToXAxis() {
        let left = this.getLeftVector();
        this.setRightVector(left.x + this.getLength(), left.y);
        return this;
    }
    /**
     * Rotate the line by a given value (in radians). The center of rotation is the left vector.
     *
     * @param {Number} theta The angle (in radians) to rotate the line.
     * @returns {Line} This line.
     */
    rotate(theta) {
        let l = this.getLeftVector();
        let r = this.getRightVector();
        let sinTheta = Math.sin(theta);
        let cosTheta = Math.cos(theta);
        let x = cosTheta * (r.x - l.x) - sinTheta * (r.y - l.y) + l.x;
        let y = sinTheta * (r.x - l.x) - cosTheta * (r.y - l.y) + l.y;
        this.setRightVector(x, y);
        return this;
    }
    /**
     * Shortens this line from the "from" direction by a given value (in pixels).
     *
     * @param {Number} by The length in pixels to shorten the vector by.
     * @returns {Line} This line.
     */
    shortenFrom(by) {
        let f = _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.subtract(this.to, this.from);
        f.normalize();
        f.multiplyScalar(by);
        this.from.add(f);
        return this;
    }
    /**
     * Shortens this line from the "to" direction by a given value (in pixels).
     *
     * @param {Number} by The length in pixels to shorten the vector by.
     * @returns {Line} This line.
     */
    shortenTo(by) {
        let f = _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.subtract(this.from, this.to);
        f.normalize();
        f.multiplyScalar(by);
        this.to.add(f);
        return this;
    }
    /**
     * Shorten the right side.
     *
     * @param {Number} by The length in pixels to shorten the vector by.
     * @returns {Line} Returns itself.
     */
    shortenRight(by) {
        if (this.from.x < this.to.x) {
            this.shortenTo(by);
        }
        else {
            this.shortenFrom(by);
        }
        return this;
    }
    /**
     * Shorten the left side.
     *
     * @param {Number} by The length in pixels to shorten the vector by.
     * @returns {Line} Returns itself.
     */
    shortenLeft(by) {
        if (this.from.x < this.to.x) {
            this.shortenFrom(by);
        }
        else {
            this.shortenTo(by);
        }
        return this;
    }
    /**
     * Shortens this line from both directions by a given value (in pixels).
     *
     * @param {Number} by The length in pixels to shorten the vector by.
     * @returns {Line} This line.
     */
    shorten(by) {
        let f = _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.subtract(this.from, this.to);
        f.normalize();
        f.multiplyScalar(by / 2.0);
        this.to.add(f);
        this.from.subtract(f);
        return this;
    }
}


/***/ }),

/***/ "./src/MathHelper.ts":
/*!***************************!*\
  !*** ./src/MathHelper.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MathHelper: () => (/* binding */ MathHelper)
/* harmony export */ });
/**
 * A static class containing helper functions for math-related tasks.
 */
class MathHelper {
    /** The factor to convert degrees to radians. */
    static get radFactor() {
        return Math.PI / 180.0;
    }
    /** The factor to convert radians to degrees. */
    static get degFactor() {
        return 180.0 / Math.PI;
    }
    /** Two times PI. */
    static get twoPI() {
        return 2.0 * Math.PI;
    }
    /**
     * Rounds a value to a given number of decimals.
     *
     * @static
     * @param {number} value A number.
     * @param {number} decimals The number of decimals.
     * @returns {number} A number rounded to a given number of decimals.
     */
    static round(value, decimals) {
        decimals = decimals !== null && decimals !== void 0 ? decimals : 1;
        return Number(Math.round(Number(value + "e" + decimals)) + "e-" + decimals);
    }
    /**
     * Returns the means of the angles contained in an array. In radians.
     *
     * @static
     * @param {number[]} arr An array containing angles (in radians).
     * @returns {number} The mean angle in radians.
     */
    static meanAngle(arr) {
        let sin = 0.0;
        let cos = 0.0;
        for (let i = 0; i < arr.length; i++) {
            sin += Math.sin(arr[i]);
            cos += Math.cos(arr[i]);
        }
        return Math.atan2(sin / arr.length, cos / arr.length);
    }
    /**
     * Returns the inner angle of a n-sided regular polygon.
     *
     * @static
     * @param {number} n Number of sides of a regular polygon.
     * @returns {number} The inner angle of a given regular polygon.
     */
    static innerAngle(n) {
        return MathHelper.toRad(((n - 2) * 180) / n);
    }
    /**
     * Returns the circumradius of a n-sided regular polygon with a given side-length.
     *
     * @static
     * @param {number} s The side length of the regular polygon.
     * @param {number} n The number of sides.
     * @returns {number} The circumradius of the regular polygon.
     */
    static polyCircumradius(s, n) {
        return s / (2 * Math.sin(Math.PI / n));
    }
    /**
     * Returns the apothem of a regular n-sided polygon based on its radius.
     *
     * @static
     * @param {number} r The radius.
     * @param {number} n The number of edges of the regular polygon.
     * @returns {number} The apothem of a n-sided polygon based on its radius.
     */
    static apothem(r, n) {
        return r * Math.cos(Math.PI / n);
    }
    /**
     * Returns the apothem from the side length of a regular polygon.
     *
     * @static
     * @param {number} s The side length.
     * @param {number} n The number of sides.
     * @returns {number} The apothem calculated from the side length.
     */
    static apothemFromSideLength(s, n) {
        const r = MathHelper.polyCircumradius(s, n);
        return MathHelper.apothem(r, n);
    }
    /**
     * The central angle of a n-sided regular polygon. In radians.
     *
     * @static
     * @param {number} n The number of sides of the regular polygon.
     * @returns {number} The central angle of the n-sided polygon in radians.
     */
    static centralAngle(n) {
        return MathHelper.toRad(360 / n);
    }
    /**
     * Converts radians to degrees.
     *
     * @static
     * @param {number} rad An angle in radians.
     * @returns {number} The angle in degrees.
     */
    static toDeg(rad) {
        return rad * MathHelper.degFactor;
    }
    /**
     * Converts degrees to radians.
     *
     * @static
     * @param {number} deg An angle in degrees.
     * @returns {number} The angle in radians.
     */
    static toRad(deg) {
        return deg * MathHelper.radFactor;
    }
    /**
     * Returns the parity of the permutation (1 or -1)
     * @param {(Array<number>|Uint8Array)} arr An array containing the permutation.
     * @returns {number} The parity of the permutation (1 or -1), where 1 means even and -1 means odd.
     */
    static parityOfPermutation(arr) {
        const visited = new Uint8Array(arr.length);
        let evenLengthCycleCount = 0;
        const traverseCycle = function (i, cycleLength = 0) {
            if (visited[i] === 1) {
                return cycleLength;
            }
            cycleLength++;
            visited[i] = 1;
            return traverseCycle(arr[i], cycleLength);
        };
        for (let i = 0; i < arr.length; i++) {
            if (visited[i] === 1) {
                continue;
            }
            const cycleLength = traverseCycle(i);
            evenLengthCycleCount += 1 - (cycleLength % 2);
        }
        return evenLengthCycleCount % 2 ? -1 : 1;
    }
}


/***/ }),

/***/ "./src/Options.ts":
/*!************************!*\
  !*** ./src/Options.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Options: () => (/* binding */ Options)
/* harmony export */ });
class Options {
    /**
     * A helper method to extend the default options with user supplied ones.
     */
    static extend(...args) {
        let extended = {};
        let deep = false;
        let i = 0;
        let length = args.length;
        if (Object.prototype.toString.call(args[0]) === "[object Boolean]") {
            deep = args[0];
            i++;
        }
        let merge = function (obj) {
            for (var prop in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, prop)) {
                    if (deep &&
                        Object.prototype.toString.call(obj[prop]) === "[object Object]") {
                        extended[prop] = Options.extend(true, extended[prop], obj[prop]);
                    }
                    else {
                        extended[prop] = obj[prop];
                    }
                }
            }
        };
        for (; i < length; i++) {
            let obj = args[i];
            merge(obj);
        }
        return extended;
    }
}


/***/ }),

/***/ "./src/Parser.ts":
/*!***********************!*\
  !*** ./src/Parser.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ParseSyntaxError: () => (/* binding */ ParseSyntaxError),
/* harmony export */   SyntaxError: () => (/* binding */ SyntaxError),
/* harmony export */   parse: () => (/* binding */ parse)
/* harmony export */ });
/**
 * TypeScript wrapper for the PEG.js generated parser.
 *
 * The actual parser implementation is in Parser.js (auto-generated).
 * This file provides TypeScript type definitions.
 */
// Import the generated parser
const ParserModule = __webpack_require__(/*! ./Parser.js */ "./src/Parser.js");
/**
 * Custom syntax error class for SMILES parsing errors.
 */
class SyntaxError extends Error {
    constructor(message, expected, found, location) {
        super(message);
        this.name = 'SyntaxError';
        this.expected = expected;
        this.found = found;
        this.location = location;
    }
}
/**
 * Parses a SMILES string into a parse tree.
 *
 * @param {string} input The SMILES string to parse.
 * @returns {ParseTreeNode} The parsed tree structure.
 * @throws {SyntaxError} If the SMILES string is invalid.
 *
 * @example
 * ```typescript
 * import { parse } from './Parser';
 *
 * const tree = parse('c1ccccc1'); // benzene
 * console.log(tree.atom); // 'c'
 * ```
 */
function parse(input) {
    return ParserModule.parse(input);
}
// Re-export the SyntaxError from the module
const ParseSyntaxError = ParserModule.SyntaxError;


/***/ }),

/***/ "./src/PixelsToSvg.ts":
/*!****************************!*\
  !*** ./src/PixelsToSvg.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   convertImage: () => (/* binding */ convertImage)
/* harmony export */ });
// Adapted from https://codepen.io/shshaw/pen/XbxvNj by
function convertImage(img) {
    /**
     * Iterates over an array or object and applies a function to each item.
     * Stops iteration if the function returns `false`.
     *
     * @param obj - The array or object to iterate over.
     * @param fn - The function to apply to each item.
     */
    function each(obj, fn) {
        if (Array.isArray(obj)) {
            for (let i = 0; i < obj.length; i++) {
                if (fn.call(obj[i], i, obj[i]) === false) {
                    break;
                }
            }
        }
        else {
            for (const key in obj) {
                if (fn.call(obj[key], key, obj[key]) === false) {
                    break;
                }
            }
        }
    }
    /**
     * Converts a color component to a two-character hexadecimal string.
     *
     * @param c - The color component value.
     * @returns A two-character hexadecimal string.
     */
    function componentToHex(c) {
        const hex = parseInt(c).toString(16);
        return hex.length === 1 ? "0" + hex : hex;
    }
    /**
     * Converts RGBA components to a color string.
     *
     * @param r - Red component.
     * @param g - Green component.
     * @param b - Blue component.
     * @param a - Alpha component.
     * @returns A color string in hex or rgba format, or `false` if transparent.
     */
    function getColor(r, g, b, a) {
        const alpha = parseInt(a);
        if (alpha === undefined || alpha === 255) {
            return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
        }
        if (alpha === 0) {
            return false;
        }
        return `rgba(${r},${g},${b},${alpha / 255})`;
    }
    /**
     * Generates an SVG path data string for a horizontal line.
     *
     * @param x - The starting x-coordinate.
     * @param y - The y-coordinate.
     * @param w - The width of the line.
     * @returns An SVG path data string.
     */
    function makePathData(x, y, w) {
        return `M${x} ${y}h${w}`;
    }
    /**
     * Generates an SVG path element string for a given color and path data.
     *
     * @param color - The stroke color of the path.
     * @param data - The path data.
     * @returns An SVG path element string.
     */
    function makePath(color, data) {
        return `<path stroke="${color}" d="${data}" />\n`;
    }
    /**
     * Converts a map of colors and pixel positions to SVG path elements.
     *
     * @param colors - A map of color strings to arrays of pixel positions.
     * @returns A string containing SVG path elements.
     */
    function colorsToPaths(colors) {
        let output = "";
        each(colors, function (color, values) {
            const orig = color;
            const colorValue = getColor(...color.toString().split(","));
            if (colorValue === false) {
                return;
            }
            const paths = [];
            let curPath;
            let w = 1;
            each(values, function (index, val) {
                if (curPath && val[1] === curPath[1] && val[0] === curPath[0] + w) {
                    w++;
                }
                else {
                    if (curPath) {
                        paths.push(makePathData(curPath[0], curPath[1], w));
                        w = 1;
                    }
                    curPath = val;
                }
            });
            if (curPath) {
                paths.push(makePathData(curPath[0], curPath[1], w)); // Finish the last path
            }
            output += makePath(colorValue, paths.join(""));
        });
        return output;
    }
    /**
     * Extracts colors and their corresponding pixel positions from image data.
     *
     * @param img - The image data.
     * @returns A map of color strings to arrays of pixel positions.
     */
    function getColors(img) {
        const colors = {};
        const { data, width } = img;
        const len = data.length;
        for (let i = 0; i < len; i += 4) {
            if (data[i + 3] > 0) {
                const color = `${data[i]},${data[i + 1]},${data[i + 2]},${data[i + 3]}`;
                if (!colors[color]) {
                    colors[color] = [];
                }
                const x = (i / 4) % width;
                const y = Math.floor(i / 4 / width);
                colors[color].push([x, y]);
            }
        }
        return colors;
    }
    const colors = getColors(img);
    const paths = colorsToPaths(colors);
    const output = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -0.5 ${img.width} ${img.height}" shape-rendering="crispEdges"><g shape-rendering="crispEdges">${paths}</g></svg>`;
    const dummyDiv = document.createElement("div");
    dummyDiv.innerHTML = output;
    return dummyDiv.firstChild;
}


/***/ }),

/***/ "./src/Reaction.ts":
/*!*************************!*\
  !*** ./src/Reaction.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Reaction: () => (/* binding */ Reaction)
/* harmony export */ });
/* harmony import */ var _Parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Parser */ "./src/Parser.ts");

class Reaction {
    /**
     * The constructor for the class Reaction.
     *
     * @param {string} reactionSmiles A reaction SMILES.
     */
    constructor(reactionSmiles) {
        this.reactantsSmiles = [];
        this.reagentsSmiles = [];
        this.productsSmiles = [];
        this.reactantsWeights = [];
        this.reagentsWeights = [];
        this.productsWeights = [];
        this.reactants = [];
        this.reagents = [];
        this.products = [];
        const parts = reactionSmiles.split(">");
        if (parts.length !== 3) {
            throw new Error("Invalid reaction SMILES. Did you add fewer than or more than two '>'?");
        }
        if (parts[0] !== "") {
            this.reactantsSmiles = parts[0].split(".");
        }
        if (parts[1] !== "") {
            this.reagentsSmiles = parts[1].split(".");
        }
        if (parts[2] !== "") {
            this.productsSmiles = parts[2].split(".");
        }
        for (let i = 0; i < this.reactantsSmiles.length; i++) {
            this.reactants.push(_Parser__WEBPACK_IMPORTED_MODULE_0__.parse(this.reactantsSmiles[i]));
        }
        for (let i = 0; i < this.reagentsSmiles.length; i++) {
            this.reagents.push(_Parser__WEBPACK_IMPORTED_MODULE_0__.parse(this.reagentsSmiles[i]));
        }
        for (let i = 0; i < this.productsSmiles.length; i++) {
            this.products.push(_Parser__WEBPACK_IMPORTED_MODULE_0__.parse(this.productsSmiles[i]));
        }
    }
}


/***/ }),

/***/ "./src/ReactionDrawer.ts":
/*!*******************************!*\
  !*** ./src/ReactionDrawer.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ReactionDrawer: () => (/* binding */ ReactionDrawer)
/* harmony export */ });
/* harmony import */ var _FormulaToCommonName__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FormulaToCommonName */ "./src/FormulaToCommonName.ts");
/* harmony import */ var _ThemeManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ThemeManager */ "./src/ThemeManager.ts");
/* harmony import */ var _Options__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Options */ "./src/Options.ts");
/* harmony import */ var _SvgWrapper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SvgWrapper */ "./src/SvgWrapper.js");
/* harmony import */ var _SvgDrawer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SvgDrawer */ "./src/SvgDrawer.ts");
// @ts-nocheck





class ReactionDrawer {
    /**
     * The constructor for the class ReactionDrawer.
     *
     * @param {Object} options An object containing reaction drawing specitic options.
     * @param {Object} moleculeOptions An object containing molecule drawing specific options.
     */
    constructor(options, moleculeOptions) {
        this.defaultOptions = {
            scale: moleculeOptions.scale > 0.0 ? moleculeOptions.scale : 1.0,
            fontSize: moleculeOptions.fontSizeLarge * 0.8,
            fontFamily: "Arial, Helvetica, sans-serif",
            spacing: 10,
            plus: {
                size: 9,
                thickness: 1.0,
            },
            arrow: {
                length: moleculeOptions.bondLength * 4.0,
                headSize: 6.0,
                thickness: 1.0,
                margin: 3,
            },
            weights: {
                normalize: false,
            },
        };
        this.opts = _Options__WEBPACK_IMPORTED_MODULE_2__.Options.extend(true, this.defaultOptions, options);
        this.drawer = new _SvgDrawer__WEBPACK_IMPORTED_MODULE_4__.SvgDrawer(moleculeOptions);
        this.molOpts = this.drawer.opts;
    }
    /**
     * Draws the parsed reaction smiles data to a canvas element.
     *
     * @param {Object} reaction The reaction object returned by the reaction smiles parser.
     * @param {(String|SVGElement)} target The id of the HTML canvas element the structure is drawn to - or the element itself.
     * @param {String} themeName='dark' The name of the theme to use. Built-in themes are 'light' and 'dark'.
     * @param {?Object} weights=null The weights for reactants, agents, and products.
     * @param {String} textAbove='{reagents}' The text above the arrow.
     * @param {String} textBelow='' The text below the arrow.
     * @param {?Object} weights=null The weights for reactants, agents, and products.
     * @param {Boolean} infoOnly=false Only output info on the molecule without drawing anything to the canvas.
     *
     * @returns {SVGElement} The svg element
     */
    draw(reaction, target, themeName = "light", weights = null, textAbove = "{reagents}", textBelow = "", infoOnly = false) {
        this.themeManager = new _ThemeManager__WEBPACK_IMPORTED_MODULE_1__.ThemeManager(this.molOpts.themes, themeName);
        // Normalize the weights over the reaction molecules
        if (this.opts.weights.normalize) {
            let max = -Number.MAX_SAFE_INTEGER;
            let min = Number.MAX_SAFE_INTEGER;
            if (weights.hasOwnProperty("reactants")) {
                for (let i = 0; i < weights.reactants.length; i++) {
                    for (let j = 0; j < weights.reactants[i].length; j++) {
                        if (weights.reactants[i][j] < min) {
                            min = weights.reactants[i][j];
                        }
                        if (weights.reactants[i][j] > max) {
                            max = weights.reactants[i][j];
                        }
                    }
                }
            }
            if (weights.hasOwnProperty("reagents")) {
                for (let i = 0; i < weights.reagents.length; i++) {
                    for (let j = 0; j < weights.reagents[i].length; j++) {
                        if (weights.reagents[i][j] < min) {
                            min = weights.reagents[i][j];
                        }
                        if (weights.reagents[i][j] > max) {
                            max = weights.reagents[i][j];
                        }
                    }
                }
            }
            if (weights.hasOwnProperty("products")) {
                for (let i = 0; i < weights.products.length; i++) {
                    for (let j = 0; j < weights.products[i].length; j++) {
                        if (weights.products[i][j] < min) {
                            min = weights.products[i][j];
                        }
                        if (weights.products[i][j] > max) {
                            max = weights.products[i][j];
                        }
                    }
                }
            }
            let abs_max = Math.max(Math.abs(min), Math.abs(max));
            if (abs_max === 0.0) {
                abs_max = 1;
            }
            if (weights.hasOwnProperty("reactants")) {
                for (let i = 0; i < weights.reactants.length; i++) {
                    for (let j = 0; j < weights.reactants[i].length; j++) {
                        weights.reactants[i][j] /= abs_max;
                    }
                }
            }
            if (weights.hasOwnProperty("reagents")) {
                for (let i = 0; i < weights.reagents.length; i++) {
                    for (let j = 0; j < weights.reagents[i].length; j++) {
                        weights.reagents[i][j] /= abs_max;
                    }
                }
            }
            if (weights.hasOwnProperty("products")) {
                for (let i = 0; i < weights.products.length; i++) {
                    for (let j = 0; j < weights.products[i].length; j++) {
                        weights.products[i][j] /= abs_max;
                    }
                }
            }
        }
        let svg = null;
        if (target === null || target === "svg") {
            svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            svg.setAttribute("xmlns", "http://www.w3.org/2000/svg");
            svg.setAttributeNS(null, "width", 500 + "");
            svg.setAttributeNS(null, "height", 500 + "");
        }
        else if (typeof target === "string" || target instanceof String) {
            svg = document.getElementById(target);
        }
        else {
            svg = target;
        }
        while (svg.firstChild) {
            svg.removeChild(svg.firstChild);
        }
        let elements = [];
        let maxHeight = 0.0;
        // Reactants
        for (var i = 0; i < reaction.reactants.length; i++) {
            if (i > 0) {
                elements.push({
                    width: this.opts.plus.size * this.opts.scale,
                    height: this.opts.plus.size * this.opts.scale,
                    svg: this.getPlus(),
                });
            }
            let reactantWeights = null;
            if (weights &&
                weights.hasOwnProperty("reactants") &&
                weights.reactants.length > i) {
                reactantWeights = weights.reactants[i];
            }
            let reactantSvg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            this.drawer.draw(reaction.reactants[i], reactantSvg, themeName, reactantWeights, infoOnly, [], this.opts.weights.normalize);
            let element = {
                width: reactantSvg.viewBox.baseVal.width * this.opts.scale,
                height: reactantSvg.viewBox.baseVal.height * this.opts.scale,
                svg: reactantSvg,
            };
            elements.push(element);
            if (element.height > maxHeight) {
                maxHeight = element.height;
            }
        }
        // Arrow
        elements.push({
            width: this.opts.arrow.length * this.opts.scale,
            height: this.opts.arrow.headSize * 2.0 * this.opts.scale,
            svg: this.getArrow(),
        });
        // Text above the arrow / reagents
        let reagentsText = "";
        for (var i = 0; i < reaction.reagents.length; i++) {
            if (i > 0) {
                reagentsText += ", ";
            }
            let text = this.drawer.getMolecularFormula(reaction.reagents[i]);
            if (text in _FormulaToCommonName__WEBPACK_IMPORTED_MODULE_0__.formulaToCommonName) {
                text = _FormulaToCommonName__WEBPACK_IMPORTED_MODULE_0__.formulaToCommonName[text];
            }
            reagentsText += _SvgWrapper__WEBPACK_IMPORTED_MODULE_3__.SvgWrapper.replaceNumbersWithSubscript(text);
        }
        textAbove = textAbove.replace("{reagents}", reagentsText);
        const topText = _SvgWrapper__WEBPACK_IMPORTED_MODULE_3__.SvgWrapper.writeText(textAbove, this.themeManager, this.opts.fontSize * this.opts.scale, this.opts.fontFamily, this.opts.arrow.length * this.opts.scale);
        let centerOffsetX = (this.opts.arrow.length * this.opts.scale - topText.width) / 2.0;
        elements.push({
            svg: topText.svg,
            height: topText.height,
            width: this.opts.arrow.length * this.opts.scale,
            offsetX: -(this.opts.arrow.length * this.opts.scale + this.opts.spacing) +
                centerOffsetX,
            offsetY: -(topText.height / 2.0) - this.opts.arrow.margin,
            position: "relative",
        });
        // Text below arrow
        const bottomText = _SvgWrapper__WEBPACK_IMPORTED_MODULE_3__.SvgWrapper.writeText(textBelow, this.themeManager, this.opts.fontSize * this.opts.scale, this.opts.fontFamily, this.opts.arrow.length * this.opts.scale);
        centerOffsetX =
            (this.opts.arrow.length * this.opts.scale - bottomText.width) / 2.0;
        elements.push({
            svg: bottomText.svg,
            height: bottomText.height,
            width: this.opts.arrow.length * this.opts.scale,
            offsetX: -(this.opts.arrow.length * this.opts.scale + this.opts.spacing) +
                centerOffsetX,
            offsetY: bottomText.height / 2.0 + this.opts.arrow.margin,
            position: "relative",
        });
        // Products
        for (var i = 0; i < reaction.products.length; i++) {
            if (i > 0) {
                elements.push({
                    width: this.opts.plus.size * this.opts.scale,
                    height: this.opts.plus.size * this.opts.scale,
                    svg: this.getPlus(),
                });
            }
            let productWeights = null;
            if (weights &&
                weights.hasOwnProperty("products") &&
                weights.products.length > i) {
                productWeights = weights.products[i];
            }
            let productSvg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            this.drawer.draw(reaction.products[i], productSvg, themeName, productWeights, infoOnly, [], this.opts.weights.normalize);
            let element = {
                width: productSvg.viewBox.baseVal.width * this.opts.scale,
                height: productSvg.viewBox.baseVal.height * this.opts.scale,
                svg: productSvg,
            };
            elements.push(element);
            if (element.height > maxHeight) {
                maxHeight = element.height;
            }
        }
        let totalWidth = 0.0;
        elements.forEach((element) => {
            var _a, _b;
            let offsetX = (_a = element.offsetX) !== null && _a !== void 0 ? _a : 0.0;
            let offsetY = (_b = element.offsetY) !== null && _b !== void 0 ? _b : 0.0;
            element.svg.setAttributeNS(null, "x", Math.round(totalWidth + offsetX));
            element.svg.setAttributeNS(null, "y", Math.round((maxHeight - element.height) / 2.0 + offsetY));
            element.svg.setAttributeNS(null, "width", Math.round(element.width));
            element.svg.setAttributeNS(null, "height", Math.round(element.height));
            svg.appendChild(element.svg);
            if (element.position !== "relative") {
                totalWidth += Math.round(element.width + this.opts.spacing + offsetX);
            }
        });
        svg.setAttributeNS(null, "viewBox", `0 0 ${totalWidth} ${maxHeight}`);
        svg.style.width = totalWidth + "px";
        svg.style.height = maxHeight + "px";
        return svg;
    }
    getPlus() {
        let s = this.opts.plus.size;
        let w = this.opts.plus.thickness;
        let svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        let rect_h = document.createElementNS("http://www.w3.org/2000/svg", "rect");
        let rect_v = document.createElementNS("http://www.w3.org/2000/svg", "rect");
        svg.setAttributeNS(null, "id", "plus");
        rect_h.setAttributeNS(null, "x", 0);
        rect_h.setAttributeNS(null, "y", s / 2.0 - w / 2.0);
        rect_h.setAttributeNS(null, "width", s);
        rect_h.setAttributeNS(null, "height", w);
        rect_h.setAttributeNS(null, "fill", this.themeManager.getColor("C"));
        rect_v.setAttributeNS(null, "x", s / 2.0 - w / 2.0);
        rect_v.setAttributeNS(null, "y", 0);
        rect_v.setAttributeNS(null, "width", w);
        rect_v.setAttributeNS(null, "height", s);
        rect_v.setAttributeNS(null, "fill", this.themeManager.getColor("C"));
        svg.appendChild(rect_h);
        svg.appendChild(rect_v);
        svg.setAttributeNS(null, "viewBox", `0 0 ${s} ${s}`);
        return svg;
    }
    getArrowhead() {
        let s = this.opts.arrow.headSize;
        let marker = document.createElementNS("http://www.w3.org/2000/svg", "marker");
        let polygon = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
        marker.setAttributeNS(null, "id", "arrowhead");
        marker.setAttributeNS(null, "viewBox", `0 0 ${s} ${s}`);
        marker.setAttributeNS(null, "markerUnits", "userSpaceOnUse");
        marker.setAttributeNS(null, "markerWidth", s);
        marker.setAttributeNS(null, "markerHeight", s);
        marker.setAttributeNS(null, "refX", 0);
        marker.setAttributeNS(null, "refY", s / 2);
        marker.setAttributeNS(null, "orient", "auto");
        marker.setAttributeNS(null, "fill", this.themeManager.getColor("C"));
        polygon.setAttributeNS(null, "points", `0 0, ${s} ${s / 2}, 0 ${s}`);
        marker.appendChild(polygon);
        return marker;
    }
    getCDArrowhead() {
        let s = this.opts.arrow.headSize;
        let sw = s * (7 / 4.5);
        let marker = document.createElementNS("http://www.w3.org/2000/svg", "marker");
        let path = document.createElementNS("http://www.w3.org/2000/svg", "path");
        marker.setAttributeNS(null, "id", "arrowhead");
        marker.setAttributeNS(null, "viewBox", `0 0 ${sw} ${s}`);
        marker.setAttributeNS(null, "markerUnits", "userSpaceOnUse");
        marker.setAttributeNS(null, "markerWidth", sw * 2);
        marker.setAttributeNS(null, "markerHeight", s * 2);
        marker.setAttributeNS(null, "refX", 2.2);
        marker.setAttributeNS(null, "refY", 2.2);
        marker.setAttributeNS(null, "orient", "auto");
        marker.setAttributeNS(null, "fill", this.themeManager.getColor("C"));
        path.setAttributeNS(null, "style", "fill-rule:nonzero;");
        path.setAttributeNS(null, "d", "m 0 0 l 7 2.25 l -7 2.25 c 0 0 0.735 -1.084 0.735 -2.28 c 0 -1.196 -0.735 -2.22 -0.735 -2.22 z");
        marker.appendChild(path);
        return marker;
    }
    getArrow() {
        let s = this.opts.arrow.headSize;
        let l = this.opts.arrow.length;
        let svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        let defs = document.createElementNS("http://www.w3.org/2000/svg", "defs");
        let line = document.createElementNS("http://www.w3.org/2000/svg", "line");
        defs.appendChild(this.getCDArrowhead());
        svg.appendChild(defs);
        svg.setAttributeNS(null, "id", "arrow");
        line.setAttributeNS(null, "x1", 0.0);
        line.setAttributeNS(null, "y1", -this.opts.arrow.thickness / 2.0);
        line.setAttributeNS(null, "x2", l);
        line.setAttributeNS(null, "y2", -this.opts.arrow.thickness / 2.0);
        line.setAttributeNS(null, "stroke-width", this.opts.arrow.thickness);
        line.setAttributeNS(null, "stroke", this.themeManager.getColor("C"));
        line.setAttributeNS(null, "marker-end", "url(#arrowhead)");
        svg.appendChild(line);
        svg.setAttributeNS(null, "viewBox", `0 ${-s / 2.0} ${l + s * (7 / 4.5)} ${s}`);
        return svg;
    }
}


/***/ }),

/***/ "./src/ReactionParser.ts":
/*!*******************************!*\
  !*** ./src/ReactionParser.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ReactionParser: () => (/* binding */ ReactionParser)
/* harmony export */ });
/* harmony import */ var _Reaction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Reaction */ "./src/Reaction.ts");

class ReactionParser {
    /**
     * Returns the hex code of a color associated with a key from the current theme.
     *
     * @param {String} reactionSmiles A reaction SMILES.
     * @returns {Reaction} A reaction object.
     */
    static parse(reactionSmiles) {
        let reaction = new _Reaction__WEBPACK_IMPORTED_MODULE_0__.Reaction(reactionSmiles);
        return reaction;
    }
}


/***/ }),

/***/ "./src/Ring.ts":
/*!*********************!*\
  !*** ./src/Ring.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ring: () => (/* binding */ Ring)
/* harmony export */ });
/* harmony import */ var _Vector2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector2 */ "./src/Vector2.ts");
/* harmony import */ var _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ArrayHelper */ "./src/ArrayHelper.ts");
/* harmony import */ var _RingConnection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RingConnection */ "./src/RingConnection.ts");



/**
 * A class representing a ring.
 *
 * @property {Number} id The id of this ring.
 * @property {Number[]} members An array containing the vertex ids of the ring members.
 * @property {Number[]} edges An array containing the edge ids of the edges between the ring members.
 * @property {Number[]} insiders An array containing the vertex ids of the vertices contained within the ring if it is a bridged ring.
 * @property {Number[]} neighbours An array containing the ids of neighbouring rings.
 * @property {Boolean} positioned A boolean indicating whether or not this ring has been positioned.
 * @property {Vector2} center The center of this ring.
 * @property {Ring[]} rings The rings contained within this ring if this ring is bridged.
 * @property {Boolean} isBridged A boolean whether or not this ring is bridged.
 * @property {Boolean} isPartOfBridged A boolean whether or not this ring is part of a bridge ring.
 * @property {Boolean} isSpiro A boolean whether or not this ring is part of a spiro.
 * @property {Boolean} isFused A boolean whether or not this ring is part of a fused ring.
 * @property {Number} centralAngle The central angle of this ring.
 * @property {Boolean} canFlip A boolean indicating whether or not this ring allows flipping of attached vertices to the inside of the ring.
 */
class Ring {
    /**
     * The constructor for the class Ring.
     *
     * @param {Number[]} members An array containing the vertex ids of the members of the ring to be created.
     */
    constructor(members) {
        this.id = null;
        this.members = members;
        this.edges = [];
        this.insiders = [];
        this.neighbours = [];
        this.positioned = false;
        this.center = new _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2(0, 0);
        this.rings = [];
        this.isBridged = false;
        this.isPartOfBridged = false;
        this.isSpiro = false;
        this.isFused = false;
        this.centralAngle = 0.0;
        this.canFlip = true;
    }
    /**
     * Clones this ring and returns the clone.
     *
     * @returns {Ring} A clone of this ring.
     */
    clone() {
        let clone = new Ring(this.members);
        clone.id = this.id;
        clone.insiders = _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.clone(this.insiders);
        clone.neighbours = _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.clone(this.neighbours);
        clone.positioned = this.positioned;
        clone.center = this.center.clone();
        clone.rings = _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.clone(this.rings);
        clone.isBridged = this.isBridged;
        clone.isPartOfBridged = this.isPartOfBridged;
        clone.isSpiro = this.isSpiro;
        clone.isFused = this.isFused;
        clone.centralAngle = this.centralAngle;
        clone.canFlip = this.canFlip;
        return clone;
    }
    /**
     * Returns the size (number of members) of this ring.
     *
     * @returns {Number} The size (number of members) of this ring.
     */
    getSize() {
        return this.members.length;
    }
    /**
     * Gets the polygon representation (an array of the ring-members positional vectors) of this ring.
     *
     * @param {Vertex[]} vertices An array of vertices representing the current molecule.
     * @returns {Vector2[]} An array of the positional vectors of the ring members.
     */
    getPolygon(vertices) {
        let polygon = [];
        for (let i = 0; i < this.members.length; i++) {
            polygon.push(vertices[this.members[i]].position);
        }
        return polygon;
    }
    /**
     * Returns the angle of this ring in relation to the coordinate system.
     *
     * @returns {Number} The angle in radians.
     */
    getAngle() {
        return Math.PI - this.centralAngle;
    }
    /**
     * Loops over the members of this ring from a given start position in a direction opposite to the vertex id passed as the previousId.
     *
     * @param {Vertex[]} vertices The vertices associated with the current molecule.
     * @param {Function} callback A callback with the current vertex id as a parameter.
     * @param {Number} startVertexId The vertex id of the start vertex.
     * @param {Number} previousVertexId The vertex id of the previous vertex (the loop calling the callback function will run in the opposite direction of this vertex).
     */
    eachMember(vertices, callback, startVertexId, previousVertexId) {
        startVertexId =
            startVertexId || startVertexId === 0 ? startVertexId : this.members[0];
        let current = startVertexId;
        let max = 0;
        while (current != null && max < 100) {
            let prev = current;
            callback(prev);
            current = vertices[current].getNextInRing(vertices, this.id, previousVertexId);
            previousVertexId = prev;
            // Stop while loop when arriving back at the start vertex
            if (current == startVertexId) {
                current = null;
            }
            max++;
        }
    }
    /**
     * Returns an array containing the neighbouring rings of this ring ordered by ring size.
     *
     * @param {RingConnection[]} ringConnections An array of ring connections associated with the current molecule.
     * @returns {Object[]} An array of neighbouring rings sorted by ring size. Example: { n: 5, neighbour: 1 }.
     */
    getOrderedNeighbours(ringConnections) {
        let orderedNeighbours = Array(this.neighbours.length);
        for (let i = 0; i < this.neighbours.length; i++) {
            let vertices = _RingConnection__WEBPACK_IMPORTED_MODULE_2__.RingConnection.getVertices(ringConnections, this.id, this.neighbours[i]);
            orderedNeighbours[i] = {
                n: vertices.length,
                neighbour: this.neighbours[i],
            };
        }
        orderedNeighbours.sort(function (a, b) {
            // Sort highest to lowest
            return b.n - a.n;
        });
        return orderedNeighbours;
    }
    /**
     * Check whether this ring is an implicitly defined benzene-like (e.g. C1=CC=CC=C1) with 6 members and 3 double bonds.
     *
     * @param {Vertex[]} vertices An array of vertices associated with the current molecule.
     * @returns {Boolean} A boolean indicating whether or not this ring is an implicitly defined benzene-like.
     */
    isBenzeneLike(vertices) {
        let db = this.getDoubleBondCount(vertices);
        let length = this.members.length;
        return (db === 3 && length === 6) || (db === 2 && length === 5);
    }
    /**
     * Get the number of double bonds inside this ring.
     *
     * @param {Vertex[]} vertices An array of vertices associated with the current molecule.
     * @returns {Number} The number of double bonds inside this ring.
     */
    getDoubleBondCount(vertices) {
        let doubleBondCount = 0;
        for (let i = 0; i < this.members.length; i++) {
            let atom = vertices[this.members[i]].value;
            if (atom.bondType === "=" || atom.branchBond === "=") {
                doubleBondCount++;
            }
        }
        return doubleBondCount;
    }
    /**
     * Checks whether or not this ring contains a member with a given vertex id.
     *
     * @param {Number} vertexId A vertex id.
     * @returns {Boolean} A boolean indicating whether or not this ring contains a member with the given vertex id.
     */
    contains(vertexId) {
        for (let i = 0; i < this.members.length; i++) {
            if (this.members[i] == vertexId) {
                return true;
            }
        }
        return false;
    }
}


/***/ }),

/***/ "./src/RingConnection.ts":
/*!*******************************!*\
  !*** ./src/RingConnection.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RingConnection: () => (/* binding */ RingConnection)
/* harmony export */ });
/**
 * A class representing a ring connection.
 *
 * @property {Number} id The id of this ring connection.
 * @property {Number} firstRingId A ring id.
 * @property {Number} secondRingId A ring id.
 * @property {Set<Number>} vertices A set containing the vertex ids participating in the ring connection.
 */
class RingConnection {
    ;
    ;
    /**
     * The constructor for the class RingConnection.
     *
     * @param {Ring} firstRing A ring.
     * @param {Ring} secondRing A ring.
     */
    constructor(firstRing, secondRing) {
        this.id = null;
        this.firstRingId = firstRing.id;
        this.secondRingId = secondRing.id;
        this.vertices = new Set();
        for (let m = 0; m < firstRing.members.length; m++) {
            let c = firstRing.members[m];
            for (let n = 0; n < secondRing.members.length; n++) {
                let d = secondRing.members[n];
                if (c === d) {
                    this.addVertex(c);
                }
            }
        }
    }
    /**
     * Adding a vertex to the ring connection.
     *
     * @param {Number} vertexId A vertex id.
     */
    addVertex(vertexId) {
        this.vertices.add(vertexId);
    }
    /**
     * Update the ring id of this ring connection that is not the ring id supplied as the second argument.
     *
     * @param {Number} ringId A ring id. The new ring id to be set.
     * @param {Number} otherRingId A ring id. The id that is NOT to be updated.
     */
    updateOther(ringId, otherRingId) {
        if (this.firstRingId === otherRingId) {
            this.secondRingId = ringId;
        }
        else {
            this.firstRingId = ringId;
        }
    }
    /**
     * Returns a boolean indicating whether or not a ring with a given id is participating in this ring connection.
     *
     * @param {Number} ringId A ring id.
     * @returns {Boolean} A boolean indicating whether or not a ring with a given id participates in this ring connection.
     */
    containsRing(ringId) {
        return this.firstRingId === ringId || this.secondRingId === ringId;
    }
    /**
     * Checks whether or not this ring connection is a bridge in a bridged ring.
     *
     * @param {Vertex[]} vertices The array of vertices associated with the current molecule.
     * @returns {Boolean} A boolean indicating whether or not this ring connection is a bridge.
     */
    isBridge(vertices) {
        if (this.vertices.size > 2) {
            return true;
        }
        for (let vertexId of this.vertices) {
            if (vertices[vertexId].value.rings.length > 2) {
                return true;
            }
        }
        return false;
    }
    /**
     * Checks whether or not two rings are connected by a bridged bond.
     *
     * @static
     * @param {RingConnection[]} ringConnections An array of ring connections containing the ring connections associated with the current molecule.
     * @param {Vertex[]} vertices An array of vertices containing the vertices associated with the current molecule.
     * @param {Number} firstRingId A ring id.
     * @param {Number} secondRingId A ring id.
     * @returns {Boolean} A boolean indicating whether or not two rings ar connected by a bridged bond.
     */
    static isBridge(ringConnections, vertices, firstRingId, secondRingId) {
        let ringConnection = null;
        for (let i = 0; i < ringConnections.length; i++) {
            ringConnection = ringConnections[i];
            if ((ringConnection.firstRingId === firstRingId &&
                ringConnection.secondRingId === secondRingId) ||
                (ringConnection.firstRingId === secondRingId &&
                    ringConnection.secondRingId === firstRingId)) {
                return ringConnection.isBridge(vertices);
            }
        }
        return false;
    }
    /**
     * Retruns the neighbouring rings of a given ring.
     *
     * @static
     * @param {RingConnection[]} ringConnections An array of ring connections containing ring connections associated with the current molecule.
     * @param {Number} ringId A ring id.
     * @returns {Number[]} An array of ring ids of neighbouring rings.
     */
    static getNeighbours(ringConnections, ringId) {
        let neighbours = [];
        for (let i = 0; i < ringConnections.length; i++) {
            let ringConnection = ringConnections[i];
            if (ringConnection.firstRingId === ringId) {
                neighbours.push(ringConnection.secondRingId);
            }
            else if (ringConnection.secondRingId === ringId) {
                neighbours.push(ringConnection.firstRingId);
            }
        }
        return neighbours;
    }
    /**
     * Returns an array of vertex ids associated with a given ring connection.
     *
     * @static
     * @param {RingConnection[]} ringConnections An array of ring connections containing ring connections associated with the current molecule.
     * @param {Number} firstRingId A ring id.
     * @param {Number} secondRingId A ring id.
     * @returns {Number[]} An array of vertex ids associated with the ring connection.
     */
    static getVertices(ringConnections, firstRingId, secondRingId) {
        for (let i = 0; i < ringConnections.length; i++) {
            let ringConnection = ringConnections[i];
            if ((ringConnection.firstRingId === firstRingId &&
                ringConnection.secondRingId === secondRingId) ||
                (ringConnection.firstRingId === secondRingId &&
                    ringConnection.secondRingId === firstRingId)) {
                return [...ringConnection.vertices];
            }
        }
        return [];
    }
}


/***/ }),

/***/ "./src/SvgDrawer.ts":
/*!**************************!*\
  !*** ./src/SvgDrawer.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SvgDrawer: () => (/* binding */ SvgDrawer)
/* harmony export */ });
/* harmony import */ var _Atom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Atom */ "./src/Atom.ts");
/* harmony import */ var _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ArrayHelper */ "./src/ArrayHelper.ts");
/* harmony import */ var _Vector2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Vector2 */ "./src/Vector2.ts");
/* harmony import */ var _Line__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Line */ "./src/Line.ts");
/* harmony import */ var _ThemeManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ThemeManager */ "./src/ThemeManager.ts");
/* harmony import */ var _SvgWrapper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SvgWrapper */ "./src/SvgWrapper.js");
/* harmony import */ var _GaussDrawer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GaussDrawer */ "./src/GaussDrawer.ts");
/* harmony import */ var _DrawerBase__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DrawerBase */ "./src/DrawerBase.ts");
// @ts-nocheck
// we use the drawer to do all the preprocessing. then we take over the drawing
// portion to output to svg








class SvgDrawer {
    constructor(options, clear = true) {
        this.preprocessor = new _DrawerBase__WEBPACK_IMPORTED_MODULE_7__.DrawerBase(options);
        this.opts = this.preprocessor.opts;
        this.clear = clear;
        this.svgWrapper = null;
    }
    /**
     * Draws the parsed smiles data to an svg element.
     *
     * @param {Object} data The tree returned by the smiles parser.
     * @param {?(String|SVGElement)} target The id of the HTML svg element the structure is drawn to - or the element itself.
     * @param {String} themeName='dark' The name of the theme to use. Built-in themes are 'light' and 'dark'.
     * @param {Boolean} infoOnly=false Only output info on the molecule without drawing anything to the canvas.
     *
     * @returns {SVGElement} The svg element
     */
    draw(data, target, themeName = "light", weights = null, infoOnly = false, highlight_atoms = [], weightsNormalized = false) {
        if (target === null || target === "svg") {
            target = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            target.setAttribute("xmlns", "http://www.w3.org/2000/svg");
            target.setAttribute("xmlns:xlink", "http://www.w3.org/1999/xlink");
            target.setAttributeNS(null, "width", this.opts.width.toString());
            target.setAttributeNS(null, "height", this.opts.height.toString());
        }
        else if (typeof target === "string") {
            target = document.getElementById(target);
        }
        let optionBackup = {
            padding: this.opts.padding,
            compactDrawing: this.opts.compactDrawing,
        };
        // Overwrite options when weights are added
        if (weights !== null) {
            this.opts.padding += this.opts.weights.additionalPadding;
            this.opts.compactDrawing = false;
        }
        let preprocessor = this.preprocessor;
        preprocessor.initDraw(data, themeName, infoOnly, highlight_atoms);
        if (!infoOnly) {
            this.themeManager = new _ThemeManager__WEBPACK_IMPORTED_MODULE_4__.ThemeManager(this.opts.themes, themeName);
            if (this.svgWrapper === null || this.clear) {
                this.svgWrapper = new _SvgWrapper__WEBPACK_IMPORTED_MODULE_5__.SvgWrapper(this.themeManager, target, this.opts, this.clear);
            }
        }
        preprocessor.processGraph();
        // Set the canvas to the appropriate size
        this.svgWrapper.determineDimensions(preprocessor.graph.vertices);
        // Do the actual drawing
        this.drawAtomHighlights(preprocessor.opts.debug);
        this.drawEdges(preprocessor.opts.debug);
        this.drawVertices(preprocessor.opts.debug);
        if (weights !== null) {
            this.drawWeights(weights, weightsNormalized);
        }
        if (preprocessor.opts.debug) {
            console.log(preprocessor.graph);
            console.log(preprocessor.rings);
            console.log(preprocessor.ringConnections);
        }
        this.svgWrapper.constructSvg();
        // Reset options in case weights were added.
        if (weights !== null) {
            this.opts.padding = optionBackup.padding;
            this.opts.compactDrawing = optionBackup.padding;
        }
        return target;
    }
    /**
     * Draws the parsed smiles data to a canvas element.
     *
     * @param {Object} data The tree returned by the smiles parser.
     * @param {(String|HTMLCanvasElement)} target The id of the HTML canvas element the structure is drawn to - or the element itself.
     * @param {String} themeName='dark' The name of the theme to use. Built-in themes are 'light' and 'dark'.
     * @param {Boolean} infoOnly=false Only output info on the molecule without drawing anything to the canvas.
     */
    drawCanvas(data, target, themeName = "light", infoOnly = false) {
        let canvas = null;
        if (typeof target === "string" || target instanceof String) {
            canvas = document.getElementById(target);
        }
        else {
            canvas = target;
        }
        let svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        svg.setAttribute("xmlns", "http://www.w3.org/2000/svg");
        // 500 as a size is arbritrary, but the canvas is scaled when drawn to the canvas anyway
        svg.setAttributeNS(null, "viewBox", "0 0 " + 500 + " " + 500);
        svg.setAttributeNS(null, "width", 500 + "");
        svg.setAttributeNS(null, "height", 500 + "");
        svg.setAttributeNS(null, "style", "visibility: hidden: position: absolute; left: -1000px");
        document.body.appendChild(svg);
        this.svgDrawer.draw(data, svg, themeName, infoOnly);
        this.svgDrawer.svgWrapper.toCanvas(canvas, this.svgDrawer.opts.width, this.svgDrawer.opts.height);
        document.body.removeChild(svg);
        return target;
    }
    /**
     * Draws a ring inside a provided ring, indicating aromaticity.
     *
     * @param {Ring} ring A ring.
     */
    drawAromaticityRing(ring) {
        let svgWrapper = this.svgWrapper;
        svgWrapper.drawRing(ring.center.x, ring.center.y, ring.getSize());
    }
    /**
     * Draw the actual edges as bonds.
     *
     * @param {Boolean} debug A boolean indicating whether or not to draw debug helpers.
     */
    drawEdges(debug) {
        let preprocessor = this.preprocessor, graph = preprocessor.graph, rings = preprocessor.rings, drawn = Array(this.preprocessor.graph.edges.length);
        drawn.fill(false);
        graph.traverseBF(0, (vertex) => {
            let edges = graph.getEdges(vertex.id);
            for (var i = 0; i < edges.length; i++) {
                let edgeId = edges[i];
                if (!drawn[edgeId]) {
                    drawn[edgeId] = true;
                    this.drawEdge(edgeId, debug);
                }
            }
        });
        // Draw ring for implicitly defined aromatic rings
        if (!this.bridgedRing) {
            for (var i = 0; i < rings.length; i++) {
                let ring = rings[i];
                //TODO: uses canvas ctx to draw... need to update this to SVG
                if (preprocessor.isRingAromatic(ring)) {
                    this.drawAromaticityRing(ring);
                }
            }
        }
    }
    /**
     * Draw the an edge as a bond.
     *
     * @param {Number} edgeId An edge id.
     * @param {Boolean} debug A boolean indicating whether or not to draw debug helpers.
     */
    drawEdge(edgeId, debug) {
        let preprocessor = this.preprocessor, opts = preprocessor.opts, svgWrapper = this.svgWrapper, edge = preprocessor.graph.edges[edgeId], vertexA = preprocessor.graph.vertices[edge.sourceId], vertexB = preprocessor.graph.vertices[edge.targetId], elementA = vertexA.value.element, elementB = vertexB.value.element;
        if ((!vertexA.value.isDrawn || !vertexB.value.isDrawn) &&
            preprocessor.opts.atomVisualization === "default") {
            return;
        }
        let a = vertexA.position, b = vertexB.position, normals = preprocessor.getEdgeNormals(edge), 
        // Create a point on each side of the line
        sides = _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.clone(normals);
        sides[0].multiplyScalar(10).add(a);
        sides[1].multiplyScalar(10).add(a);
        if (edge.bondType === "=" ||
            preprocessor.getRingbondType(vertexA, vertexB) === "=" ||
            (edge.isPartOfAromaticRing && preprocessor.bridgedRing)) {
            // Always draw double bonds inside the ring
            let inRing = preprocessor.areVerticesInSameRing(vertexA, vertexB);
            let s = preprocessor.chooseSide(vertexA, vertexB, sides);
            if (inRing) {
                // Always draw double bonds inside a ring
                // if the bond is shared by two rings, it is drawn in the larger
                // problem: smaller ring is aromatic, bond is still drawn in larger -> fix this
                let lcr = preprocessor.getLargestOrAromaticCommonRing(vertexA, vertexB);
                let center = lcr.center;
                normals[0].multiplyScalar(opts.bondSpacing);
                normals[1].multiplyScalar(opts.bondSpacing);
                // Choose the normal that is on the same side as the center
                let line = null;
                if (center.sameSideAs(vertexA.position, vertexB.position, _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[0]))) {
                    line = new _Line__WEBPACK_IMPORTED_MODULE_3__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[0]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[0]), elementA, elementB);
                }
                else {
                    line = new _Line__WEBPACK_IMPORTED_MODULE_3__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[1]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[1]), elementA, elementB);
                }
                line.shorten(opts.bondLength - opts.shortBondLength * opts.bondLength);
                // The shortened edge
                if (edge.isPartOfAromaticRing) {
                    // preprocessor.canvasWrapper.drawLine(line, true);
                    svgWrapper.drawLine(line, true);
                }
                else {
                    // preprocessor.canvasWrapper.drawLine(line);
                    svgWrapper.drawLine(line);
                }
                svgWrapper.drawLine(new _Line__WEBPACK_IMPORTED_MODULE_3__.Line(a, b, elementA, elementB));
            }
            else if (edge.center ||
                (vertexA.isTerminal() && vertexB.isTerminal()) ||
                (s.anCount == 0 && s.bnCount > 1) ||
                (s.bnCount == 0 && s.anCount > 1)) {
                this.multiplyNormals(normals, opts.halfBondSpacing);
                let lineA = new _Line__WEBPACK_IMPORTED_MODULE_3__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[0]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[0]), elementA, elementB), lineB = new _Line__WEBPACK_IMPORTED_MODULE_3__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[1]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[1]), elementA, elementB);
                svgWrapper.drawLine(lineA);
                svgWrapper.drawLine(lineB);
            }
            else if (s.sideCount[0] > s.sideCount[1] ||
                s.totalSideCount[0] > s.totalSideCount[1]) {
                this.multiplyNormals(normals, opts.bondSpacing);
                let line = new _Line__WEBPACK_IMPORTED_MODULE_3__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[0]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[0]), elementA, elementB);
                line.shorten(opts.bondLength - opts.shortBondLength * opts.bondLength);
                svgWrapper.drawLine(line);
                svgWrapper.drawLine(new _Line__WEBPACK_IMPORTED_MODULE_3__.Line(a, b, elementA, elementB));
            }
            else if (s.sideCount[0] < s.sideCount[1] ||
                s.totalSideCount[0] <= s.totalSideCount[1]) {
                this.multiplyNormals(normals, opts.bondSpacing);
                let line = new _Line__WEBPACK_IMPORTED_MODULE_3__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[1]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[1]), elementA, elementB);
                line.shorten(opts.bondLength - opts.shortBondLength * opts.bondLength);
                svgWrapper.drawLine(line);
                svgWrapper.drawLine(new _Line__WEBPACK_IMPORTED_MODULE_3__.Line(a, b, elementA, elementB));
            }
        }
        else if (edge.bondType === "#") {
            normals[0].multiplyScalar(opts.bondSpacing / 1.5);
            normals[1].multiplyScalar(opts.bondSpacing / 1.5);
            let lineA = new _Line__WEBPACK_IMPORTED_MODULE_3__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[0]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[0]), elementA, elementB);
            let lineB = new _Line__WEBPACK_IMPORTED_MODULE_3__.Line(_Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(a, normals[1]), _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.add(b, normals[1]), elementA, elementB);
            svgWrapper.drawLine(lineA);
            svgWrapper.drawLine(lineB);
            svgWrapper.drawLine(new _Line__WEBPACK_IMPORTED_MODULE_3__.Line(a, b, elementA, elementB));
        }
        else if (edge.bondType === ".") {
            // TODO: Something... maybe... version 2?
        }
        else {
            let isChiralCenterA = vertexA.value.isStereoCenter;
            let isChiralCenterB = vertexB.value.isStereoCenter;
            if (edge.wedge === "up") {
                svgWrapper.drawWedge(new _Line__WEBPACK_IMPORTED_MODULE_3__.Line(a, b, elementA, elementB, isChiralCenterA, isChiralCenterB));
            }
            else if (edge.wedge === "down") {
                svgWrapper.drawDashedWedge(new _Line__WEBPACK_IMPORTED_MODULE_3__.Line(a, b, elementA, elementB, isChiralCenterA, isChiralCenterB));
            }
            else {
                svgWrapper.drawLine(new _Line__WEBPACK_IMPORTED_MODULE_3__.Line(a, b, elementA, elementB, isChiralCenterA, isChiralCenterB));
            }
        }
        if (debug) {
            let midpoint = _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.midpoint(a, b);
            svgWrapper.drawDebugText(midpoint.x, midpoint.y, "e: " + edgeId);
        }
    }
    /**
     * Draw the highlights for atoms to the canvas.
     *
     * @param {Boolean} debug
     */
    drawAtomHighlights(debug) {
        let preprocessor = this.preprocessor;
        let opts = preprocessor.opts;
        let graph = preprocessor.graph;
        let rings = preprocessor.rings;
        let svgWrapper = this.svgWrapper;
        for (var i = 0; i < graph.vertices.length; i++) {
            let vertex = graph.vertices[i];
            let atom = vertex.value;
            for (var j = 0; j < preprocessor.highlight_atoms.length; j++) {
                let highlight = preprocessor.highlight_atoms[j];
                if (atom.class === highlight[0]) {
                    svgWrapper.drawAtomHighlight(vertex.position.x, vertex.position.y, highlight[1]);
                }
            }
        }
    }
    /**
     * Draws the vertices representing atoms to the canvas.
     *
     * @param {Boolean} debug A boolean indicating whether or not to draw debug messages to the canvas.
     */
    drawVertices(debug) {
        let preprocessor = this.preprocessor, opts = preprocessor.opts, graph = preprocessor.graph, rings = preprocessor.rings, svgWrapper = this.svgWrapper;
        var i = graph.vertices.length;
        for (var i = 0; i < graph.vertices.length; i++) {
            let vertex = graph.vertices[i];
            let atom = vertex.value;
            let charge = 0;
            let isotope = 0;
            let bondCount = vertex.value.bondCount;
            let element = atom.element;
            let hydrogens = _Atom__WEBPACK_IMPORTED_MODULE_0__.Atom.maxBonds[element] - bondCount;
            let dir = vertex.getTextDirection(graph.vertices, atom.hasAttachedPseudoElements);
            let isTerminal = opts.terminalCarbons ||
                element !== "C" ||
                atom.hasAttachedPseudoElements
                ? vertex.isTerminal()
                : false;
            let isCarbon = atom.element === "C";
            // If the molecule has less than 3 elements, always write the "C" for carbon
            if (graph.vertices.length < 3) {
                isCarbon = false;
            }
            // This is a HACK to remove all hydrogens from nitrogens in aromatic rings, as this
            // should be the most common state. This has to be fixed by kekulization
            if (atom.element === "N" && atom.isPartOfAromaticRing) {
                hydrogens = 0;
            }
            if (atom.bracket) {
                hydrogens = atom.bracket.hcount;
                charge = atom.bracket.charge;
                isotope = atom.bracket.isotope;
            }
            if (opts.atomVisualization === "allballs") {
                svgWrapper.drawBall(vertex.position.x, vertex.position.y, element);
            }
            else if ((atom.isDrawn &&
                (!isCarbon ||
                    atom.drawExplicit ||
                    isTerminal ||
                    atom.hasAttachedPseudoElements)) ||
                graph.vertices.length === 1) {
                if (opts.atomVisualization === "default") {
                    let attachedPseudoElements = atom.getAttachedPseudoElements();
                    // Draw to the right if the whole molecule is concatenated into one string
                    if (atom.hasAttachedPseudoElements &&
                        graph.vertices.length ===
                            Object.keys(attachedPseudoElements).length + 1) {
                        dir = "right";
                    }
                    svgWrapper.drawText(vertex.position.x, vertex.position.y, element, hydrogens, dir, isTerminal, charge, isotope, graph.vertices.length, attachedPseudoElements);
                }
                else if (opts.atomVisualization === "balls") {
                    svgWrapper.drawBall(vertex.position.x, vertex.position.y, element);
                }
            }
            else if (vertex.getNeighbourCount() === 2 &&
                vertex.forcePositioned == true) {
                // If there is a carbon which bonds are in a straight line, draw a dot
                let a = graph.vertices[vertex.neighbours[0]].position;
                let b = graph.vertices[vertex.neighbours[1]].position;
                let angle = _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2.threePointangle(vertex.position, a, b);
                if (Math.abs(Math.PI - angle) < 0.1) {
                    svgWrapper.drawPoint(vertex.position.x, vertex.position.y, element);
                }
            }
            if (debug) {
                let value = "v: " + vertex.id + " " + _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.print(atom.ringbonds);
                svgWrapper.drawDebugText(vertex.position.x, vertex.position.y, value);
            }
            // else {
            //   svgWrapper.drawDebugText(vertex.position.x, vertex.position.y, vertex.value.chirality);
            // }
        }
        // Draw the ring centers for debug purposes
        if (opts.debug) {
            for (var i = 0; i < rings.length; i++) {
                let center = rings[i].center;
                svgWrapper.drawDebugPoint(center.x, center.y, "r: " + rings[i].id);
            }
        }
    }
    /**
     * Draw the weights on a background image.
     * @param {Number[]} weights The weights assigned to each atom.
     */
    drawWeights(weights, weightsNormalized) {
        if (!weights) {
            return;
        }
        if (weights.every((w) => w === 0)) {
            return;
        }
        if (weights.length !== this.preprocessor.graph.atomIdxToVertexId.length) {
            throw new Error("The number of weights supplied must be equal to the number of (heavy) atoms in the molecule.");
        }
        let points = [];
        for (const atomIdx of this.preprocessor.graph.atomIdxToVertexId) {
            let vertex = this.preprocessor.graph.vertices[atomIdx];
            points.push(new _Vector2__WEBPACK_IMPORTED_MODULE_2__.Vector2(vertex.position.x - this.svgWrapper.minX, vertex.position.y - this.svgWrapper.minY));
        }
        let gd = new _GaussDrawer__WEBPACK_IMPORTED_MODULE_6__.GaussDrawer(points, weights, this.svgWrapper.drawingWidth, this.svgWrapper.drawingHeight, this.opts.weights.sigma, this.opts.weights.interval, this.opts.weights.colormap, this.opts.weights.opacity, weightsNormalized);
        gd.draw();
        this.svgWrapper.addLayer(gd.getSVG());
    }
    /**
     * Returns the total overlap score of the current molecule.
     *
     * @returns {Number} The overlap score.
     */
    getTotalOverlapScore() {
        return this.preprocessor.getTotalOverlapScore();
    }
    /**
     * Returns the molecular formula of the loaded molecule as a string.
     *
     * @returns {String} The molecular formula.
     */
    getMolecularFormula(graph = null) {
        return this.preprocessor.getMolecularFormula(graph);
    }
    /**
     * @param {Array} normals list of normals to multiply
     * @param {Number} spacing value to multiply normals by
     */
    multiplyNormals(normals, spacing) {
        normals[0].multiplyScalar(spacing);
        normals[1].multiplyScalar(spacing);
    }
}


/***/ }),

/***/ "./src/ThemeManager.ts":
/*!*****************************!*\
  !*** ./src/ThemeManager.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ThemeManager: () => (/* binding */ ThemeManager)
/* harmony export */ });
class ThemeManager {
    constructor(colors, theme) {
        this.colors = colors;
        this.theme = this.colors[theme];
    }
    /**
     * Returns the hex code of a color associated with a key from the current theme.
     *
     * @param {string} key The color key in the theme (e.g. C, N, BACKGROUND, ...).
     * @returns {string} A color hex value.
     */
    getColor(key) {
        if (key) {
            key = key.toUpperCase();
            if (key in this.theme) {
                return this.theme[key];
            }
        }
        return this.theme['C'];
    }
    /**
     * Sets the theme to the specified string if it exists. If it does not, this
     * does nothing.
     *
     * @param {string} theme the name of the theme to switch to
     */
    setTheme(theme) {
        if (this.colors.hasOwnProperty(theme)) {
            this.theme = this.colors[theme];
        }
        // TODO: this probably should notify those who are watching this theme
        // manager that the theme has changed so that colors can be changed
        // on the fly
    }
}


/***/ }),

/***/ "./src/UtilityFunctions.ts":
/*!*********************************!*\
  !*** ./src/UtilityFunctions.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getChargeText: () => (/* binding */ getChargeText)
/* harmony export */ });
/**
 * Translate the integer indicating the charge to the appropriate text.
 * @param {Number} charge The integer indicating the charge.
 * @returns {String} A string representing a charge.
 */
function getChargeText(charge) {
    if (charge === 1) {
        return "+";
    }
    else if (charge === 2) {
        return "2+";
    }
    else if (charge === -1) {
        return "-";
    }
    else if (charge === -2) {
        return "2-";
    }
    else {
        return "";
    }
}


/***/ }),

/***/ "./src/Vector2.ts":
/*!************************!*\
  !*** ./src/Vector2.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Vector2: () => (/* binding */ Vector2)
/* harmony export */ });
/**
 * A class representing a 2D vector.
 *
 * @property {Number} x The x component of the vector.
 * @property {Number} y The y component of the vector.
 *
 */
class Vector2 {
    /**
     * The constructor of the class Vector2.
     *
     * @param x The initial x coordinate value or, if the single argument, a Vector2 object
     * @param y The initial y coordinate value
     */
    constructor(x, y) {
        if (arguments.length === 0) {
            this.x = 0;
            this.y = 0;
        }
        else if (arguments.length === 1 && x instanceof Vector2) {
            this.x = x.x;
            this.y = x.y;
        }
        else {
            this.x = x;
            this.y = y;
        }
    }
    /**
     * Clones this vector and returns the clone.
     */
    clone() {
        return new Vector2(this.x, this.y);
    }
    /**
     * Returns a string representation of this vector.
     */
    toString() {
        return `(${this.x},${this.y})`;
    }
    /**
     * Add the x and y coordinate values of a vector to the x and y coordinate values of this vector.
     */
    add(vec) {
        this.x += vec.x;
        this.y += vec.y;
        return this;
    }
    /**
     * Subtract the x and y coordinate values of a vector from the x and y coordinate values of this vector.
     */
    subtract(vec) {
        this.x -= vec.x;
        this.y -= vec.y;
        return this;
    }
    /**
     * Divide the x and y coordinate values of this vector by a scalar.
     */
    divide(scalar) {
        this.x /= scalar;
        this.y /= scalar;
        return this;
    }
    /**
     * Multiply the x and y coordinate values of this vector by the values of another vector.
     */
    multiply(v) {
        this.x *= v.x;
        this.y *= v.y;
        return this;
    }
    /**
     * Multiply the x and y coordinate values of this vector by a scalar.
     */
    multiplyScalar(scalar) {
        this.x *= scalar;
        this.y *= scalar;
        return this;
    }
    /**
     * Inverts this vector. Same as multiply(-1.0).
     */
    invert() {
        this.x = -this.x;
        this.y = -this.y;
        return this;
    }
    /**
     * Returns the angle of this vector in relation to the coordinate system.
     */
    angle() {
        return Math.atan2(this.y, this.x);
    }
    /**
     * Returns the euclidean distance between this vector and another vector.
     */
    distance(vec) {
        return Math.sqrt((vec.x - this.x) * (vec.x - this.x) + (vec.y - this.y) * (vec.y - this.y));
    }
    /**
     * Returns the squared euclidean distance between this vector and another vector.
     */
    distanceSq(vec) {
        return ((vec.x - this.x) * (vec.x - this.x) + (vec.y - this.y) * (vec.y - this.y));
    }
    /**
     * Checks whether or not this vector is in a clockwise or counter-clockwise rotation
     */
    clockwise(vec) {
        const a = this.y * vec.x;
        const b = this.x * vec.y;
        if (a > b)
            return -1;
        if (a === b)
            return 0;
        return 1;
    }
    /**
     * Checks whether or not this vector is in a clockwise or counter-clockwise rotation
     * compared to another vector in relation to an arbitrary third vector.
     */
    relativeClockwise(center, vec) {
        const a = (this.y - center.y) * (vec.x - center.x);
        const b = (this.x - center.x) * (vec.y - center.y);
        if (a > b)
            return -1;
        if (a === b)
            return 0;
        return 1;
    }
    /**
     * Rotates this vector by a given number of radians around the origin.
     */
    rotate(angle) {
        const tmp = new Vector2(0, 0);
        const cosAngle = Math.cos(angle);
        const sinAngle = Math.sin(angle);
        tmp.x = this.x * cosAngle - this.y * sinAngle;
        tmp.y = this.x * sinAngle + this.y * cosAngle;
        this.x = tmp.x;
        this.y = tmp.y;
        return this;
    }
    /**
     * Rotates this vector around another vector.
     */
    rotateAround(angle, vec) {
        const s = Math.sin(angle);
        const c = Math.cos(angle);
        this.x -= vec.x;
        this.y -= vec.y;
        const x = this.x * c - this.y * s;
        const y = this.x * s + this.y * c;
        this.x = x + vec.x;
        this.y = y + vec.y;
        return this;
    }
    /**
     * Rotate a vector around a given center to the same angle as another vector.
     */
    rotateTo(vec, center, offsetAngle = 0.0) {
        this.x += 0.001;
        this.y -= 0.001;
        const a = Vector2.subtract(this, center);
        const b = Vector2.subtract(vec, center);
        const angle = Vector2.angle(b, a);
        this.rotateAround(angle + offsetAngle, center);
        return this;
    }
    /**
     * Rotates the vector away from a specified vector around a center.
     */
    rotateAwayFrom(vec, center, angle) {
        this.rotateAround(angle, center);
        const distSqA = this.distanceSq(vec);
        this.rotateAround(-2.0 * angle, center);
        const distSqB = this.distanceSq(vec);
        if (distSqB < distSqA) {
            this.rotateAround(2.0 * angle, center);
        }
    }
    /**
     * Returns the angle in radians used to rotate this vector away from a given vector.
     */
    getRotateAwayFromAngle(vec, center, angle) {
        const tmp = this.clone();
        tmp.rotateAround(angle, center);
        const distSqA = tmp.distanceSq(vec);
        tmp.rotateAround(-2.0 * angle, center);
        const distSqB = tmp.distanceSq(vec);
        return distSqB < distSqA ? angle : -angle;
    }
    /**
     * Returns the angle in radians used to rotate this vector towards a given vector.
     */
    getRotateTowardsAngle(vec, center, angle) {
        const tmp = this.clone();
        tmp.rotateAround(angle, center);
        const distSqA = tmp.distanceSq(vec);
        tmp.rotateAround(-2.0 * angle, center);
        const distSqB = tmp.distanceSq(vec);
        return distSqB > distSqA ? angle : -angle;
    }
    /**
     * Gets the angles between this vector and another vector around a common center of rotation.
     */
    getRotateToAngle(vec, center) {
        const a = Vector2.subtract(this, center);
        const b = Vector2.subtract(vec, center);
        const angle = Vector2.angle(b, a);
        return Number.isNaN(angle) ? 0.0 : angle;
    }
    /**
     * Checks whether a vector lies within a polygon spanned by a set of vectors.
     */
    isInPolygon(polygon) {
        let inside = false;
        for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {
            if (polygon[i].y > this.y !== polygon[j].y > this.y &&
                this.x <
                    ((polygon[j].x - polygon[i].x) * (this.y - polygon[i].y)) /
                        (polygon[j].y - polygon[i].y) +
                        polygon[i].x) {
                inside = !inside;
            }
        }
        return inside;
    }
    /**
     * Returns the length of this vector.
     */
    length() {
        return Math.sqrt(this.x * this.x + this.y * this.y);
    }
    /**
     * Returns the square of the length of this vector.
     */
    lengthSq() {
        return this.x * this.x + this.y * this.y;
    }
    /**
     * Normalizes this vector.
     */
    normalize() {
        this.divide(this.length());
        return this;
    }
    /**
     * Returns a normalized copy of this vector.
     */
    normalized() {
        return Vector2.divideScalar(this, this.length());
    }
    /**
     * Calculates which side of a line spanned by two vectors this vector is.
     */
    whichSide(vecA, vecB) {
        return ((this.x - vecA.x) * (vecB.y - vecA.y) -
            (this.y - vecA.y) * (vecB.x - vecA.x));
    }
    /**
     * Checks whether or not this vector is on the same side of a line as another vector.
     */
    sameSideAs(vecA, vecB, vecC) {
        const d = this.whichSide(vecA, vecB);
        const dRef = vecC.whichSide(vecA, vecB);
        return ((d < 0 && dRef < 0) || (d === 0 && dRef === 0) || (d > 0 && dRef > 0));
    }
    // Static Methods
    /**
     * Adds two vectors and returns the result as a new vector.
     */
    static add(vecA, vecB) {
        return new Vector2(vecA.x + vecB.x, vecA.y + vecB.y);
    }
    /**
     * Subtracts one vector from another and returns the result as a new vector.
     */
    static subtract(vecA, vecB) {
        return new Vector2(vecA.x - vecB.x, vecA.y - vecB.y);
    }
    /**
     * Multiplies two vectors (value by value) and returns the result.
     */
    static multiply(vecA, vecB) {
        return new Vector2(vecA.x * vecB.x, vecA.y * vecB.y);
    }
    /**
     * Multiplies a vector by a scalar and returns the result.
     */
    static multiplyScalar(vec, scalar) {
        return new Vector2(vec.x, vec.y).multiplyScalar(scalar);
    }
    /**
     * Returns the midpoint of a line spanned by two vectors.
     */
    static midpoint(vecA, vecB) {
        return new Vector2((vecA.x + vecB.x) / 2, (vecA.y + vecB.y) / 2);
    }
    /**
     * Returns the normals of a line spanned by two vectors.
     */
    static normals(vecA, vecB) {
        const delta = Vector2.subtract(vecB, vecA);
        return [new Vector2(-delta.y, delta.x), new Vector2(delta.y, -delta.x)];
    }
    /**
     * Returns the unit vectors of a line spanned by two vectors.
     */
    static units(vecA, vecB) {
        const delta = Vector2.subtract(vecB, vecA);
        return [
            new Vector2(-delta.y, delta.x).normalize(),
            new Vector2(delta.y, -delta.x).normalize(),
        ];
    }
    /**
     * Divides a vector by another vector and returns the result as new vector.
     */
    static divide(vecA, vecB) {
        return new Vector2(vecA.x / vecB.x, vecA.y / vecB.y);
    }
    /**
     * Divides a vector by a scalar and returns the result as new vector.
     */
    static divideScalar(vecA, s) {
        return new Vector2(vecA.x / s, vecA.y / s);
    }
    /**
     * Returns the dot product of two vectors.
     */
    static dot(vecA, vecB) {
        return vecA.x * vecB.x + vecA.y * vecB.y;
    }
    /**
     * Returns the angle between two vectors.
     */
    static angle(vecA, vecB) {
        const dot = Vector2.dot(vecA, vecB);
        return Math.acos(dot / (vecA.length() * vecB.length()));
    }
    /**
     * Returns the angle between two vectors based on a third vector in between.
     */
    static threePointAngle(vecA, vecB, vecC) {
        const ab = Vector2.subtract(vecB, vecA);
        const bc = Vector2.subtract(vecC, vecB);
        const abLength = vecA.distance(vecB);
        const bcLength = vecB.distance(vecC);
        return Math.acos(Vector2.dot(ab, bc) / (abLength * bcLength));
    }
    /**
     * Returns the scalar projection of a vector on another vector.
     */
    static scalarProjection(vecA, vecB) {
        const unit = vecB.normalized();
        return Vector2.dot(vecA, unit);
    }
    /**
     * Returns the average vector (normalized) of the input vectors.
     */
    static averageDirection(vecs) {
        const avg = new Vector2(0.0, 0.0);
        for (const vec of vecs) {
            avg.add(vec);
        }
        return avg.normalize();
    }
}


/***/ }),

/***/ "./src/Vertex.ts":
/*!***********************!*\
  !*** ./src/Vertex.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Vertex: () => (/* binding */ Vertex)
/* harmony export */ });
/* harmony import */ var _Vector2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector2 */ "./src/Vector2.ts");
/* harmony import */ var _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ArrayHelper */ "./src/ArrayHelper.ts");
/* harmony import */ var _MathHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MathHelper */ "./src/MathHelper.ts");



/**
 * A class representing a vertex.
 *
 * @property {Number} id The id of this vertex.
 * @property {Atom} value The atom associated with this vertex.
 * @property {Vector2} position The position of this vertex.
 * @property {Vector2} previousPosition The position of the previous vertex.
 * @property {Number|null} parentVertexId The id of the previous vertex.
 * @property {Number[]} children The ids of the children of this vertex.
 * @property {Number[]} spanningTreeChildren The ids of the children of this vertex as defined in the spanning tree defined by the SMILES.
 * @property {Number[]} edges The ids of edges associated with this vertex.
 * @property {Boolean} positioned A boolean indicating whether or not this vertex has been positioned.
 * @property {Number} angle The angle of this vertex.
 * @property {Number} dir The direction of this vertex.
 * @property {Number} neighbourCount The number of neighbouring vertices.
 * @property {Number[]} neighbours The vertex ids of neighbouring vertices.
 * @property {String[]} neighbouringElements The element symbols associated with neighbouring vertices.
 * @property {Boolean} forcePositioned A boolean indicating whether or not this vertex was positioned using a force-based approach.
 */
class Vertex {
    /**
     * The constructor for the class Vertex.
     *
     * @param {Atom} value The value associated with this vertex.
     * @param {Number} [x=0] The initial x coordinate of the positional vector of this vertex.
     * @param {Number} [y=0] The initial y coordinate of the positional vector of this vertex.
     */
    constructor(value, x = 0, y = 0) {
        this.id = null;
        this.value = value;
        this.position = new _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2(x ? x : 0, y ? y : 0);
        this.previousPosition = new _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2(0, 0);
        this.parentVertexId = null;
        this.children = Array();
        this.spanningTreeChildren = Array();
        this.edges = Array();
        this.positioned = false;
        this.angle = null;
        this.dir = 1.0;
        this.neighbourCount = 0;
        this.neighbours = Array();
        this.neighbouringElements = Array();
        this.forcePositioned = false;
    }
    /**
     * Set the 2D coordinates of the vertex.
     *
     * @param {Number} x The x component of the coordinates.
     * @param {Number} y The y component of the coordinates.
     */
    setPosition(x, y) {
        this.position.x = x;
        this.position.y = y;
    }
    /**
     * Set the 2D coordinates of the vertex from a Vector2.
     *
     * @param {Vector2} v A 2D vector.
     */
    setPositionFromVector(v) {
        this.position.x = v.x;
        this.position.y = v.y;
    }
    /**
     * Add a child vertex id to this vertex.
     * @param {Number} vertexId The id of a vertex to be added as a child to this vertex.
     */
    addChild(vertexId) {
        this.children.push(vertexId);
        this.neighbours.push(vertexId);
        this.neighbourCount++;
    }
    /**
     * Add a child vertex id to this vertex as the second child of the neighbours array,
     * except this vertex is the first vertex of the SMILE string, then it is added as the first.
     * This is used to get the correct ordering of neighbours for parity calculations.
     * If a hydrogen is implicitly attached to the chiral center, insert as the third child.
     * @param {Number} vertexId The id of a vertex to be added as a child to this vertex.
     * @param {Number} ringbondIndex The index of the ringbond.
     */
    addRingbondChild(vertexId, ringbondIndex) {
        this.children.push(vertexId);
        if (this.value.bracket) {
            let index = 1;
            if (this.id === 0 && this.value.bracket.hcount === 0) {
                index = 0;
            }
            if (this.value.bracket.hcount === 1 && ringbondIndex === 0) {
                index = 2;
            }
            if (this.value.bracket.hcount === 1 && ringbondIndex === 1) {
                if (this.neighbours.length < 3) {
                    index = 2;
                }
                else {
                    index = 3;
                }
            }
            if (this.value.bracket.hcount === null && ringbondIndex === 0) {
                index = 1;
            }
            if (this.value.bracket.hcount === null && ringbondIndex === 1) {
                if (this.neighbours.length < 3) {
                    index = 1;
                }
                else {
                    index = 2;
                }
            }
            this.neighbours.splice(index, 0, vertexId);
        }
        else {
            this.neighbours.push(vertexId);
        }
        this.neighbourCount++;
    }
    /**
     * Set the vertex id of the parent.
     *
     * @param {Number} parentVertexId The parents vertex id.
     */
    setParentVertexId(parentVertexId) {
        this.neighbourCount++;
        this.parentVertexId = parentVertexId;
        this.neighbours.push(parentVertexId);
    }
    /**
     * Returns true if this vertex is terminal (has no parent or child vertices), otherwise returns false. Always returns true if associated value has property hasAttachedPseudoElements set to true.
     *
     * @returns {Boolean} A boolean indicating whether or not this vertex is terminal.
     */
    isTerminal() {
        if (this.value.hasAttachedPseudoElements) {
            return true;
        }
        return ((this.parentVertexId === null && this.children.length < 2) ||
            this.children.length === 0);
    }
    /**
     * Clones this vertex and returns the clone.
     *
     * @returns {Vertex} A clone of this vertex.
     */
    clone() {
        let clone = new Vertex(this.value, this.position.x, this.position.y);
        clone.id = this.id;
        clone.previousPosition = new _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2(this.previousPosition.x, this.previousPosition.y);
        clone.parentVertexId = this.parentVertexId;
        clone.children = _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.clone(this.children);
        clone.spanningTreeChildren = _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.clone(this.spanningTreeChildren);
        clone.edges = _ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.clone(this.edges);
        clone.positioned = this.positioned;
        clone.angle = this.angle;
        clone.forcePositioned = this.forcePositioned;
        return clone;
    }
    /**
     * Returns true if this vertex and the supplied vertex both have the same id, else returns false.
     *
     * @param {Vertex} vertex The vertex to check.
     * @returns {Boolean} A boolean indicating whether or not the two vertices have the same id.
     */
    equals(vertex) {
        return this.id === vertex.id;
    }
    /**
     * Returns the angle of this vertexes positional vector. If a reference vector is supplied in relations to this vector, else in relations to the coordinate system.
     *
     * @param {Vector2} [referenceVector=null] - The reference vector.
     * @param {Boolean} [returnAsDegrees=false] - If true, returns angle in degrees, else in radians.
     * @returns {Number} The angle of this vertex.
     */
    getAngle(referenceVector = null, returnAsDegrees = false) {
        let u = null;
        if (!referenceVector) {
            u = _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.subtract(this.position, this.previousPosition);
        }
        else {
            u = _Vector2__WEBPACK_IMPORTED_MODULE_0__.Vector2.subtract(this.position, referenceVector);
        }
        if (returnAsDegrees) {
            return _MathHelper__WEBPACK_IMPORTED_MODULE_2__.MathHelper.toDeg(u.angle());
        }
        return u.angle();
    }
    /**
     * Returns the suggested text direction when text is added at the position of this vertex.
     *
     * @param {Vertex[]} vertices The array of vertices for the current molecule.
     * @param {Boolean} onlyHorizontal In case the text direction should be limited to either left or right.
     * @returns {String} The suggested direction of the text.
     */
    getTextDirection(vertices, onlyHorizontal = false) {
        let neighbours = this.getDrawnNeighbours(vertices);
        let angles = Array();
        // If there is only one vertex in the graph, always draw to the right
        if (vertices.length === 1) {
            return "right";
        }
        for (let i = 0; i < neighbours.length; i++) {
            angles.push(this.getAngle(vertices[neighbours[i]].position));
        }
        let textAngle = _MathHelper__WEBPACK_IMPORTED_MODULE_2__.MathHelper.meanAngle(angles);
        if (this.isTerminal() || onlyHorizontal) {
            // Round to 0 or 180 if terminal or only horizontal allowed
            // With only this, text is written to the left if the angle is 90/1.5708 rad (straight down).
            // So if angle is ~1.5708, force it a bit anti-clock-wise
            if (Math.round(textAngle * 100) / 100 === 1.57) {
                textAngle = textAngle - 0.2;
            }
            textAngle = Math.round(Math.round(textAngle / Math.PI) * Math.PI);
        }
        else {
            // Round to 0, 90, 180 or 270 degree if not terminal
            let halfPi = Math.PI / 2.0;
            textAngle = Math.round(Math.round(textAngle / halfPi) * halfPi);
        }
        if (textAngle === 2) {
            return "down";
        }
        else if (textAngle === -2) {
            return "up";
        }
        else if (textAngle === 0 || textAngle === -0) {
            return "right"; // is checking for -0 necessary?
        }
        else if (textAngle === 3 || textAngle === -3) {
            return "left";
        }
        else {
            return "down"; // default to down
        }
    }
    /**
     * Returns an array of ids of neighbouring vertices.
     *
     * @param {Number} [vertexId=null] If a value is supplied, the vertex with this id is excluded from the returned indices.
     * @returns {Number[]} An array containing the ids of neighbouring vertices.
     */
    getNeighbours(vertexId = null) {
        if (vertexId === null) {
            return this.neighbours.slice();
        }
        let arr = Array();
        for (let i = 0; i < this.neighbours.length; i++) {
            if (this.neighbours[i] !== vertexId) {
                arr.push(this.neighbours[i]);
            }
        }
        return arr;
    }
    /**
     * Returns an array of ids of neighbouring vertices that will be drawn (vertex.value.isDrawn === true).
     *
     * @param {Vertex[]} vertices An array containing the vertices associated with the current molecule.
     * @returns {Number[]} An array containing the ids of neighbouring vertices that will be drawn.
     */
    getDrawnNeighbours(vertices) {
        let arr = Array();
        for (let i = 0; i < this.neighbours.length; i++) {
            if (vertices[this.neighbours[i]].value.isDrawn) {
                arr.push(this.neighbours[i]);
            }
        }
        return arr;
    }
    /**
     * Returns the number of neighbours of this vertex.
     *
     * @returns {Number} The number of neighbours.
     */
    getNeighbourCount() {
        return this.neighbourCount;
    }
    /**
     * Returns a list of ids of vertices neighbouring this one in the original spanning tree, excluding the ringbond connections.
     *
     * @param {Number} [vertexId=null] If supplied, the vertex with this id is excluded from the array returned.
     * @returns {Number[]} An array containing the ids of the neighbouring vertices.
     */
    getSpanningTreeNeighbours(vertexId = null) {
        let neighbours = Array();
        for (let i = 0; i < this.spanningTreeChildren.length; i++) {
            if (vertexId === undefined || vertexId != this.spanningTreeChildren[i]) {
                neighbours.push(this.spanningTreeChildren[i]);
            }
        }
        if (this.parentVertexId != null) {
            if (vertexId === undefined || vertexId != this.parentVertexId) {
                neighbours.push(this.parentVertexId);
            }
        }
        return neighbours;
    }
    /**
     * Gets the next vertex in the ring in opposide direction to the supplied vertex id.
     *
     * @param {Vertex[]} vertices The array of vertices for the current molecule.
     * @param {Number} ringId The id of the ring containing this vertex.
     * @param {Number} previousVertexId The id of the previous vertex. The next vertex will be opposite from the vertex with this id as seen from this vertex.
     * @returns {Number} The id of the next vertex in the ring.
     */
    getNextInRing(vertices, ringId, previousVertexId) {
        let neighbours = this.getNeighbours();
        for (let i = 0; i < neighbours.length; i++) {
            if (_ArrayHelper__WEBPACK_IMPORTED_MODULE_1__.ArrayHelper.contains(vertices[neighbours[i]].value.rings, {
                value: ringId,
            }) &&
                neighbours[i] != previousVertexId) {
                return neighbours[i];
            }
        }
        return null;
    }
}


/***/ }),

/***/ "./node_modules/chroma-js/chroma.js":
/*!******************************************!*\
  !*** ./node_modules/chroma-js/chroma.js ***!
  \******************************************/
/***/ (function(module) {

/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */

(function (global, factory) {
     true ? module.exports = factory() :
    0;
})(this, (function () { 'use strict';

    var limit$2 = function (x, min, max) {
        if ( min === void 0 ) min=0;
        if ( max === void 0 ) max=1;

        return x < min ? min : x > max ? max : x;
    };

    var limit$1 = limit$2;

    var clip_rgb$3 = function (rgb) {
        rgb._clipped = false;
        rgb._unclipped = rgb.slice(0);
        for (var i=0; i<=3; i++) {
            if (i < 3) {
                if (rgb[i] < 0 || rgb[i] > 255) { rgb._clipped = true; }
                rgb[i] = limit$1(rgb[i], 0, 255);
            } else if (i === 3) {
                rgb[i] = limit$1(rgb[i], 0, 1);
            }
        }
        return rgb;
    };

    // ported from jQuery's $.type
    var classToType = {};
    for (var i$1 = 0, list$1 = ['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Undefined', 'Null']; i$1 < list$1.length; i$1 += 1) {
        var name = list$1[i$1];

        classToType[("[object " + name + "]")] = name.toLowerCase();
    }
    var type$p = function(obj) {
        return classToType[Object.prototype.toString.call(obj)] || "object";
    };

    var type$o = type$p;

    var unpack$B = function (args, keyOrder) {
        if ( keyOrder === void 0 ) keyOrder=null;

    	// if called with more than 3 arguments, we return the arguments
        if (args.length >= 3) { return Array.prototype.slice.call(args); }
        // with less than 3 args we check if first arg is object
        // and use the keyOrder string to extract and sort properties
    	if (type$o(args[0]) == 'object' && keyOrder) {
    		return keyOrder.split('')
    			.filter(function (k) { return args[0][k] !== undefined; })
    			.map(function (k) { return args[0][k]; });
    	}
    	// otherwise we just return the first argument
    	// (which we suppose is an array of args)
        return args[0];
    };

    var type$n = type$p;

    var last$4 = function (args) {
        if (args.length < 2) { return null; }
        var l = args.length-1;
        if (type$n(args[l]) == 'string') { return args[l].toLowerCase(); }
        return null;
    };

    var PI$2 = Math.PI;

    var utils = {
    	clip_rgb: clip_rgb$3,
    	limit: limit$2,
    	type: type$p,
    	unpack: unpack$B,
    	last: last$4,
    	PI: PI$2,
    	TWOPI: PI$2*2,
    	PITHIRD: PI$2/3,
    	DEG2RAD: PI$2 / 180,
    	RAD2DEG: 180 / PI$2
    };

    var input$h = {
    	format: {},
    	autodetect: []
    };

    var last$3 = utils.last;
    var clip_rgb$2 = utils.clip_rgb;
    var type$m = utils.type;
    var _input = input$h;

    var Color$D = function Color() {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var me = this;
        if (type$m(args[0]) === 'object' &&
            args[0].constructor &&
            args[0].constructor === this.constructor) {
            // the argument is already a Color instance
            return args[0];
        }

        // last argument could be the mode
        var mode = last$3(args);
        var autodetect = false;

        if (!mode) {
            autodetect = true;
            if (!_input.sorted) {
                _input.autodetect = _input.autodetect.sort(function (a,b) { return b.p - a.p; });
                _input.sorted = true;
            }
            // auto-detect format
            for (var i = 0, list = _input.autodetect; i < list.length; i += 1) {
                var chk = list[i];

                mode = chk.test.apply(chk, args);
                if (mode) { break; }
            }
        }

        if (_input.format[mode]) {
            var rgb = _input.format[mode].apply(null, autodetect ? args : args.slice(0,-1));
            me._rgb = clip_rgb$2(rgb);
        } else {
            throw new Error('unknown format: '+args);
        }

        // add alpha channel
        if (me._rgb.length === 3) { me._rgb.push(1); }
    };

    Color$D.prototype.toString = function toString () {
        if (type$m(this.hex) == 'function') { return this.hex(); }
        return ("[" + (this._rgb.join(',')) + "]");
    };

    var Color_1 = Color$D;

    var chroma$k = function () {
    	var args = [], len = arguments.length;
    	while ( len-- ) args[ len ] = arguments[ len ];

    	return new (Function.prototype.bind.apply( chroma$k.Color, [ null ].concat( args) ));
    };

    chroma$k.Color = Color_1;
    chroma$k.version = '2.4.2';

    var chroma_1 = chroma$k;

    var unpack$A = utils.unpack;
    var max$2 = Math.max;

    var rgb2cmyk$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$A(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        r = r / 255;
        g = g / 255;
        b = b / 255;
        var k = 1 - max$2(r,max$2(g,b));
        var f = k < 1 ? 1 / (1-k) : 0;
        var c = (1-r-k) * f;
        var m = (1-g-k) * f;
        var y = (1-b-k) * f;
        return [c,m,y,k];
    };

    var rgb2cmyk_1 = rgb2cmyk$1;

    var unpack$z = utils.unpack;

    var cmyk2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$z(args, 'cmyk');
        var c = args[0];
        var m = args[1];
        var y = args[2];
        var k = args[3];
        var alpha = args.length > 4 ? args[4] : 1;
        if (k === 1) { return [0,0,0,alpha]; }
        return [
            c >= 1 ? 0 : 255 * (1-c) * (1-k), // r
            m >= 1 ? 0 : 255 * (1-m) * (1-k), // g
            y >= 1 ? 0 : 255 * (1-y) * (1-k), // b
            alpha
        ];
    };

    var cmyk2rgb_1 = cmyk2rgb;

    var chroma$j = chroma_1;
    var Color$C = Color_1;
    var input$g = input$h;
    var unpack$y = utils.unpack;
    var type$l = utils.type;

    var rgb2cmyk = rgb2cmyk_1;

    Color$C.prototype.cmyk = function() {
        return rgb2cmyk(this._rgb);
    };

    chroma$j.cmyk = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$C, [ null ].concat( args, ['cmyk']) ));
    };

    input$g.format.cmyk = cmyk2rgb_1;

    input$g.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$y(args, 'cmyk');
            if (type$l(args) === 'array' && args.length === 4) {
                return 'cmyk';
            }
        }
    });

    var unpack$x = utils.unpack;
    var last$2 = utils.last;
    var rnd = function (a) { return Math.round(a*100)/100; };

    /*
     * supported arguments:
     * - hsl2css(h,s,l)
     * - hsl2css(h,s,l,a)
     * - hsl2css([h,s,l], mode)
     * - hsl2css([h,s,l,a], mode)
     * - hsl2css({h,s,l,a}, mode)
     */
    var hsl2css$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var hsla = unpack$x(args, 'hsla');
        var mode = last$2(args) || 'lsa';
        hsla[0] = rnd(hsla[0] || 0);
        hsla[1] = rnd(hsla[1]*100) + '%';
        hsla[2] = rnd(hsla[2]*100) + '%';
        if (mode === 'hsla' || (hsla.length > 3 && hsla[3]<1)) {
            hsla[3] = hsla.length > 3 ? hsla[3] : 1;
            mode = 'hsla';
        } else {
            hsla.length = 3;
        }
        return (mode + "(" + (hsla.join(',')) + ")");
    };

    var hsl2css_1 = hsl2css$1;

    var unpack$w = utils.unpack;

    /*
     * supported arguments:
     * - rgb2hsl(r,g,b)
     * - rgb2hsl(r,g,b,a)
     * - rgb2hsl([r,g,b])
     * - rgb2hsl([r,g,b,a])
     * - rgb2hsl({r,g,b,a})
     */
    var rgb2hsl$3 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$w(args, 'rgba');
        var r = args[0];
        var g = args[1];
        var b = args[2];

        r /= 255;
        g /= 255;
        b /= 255;

        var min = Math.min(r, g, b);
        var max = Math.max(r, g, b);

        var l = (max + min) / 2;
        var s, h;

        if (max === min){
            s = 0;
            h = Number.NaN;
        } else {
            s = l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);
        }

        if (r == max) { h = (g - b) / (max - min); }
        else if (g == max) { h = 2 + (b - r) / (max - min); }
        else if (b == max) { h = 4 + (r - g) / (max - min); }

        h *= 60;
        if (h < 0) { h += 360; }
        if (args.length>3 && args[3]!==undefined) { return [h,s,l,args[3]]; }
        return [h,s,l];
    };

    var rgb2hsl_1 = rgb2hsl$3;

    var unpack$v = utils.unpack;
    var last$1 = utils.last;
    var hsl2css = hsl2css_1;
    var rgb2hsl$2 = rgb2hsl_1;
    var round$6 = Math.round;

    /*
     * supported arguments:
     * - rgb2css(r,g,b)
     * - rgb2css(r,g,b,a)
     * - rgb2css([r,g,b], mode)
     * - rgb2css([r,g,b,a], mode)
     * - rgb2css({r,g,b,a}, mode)
     */
    var rgb2css$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgba = unpack$v(args, 'rgba');
        var mode = last$1(args) || 'rgb';
        if (mode.substr(0,3) == 'hsl') {
            return hsl2css(rgb2hsl$2(rgba), mode);
        }
        rgba[0] = round$6(rgba[0]);
        rgba[1] = round$6(rgba[1]);
        rgba[2] = round$6(rgba[2]);
        if (mode === 'rgba' || (rgba.length > 3 && rgba[3]<1)) {
            rgba[3] = rgba.length > 3 ? rgba[3] : 1;
            mode = 'rgba';
        }
        return (mode + "(" + (rgba.slice(0,mode==='rgb'?3:4).join(',')) + ")");
    };

    var rgb2css_1 = rgb2css$1;

    var unpack$u = utils.unpack;
    var round$5 = Math.round;

    var hsl2rgb$1 = function () {
        var assign;

        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];
        args = unpack$u(args, 'hsl');
        var h = args[0];
        var s = args[1];
        var l = args[2];
        var r,g,b;
        if (s === 0) {
            r = g = b = l*255;
        } else {
            var t3 = [0,0,0];
            var c = [0,0,0];
            var t2 = l < 0.5 ? l * (1+s) : l+s-l*s;
            var t1 = 2 * l - t2;
            var h_ = h / 360;
            t3[0] = h_ + 1/3;
            t3[1] = h_;
            t3[2] = h_ - 1/3;
            for (var i=0; i<3; i++) {
                if (t3[i] < 0) { t3[i] += 1; }
                if (t3[i] > 1) { t3[i] -= 1; }
                if (6 * t3[i] < 1)
                    { c[i] = t1 + (t2 - t1) * 6 * t3[i]; }
                else if (2 * t3[i] < 1)
                    { c[i] = t2; }
                else if (3 * t3[i] < 2)
                    { c[i] = t1 + (t2 - t1) * ((2 / 3) - t3[i]) * 6; }
                else
                    { c[i] = t1; }
            }
            (assign = [round$5(c[0]*255),round$5(c[1]*255),round$5(c[2]*255)], r = assign[0], g = assign[1], b = assign[2]);
        }
        if (args.length > 3) {
            // keep alpha channel
            return [r,g,b,args[3]];
        }
        return [r,g,b,1];
    };

    var hsl2rgb_1 = hsl2rgb$1;

    var hsl2rgb = hsl2rgb_1;
    var input$f = input$h;

    var RE_RGB = /^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/;
    var RE_RGBA = /^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/;
    var RE_RGB_PCT = /^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/;
    var RE_RGBA_PCT = /^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/;
    var RE_HSL = /^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/;
    var RE_HSLA = /^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/;

    var round$4 = Math.round;

    var css2rgb$1 = function (css) {
        css = css.toLowerCase().trim();
        var m;

        if (input$f.format.named) {
            try {
                return input$f.format.named(css);
            } catch (e) {
                // eslint-disable-next-line
            }
        }

        // rgb(250,20,0)
        if ((m = css.match(RE_RGB))) {
            var rgb = m.slice(1,4);
            for (var i=0; i<3; i++) {
                rgb[i] = +rgb[i];
            }
            rgb[3] = 1;  // default alpha
            return rgb;
        }

        // rgba(250,20,0,0.4)
        if ((m = css.match(RE_RGBA))) {
            var rgb$1 = m.slice(1,5);
            for (var i$1=0; i$1<4; i$1++) {
                rgb$1[i$1] = +rgb$1[i$1];
            }
            return rgb$1;
        }

        // rgb(100%,0%,0%)
        if ((m = css.match(RE_RGB_PCT))) {
            var rgb$2 = m.slice(1,4);
            for (var i$2=0; i$2<3; i$2++) {
                rgb$2[i$2] = round$4(rgb$2[i$2] * 2.55);
            }
            rgb$2[3] = 1;  // default alpha
            return rgb$2;
        }

        // rgba(100%,0%,0%,0.4)
        if ((m = css.match(RE_RGBA_PCT))) {
            var rgb$3 = m.slice(1,5);
            for (var i$3=0; i$3<3; i$3++) {
                rgb$3[i$3] = round$4(rgb$3[i$3] * 2.55);
            }
            rgb$3[3] = +rgb$3[3];
            return rgb$3;
        }

        // hsl(0,100%,50%)
        if ((m = css.match(RE_HSL))) {
            var hsl = m.slice(1,4);
            hsl[1] *= 0.01;
            hsl[2] *= 0.01;
            var rgb$4 = hsl2rgb(hsl);
            rgb$4[3] = 1;
            return rgb$4;
        }

        // hsla(0,100%,50%,0.5)
        if ((m = css.match(RE_HSLA))) {
            var hsl$1 = m.slice(1,4);
            hsl$1[1] *= 0.01;
            hsl$1[2] *= 0.01;
            var rgb$5 = hsl2rgb(hsl$1);
            rgb$5[3] = +m[4];  // default alpha = 1
            return rgb$5;
        }
    };

    css2rgb$1.test = function (s) {
        return RE_RGB.test(s) ||
            RE_RGBA.test(s) ||
            RE_RGB_PCT.test(s) ||
            RE_RGBA_PCT.test(s) ||
            RE_HSL.test(s) ||
            RE_HSLA.test(s);
    };

    var css2rgb_1 = css2rgb$1;

    var chroma$i = chroma_1;
    var Color$B = Color_1;
    var input$e = input$h;
    var type$k = utils.type;

    var rgb2css = rgb2css_1;
    var css2rgb = css2rgb_1;

    Color$B.prototype.css = function(mode) {
        return rgb2css(this._rgb, mode);
    };

    chroma$i.css = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$B, [ null ].concat( args, ['css']) ));
    };

    input$e.format.css = css2rgb;

    input$e.autodetect.push({
        p: 5,
        test: function (h) {
            var rest = [], len = arguments.length - 1;
            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];

            if (!rest.length && type$k(h) === 'string' && css2rgb.test(h)) {
                return 'css';
            }
        }
    });

    var Color$A = Color_1;
    var chroma$h = chroma_1;
    var input$d = input$h;
    var unpack$t = utils.unpack;

    input$d.format.gl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgb = unpack$t(args, 'rgba');
        rgb[0] *= 255;
        rgb[1] *= 255;
        rgb[2] *= 255;
        return rgb;
    };

    chroma$h.gl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$A, [ null ].concat( args, ['gl']) ));
    };

    Color$A.prototype.gl = function() {
        var rgb = this._rgb;
        return [rgb[0]/255, rgb[1]/255, rgb[2]/255, rgb[3]];
    };

    var unpack$s = utils.unpack;

    var rgb2hcg$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$s(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var min = Math.min(r, g, b);
        var max = Math.max(r, g, b);
        var delta = max - min;
        var c = delta * 100 / 255;
        var _g = min / (255 - delta) * 100;
        var h;
        if (delta === 0) {
            h = Number.NaN;
        } else {
            if (r === max) { h = (g - b) / delta; }
            if (g === max) { h = 2+(b - r) / delta; }
            if (b === max) { h = 4+(r - g) / delta; }
            h *= 60;
            if (h < 0) { h += 360; }
        }
        return [h, c, _g];
    };

    var rgb2hcg_1 = rgb2hcg$1;

    var unpack$r = utils.unpack;
    var floor$3 = Math.floor;

    /*
     * this is basically just HSV with some minor tweaks
     *
     * hue.. [0..360]
     * chroma .. [0..1]
     * grayness .. [0..1]
     */

    var hcg2rgb = function () {
        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;

        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];
        args = unpack$r(args, 'hcg');
        var h = args[0];
        var c = args[1];
        var _g = args[2];
        var r,g,b;
        _g = _g * 255;
        var _c = c * 255;
        if (c === 0) {
            r = g = b = _g;
        } else {
            if (h === 360) { h = 0; }
            if (h > 360) { h -= 360; }
            if (h < 0) { h += 360; }
            h /= 60;
            var i = floor$3(h);
            var f = h - i;
            var p = _g * (1 - c);
            var q = p + _c * (1 - f);
            var t = p + _c * f;
            var v = p + _c;
            switch (i) {
                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break
                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break
                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break
                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break
                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break
                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break
            }
        }
        return [r, g, b, args.length > 3 ? args[3] : 1];
    };

    var hcg2rgb_1 = hcg2rgb;

    var unpack$q = utils.unpack;
    var type$j = utils.type;
    var chroma$g = chroma_1;
    var Color$z = Color_1;
    var input$c = input$h;

    var rgb2hcg = rgb2hcg_1;

    Color$z.prototype.hcg = function() {
        return rgb2hcg(this._rgb);
    };

    chroma$g.hcg = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$z, [ null ].concat( args, ['hcg']) ));
    };

    input$c.format.hcg = hcg2rgb_1;

    input$c.autodetect.push({
        p: 1,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$q(args, 'hcg');
            if (type$j(args) === 'array' && args.length === 3) {
                return 'hcg';
            }
        }
    });

    var unpack$p = utils.unpack;
    var last = utils.last;
    var round$3 = Math.round;

    var rgb2hex$2 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$p(args, 'rgba');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var a = ref[3];
        var mode = last(args) || 'auto';
        if (a === undefined) { a = 1; }
        if (mode === 'auto') {
            mode = a < 1 ? 'rgba' : 'rgb';
        }
        r = round$3(r);
        g = round$3(g);
        b = round$3(b);
        var u = r << 16 | g << 8 | b;
        var str = "000000" + u.toString(16); //#.toUpperCase();
        str = str.substr(str.length - 6);
        var hxa = '0' + round$3(a * 255).toString(16);
        hxa = hxa.substr(hxa.length - 2);
        switch (mode.toLowerCase()) {
            case 'rgba': return ("#" + str + hxa);
            case 'argb': return ("#" + hxa + str);
            default: return ("#" + str);
        }
    };

    var rgb2hex_1 = rgb2hex$2;

    var RE_HEX = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;
    var RE_HEXA = /^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;

    var hex2rgb$1 = function (hex) {
        if (hex.match(RE_HEX)) {
            // remove optional leading #
            if (hex.length === 4 || hex.length === 7) {
                hex = hex.substr(1);
            }
            // expand short-notation to full six-digit
            if (hex.length === 3) {
                hex = hex.split('');
                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];
            }
            var u = parseInt(hex, 16);
            var r = u >> 16;
            var g = u >> 8 & 0xFF;
            var b = u & 0xFF;
            return [r,g,b,1];
        }

        // match rgba hex format, eg #FF000077
        if (hex.match(RE_HEXA)) {
            if (hex.length === 5 || hex.length === 9) {
                // remove optional leading #
                hex = hex.substr(1);
            }
            // expand short-notation to full eight-digit
            if (hex.length === 4) {
                hex = hex.split('');
                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]+hex[3]+hex[3];
            }
            var u$1 = parseInt(hex, 16);
            var r$1 = u$1 >> 24 & 0xFF;
            var g$1 = u$1 >> 16 & 0xFF;
            var b$1 = u$1 >> 8 & 0xFF;
            var a = Math.round((u$1 & 0xFF) / 0xFF * 100) / 100;
            return [r$1,g$1,b$1,a];
        }

        // we used to check for css colors here
        // if _input.css? and rgb = _input.css hex
        //     return rgb

        throw new Error(("unknown hex color: " + hex));
    };

    var hex2rgb_1 = hex2rgb$1;

    var chroma$f = chroma_1;
    var Color$y = Color_1;
    var type$i = utils.type;
    var input$b = input$h;

    var rgb2hex$1 = rgb2hex_1;

    Color$y.prototype.hex = function(mode) {
        return rgb2hex$1(this._rgb, mode);
    };

    chroma$f.hex = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$y, [ null ].concat( args, ['hex']) ));
    };

    input$b.format.hex = hex2rgb_1;
    input$b.autodetect.push({
        p: 4,
        test: function (h) {
            var rest = [], len = arguments.length - 1;
            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];

            if (!rest.length && type$i(h) === 'string' && [3,4,5,6,7,8,9].indexOf(h.length) >= 0) {
                return 'hex';
            }
        }
    });

    var unpack$o = utils.unpack;
    var TWOPI$2 = utils.TWOPI;
    var min$2 = Math.min;
    var sqrt$4 = Math.sqrt;
    var acos = Math.acos;

    var rgb2hsi$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        /*
        borrowed from here:
        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/rgb2hsi.cpp
        */
        var ref = unpack$o(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        r /= 255;
        g /= 255;
        b /= 255;
        var h;
        var min_ = min$2(r,g,b);
        var i = (r+g+b) / 3;
        var s = i > 0 ? 1 - min_/i : 0;
        if (s === 0) {
            h = NaN;
        } else {
            h = ((r-g)+(r-b)) / 2;
            h /= sqrt$4((r-g)*(r-g) + (r-b)*(g-b));
            h = acos(h);
            if (b > g) {
                h = TWOPI$2 - h;
            }
            h /= TWOPI$2;
        }
        return [h*360,s,i];
    };

    var rgb2hsi_1 = rgb2hsi$1;

    var unpack$n = utils.unpack;
    var limit = utils.limit;
    var TWOPI$1 = utils.TWOPI;
    var PITHIRD = utils.PITHIRD;
    var cos$4 = Math.cos;

    /*
     * hue [0..360]
     * saturation [0..1]
     * intensity [0..1]
     */
    var hsi2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        /*
        borrowed from here:
        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/hsi2rgb.cpp
        */
        args = unpack$n(args, 'hsi');
        var h = args[0];
        var s = args[1];
        var i = args[2];
        var r,g,b;

        if (isNaN(h)) { h = 0; }
        if (isNaN(s)) { s = 0; }
        // normalize hue
        if (h > 360) { h -= 360; }
        if (h < 0) { h += 360; }
        h /= 360;
        if (h < 1/3) {
            b = (1-s)/3;
            r = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;
            g = 1 - (b+r);
        } else if (h < 2/3) {
            h -= 1/3;
            r = (1-s)/3;
            g = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;
            b = 1 - (r+g);
        } else {
            h -= 2/3;
            g = (1-s)/3;
            b = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;
            r = 1 - (g+b);
        }
        r = limit(i*r*3);
        g = limit(i*g*3);
        b = limit(i*b*3);
        return [r*255, g*255, b*255, args.length > 3 ? args[3] : 1];
    };

    var hsi2rgb_1 = hsi2rgb;

    var unpack$m = utils.unpack;
    var type$h = utils.type;
    var chroma$e = chroma_1;
    var Color$x = Color_1;
    var input$a = input$h;

    var rgb2hsi = rgb2hsi_1;

    Color$x.prototype.hsi = function() {
        return rgb2hsi(this._rgb);
    };

    chroma$e.hsi = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$x, [ null ].concat( args, ['hsi']) ));
    };

    input$a.format.hsi = hsi2rgb_1;

    input$a.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$m(args, 'hsi');
            if (type$h(args) === 'array' && args.length === 3) {
                return 'hsi';
            }
        }
    });

    var unpack$l = utils.unpack;
    var type$g = utils.type;
    var chroma$d = chroma_1;
    var Color$w = Color_1;
    var input$9 = input$h;

    var rgb2hsl$1 = rgb2hsl_1;

    Color$w.prototype.hsl = function() {
        return rgb2hsl$1(this._rgb);
    };

    chroma$d.hsl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$w, [ null ].concat( args, ['hsl']) ));
    };

    input$9.format.hsl = hsl2rgb_1;

    input$9.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$l(args, 'hsl');
            if (type$g(args) === 'array' && args.length === 3) {
                return 'hsl';
            }
        }
    });

    var unpack$k = utils.unpack;
    var min$1 = Math.min;
    var max$1 = Math.max;

    /*
     * supported arguments:
     * - rgb2hsv(r,g,b)
     * - rgb2hsv([r,g,b])
     * - rgb2hsv({r,g,b})
     */
    var rgb2hsl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$k(args, 'rgb');
        var r = args[0];
        var g = args[1];
        var b = args[2];
        var min_ = min$1(r, g, b);
        var max_ = max$1(r, g, b);
        var delta = max_ - min_;
        var h,s,v;
        v = max_ / 255.0;
        if (max_ === 0) {
            h = Number.NaN;
            s = 0;
        } else {
            s = delta / max_;
            if (r === max_) { h = (g - b) / delta; }
            if (g === max_) { h = 2+(b - r) / delta; }
            if (b === max_) { h = 4+(r - g) / delta; }
            h *= 60;
            if (h < 0) { h += 360; }
        }
        return [h, s, v]
    };

    var rgb2hsv$1 = rgb2hsl;

    var unpack$j = utils.unpack;
    var floor$2 = Math.floor;

    var hsv2rgb = function () {
        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;

        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];
        args = unpack$j(args, 'hsv');
        var h = args[0];
        var s = args[1];
        var v = args[2];
        var r,g,b;
        v *= 255;
        if (s === 0) {
            r = g = b = v;
        } else {
            if (h === 360) { h = 0; }
            if (h > 360) { h -= 360; }
            if (h < 0) { h += 360; }
            h /= 60;

            var i = floor$2(h);
            var f = h - i;
            var p = v * (1 - s);
            var q = v * (1 - s * f);
            var t = v * (1 - s * (1 - f));

            switch (i) {
                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break
                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break
                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break
                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break
                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break
                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break
            }
        }
        return [r,g,b,args.length > 3?args[3]:1];
    };

    var hsv2rgb_1 = hsv2rgb;

    var unpack$i = utils.unpack;
    var type$f = utils.type;
    var chroma$c = chroma_1;
    var Color$v = Color_1;
    var input$8 = input$h;

    var rgb2hsv = rgb2hsv$1;

    Color$v.prototype.hsv = function() {
        return rgb2hsv(this._rgb);
    };

    chroma$c.hsv = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$v, [ null ].concat( args, ['hsv']) ));
    };

    input$8.format.hsv = hsv2rgb_1;

    input$8.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$i(args, 'hsv');
            if (type$f(args) === 'array' && args.length === 3) {
                return 'hsv';
            }
        }
    });

    var labConstants = {
        // Corresponds roughly to RGB brighter/darker
        Kn: 18,

        // D65 standard referent
        Xn: 0.950470,
        Yn: 1,
        Zn: 1.088830,

        t0: 0.137931034,  // 4 / 29
        t1: 0.206896552,  // 6 / 29
        t2: 0.12841855,   // 3 * t1 * t1
        t3: 0.008856452,  // t1 * t1 * t1
    };

    var LAB_CONSTANTS$3 = labConstants;
    var unpack$h = utils.unpack;
    var pow$a = Math.pow;

    var rgb2lab$2 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$h(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var ref$1 = rgb2xyz(r,g,b);
        var x = ref$1[0];
        var y = ref$1[1];
        var z = ref$1[2];
        var l = 116 * y - 16;
        return [l < 0 ? 0 : l, 500 * (x - y), 200 * (y - z)];
    };

    var rgb_xyz = function (r) {
        if ((r /= 255) <= 0.04045) { return r / 12.92; }
        return pow$a((r + 0.055) / 1.055, 2.4);
    };

    var xyz_lab = function (t) {
        if (t > LAB_CONSTANTS$3.t3) { return pow$a(t, 1 / 3); }
        return t / LAB_CONSTANTS$3.t2 + LAB_CONSTANTS$3.t0;
    };

    var rgb2xyz = function (r,g,b) {
        r = rgb_xyz(r);
        g = rgb_xyz(g);
        b = rgb_xyz(b);
        var x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / LAB_CONSTANTS$3.Xn);
        var y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / LAB_CONSTANTS$3.Yn);
        var z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / LAB_CONSTANTS$3.Zn);
        return [x,y,z];
    };

    var rgb2lab_1 = rgb2lab$2;

    var LAB_CONSTANTS$2 = labConstants;
    var unpack$g = utils.unpack;
    var pow$9 = Math.pow;

    /*
     * L* [0..100]
     * a [-100..100]
     * b [-100..100]
     */
    var lab2rgb$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$g(args, 'lab');
        var l = args[0];
        var a = args[1];
        var b = args[2];
        var x,y,z, r,g,b_;

        y = (l + 16) / 116;
        x = isNaN(a) ? y : y + a / 500;
        z = isNaN(b) ? y : y - b / 200;

        y = LAB_CONSTANTS$2.Yn * lab_xyz(y);
        x = LAB_CONSTANTS$2.Xn * lab_xyz(x);
        z = LAB_CONSTANTS$2.Zn * lab_xyz(z);

        r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z);  // D65 -> sRGB
        g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);
        b_ = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);

        return [r,g,b_,args.length > 3 ? args[3] : 1];
    };

    var xyz_rgb = function (r) {
        return 255 * (r <= 0.00304 ? 12.92 * r : 1.055 * pow$9(r, 1 / 2.4) - 0.055)
    };

    var lab_xyz = function (t) {
        return t > LAB_CONSTANTS$2.t1 ? t * t * t : LAB_CONSTANTS$2.t2 * (t - LAB_CONSTANTS$2.t0)
    };

    var lab2rgb_1 = lab2rgb$1;

    var unpack$f = utils.unpack;
    var type$e = utils.type;
    var chroma$b = chroma_1;
    var Color$u = Color_1;
    var input$7 = input$h;

    var rgb2lab$1 = rgb2lab_1;

    Color$u.prototype.lab = function() {
        return rgb2lab$1(this._rgb);
    };

    chroma$b.lab = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$u, [ null ].concat( args, ['lab']) ));
    };

    input$7.format.lab = lab2rgb_1;

    input$7.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$f(args, 'lab');
            if (type$e(args) === 'array' && args.length === 3) {
                return 'lab';
            }
        }
    });

    var unpack$e = utils.unpack;
    var RAD2DEG = utils.RAD2DEG;
    var sqrt$3 = Math.sqrt;
    var atan2$2 = Math.atan2;
    var round$2 = Math.round;

    var lab2lch$2 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$e(args, 'lab');
        var l = ref[0];
        var a = ref[1];
        var b = ref[2];
        var c = sqrt$3(a * a + b * b);
        var h = (atan2$2(b, a) * RAD2DEG + 360) % 360;
        if (round$2(c*10000) === 0) { h = Number.NaN; }
        return [l, c, h];
    };

    var lab2lch_1 = lab2lch$2;

    var unpack$d = utils.unpack;
    var rgb2lab = rgb2lab_1;
    var lab2lch$1 = lab2lch_1;

    var rgb2lch$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$d(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var ref$1 = rgb2lab(r,g,b);
        var l = ref$1[0];
        var a = ref$1[1];
        var b_ = ref$1[2];
        return lab2lch$1(l,a,b_);
    };

    var rgb2lch_1 = rgb2lch$1;

    var unpack$c = utils.unpack;
    var DEG2RAD = utils.DEG2RAD;
    var sin$3 = Math.sin;
    var cos$3 = Math.cos;

    var lch2lab$2 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        /*
        Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.
        These formulas were invented by David Dalrymple to obtain maximum contrast without going
        out of gamut if the parameters are in the range 0-1.

        A saturation multiplier was added by Gregor Aisch
        */
        var ref = unpack$c(args, 'lch');
        var l = ref[0];
        var c = ref[1];
        var h = ref[2];
        if (isNaN(h)) { h = 0; }
        h = h * DEG2RAD;
        return [l, cos$3(h) * c, sin$3(h) * c]
    };

    var lch2lab_1 = lch2lab$2;

    var unpack$b = utils.unpack;
    var lch2lab$1 = lch2lab_1;
    var lab2rgb = lab2rgb_1;

    var lch2rgb$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$b(args, 'lch');
        var l = args[0];
        var c = args[1];
        var h = args[2];
        var ref = lch2lab$1 (l,c,h);
        var L = ref[0];
        var a = ref[1];
        var b_ = ref[2];
        var ref$1 = lab2rgb (L,a,b_);
        var r = ref$1[0];
        var g = ref$1[1];
        var b = ref$1[2];
        return [r, g, b, args.length > 3 ? args[3] : 1];
    };

    var lch2rgb_1 = lch2rgb$1;

    var unpack$a = utils.unpack;
    var lch2rgb = lch2rgb_1;

    var hcl2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var hcl = unpack$a(args, 'hcl').reverse();
        return lch2rgb.apply(void 0, hcl);
    };

    var hcl2rgb_1 = hcl2rgb;

    var unpack$9 = utils.unpack;
    var type$d = utils.type;
    var chroma$a = chroma_1;
    var Color$t = Color_1;
    var input$6 = input$h;

    var rgb2lch = rgb2lch_1;

    Color$t.prototype.lch = function() { return rgb2lch(this._rgb); };
    Color$t.prototype.hcl = function() { return rgb2lch(this._rgb).reverse(); };

    chroma$a.lch = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$t, [ null ].concat( args, ['lch']) ));
    };
    chroma$a.hcl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$t, [ null ].concat( args, ['hcl']) ));
    };

    input$6.format.lch = lch2rgb_1;
    input$6.format.hcl = hcl2rgb_1;

    ['lch','hcl'].forEach(function (m) { return input$6.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$9(args, m);
            if (type$d(args) === 'array' && args.length === 3) {
                return m;
            }
        }
    }); });

    /**
    	X11 color names

    	http://www.w3.org/TR/css3-color/#svg-color
    */

    var w3cx11$1 = {
        aliceblue: '#f0f8ff',
        antiquewhite: '#faebd7',
        aqua: '#00ffff',
        aquamarine: '#7fffd4',
        azure: '#f0ffff',
        beige: '#f5f5dc',
        bisque: '#ffe4c4',
        black: '#000000',
        blanchedalmond: '#ffebcd',
        blue: '#0000ff',
        blueviolet: '#8a2be2',
        brown: '#a52a2a',
        burlywood: '#deb887',
        cadetblue: '#5f9ea0',
        chartreuse: '#7fff00',
        chocolate: '#d2691e',
        coral: '#ff7f50',
        cornflower: '#6495ed',
        cornflowerblue: '#6495ed',
        cornsilk: '#fff8dc',
        crimson: '#dc143c',
        cyan: '#00ffff',
        darkblue: '#00008b',
        darkcyan: '#008b8b',
        darkgoldenrod: '#b8860b',
        darkgray: '#a9a9a9',
        darkgreen: '#006400',
        darkgrey: '#a9a9a9',
        darkkhaki: '#bdb76b',
        darkmagenta: '#8b008b',
        darkolivegreen: '#556b2f',
        darkorange: '#ff8c00',
        darkorchid: '#9932cc',
        darkred: '#8b0000',
        darksalmon: '#e9967a',
        darkseagreen: '#8fbc8f',
        darkslateblue: '#483d8b',
        darkslategray: '#2f4f4f',
        darkslategrey: '#2f4f4f',
        darkturquoise: '#00ced1',
        darkviolet: '#9400d3',
        deeppink: '#ff1493',
        deepskyblue: '#00bfff',
        dimgray: '#696969',
        dimgrey: '#696969',
        dodgerblue: '#1e90ff',
        firebrick: '#b22222',
        floralwhite: '#fffaf0',
        forestgreen: '#228b22',
        fuchsia: '#ff00ff',
        gainsboro: '#dcdcdc',
        ghostwhite: '#f8f8ff',
        gold: '#ffd700',
        goldenrod: '#daa520',
        gray: '#808080',
        green: '#008000',
        greenyellow: '#adff2f',
        grey: '#808080',
        honeydew: '#f0fff0',
        hotpink: '#ff69b4',
        indianred: '#cd5c5c',
        indigo: '#4b0082',
        ivory: '#fffff0',
        khaki: '#f0e68c',
        laserlemon: '#ffff54',
        lavender: '#e6e6fa',
        lavenderblush: '#fff0f5',
        lawngreen: '#7cfc00',
        lemonchiffon: '#fffacd',
        lightblue: '#add8e6',
        lightcoral: '#f08080',
        lightcyan: '#e0ffff',
        lightgoldenrod: '#fafad2',
        lightgoldenrodyellow: '#fafad2',
        lightgray: '#d3d3d3',
        lightgreen: '#90ee90',
        lightgrey: '#d3d3d3',
        lightpink: '#ffb6c1',
        lightsalmon: '#ffa07a',
        lightseagreen: '#20b2aa',
        lightskyblue: '#87cefa',
        lightslategray: '#778899',
        lightslategrey: '#778899',
        lightsteelblue: '#b0c4de',
        lightyellow: '#ffffe0',
        lime: '#00ff00',
        limegreen: '#32cd32',
        linen: '#faf0e6',
        magenta: '#ff00ff',
        maroon: '#800000',
        maroon2: '#7f0000',
        maroon3: '#b03060',
        mediumaquamarine: '#66cdaa',
        mediumblue: '#0000cd',
        mediumorchid: '#ba55d3',
        mediumpurple: '#9370db',
        mediumseagreen: '#3cb371',
        mediumslateblue: '#7b68ee',
        mediumspringgreen: '#00fa9a',
        mediumturquoise: '#48d1cc',
        mediumvioletred: '#c71585',
        midnightblue: '#191970',
        mintcream: '#f5fffa',
        mistyrose: '#ffe4e1',
        moccasin: '#ffe4b5',
        navajowhite: '#ffdead',
        navy: '#000080',
        oldlace: '#fdf5e6',
        olive: '#808000',
        olivedrab: '#6b8e23',
        orange: '#ffa500',
        orangered: '#ff4500',
        orchid: '#da70d6',
        palegoldenrod: '#eee8aa',
        palegreen: '#98fb98',
        paleturquoise: '#afeeee',
        palevioletred: '#db7093',
        papayawhip: '#ffefd5',
        peachpuff: '#ffdab9',
        peru: '#cd853f',
        pink: '#ffc0cb',
        plum: '#dda0dd',
        powderblue: '#b0e0e6',
        purple: '#800080',
        purple2: '#7f007f',
        purple3: '#a020f0',
        rebeccapurple: '#663399',
        red: '#ff0000',
        rosybrown: '#bc8f8f',
        royalblue: '#4169e1',
        saddlebrown: '#8b4513',
        salmon: '#fa8072',
        sandybrown: '#f4a460',
        seagreen: '#2e8b57',
        seashell: '#fff5ee',
        sienna: '#a0522d',
        silver: '#c0c0c0',
        skyblue: '#87ceeb',
        slateblue: '#6a5acd',
        slategray: '#708090',
        slategrey: '#708090',
        snow: '#fffafa',
        springgreen: '#00ff7f',
        steelblue: '#4682b4',
        tan: '#d2b48c',
        teal: '#008080',
        thistle: '#d8bfd8',
        tomato: '#ff6347',
        turquoise: '#40e0d0',
        violet: '#ee82ee',
        wheat: '#f5deb3',
        white: '#ffffff',
        whitesmoke: '#f5f5f5',
        yellow: '#ffff00',
        yellowgreen: '#9acd32'
    };

    var w3cx11_1 = w3cx11$1;

    var Color$s = Color_1;
    var input$5 = input$h;
    var type$c = utils.type;

    var w3cx11 = w3cx11_1;
    var hex2rgb = hex2rgb_1;
    var rgb2hex = rgb2hex_1;

    Color$s.prototype.name = function() {
        var hex = rgb2hex(this._rgb, 'rgb');
        for (var i = 0, list = Object.keys(w3cx11); i < list.length; i += 1) {
            var n = list[i];

            if (w3cx11[n] === hex) { return n.toLowerCase(); }
        }
        return hex;
    };

    input$5.format.named = function (name) {
        name = name.toLowerCase();
        if (w3cx11[name]) { return hex2rgb(w3cx11[name]); }
        throw new Error('unknown color name: '+name);
    };

    input$5.autodetect.push({
        p: 5,
        test: function (h) {
            var rest = [], len = arguments.length - 1;
            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];

            if (!rest.length && type$c(h) === 'string' && w3cx11[h.toLowerCase()]) {
                return 'named';
            }
        }
    });

    var unpack$8 = utils.unpack;

    var rgb2num$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$8(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        return (r << 16) + (g << 8) + b;
    };

    var rgb2num_1 = rgb2num$1;

    var type$b = utils.type;

    var num2rgb = function (num) {
        if (type$b(num) == "number" && num >= 0 && num <= 0xFFFFFF) {
            var r = num >> 16;
            var g = (num >> 8) & 0xFF;
            var b = num & 0xFF;
            return [r,g,b,1];
        }
        throw new Error("unknown num color: "+num);
    };

    var num2rgb_1 = num2rgb;

    var chroma$9 = chroma_1;
    var Color$r = Color_1;
    var input$4 = input$h;
    var type$a = utils.type;

    var rgb2num = rgb2num_1;

    Color$r.prototype.num = function() {
        return rgb2num(this._rgb);
    };

    chroma$9.num = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$r, [ null ].concat( args, ['num']) ));
    };

    input$4.format.num = num2rgb_1;

    input$4.autodetect.push({
        p: 5,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            if (args.length === 1 && type$a(args[0]) === 'number' && args[0] >= 0 && args[0] <= 0xFFFFFF) {
                return 'num';
            }
        }
    });

    var chroma$8 = chroma_1;
    var Color$q = Color_1;
    var input$3 = input$h;
    var unpack$7 = utils.unpack;
    var type$9 = utils.type;
    var round$1 = Math.round;

    Color$q.prototype.rgb = function(rnd) {
        if ( rnd === void 0 ) rnd=true;

        if (rnd === false) { return this._rgb.slice(0,3); }
        return this._rgb.slice(0,3).map(round$1);
    };

    Color$q.prototype.rgba = function(rnd) {
        if ( rnd === void 0 ) rnd=true;

        return this._rgb.slice(0,4).map(function (v,i) {
            return i<3 ? (rnd === false ? v : round$1(v)) : v;
        });
    };

    chroma$8.rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$q, [ null ].concat( args, ['rgb']) ));
    };

    input$3.format.rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgba = unpack$7(args, 'rgba');
        if (rgba[3] === undefined) { rgba[3] = 1; }
        return rgba;
    };

    input$3.autodetect.push({
        p: 3,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$7(args, 'rgba');
            if (type$9(args) === 'array' && (args.length === 3 ||
                args.length === 4 && type$9(args[3]) == 'number' && args[3] >= 0 && args[3] <= 1)) {
                return 'rgb';
            }
        }
    });

    /*
     * Based on implementation by Neil Bartlett
     * https://github.com/neilbartlett/color-temperature
     */

    var log$1 = Math.log;

    var temperature2rgb$1 = function (kelvin) {
        var temp = kelvin / 100;
        var r,g,b;
        if (temp < 66) {
            r = 255;
            g = temp < 6 ? 0 : -155.25485562709179 - 0.44596950469579133 * (g = temp-2) + 104.49216199393888 * log$1(g);
            b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp-10) + 115.67994401066147 * log$1(b);
        } else {
            r = 351.97690566805693 + 0.114206453784165 * (r = temp-55) - 40.25366309332127 * log$1(r);
            g = 325.4494125711974 + 0.07943456536662342 * (g = temp-50) - 28.0852963507957 * log$1(g);
            b = 255;
        }
        return [r,g,b,1];
    };

    var temperature2rgb_1 = temperature2rgb$1;

    /*
     * Based on implementation by Neil Bartlett
     * https://github.com/neilbartlett/color-temperature
     **/

    var temperature2rgb = temperature2rgb_1;
    var unpack$6 = utils.unpack;
    var round = Math.round;

    var rgb2temperature$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgb = unpack$6(args, 'rgb');
        var r = rgb[0], b = rgb[2];
        var minTemp = 1000;
        var maxTemp = 40000;
        var eps = 0.4;
        var temp;
        while (maxTemp - minTemp > eps) {
            temp = (maxTemp + minTemp) * 0.5;
            var rgb$1 = temperature2rgb(temp);
            if ((rgb$1[2] / rgb$1[0]) >= (b / r)) {
                maxTemp = temp;
            } else {
                minTemp = temp;
            }
        }
        return round(temp);
    };

    var rgb2temperature_1 = rgb2temperature$1;

    var chroma$7 = chroma_1;
    var Color$p = Color_1;
    var input$2 = input$h;

    var rgb2temperature = rgb2temperature_1;

    Color$p.prototype.temp =
    Color$p.prototype.kelvin =
    Color$p.prototype.temperature = function() {
        return rgb2temperature(this._rgb);
    };

    chroma$7.temp =
    chroma$7.kelvin =
    chroma$7.temperature = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$p, [ null ].concat( args, ['temp']) ));
    };

    input$2.format.temp =
    input$2.format.kelvin =
    input$2.format.temperature = temperature2rgb_1;

    var unpack$5 = utils.unpack;
    var cbrt = Math.cbrt;
    var pow$8 = Math.pow;
    var sign$1 = Math.sign;

    var rgb2oklab$2 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        // OKLab color space implementation taken from
        // https://bottosson.github.io/posts/oklab/
        var ref = unpack$5(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var ref$1 = [rgb2lrgb(r / 255), rgb2lrgb(g / 255), rgb2lrgb(b / 255)];
        var lr = ref$1[0];
        var lg = ref$1[1];
        var lb = ref$1[2];
        var l = cbrt(0.4122214708 * lr + 0.5363325363 * lg + 0.0514459929 * lb);
        var m = cbrt(0.2119034982 * lr + 0.6806995451 * lg + 0.1073969566 * lb);
        var s = cbrt(0.0883024619 * lr + 0.2817188376 * lg + 0.6299787005 * lb);

        return [
            0.2104542553 * l + 0.793617785 * m - 0.0040720468 * s,
            1.9779984951 * l - 2.428592205 * m + 0.4505937099 * s,
            0.0259040371 * l + 0.7827717662 * m - 0.808675766 * s
        ];
    };

    var rgb2oklab_1 = rgb2oklab$2;

    function rgb2lrgb(c) {
        var abs = Math.abs(c);
        if (abs < 0.04045) {
            return c / 12.92;
        }
        return (sign$1(c) || 1) * pow$8((abs + 0.055) / 1.055, 2.4);
    }

    var unpack$4 = utils.unpack;
    var pow$7 = Math.pow;
    var sign = Math.sign;

    /*
     * L* [0..100]
     * a [-100..100]
     * b [-100..100]
     */
    var oklab2rgb$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$4(args, 'lab');
        var L = args[0];
        var a = args[1];
        var b = args[2];

        var l = pow$7(L + 0.3963377774 * a + 0.2158037573 * b, 3);
        var m = pow$7(L - 0.1055613458 * a - 0.0638541728 * b, 3);
        var s = pow$7(L - 0.0894841775 * a - 1.291485548 * b, 3);

        return [
            255 * lrgb2rgb(+4.0767416621 * l - 3.3077115913 * m + 0.2309699292 * s),
            255 * lrgb2rgb(-1.2684380046 * l + 2.6097574011 * m - 0.3413193965 * s),
            255 * lrgb2rgb(-0.0041960863 * l - 0.7034186147 * m + 1.707614701 * s),
            args.length > 3 ? args[3] : 1
        ];
    };

    var oklab2rgb_1 = oklab2rgb$1;

    function lrgb2rgb(c) {
        var abs = Math.abs(c);
        if (abs > 0.0031308) {
            return (sign(c) || 1) * (1.055 * pow$7(abs, 1 / 2.4) - 0.055);
        }
        return c * 12.92;
    }

    var unpack$3 = utils.unpack;
    var type$8 = utils.type;
    var chroma$6 = chroma_1;
    var Color$o = Color_1;
    var input$1 = input$h;

    var rgb2oklab$1 = rgb2oklab_1;

    Color$o.prototype.oklab = function () {
        return rgb2oklab$1(this._rgb);
    };

    chroma$6.oklab = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$o, [ null ].concat( args, ['oklab']) ));
    };

    input$1.format.oklab = oklab2rgb_1;

    input$1.autodetect.push({
        p: 3,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$3(args, 'oklab');
            if (type$8(args) === 'array' && args.length === 3) {
                return 'oklab';
            }
        }
    });

    var unpack$2 = utils.unpack;
    var rgb2oklab = rgb2oklab_1;
    var lab2lch = lab2lch_1;

    var rgb2oklch$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$2(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var ref$1 = rgb2oklab(r, g, b);
        var l = ref$1[0];
        var a = ref$1[1];
        var b_ = ref$1[2];
        return lab2lch(l, a, b_);
    };

    var rgb2oklch_1 = rgb2oklch$1;

    var unpack$1 = utils.unpack;
    var lch2lab = lch2lab_1;
    var oklab2rgb = oklab2rgb_1;

    var oklch2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$1(args, 'lch');
        var l = args[0];
        var c = args[1];
        var h = args[2];
        var ref = lch2lab(l, c, h);
        var L = ref[0];
        var a = ref[1];
        var b_ = ref[2];
        var ref$1 = oklab2rgb(L, a, b_);
        var r = ref$1[0];
        var g = ref$1[1];
        var b = ref$1[2];
        return [r, g, b, args.length > 3 ? args[3] : 1];
    };

    var oklch2rgb_1 = oklch2rgb;

    var unpack = utils.unpack;
    var type$7 = utils.type;
    var chroma$5 = chroma_1;
    var Color$n = Color_1;
    var input = input$h;

    var rgb2oklch = rgb2oklch_1;

    Color$n.prototype.oklch = function () {
        return rgb2oklch(this._rgb);
    };

    chroma$5.oklch = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$n, [ null ].concat( args, ['oklch']) ));
    };

    input.format.oklch = oklch2rgb_1;

    input.autodetect.push({
        p: 3,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack(args, 'oklch');
            if (type$7(args) === 'array' && args.length === 3) {
                return 'oklch';
            }
        }
    });

    var Color$m = Color_1;
    var type$6 = utils.type;

    Color$m.prototype.alpha = function(a, mutate) {
        if ( mutate === void 0 ) mutate=false;

        if (a !== undefined && type$6(a) === 'number') {
            if (mutate) {
                this._rgb[3] = a;
                return this;
            }
            return new Color$m([this._rgb[0], this._rgb[1], this._rgb[2], a], 'rgb');
        }
        return this._rgb[3];
    };

    var Color$l = Color_1;

    Color$l.prototype.clipped = function() {
        return this._rgb._clipped || false;
    };

    var Color$k = Color_1;
    var LAB_CONSTANTS$1 = labConstants;

    Color$k.prototype.darken = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	var me = this;
    	var lab = me.lab();
    	lab[0] -= LAB_CONSTANTS$1.Kn * amount;
    	return new Color$k(lab, 'lab').alpha(me.alpha(), true);
    };

    Color$k.prototype.brighten = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	return this.darken(-amount);
    };

    Color$k.prototype.darker = Color$k.prototype.darken;
    Color$k.prototype.brighter = Color$k.prototype.brighten;

    var Color$j = Color_1;

    Color$j.prototype.get = function (mc) {
        var ref = mc.split('.');
        var mode = ref[0];
        var channel = ref[1];
        var src = this[mode]();
        if (channel) {
            var i = mode.indexOf(channel) - (mode.substr(0, 2) === 'ok' ? 2 : 0);
            if (i > -1) { return src[i]; }
            throw new Error(("unknown channel " + channel + " in mode " + mode));
        } else {
            return src;
        }
    };

    var Color$i = Color_1;
    var type$5 = utils.type;
    var pow$6 = Math.pow;

    var EPS = 1e-7;
    var MAX_ITER = 20;

    Color$i.prototype.luminance = function(lum) {
        if (lum !== undefined && type$5(lum) === 'number') {
            if (lum === 0) {
                // return pure black
                return new Color$i([0,0,0,this._rgb[3]], 'rgb');
            }
            if (lum === 1) {
                // return pure white
                return new Color$i([255,255,255,this._rgb[3]], 'rgb');
            }
            // compute new color using...
            var cur_lum = this.luminance();
            var mode = 'rgb';
            var max_iter = MAX_ITER;

            var test = function (low, high) {
                var mid = low.interpolate(high, 0.5, mode);
                var lm = mid.luminance();
                if (Math.abs(lum - lm) < EPS || !max_iter--) {
                    // close enough
                    return mid;
                }
                return lm > lum ? test(low, mid) : test(mid, high);
            };

            var rgb = (cur_lum > lum ? test(new Color$i([0,0,0]), this) : test(this, new Color$i([255,255,255]))).rgb();
            return new Color$i(rgb.concat( [this._rgb[3]]));
        }
        return rgb2luminance.apply(void 0, (this._rgb).slice(0,3));
    };


    var rgb2luminance = function (r,g,b) {
        // relative luminance
        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef
        r = luminance_x(r);
        g = luminance_x(g);
        b = luminance_x(b);
        return 0.2126 * r + 0.7152 * g + 0.0722 * b;
    };

    var luminance_x = function (x) {
        x /= 255;
        return x <= 0.03928 ? x/12.92 : pow$6((x+0.055)/1.055, 2.4);
    };

    var interpolator$1 = {};

    var Color$h = Color_1;
    var type$4 = utils.type;
    var interpolator = interpolator$1;

    var mix$1 = function (col1, col2, f) {
        if ( f === void 0 ) f=0.5;
        var rest = [], len = arguments.length - 3;
        while ( len-- > 0 ) rest[ len ] = arguments[ len + 3 ];

        var mode = rest[0] || 'lrgb';
        if (!interpolator[mode] && !rest.length) {
            // fall back to the first supported mode
            mode = Object.keys(interpolator)[0];
        }
        if (!interpolator[mode]) {
            throw new Error(("interpolation mode " + mode + " is not defined"));
        }
        if (type$4(col1) !== 'object') { col1 = new Color$h(col1); }
        if (type$4(col2) !== 'object') { col2 = new Color$h(col2); }
        return interpolator[mode](col1, col2, f)
            .alpha(col1.alpha() + f * (col2.alpha() - col1.alpha()));
    };

    var Color$g = Color_1;
    var mix = mix$1;

    Color$g.prototype.mix =
    Color$g.prototype.interpolate = function(col2, f) {
    	if ( f === void 0 ) f=0.5;
    	var rest = [], len = arguments.length - 2;
    	while ( len-- > 0 ) rest[ len ] = arguments[ len + 2 ];

    	return mix.apply(void 0, [ this, col2, f ].concat( rest ));
    };

    var Color$f = Color_1;

    Color$f.prototype.premultiply = function(mutate) {
    	if ( mutate === void 0 ) mutate=false;

    	var rgb = this._rgb;
    	var a = rgb[3];
    	if (mutate) {
    		this._rgb = [rgb[0]*a, rgb[1]*a, rgb[2]*a, a];
    		return this;
    	} else {
    		return new Color$f([rgb[0]*a, rgb[1]*a, rgb[2]*a, a], 'rgb');
    	}
    };

    var Color$e = Color_1;
    var LAB_CONSTANTS = labConstants;

    Color$e.prototype.saturate = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	var me = this;
    	var lch = me.lch();
    	lch[1] += LAB_CONSTANTS.Kn * amount;
    	if (lch[1] < 0) { lch[1] = 0; }
    	return new Color$e(lch, 'lch').alpha(me.alpha(), true);
    };

    Color$e.prototype.desaturate = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	return this.saturate(-amount);
    };

    var Color$d = Color_1;
    var type$3 = utils.type;

    Color$d.prototype.set = function (mc, value, mutate) {
        if ( mutate === void 0 ) mutate = false;

        var ref = mc.split('.');
        var mode = ref[0];
        var channel = ref[1];
        var src = this[mode]();
        if (channel) {
            var i = mode.indexOf(channel) - (mode.substr(0, 2) === 'ok' ? 2 : 0);
            if (i > -1) {
                if (type$3(value) == 'string') {
                    switch (value.charAt(0)) {
                        case '+':
                            src[i] += +value;
                            break;
                        case '-':
                            src[i] += +value;
                            break;
                        case '*':
                            src[i] *= +value.substr(1);
                            break;
                        case '/':
                            src[i] /= +value.substr(1);
                            break;
                        default:
                            src[i] = +value;
                    }
                } else if (type$3(value) === 'number') {
                    src[i] = value;
                } else {
                    throw new Error("unsupported value for Color.set");
                }
                var out = new Color$d(src, mode);
                if (mutate) {
                    this._rgb = out._rgb;
                    return this;
                }
                return out;
            }
            throw new Error(("unknown channel " + channel + " in mode " + mode));
        } else {
            return src;
        }
    };

    var Color$c = Color_1;

    var rgb = function (col1, col2, f) {
        var xyz0 = col1._rgb;
        var xyz1 = col2._rgb;
        return new Color$c(
            xyz0[0] + f * (xyz1[0]-xyz0[0]),
            xyz0[1] + f * (xyz1[1]-xyz0[1]),
            xyz0[2] + f * (xyz1[2]-xyz0[2]),
            'rgb'
        )
    };

    // register interpolator
    interpolator$1.rgb = rgb;

    var Color$b = Color_1;
    var sqrt$2 = Math.sqrt;
    var pow$5 = Math.pow;

    var lrgb = function (col1, col2, f) {
        var ref = col1._rgb;
        var x1 = ref[0];
        var y1 = ref[1];
        var z1 = ref[2];
        var ref$1 = col2._rgb;
        var x2 = ref$1[0];
        var y2 = ref$1[1];
        var z2 = ref$1[2];
        return new Color$b(
            sqrt$2(pow$5(x1,2) * (1-f) + pow$5(x2,2) * f),
            sqrt$2(pow$5(y1,2) * (1-f) + pow$5(y2,2) * f),
            sqrt$2(pow$5(z1,2) * (1-f) + pow$5(z2,2) * f),
            'rgb'
        )
    };

    // register interpolator
    interpolator$1.lrgb = lrgb;

    var Color$a = Color_1;

    var lab = function (col1, col2, f) {
        var xyz0 = col1.lab();
        var xyz1 = col2.lab();
        return new Color$a(
            xyz0[0] + f * (xyz1[0]-xyz0[0]),
            xyz0[1] + f * (xyz1[1]-xyz0[1]),
            xyz0[2] + f * (xyz1[2]-xyz0[2]),
            'lab'
        )
    };

    // register interpolator
    interpolator$1.lab = lab;

    var Color$9 = Color_1;

    var _hsx = function (col1, col2, f, m) {
        var assign, assign$1;

        var xyz0, xyz1;
        if (m === 'hsl') {
            xyz0 = col1.hsl();
            xyz1 = col2.hsl();
        } else if (m === 'hsv') {
            xyz0 = col1.hsv();
            xyz1 = col2.hsv();
        } else if (m === 'hcg') {
            xyz0 = col1.hcg();
            xyz1 = col2.hcg();
        } else if (m === 'hsi') {
            xyz0 = col1.hsi();
            xyz1 = col2.hsi();
        } else if (m === 'lch' || m === 'hcl') {
            m = 'hcl';
            xyz0 = col1.hcl();
            xyz1 = col2.hcl();
        } else if (m === 'oklch') {
            xyz0 = col1.oklch().reverse();
            xyz1 = col2.oklch().reverse();
        }

        var hue0, hue1, sat0, sat1, lbv0, lbv1;
        if (m.substr(0, 1) === 'h' || m === 'oklch') {
            (assign = xyz0, hue0 = assign[0], sat0 = assign[1], lbv0 = assign[2]);
            (assign$1 = xyz1, hue1 = assign$1[0], sat1 = assign$1[1], lbv1 = assign$1[2]);
        }

        var sat, hue, lbv, dh;

        if (!isNaN(hue0) && !isNaN(hue1)) {
            // both colors have hue
            if (hue1 > hue0 && hue1 - hue0 > 180) {
                dh = hue1 - (hue0 + 360);
            } else if (hue1 < hue0 && hue0 - hue1 > 180) {
                dh = hue1 + 360 - hue0;
            } else {
                dh = hue1 - hue0;
            }
            hue = hue0 + f * dh;
        } else if (!isNaN(hue0)) {
            hue = hue0;
            if ((lbv1 == 1 || lbv1 == 0) && m != 'hsv') { sat = sat0; }
        } else if (!isNaN(hue1)) {
            hue = hue1;
            if ((lbv0 == 1 || lbv0 == 0) && m != 'hsv') { sat = sat1; }
        } else {
            hue = Number.NaN;
        }

        if (sat === undefined) { sat = sat0 + f * (sat1 - sat0); }
        lbv = lbv0 + f * (lbv1 - lbv0);
        return m === 'oklch' ? new Color$9([lbv, sat, hue], m) : new Color$9([hue, sat, lbv], m);
    };

    var interpolate_hsx$5 = _hsx;

    var lch = function (col1, col2, f) {
    	return interpolate_hsx$5(col1, col2, f, 'lch');
    };

    // register interpolator
    interpolator$1.lch = lch;
    interpolator$1.hcl = lch;

    var Color$8 = Color_1;

    var num = function (col1, col2, f) {
        var c1 = col1.num();
        var c2 = col2.num();
        return new Color$8(c1 + f * (c2-c1), 'num')
    };

    // register interpolator
    interpolator$1.num = num;

    var interpolate_hsx$4 = _hsx;

    var hcg = function (col1, col2, f) {
    	return interpolate_hsx$4(col1, col2, f, 'hcg');
    };

    // register interpolator
    interpolator$1.hcg = hcg;

    var interpolate_hsx$3 = _hsx;

    var hsi = function (col1, col2, f) {
    	return interpolate_hsx$3(col1, col2, f, 'hsi');
    };

    // register interpolator
    interpolator$1.hsi = hsi;

    var interpolate_hsx$2 = _hsx;

    var hsl = function (col1, col2, f) {
    	return interpolate_hsx$2(col1, col2, f, 'hsl');
    };

    // register interpolator
    interpolator$1.hsl = hsl;

    var interpolate_hsx$1 = _hsx;

    var hsv = function (col1, col2, f) {
    	return interpolate_hsx$1(col1, col2, f, 'hsv');
    };

    // register interpolator
    interpolator$1.hsv = hsv;

    var Color$7 = Color_1;

    var oklab = function (col1, col2, f) {
        var xyz0 = col1.oklab();
        var xyz1 = col2.oklab();
        return new Color$7(
            xyz0[0] + f * (xyz1[0] - xyz0[0]),
            xyz0[1] + f * (xyz1[1] - xyz0[1]),
            xyz0[2] + f * (xyz1[2] - xyz0[2]),
            'oklab'
        );
    };

    // register interpolator
    interpolator$1.oklab = oklab;

    var interpolate_hsx = _hsx;

    var oklch = function (col1, col2, f) {
        return interpolate_hsx(col1, col2, f, 'oklch');
    };

    // register interpolator
    interpolator$1.oklch = oklch;

    var Color$6 = Color_1;
    var clip_rgb$1 = utils.clip_rgb;
    var pow$4 = Math.pow;
    var sqrt$1 = Math.sqrt;
    var PI$1 = Math.PI;
    var cos$2 = Math.cos;
    var sin$2 = Math.sin;
    var atan2$1 = Math.atan2;

    var average = function (colors, mode, weights) {
        if ( mode === void 0 ) mode='lrgb';
        if ( weights === void 0 ) weights=null;

        var l = colors.length;
        if (!weights) { weights = Array.from(new Array(l)).map(function () { return 1; }); }
        // normalize weights
        var k = l / weights.reduce(function(a, b) { return a + b; });
        weights.forEach(function (w,i) { weights[i] *= k; });
        // convert colors to Color objects
        colors = colors.map(function (c) { return new Color$6(c); });
        if (mode === 'lrgb') {
            return _average_lrgb(colors, weights)
        }
        var first = colors.shift();
        var xyz = first.get(mode);
        var cnt = [];
        var dx = 0;
        var dy = 0;
        // initial color
        for (var i=0; i<xyz.length; i++) {
            xyz[i] = (xyz[i] || 0) * weights[0];
            cnt.push(isNaN(xyz[i]) ? 0 : weights[0]);
            if (mode.charAt(i) === 'h' && !isNaN(xyz[i])) {
                var A = xyz[i] / 180 * PI$1;
                dx += cos$2(A) * weights[0];
                dy += sin$2(A) * weights[0];
            }
        }

        var alpha = first.alpha() * weights[0];
        colors.forEach(function (c,ci) {
            var xyz2 = c.get(mode);
            alpha += c.alpha() * weights[ci+1];
            for (var i=0; i<xyz.length; i++) {
                if (!isNaN(xyz2[i])) {
                    cnt[i] += weights[ci+1];
                    if (mode.charAt(i) === 'h') {
                        var A = xyz2[i] / 180 * PI$1;
                        dx += cos$2(A) * weights[ci+1];
                        dy += sin$2(A) * weights[ci+1];
                    } else {
                        xyz[i] += xyz2[i] * weights[ci+1];
                    }
                }
            }
        });

        for (var i$1=0; i$1<xyz.length; i$1++) {
            if (mode.charAt(i$1) === 'h') {
                var A$1 = atan2$1(dy / cnt[i$1], dx / cnt[i$1]) / PI$1 * 180;
                while (A$1 < 0) { A$1 += 360; }
                while (A$1 >= 360) { A$1 -= 360; }
                xyz[i$1] = A$1;
            } else {
                xyz[i$1] = xyz[i$1]/cnt[i$1];
            }
        }
        alpha /= l;
        return (new Color$6(xyz, mode)).alpha(alpha > 0.99999 ? 1 : alpha, true);
    };


    var _average_lrgb = function (colors, weights) {
        var l = colors.length;
        var xyz = [0,0,0,0];
        for (var i=0; i < colors.length; i++) {
            var col = colors[i];
            var f = weights[i] / l;
            var rgb = col._rgb;
            xyz[0] += pow$4(rgb[0],2) * f;
            xyz[1] += pow$4(rgb[1],2) * f;
            xyz[2] += pow$4(rgb[2],2) * f;
            xyz[3] += rgb[3] * f;
        }
        xyz[0] = sqrt$1(xyz[0]);
        xyz[1] = sqrt$1(xyz[1]);
        xyz[2] = sqrt$1(xyz[2]);
        if (xyz[3] > 0.9999999) { xyz[3] = 1; }
        return new Color$6(clip_rgb$1(xyz));
    };

    // minimal multi-purpose interface

    // @requires utils color analyze

    var chroma$4 = chroma_1;
    var type$2 = utils.type;

    var pow$3 = Math.pow;

    var scale$2 = function(colors) {

        // constructor
        var _mode = 'rgb';
        var _nacol = chroma$4('#ccc');
        var _spread = 0;
        // const _fixed = false;
        var _domain = [0, 1];
        var _pos = [];
        var _padding = [0,0];
        var _classes = false;
        var _colors = [];
        var _out = false;
        var _min = 0;
        var _max = 1;
        var _correctLightness = false;
        var _colorCache = {};
        var _useCache = true;
        var _gamma = 1;

        // private methods

        var setColors = function(colors) {
            colors = colors || ['#fff', '#000'];
            if (colors && type$2(colors) === 'string' && chroma$4.brewer &&
                chroma$4.brewer[colors.toLowerCase()]) {
                colors = chroma$4.brewer[colors.toLowerCase()];
            }
            if (type$2(colors) === 'array') {
                // handle single color
                if (colors.length === 1) {
                    colors = [colors[0], colors[0]];
                }
                // make a copy of the colors
                colors = colors.slice(0);
                // convert to chroma classes
                for (var c=0; c<colors.length; c++) {
                    colors[c] = chroma$4(colors[c]);
                }
                // auto-fill color position
                _pos.length = 0;
                for (var c$1=0; c$1<colors.length; c$1++) {
                    _pos.push(c$1/(colors.length-1));
                }
            }
            resetCache();
            return _colors = colors;
        };

        var getClass = function(value) {
            if (_classes != null) {
                var n = _classes.length-1;
                var i = 0;
                while (i < n && value >= _classes[i]) {
                    i++;
                }
                return i-1;
            }
            return 0;
        };

        var tMapLightness = function (t) { return t; };
        var tMapDomain = function (t) { return t; };

        // const classifyValue = function(value) {
        //     let val = value;
        //     if (_classes.length > 2) {
        //         const n = _classes.length-1;
        //         const i = getClass(value);
        //         const minc = _classes[0] + ((_classes[1]-_classes[0]) * (0 + (_spread * 0.5)));  // center of 1st class
        //         const maxc = _classes[n-1] + ((_classes[n]-_classes[n-1]) * (1 - (_spread * 0.5)));  // center of last class
        //         val = _min + ((((_classes[i] + ((_classes[i+1] - _classes[i]) * 0.5)) - minc) / (maxc-minc)) * (_max - _min));
        //     }
        //     return val;
        // };

        var getColor = function(val, bypassMap) {
            var col, t;
            if (bypassMap == null) { bypassMap = false; }
            if (isNaN(val) || (val === null)) { return _nacol; }
            if (!bypassMap) {
                if (_classes && (_classes.length > 2)) {
                    // find the class
                    var c = getClass(val);
                    t = c / (_classes.length-2);
                } else if (_max !== _min) {
                    // just interpolate between min/max
                    t = (val - _min) / (_max - _min);
                } else {
                    t = 1;
                }
            } else {
                t = val;
            }

            // domain map
            t = tMapDomain(t);

            if (!bypassMap) {
                t = tMapLightness(t);  // lightness correction
            }

            if (_gamma !== 1) { t = pow$3(t, _gamma); }

            t = _padding[0] + (t * (1 - _padding[0] - _padding[1]));

            t = Math.min(1, Math.max(0, t));

            var k = Math.floor(t * 10000);

            if (_useCache && _colorCache[k]) {
                col = _colorCache[k];
            } else {
                if (type$2(_colors) === 'array') {
                    //for i in [0.._pos.length-1]
                    for (var i=0; i<_pos.length; i++) {
                        var p = _pos[i];
                        if (t <= p) {
                            col = _colors[i];
                            break;
                        }
                        if ((t >= p) && (i === (_pos.length-1))) {
                            col = _colors[i];
                            break;
                        }
                        if (t > p && t < _pos[i+1]) {
                            t = (t-p)/(_pos[i+1]-p);
                            col = chroma$4.interpolate(_colors[i], _colors[i+1], t, _mode);
                            break;
                        }
                    }
                } else if (type$2(_colors) === 'function') {
                    col = _colors(t);
                }
                if (_useCache) { _colorCache[k] = col; }
            }
            return col;
        };

        var resetCache = function () { return _colorCache = {}; };

        setColors(colors);

        // public interface

        var f = function(v) {
            var c = chroma$4(getColor(v));
            if (_out && c[_out]) { return c[_out](); } else { return c; }
        };

        f.classes = function(classes) {
            if (classes != null) {
                if (type$2(classes) === 'array') {
                    _classes = classes;
                    _domain = [classes[0], classes[classes.length-1]];
                } else {
                    var d = chroma$4.analyze(_domain);
                    if (classes === 0) {
                        _classes = [d.min, d.max];
                    } else {
                        _classes = chroma$4.limits(d, 'e', classes);
                    }
                }
                return f;
            }
            return _classes;
        };


        f.domain = function(domain) {
            if (!arguments.length) {
                return _domain;
            }
            _min = domain[0];
            _max = domain[domain.length-1];
            _pos = [];
            var k = _colors.length;
            if ((domain.length === k) && (_min !== _max)) {
                // update positions
                for (var i = 0, list = Array.from(domain); i < list.length; i += 1) {
                    var d = list[i];

                  _pos.push((d-_min) / (_max-_min));
                }
            } else {
                for (var c=0; c<k; c++) {
                    _pos.push(c/(k-1));
                }
                if (domain.length > 2) {
                    // set domain map
                    var tOut = domain.map(function (d,i) { return i/(domain.length-1); });
                    var tBreaks = domain.map(function (d) { return (d - _min) / (_max - _min); });
                    if (!tBreaks.every(function (val, i) { return tOut[i] === val; })) {
                        tMapDomain = function (t) {
                            if (t <= 0 || t >= 1) { return t; }
                            var i = 0;
                            while (t >= tBreaks[i+1]) { i++; }
                            var f = (t - tBreaks[i]) / (tBreaks[i+1] - tBreaks[i]);
                            var out = tOut[i] + f * (tOut[i+1] - tOut[i]);
                            return out;
                        };
                    }

                }
            }
            _domain = [_min, _max];
            return f;
        };

        f.mode = function(_m) {
            if (!arguments.length) {
                return _mode;
            }
            _mode = _m;
            resetCache();
            return f;
        };

        f.range = function(colors, _pos) {
            setColors(colors);
            return f;
        };

        f.out = function(_o) {
            _out = _o;
            return f;
        };

        f.spread = function(val) {
            if (!arguments.length) {
                return _spread;
            }
            _spread = val;
            return f;
        };

        f.correctLightness = function(v) {
            if (v == null) { v = true; }
            _correctLightness = v;
            resetCache();
            if (_correctLightness) {
                tMapLightness = function(t) {
                    var L0 = getColor(0, true).lab()[0];
                    var L1 = getColor(1, true).lab()[0];
                    var pol = L0 > L1;
                    var L_actual = getColor(t, true).lab()[0];
                    var L_ideal = L0 + ((L1 - L0) * t);
                    var L_diff = L_actual - L_ideal;
                    var t0 = 0;
                    var t1 = 1;
                    var max_iter = 20;
                    while ((Math.abs(L_diff) > 1e-2) && (max_iter-- > 0)) {
                        (function() {
                            if (pol) { L_diff *= -1; }
                            if (L_diff < 0) {
                                t0 = t;
                                t += (t1 - t) * 0.5;
                            } else {
                                t1 = t;
                                t += (t0 - t) * 0.5;
                            }
                            L_actual = getColor(t, true).lab()[0];
                            return L_diff = L_actual - L_ideal;
                        })();
                    }
                    return t;
                };
            } else {
                tMapLightness = function (t) { return t; };
            }
            return f;
        };

        f.padding = function(p) {
            if (p != null) {
                if (type$2(p) === 'number') {
                    p = [p,p];
                }
                _padding = p;
                return f;
            } else {
                return _padding;
            }
        };

        f.colors = function(numColors, out) {
            // If no arguments are given, return the original colors that were provided
            if (arguments.length < 2) { out = 'hex'; }
            var result = [];

            if (arguments.length === 0) {
                result = _colors.slice(0);

            } else if (numColors === 1) {
                result = [f(0.5)];

            } else if (numColors > 1) {
                var dm = _domain[0];
                var dd = _domain[1] - dm;
                result = __range__(0, numColors, false).map(function (i) { return f( dm + ((i/(numColors-1)) * dd) ); });

            } else { // returns all colors based on the defined classes
                colors = [];
                var samples = [];
                if (_classes && (_classes.length > 2)) {
                    for (var i = 1, end = _classes.length, asc = 1 <= end; asc ? i < end : i > end; asc ? i++ : i--) {
                        samples.push((_classes[i-1]+_classes[i])*0.5);
                    }
                } else {
                    samples = _domain;
                }
                result = samples.map(function (v) { return f(v); });
            }

            if (chroma$4[out]) {
                result = result.map(function (c) { return c[out](); });
            }
            return result;
        };

        f.cache = function(c) {
            if (c != null) {
                _useCache = c;
                return f;
            } else {
                return _useCache;
            }
        };

        f.gamma = function(g) {
            if (g != null) {
                _gamma = g;
                return f;
            } else {
                return _gamma;
            }
        };

        f.nodata = function(d) {
            if (d != null) {
                _nacol = chroma$4(d);
                return f;
            } else {
                return _nacol;
            }
        };

        return f;
    };

    function __range__(left, right, inclusive) {
      var range = [];
      var ascending = left < right;
      var end = !inclusive ? right : ascending ? right + 1 : right - 1;
      for (var i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {
        range.push(i);
      }
      return range;
    }

    //
    // interpolates between a set of colors uzing a bezier spline
    //

    // @requires utils lab
    var Color$5 = Color_1;

    var scale$1 = scale$2;

    // nth row of the pascal triangle
    var binom_row = function(n) {
        var row = [1, 1];
        for (var i = 1; i < n; i++) {
            var newrow = [1];
            for (var j = 1; j <= row.length; j++) {
                newrow[j] = (row[j] || 0) + row[j - 1];
            }
            row = newrow;
        }
        return row;
    };

    var bezier = function(colors) {
        var assign, assign$1, assign$2;

        var I, lab0, lab1, lab2;
        colors = colors.map(function (c) { return new Color$5(c); });
        if (colors.length === 2) {
            // linear interpolation
            (assign = colors.map(function (c) { return c.lab(); }), lab0 = assign[0], lab1 = assign[1]);
            I = function(t) {
                var lab = ([0, 1, 2].map(function (i) { return lab0[i] + (t * (lab1[i] - lab0[i])); }));
                return new Color$5(lab, 'lab');
            };
        } else if (colors.length === 3) {
            // quadratic bezier interpolation
            (assign$1 = colors.map(function (c) { return c.lab(); }), lab0 = assign$1[0], lab1 = assign$1[1], lab2 = assign$1[2]);
            I = function(t) {
                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t) * lab0[i]) + (2 * (1-t) * t * lab1[i]) + (t * t * lab2[i]); }));
                return new Color$5(lab, 'lab');
            };
        } else if (colors.length === 4) {
            // cubic bezier interpolation
            var lab3;
            (assign$2 = colors.map(function (c) { return c.lab(); }), lab0 = assign$2[0], lab1 = assign$2[1], lab2 = assign$2[2], lab3 = assign$2[3]);
            I = function(t) {
                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t)*(1-t) * lab0[i]) + (3 * (1-t) * (1-t) * t * lab1[i]) + (3 * (1-t) * t * t * lab2[i]) + (t*t*t * lab3[i]); }));
                return new Color$5(lab, 'lab');
            };
        } else if (colors.length >= 5) {
            // general case (degree n bezier)
            var labs, row, n;
            labs = colors.map(function (c) { return c.lab(); });
            n = colors.length - 1;
            row = binom_row(n);
            I = function (t) {
                var u = 1 - t;
                var lab = ([0, 1, 2].map(function (i) { return labs.reduce(function (sum, el, j) { return (sum + row[j] * Math.pow( u, (n - j) ) * Math.pow( t, j ) * el[i]); }, 0); }));
                return new Color$5(lab, 'lab');
            };
        } else {
            throw new RangeError("No point in running bezier with only one color.")
        }
        return I;
    };

    var bezier_1 = function (colors) {
        var f = bezier(colors);
        f.scale = function () { return scale$1(f); };
        return f;
    };

    /*
     * interpolates between a set of colors uzing a bezier spline
     * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/
     */

    var chroma$3 = chroma_1;

    var blend = function (bottom, top, mode) {
        if (!blend[mode]) {
            throw new Error('unknown blend mode ' + mode);
        }
        return blend[mode](bottom, top);
    };

    var blend_f = function (f) { return function (bottom,top) {
            var c0 = chroma$3(top).rgb();
            var c1 = chroma$3(bottom).rgb();
            return chroma$3.rgb(f(c0, c1));
        }; };

    var each = function (f) { return function (c0, c1) {
            var out = [];
            out[0] = f(c0[0], c1[0]);
            out[1] = f(c0[1], c1[1]);
            out[2] = f(c0[2], c1[2]);
            return out;
        }; };

    var normal = function (a) { return a; };
    var multiply = function (a,b) { return a * b / 255; };
    var darken = function (a,b) { return a > b ? b : a; };
    var lighten = function (a,b) { return a > b ? a : b; };
    var screen = function (a,b) { return 255 * (1 - (1-a/255) * (1-b/255)); };
    var overlay = function (a,b) { return b < 128 ? 2 * a * b / 255 : 255 * (1 - 2 * (1 - a / 255 ) * ( 1 - b / 255 )); };
    var burn = function (a,b) { return 255 * (1 - (1 - b / 255) / (a/255)); };
    var dodge = function (a,b) {
        if (a === 255) { return 255; }
        a = 255 * (b / 255) / (1 - a / 255);
        return a > 255 ? 255 : a
    };

    // # add = (a,b) ->
    // #     if (a + b > 255) then 255 else a + b

    blend.normal = blend_f(each(normal));
    blend.multiply = blend_f(each(multiply));
    blend.screen = blend_f(each(screen));
    blend.overlay = blend_f(each(overlay));
    blend.darken = blend_f(each(darken));
    blend.lighten = blend_f(each(lighten));
    blend.dodge = blend_f(each(dodge));
    blend.burn = blend_f(each(burn));
    // blend.add = blend_f(each(add));

    var blend_1 = blend;

    // cubehelix interpolation
    // based on D.A. Green "A colour scheme for the display of astronomical intensity images"
    // http://astron-soc.in/bulletin/11June/289392011.pdf

    var type$1 = utils.type;
    var clip_rgb = utils.clip_rgb;
    var TWOPI = utils.TWOPI;
    var pow$2 = Math.pow;
    var sin$1 = Math.sin;
    var cos$1 = Math.cos;
    var chroma$2 = chroma_1;

    var cubehelix = function(start, rotations, hue, gamma, lightness) {
        if ( start === void 0 ) start=300;
        if ( rotations === void 0 ) rotations=-1.5;
        if ( hue === void 0 ) hue=1;
        if ( gamma === void 0 ) gamma=1;
        if ( lightness === void 0 ) lightness=[0,1];

        var dh = 0, dl;
        if (type$1(lightness) === 'array') {
            dl = lightness[1] - lightness[0];
        } else {
            dl = 0;
            lightness = [lightness, lightness];
        }

        var f = function(fract) {
            var a = TWOPI * (((start+120)/360) + (rotations * fract));
            var l = pow$2(lightness[0] + (dl * fract), gamma);
            var h = dh !== 0 ? hue[0] + (fract * dh) : hue;
            var amp = (h * l * (1-l)) / 2;
            var cos_a = cos$1(a);
            var sin_a = sin$1(a);
            var r = l + (amp * ((-0.14861 * cos_a) + (1.78277* sin_a)));
            var g = l + (amp * ((-0.29227 * cos_a) - (0.90649* sin_a)));
            var b = l + (amp * (+1.97294 * cos_a));
            return chroma$2(clip_rgb([r*255,g*255,b*255,1]));
        };

        f.start = function(s) {
            if ((s == null)) { return start; }
            start = s;
            return f;
        };

        f.rotations = function(r) {
            if ((r == null)) { return rotations; }
            rotations = r;
            return f;
        };

        f.gamma = function(g) {
            if ((g == null)) { return gamma; }
            gamma = g;
            return f;
        };

        f.hue = function(h) {
            if ((h == null)) { return hue; }
            hue = h;
            if (type$1(hue) === 'array') {
                dh = hue[1] - hue[0];
                if (dh === 0) { hue = hue[1]; }
            } else {
                dh = 0;
            }
            return f;
        };

        f.lightness = function(h) {
            if ((h == null)) { return lightness; }
            if (type$1(h) === 'array') {
                lightness = h;
                dl = h[1] - h[0];
            } else {
                lightness = [h,h];
                dl = 0;
            }
            return f;
        };

        f.scale = function () { return chroma$2.scale(f); };

        f.hue(hue);

        return f;
    };

    var Color$4 = Color_1;
    var digits = '0123456789abcdef';

    var floor$1 = Math.floor;
    var random = Math.random;

    var random_1 = function () {
        var code = '#';
        for (var i=0; i<6; i++) {
            code += digits.charAt(floor$1(random() * 16));
        }
        return new Color$4(code, 'hex');
    };

    var type = type$p;
    var log = Math.log;
    var pow$1 = Math.pow;
    var floor = Math.floor;
    var abs$1 = Math.abs;


    var analyze = function (data, key) {
        if ( key === void 0 ) key=null;

        var r = {
            min: Number.MAX_VALUE,
            max: Number.MAX_VALUE*-1,
            sum: 0,
            values: [],
            count: 0
        };
        if (type(data) === 'object') {
            data = Object.values(data);
        }
        data.forEach(function (val) {
            if (key && type(val) === 'object') { val = val[key]; }
            if (val !== undefined && val !== null && !isNaN(val)) {
                r.values.push(val);
                r.sum += val;
                if (val < r.min) { r.min = val; }
                if (val > r.max) { r.max = val; }
                r.count += 1;
            }
        });

        r.domain = [r.min, r.max];

        r.limits = function (mode, num) { return limits(r, mode, num); };

        return r;
    };


    var limits = function (data, mode, num) {
        if ( mode === void 0 ) mode='equal';
        if ( num === void 0 ) num=7;

        if (type(data) == 'array') {
            data = analyze(data);
        }
        var min = data.min;
        var max = data.max;
        var values = data.values.sort(function (a,b) { return a-b; });

        if (num === 1) { return [min,max]; }

        var limits = [];

        if (mode.substr(0,1) === 'c') { // continuous
            limits.push(min);
            limits.push(max);
        }

        if (mode.substr(0,1) === 'e') { // equal interval
            limits.push(min);
            for (var i=1; i<num; i++) {
                limits.push(min+((i/num)*(max-min)));
            }
            limits.push(max);
        }

        else if (mode.substr(0,1) === 'l') { // log scale
            if (min <= 0) {
                throw new Error('Logarithmic scales are only possible for values > 0');
            }
            var min_log = Math.LOG10E * log(min);
            var max_log = Math.LOG10E * log(max);
            limits.push(min);
            for (var i$1=1; i$1<num; i$1++) {
                limits.push(pow$1(10, min_log + ((i$1/num) * (max_log - min_log))));
            }
            limits.push(max);
        }

        else if (mode.substr(0,1) === 'q') { // quantile scale
            limits.push(min);
            for (var i$2=1; i$2<num; i$2++) {
                var p = ((values.length-1) * i$2)/num;
                var pb = floor(p);
                if (pb === p) {
                    limits.push(values[pb]);
                } else { // p > pb
                    var pr = p - pb;
                    limits.push((values[pb]*(1-pr)) + (values[pb+1]*pr));
                }
            }
            limits.push(max);

        }

        else if (mode.substr(0,1) === 'k') { // k-means clustering
            /*
            implementation based on
            http://code.google.com/p/figue/source/browse/trunk/figue.js#336
            simplified for 1-d input values
            */
            var cluster;
            var n = values.length;
            var assignments = new Array(n);
            var clusterSizes = new Array(num);
            var repeat = true;
            var nb_iters = 0;
            var centroids = null;

            // get seed values
            centroids = [];
            centroids.push(min);
            for (var i$3=1; i$3<num; i$3++) {
                centroids.push(min + ((i$3/num) * (max-min)));
            }
            centroids.push(max);

            while (repeat) {
                // assignment step
                for (var j=0; j<num; j++) {
                    clusterSizes[j] = 0;
                }
                for (var i$4=0; i$4<n; i$4++) {
                    var value = values[i$4];
                    var mindist = Number.MAX_VALUE;
                    var best = (void 0);
                    for (var j$1=0; j$1<num; j$1++) {
                        var dist = abs$1(centroids[j$1]-value);
                        if (dist < mindist) {
                            mindist = dist;
                            best = j$1;
                        }
                        clusterSizes[best]++;
                        assignments[i$4] = best;
                    }
                }

                // update centroids step
                var newCentroids = new Array(num);
                for (var j$2=0; j$2<num; j$2++) {
                    newCentroids[j$2] = null;
                }
                for (var i$5=0; i$5<n; i$5++) {
                    cluster = assignments[i$5];
                    if (newCentroids[cluster] === null) {
                        newCentroids[cluster] = values[i$5];
                    } else {
                        newCentroids[cluster] += values[i$5];
                    }
                }
                for (var j$3=0; j$3<num; j$3++) {
                    newCentroids[j$3] *= 1/clusterSizes[j$3];
                }

                // check convergence
                repeat = false;
                for (var j$4=0; j$4<num; j$4++) {
                    if (newCentroids[j$4] !== centroids[j$4]) {
                        repeat = true;
                        break;
                    }
                }

                centroids = newCentroids;
                nb_iters++;

                if (nb_iters > 200) {
                    repeat = false;
                }
            }

            // finished k-means clustering
            // the next part is borrowed from gabrielflor.it
            var kClusters = {};
            for (var j$5=0; j$5<num; j$5++) {
                kClusters[j$5] = [];
            }
            for (var i$6=0; i$6<n; i$6++) {
                cluster = assignments[i$6];
                kClusters[cluster].push(values[i$6]);
            }
            var tmpKMeansBreaks = [];
            for (var j$6=0; j$6<num; j$6++) {
                tmpKMeansBreaks.push(kClusters[j$6][0]);
                tmpKMeansBreaks.push(kClusters[j$6][kClusters[j$6].length-1]);
            }
            tmpKMeansBreaks = tmpKMeansBreaks.sort(function (a,b){ return a-b; });
            limits.push(tmpKMeansBreaks[0]);
            for (var i$7=1; i$7 < tmpKMeansBreaks.length; i$7+= 2) {
                var v = tmpKMeansBreaks[i$7];
                if (!isNaN(v) && (limits.indexOf(v) === -1)) {
                    limits.push(v);
                }
            }
        }
        return limits;
    };

    var analyze_1 = {analyze: analyze, limits: limits};

    var Color$3 = Color_1;


    var contrast = function (a, b) {
        // WCAG contrast ratio
        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef
        a = new Color$3(a);
        b = new Color$3(b);
        var l1 = a.luminance();
        var l2 = b.luminance();
        return l1 > l2 ? (l1 + 0.05) / (l2 + 0.05) : (l2 + 0.05) / (l1 + 0.05);
    };

    var Color$2 = Color_1;
    var sqrt = Math.sqrt;
    var pow = Math.pow;
    var min = Math.min;
    var max = Math.max;
    var atan2 = Math.atan2;
    var abs = Math.abs;
    var cos = Math.cos;
    var sin = Math.sin;
    var exp = Math.exp;
    var PI = Math.PI;

    var deltaE = function(a, b, Kl, Kc, Kh) {
        if ( Kl === void 0 ) Kl=1;
        if ( Kc === void 0 ) Kc=1;
        if ( Kh === void 0 ) Kh=1;

        // Delta E (CIE 2000)
        // see http://www.brucelindbloom.com/index.html?Eqn_DeltaE_CIE2000.html
        var rad2deg = function(rad) {
            return 360 * rad / (2 * PI);
        };
        var deg2rad = function(deg) {
            return (2 * PI * deg) / 360;
        };
        a = new Color$2(a);
        b = new Color$2(b);
        var ref = Array.from(a.lab());
        var L1 = ref[0];
        var a1 = ref[1];
        var b1 = ref[2];
        var ref$1 = Array.from(b.lab());
        var L2 = ref$1[0];
        var a2 = ref$1[1];
        var b2 = ref$1[2];
        var avgL = (L1 + L2)/2;
        var C1 = sqrt(pow(a1, 2) + pow(b1, 2));
        var C2 = sqrt(pow(a2, 2) + pow(b2, 2));
        var avgC = (C1 + C2)/2;
        var G = 0.5*(1-sqrt(pow(avgC, 7)/(pow(avgC, 7) + pow(25, 7))));
        var a1p = a1*(1+G);
        var a2p = a2*(1+G);
        var C1p = sqrt(pow(a1p, 2) + pow(b1, 2));
        var C2p = sqrt(pow(a2p, 2) + pow(b2, 2));
        var avgCp = (C1p + C2p)/2;
        var arctan1 = rad2deg(atan2(b1, a1p));
        var arctan2 = rad2deg(atan2(b2, a2p));
        var h1p = arctan1 >= 0 ? arctan1 : arctan1 + 360;
        var h2p = arctan2 >= 0 ? arctan2 : arctan2 + 360;
        var avgHp = abs(h1p - h2p) > 180 ? (h1p + h2p + 360)/2 : (h1p + h2p)/2;
        var T = 1 - 0.17*cos(deg2rad(avgHp - 30)) + 0.24*cos(deg2rad(2*avgHp)) + 0.32*cos(deg2rad(3*avgHp + 6)) - 0.2*cos(deg2rad(4*avgHp - 63));
        var deltaHp = h2p - h1p;
        deltaHp = abs(deltaHp) <= 180 ? deltaHp : h2p <= h1p ? deltaHp + 360 : deltaHp - 360;
        deltaHp = 2*sqrt(C1p*C2p)*sin(deg2rad(deltaHp)/2);
        var deltaL = L2 - L1;
        var deltaCp = C2p - C1p;    
        var sl = 1 + (0.015*pow(avgL - 50, 2))/sqrt(20 + pow(avgL - 50, 2));
        var sc = 1 + 0.045*avgCp;
        var sh = 1 + 0.015*avgCp*T;
        var deltaTheta = 30*exp(-pow((avgHp - 275)/25, 2));
        var Rc = 2*sqrt(pow(avgCp, 7)/(pow(avgCp, 7) + pow(25, 7)));
        var Rt = -Rc*sin(2*deg2rad(deltaTheta));
        var result = sqrt(pow(deltaL/(Kl*sl), 2) + pow(deltaCp/(Kc*sc), 2) + pow(deltaHp/(Kh*sh), 2) + Rt*(deltaCp/(Kc*sc))*(deltaHp/(Kh*sh)));
        return max(0, min(100, result));
    };

    var Color$1 = Color_1;

    // simple Euclidean distance
    var distance = function(a, b, mode) {
        if ( mode === void 0 ) mode='lab';

        // Delta E (CIE 1976)
        // see http://www.brucelindbloom.com/index.html?Equations.html
        a = new Color$1(a);
        b = new Color$1(b);
        var l1 = a.get(mode);
        var l2 = b.get(mode);
        var sum_sq = 0;
        for (var i in l1) {
            var d = (l1[i] || 0) - (l2[i] || 0);
            sum_sq += d*d;
        }
        return Math.sqrt(sum_sq);
    };

    var Color = Color_1;

    var valid = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        try {
            new (Function.prototype.bind.apply( Color, [ null ].concat( args) ));
            return true;
        } catch (e) {
            return false;
        }
    };

    // some pre-defined color scales:
    var chroma$1 = chroma_1;

    var scale = scale$2;

    var scales = {
    	cool: function cool() { return scale([chroma$1.hsl(180,1,.9), chroma$1.hsl(250,.7,.4)]) },
    	hot: function hot() { return scale(['#000','#f00','#ff0','#fff']).mode('rgb') }
    };

    /**
        ColorBrewer colors for chroma.js

        Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The
        Pennsylvania State University.

        Licensed under the Apache License, Version 2.0 (the "License");
        you may not use this file except in compliance with the License.
        You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0

        Unless required by applicable law or agreed to in writing, software distributed
        under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
        CONDITIONS OF ANY KIND, either express or implied. See the License for the
        specific language governing permissions and limitations under the License.
    */

    var colorbrewer = {
        // sequential
        OrRd: ['#fff7ec', '#fee8c8', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#b30000', '#7f0000'],
        PuBu: ['#fff7fb', '#ece7f2', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0', '#045a8d', '#023858'],
        BuPu: ['#f7fcfd', '#e0ecf4', '#bfd3e6', '#9ebcda', '#8c96c6', '#8c6bb1', '#88419d', '#810f7c', '#4d004b'],
        Oranges: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],
        BuGn: ['#f7fcfd', '#e5f5f9', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45', '#006d2c', '#00441b'],
        YlOrBr: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#662506'],
        YlGn: ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443', '#006837', '#004529'],
        Reds: ['#fff5f0', '#fee0d2', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d', '#a50f15', '#67000d'],
        RdPu: ['#fff7f3', '#fde0dd', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e', '#7a0177', '#49006a'],
        Greens: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],
        YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],
        Purples: ['#fcfbfd', '#efedf5', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3', '#54278f', '#3f007d'],
        GnBu: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081'],
        Greys: ['#ffffff', '#f0f0f0', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252', '#252525', '#000000'],
        YlOrRd: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],
        PuRd: ['#f7f4f9', '#e7e1ef', '#d4b9da', '#c994c7', '#df65b0', '#e7298a', '#ce1256', '#980043', '#67001f'],
        Blues: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],
        PuBuGn: ['#fff7fb', '#ece2f0', '#d0d1e6', '#a6bddb', '#67a9cf', '#3690c0', '#02818a', '#016c59', '#014636'],
        Viridis: ['#440154', '#482777', '#3f4a8a', '#31678e', '#26838f', '#1f9d8a', '#6cce5a', '#b6de2b', '#fee825'],

        // diverging

        Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2'],
        RdYlGn: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#d9ef8b', '#a6d96a', '#66bd63', '#1a9850', '#006837'],
        RdBu: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],
        PiYG: ['#8e0152', '#c51b7d', '#de77ae', '#f1b6da', '#fde0ef', '#f7f7f7', '#e6f5d0', '#b8e186', '#7fbc41', '#4d9221', '#276419'],
        PRGn: ['#40004b', '#762a83', '#9970ab', '#c2a5cf', '#e7d4e8', '#f7f7f7', '#d9f0d3', '#a6dba0', '#5aae61', '#1b7837', '#00441b'],
        RdYlBu: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],
        BrBG: ['#543005', '#8c510a', '#bf812d', '#dfc27d', '#f6e8c3', '#f5f5f5', '#c7eae5', '#80cdc1', '#35978f', '#01665e', '#003c30'],
        RdGy: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#ffffff', '#e0e0e0', '#bababa', '#878787', '#4d4d4d', '#1a1a1a'],
        PuOr: ['#7f3b08', '#b35806', '#e08214', '#fdb863', '#fee0b6', '#f7f7f7', '#d8daeb', '#b2abd2', '#8073ac', '#542788', '#2d004b'],

        // qualitative

        Set2: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],
        Accent: ['#7fc97f', '#beaed4', '#fdc086', '#ffff99', '#386cb0', '#f0027f', '#bf5b17', '#666666'],
        Set1: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],
        Set3: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],
        Dark2: ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'],
        Paired: ['#a6cee3', '#1f78b4', '#b2df8a', '#33a02c', '#fb9a99', '#e31a1c', '#fdbf6f', '#ff7f00', '#cab2d6', '#6a3d9a', '#ffff99', '#b15928'],
        Pastel2: ['#b3e2cd', '#fdcdac', '#cbd5e8', '#f4cae4', '#e6f5c9', '#fff2ae', '#f1e2cc', '#cccccc'],
        Pastel1: ['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#e5d8bd', '#fddaec', '#f2f2f2'],
    };

    // add lowercase aliases for case-insensitive matches
    for (var i = 0, list = Object.keys(colorbrewer); i < list.length; i += 1) {
        var key = list[i];

        colorbrewer[key.toLowerCase()] = colorbrewer[key];
    }

    var colorbrewer_1 = colorbrewer;

    var chroma = chroma_1;

    // feel free to comment out anything to rollup
    // a smaller chroma.js built

    // io --> convert colors

















    // operators --> modify existing Colors










    // interpolators












    // generators -- > create new colors
    chroma.average = average;
    chroma.bezier = bezier_1;
    chroma.blend = blend_1;
    chroma.cubehelix = cubehelix;
    chroma.mix = chroma.interpolate = mix$1;
    chroma.random = random_1;
    chroma.scale = scale$2;

    // other utility methods
    chroma.analyze = analyze_1.analyze;
    chroma.contrast = contrast;
    chroma.deltaE = deltaE;
    chroma.distance = distance;
    chroma.limits = analyze_1.limits;
    chroma.valid = valid;

    // scale
    chroma.scales = scales;

    // colors
    chroma.colors = w3cx11_1;
    chroma.brewer = colorbrewer_1;

    var chroma_js = chroma;

    return chroma_js;

}));


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be in strict mode.
(() => {
"use strict";
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SmilesDrawer: () => (/* binding */ SmilesDrawer)
/* harmony export */ });
/* harmony import */ var _Drawer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Drawer */ "./src/Drawer.ts");
/* harmony import */ var _Parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Parser */ "./src/Parser.ts");
/* harmony import */ var _ReactionParser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ReactionParser */ "./src/ReactionParser.ts");
/* harmony import */ var _SvgDrawer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SvgDrawer */ "./src/SvgDrawer.ts");
/* harmony import */ var _ReactionDrawer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ReactionDrawer */ "./src/ReactionDrawer.ts");
/* harmony import */ var _GaussDrawer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GaussDrawer */ "./src/GaussDrawer.ts");





// import {SmiDrawer} from "./src/SmilesDrawer";

const canUseDOM = typeof window !== "undefined" && window.document && window.document.createElement;
const SmilesDrawer = {
  Version: "1.0.0",
  Drawer: _Drawer__WEBPACK_IMPORTED_MODULE_0__.Drawer,
  Parser: _Parser__WEBPACK_IMPORTED_MODULE_1__,
  SvgDrawer: _SvgDrawer__WEBPACK_IMPORTED_MODULE_3__.SvgDrawer,
  ReactionDrawer: _ReactionDrawer__WEBPACK_IMPORTED_MODULE_4__.ReactionDrawer,
  ReactionParser: _ReactionParser__WEBPACK_IMPORTED_MODULE_2__.ReactionParser,
  GaussDrawer: _GaussDrawer__WEBPACK_IMPORTED_MODULE_5__.GaussDrawer,
  clean(smiles) {
    return smiles.replace(/[^A-Za-z0-9@.+-?!()[\]{}\/\\=#$:*]/g, "");
  },
  apply(options, selector = "canvas[data-smiles]", themeName = "light", onError = null) {
    const smilesDrawer = new _Drawer__WEBPACK_IMPORTED_MODULE_0__.Drawer(options);
    const elements = document.querySelectorAll(selector);
    for (let i = 0; i < elements.length; i++) {
      const element = elements[i];
      this.parse(element.getAttribute("data-smiles"), tree => {
        smilesDrawer.draw(tree, element, themeName, false);
      }, err => {
        if (onError) {
          onError(err);
        }
      });
    }
  },
  parse(smiles, successCallback, errorCallback) {
    try {
      if (successCallback) {
        successCallback(_Parser__WEBPACK_IMPORTED_MODULE_1__.parse(smiles));
      }
    } catch (err) {
      if (errorCallback) {
        errorCallback(err);
      }
    }
  },
  parseReaction(reactionSmiles, successCallback, errorCallback) {
    try {
      if (successCallback) {
        successCallback(_ReactionParser__WEBPACK_IMPORTED_MODULE_2__.ReactionParser.parse(reactionSmiles));
      }
    } catch (err) {
      if (errorCallback) {
        errorCallback(err);
      }
    }
  }
};
if (canUseDOM) {
  window.SmilesDrawer = SmilesDrawer;
}
const input = document.getElementById("input");
const debugCheckbox = document.getElementById("debug");
const bondThicknessInput = document.getElementById("bondThickness");
const textSizeInput = document.getElementById("textSize");
const bondLengthInput = document.getElementById("bondLength");
const shortBondLengthInput = document.getElementById("shortBondLength");
const bondSpacingInput = document.getElementById("bondSpacing");
const sizeInput = document.getElementById("size");
const overlapInput = document.getElementById("overlap");
const options = {
  debug: false,
  atomVisualization: "default"
};
const smilesDrawer = new SmilesDrawer.Drawer(options);
const log = document.getElementById("log");
const chembl = ['COc1cccc(c1OC)c2n[nH]c(Cc3ccc(Cl)c(Cl)c3)n2', 'Cc1cc2c(cc1C)[n+]([O-])c(C#N)c(NS(=O)(=O)c3ccc4ccccc4c3)[n+]2[O-]', 'Oc1nsc(N2CCCCC2)c1C#N', 'COc1ccccc1CNS(=O)(=O)c2cc(Br)cc3CC(C)N(C(=O)C)c23', 'CCNC(=O)[C@@H]1CCCN1C(=O)[C@H](CCCN=C(N)N)NC(=O)[C@H](CC(C)C)NC(=O)[C@@H](CC(C)C)N(C)C(=O)[C@H](Cc2ccc(O)cc2)NC(=O)[C@H](CO)NC(=O)[C@H](Cc3c[nH]c4ccccc34)NC(=O)[C@H](Cc5c[nH]cn5)NC(=O)[C@@H]6CCC(=O)N6', 'CS(=O)(=O)n1c(\\C=C\\c2cc(Cl)cc(Cl)c2)nc3cc(F)ccc13', 'COc1c(O)cc2C(=O)Oc3c(O)c(O)cc4C(=O)Oc1c2c34', 'COc1ccc(\\C=C\\NC(=O)C)c(OC)c1', 'OC(=O)c1ccc(NC(=O)Nc2nc3ccc(Cl)cc3s2)cc1O', 'CCOC(=O)CNC(=O)N1CCCC(CNC(=O)c2occc2)C1', 'COc1ccc(OC)c(NC(=O)CSc2oc(CNC(=O)COc3ccc(Cl)cc3)nn2)c1', 'CC1(C)CC(O)CC(C)(C)N1CC(O)COCc2ccccc2', 'COCCOCCOc1ccc(cc1)S(=O)(=O)N(CC(=O)N\\N=C\\2/C(=O)Nc3ccccc23)c4ccc(Cl)cc4', 'Clc1ccccc1c2nnc3sc(nn23)c4ccncc4', 'C1CN2C(=Cc3ccccc3C2=N1)c4cccnc4', 'CC(=O)Nc1ccc2C(=O)CCCc2c1', 'O[C@H]1C[C@@H]2C[C@H](CC=C)OC(=O)c3c(O)cccc3C[C@@H](C1)O2', 'CC(C)C[C@H](NC(=O)[C@H]1O[C@@H]1C(=O)N[C@@H](CCCNC(=N)N)C(=O)N2CCC[C@H]2C(=O)N3CCC[C@H]3C(=O)N4CCC[C@H]4C(=O)N[C@@H](CO)C(=O)N)C(=O)N5CCC[C@H]5C(=O)N[C@@H]([C@@H](C)O)C(=O)N', 'CC(C(=O)N)n1c(cc2cc(CN3CCC(CC3)Nc4ncnc5sc(CC(F)(F)F)cc45)ccc12)C#N', 'CC(C)(C)C1=CN(C[C@H]2CCCO2)\\C(=N\\C(=O)c3cc(ccc3OCc4ccccc4)C(F)(F)F)\\S1', 'CC(C)c1ccc(cc1)S(=O)(=O)c2cnc3ccc(C)cc3c2O', 'Brc1ccc(cc1)C2=CC(c3occc3)n4ncnc4N2', 'CCCc1ncc(s1)C(=O)O', 'Cn1c(cc2cc(NC(=O)C3(CCC3)NC(=O)c4ccc5c(C6CCCC6)c(c7ccccn7)n(C)c5c4)ccc12)C(=O)O', 'NCCc1cn(C2=C(C(=O)NC2=O)c3c[nH]c4ccc(Cl)cc34)c5ccccc15', 'OC(=O)\\C=C/C(=O)O.C(CNc1cc(OCc2ccccc2)ccn1)COc3cccc(CN4CCCCC4)c3', 'Fc1ccc(cc1)C2CCN(CCC(C3CC3)C(=O)NCc4cc(cc(c4)C(F)(F)F)C(F)(F)F)CC2', 'CCOC(=O)C1(Cc2cccc(OC)c2)CCCN(Cc3c(C)nn(C(C)C)c3C)C1', 'CCOP(=O)(OCC)[C@@H]1C[C@@H](ON1C)n2cc(nn2)c3ccccc3F', 'COc1cccc(c1)C(=O)NCC(=O)OCC2=CC(=O)N3N=C(C)SC3=N2', 'COc1ccc(OC)c(NC(=O)c2ccc(cc2)N3C(=O)C4CC=C(C)CC4C3=O)c1', 'CCC(=O)\\C=C(/C)\\C=C\\CC(C)CCCC(C)(C)OC', 'Oc1ccc(cc1C(=O)Nc2ccc(c(c2)C(F)(F)F)[N+](=O)[O-])c3ccc(F)cc3F', 'CC(NC(=O)C1(C)C(C)(C)C1(Cl)Cl)c2ccccc2', 'COc1ccc(cc1)C2CC(=NN2c3ccc(\\C=N\\NC(=O)c4ccncc4)cc3)c5ccccc5', 'NCCN1C=CC(=O)C(=C1)O', 'Cc1c(OS(=O)(=O)c2ccccc2F)cccc1C3CCNCC3', 'OC1=C(N=C2C=CC(=CN2C1=O)N3CCOCC3)c4nnc(Cc5ccc(F)cc5)s4', 'CC(C)C[C@H](NC(=O)NCc1ccc(F)cc1)C(=O)N[C@@H](C(C)C)C(=O)N[C@@H](CCCNC(=N)N)C(=O)c2nccs2', 'O=NN(CC#C)C(=O)NC(CCCCNC(=O)OCc1ccccc1)C(=O)OCc2ccccc2', 'CSc1ccc(\\C=C(/C#N)\\C(=O)Nc2cccc(C)c2)cc1', 'CN(C)C[C@H]1C[C@H]2[C@H](O1)c3cc(F)ccc3Sc4ccccc24', 'C[C@H]1CC[C@]2(C)N1C(=CC2=O)NC(=O)c3ccccc3', 'CCc1c(C)nc(O)c(N(C)C)c1C(=O)c2cccc(\\C=C\\c3cccnc3)c2', 'CC(=O)Nc1ccc(SC[C@H](Cc2ccccc2)N3CC[C@@H](O)CCC3=O)cc1', 'COc1cc2OC(=CC(=O)c2c(OC)c1OC)c3cccc(OC(=O)N4CCN(C)CC4)c3', 'CCOC(=O)[C@H](Cc1ccccc1)OC(=O)N(C)NC(=O)[C@@H]2CCCN2C(=O)[C@H](C)NC(=O)[C@H](C)NC(=O)C', 'CN1CCCN(CC1)c2cncc(n2)c3cccc(\\C=C\\C(=O)N)c3', 'COC(=O)[C@@H](N)[C@H]1CC[C@H](C1)\\N=C(\\C)/N', 'O=C(N1CCOCC1)\\C(=C\\2/SC=C(N2c3ccccc3)c4ccccc4)\\C#N', 'CN(C)CCSC1=Nc2sc(C)c(c3ccc(F)cc3)c2C(=O)N1c4ccccc4', 'Cl.N[C@@H](CCSCCC(=O)NCC(=O)O)C(=O)O', 'NC(C(=O)NCc1ccccc1)c2nccc3ccccc23', 'CP(=S)(O)OCC1OC(C=C1)n2cnc3c(N)ncnc23', 'Nc1nc2c3ccccc3C[C@H](c4ccc5OCOc5c4)c2c6ccccc16', 'NC(=O)n1ccc2ccc(nc12)N3CCCCC3', 'OCC[C@H]1C[C@H](O)[C@@H](O)[C@@]2(Cc3ccccc3CCO2)O1', 'CN(C)CCCCCCCCCNc1c2CCCCc2nc3ccccc13', 'Oc1ccc(NC(=O)c2cc(NC3CCCC3)ncn2)cc1', 'Clc1cccc(Cl)c1CO\\N=C\\c2cc[n+](CCC[n+]3ccc(\\C=N\\OCc4c(Cl)cccc4Cl)cc3)cc2', 'CCOc1ccc2nc(SC[C@]3(C)S[C@@H]4[C@@H](Cl)C(=O)N4[C@H]3C(=O)OC)sc2c1', 'COc1cccc2c(Nc3ccccc3C)ccnc12', 'Cl.NC(=N)Nc1nc(cs1)c2ccc(O)c(O)c2', 'BrC1=C2c3ccc4[nH]ncc4c3C[C@]2(CCC5CC5)CCC1=O', 'OC(=O)CSc1nc(Cl)cc(Nc2ccc(Nc3ccccc3)cc2)n1', 'CN1CCN(CC\\C=C/c2ccccc2)CC1', 'O=C1COc2ccc3ccc(OCC(=O)NCc4ccc(cc4)c5cccc(c5)c6ccc(CN1)cc6)cc3c2', 'Cc1cc2nnc(c3ccccc3)n2c(C)n1', 'CC[C@H](C)[C@H](NC(=O)CNC(=O)[C@H](CCCNC(=N)N)NC(=O)[C@H](Cc1ccccc1)NC(=O)[C@@H](NC(=O)[C@H](Cc2cnc[nH]2)NC(=O)[C@H](Cc3cnc[nH]3)NC(=O)[C@H](Cc4ccccc4)NC(=O)[C@@H](N)Cc5ccccc5)[C@@H](C)CC)C(=O)N[C@@H](C(C)C)C(=O)N[C@@H](Cc6cnc[nH]6)C(=O)N[C@@H](C(C)C)C(=O)NCC(=O)N[C@@H](CCCCN)C(=O)N[C@@H]([C@@H](C)O)C(=O)N[C@@H]([C@@H](C)CC)C(=O)N[C@@H](Cc7cnc[nH]7)C(=O)N[C@@H](CCCNC(=N)N)C(=O)N[C@@H](CC(C)C)C(=O)N[C@@H](C(C)C)C(=O)N[C@@H]([C@@H](C)O)C(=O)NCC(=O)O', 'COc1ccccc1N2CCN(CC2)C(=O)CN3C(=O)n4nc(nc4c5ccccc35)c6ccc(C)cc6', 'CC[C@H](C)C1=C(O)[N@+]2([O-])Oc3ccc(cc3O[C@]2([C@@H](C)CC)C(=O)N1O)c4c(O)c(O)c(c(OC(=O)C)c4OC(=O)C)c5ccc(OC(=O)C)cc5', 'COC(=O)C1=C2Nc3ccccc3[C@@]24CCN5[C@@H]6O[C@]78[C@H]9C[C@]%10%11CCO[C@H]%10CCN%12CC[C@]7([C@H]%11%12)c%13cccc(OC)c%13N8C[C@]6(C9)[C@@H]%14OCC[C@]%14(C1)[C@@H]45', 'CC(C)CCNC(=O)CCc1oc(COc2ccccc2)nn1', 'CC1=CC(=O)C(=C(O1)c2ccc(cc2)S(=O)(=O)C)Oc3ccc(Br)cc3F', 'NC(=O)C[C@@H]1CC[C@H](CC1)c2ccc(cc2)N3CCOc4ncnc(N)c4C3=O', 'Nc1ccc(cc1)S(=O)(=O)Nc2ccc(cc2)C(F)(F)F', 'OCC(C1CCN(CC1)C(=O)Nc2ccc(Cl)c(Cl)c2)N3CCC(CC3)c4c[nH]c5ccccc45', 'Clc1cccc(c1)N2CCN(CC2)S(=O)(=O)c3ccc4N(CCc4c3)C(=O)c5ccc(Cl)c(Cl)c5', 'CC(=O)O[C@H]1C[C@H]2C[C@@]3(CC[C@H]4[C@@](C)(CCC[C@@]4(C)C(=O)O)[C@H]13)[C@H](O)C2=C', 'CC(O)C1(CNS(=O)(=O)C(F)(F)F)CCN(CC1)S(=O)(=O)c2ccc(Cl)cc2S(=O)(=O)c3ccccc3F', 'CCNC(=O)NC(=O)CSc1nc2ccccc2n1CC(C)C', 'Fc1ccc(NC(=O)Cn2cc(c3ccccc23)S(=O)(=O)Cc4cccc(Cl)c4)cc1Cl', 'CCCCCN(CCCCC)C(=O)N1CCN([C@@H](C1)C(=O)NCCN(C(C)C)C(C)C)C(=O)N(c2ccccc2)c3ccccc3', 'CCOC(=O)N1C=C(F)C(=O)N(C(=O)C)C1=O', 'CC(C(=O)NC1CCc2ccccc12)C(=O)NC3C(=O)N(C)c4ccccc4c5ccccc35', 'Cc1ccc(cc1)N2CCN(CC2)C(=O)CCNC(=O)c3ccc(c(c3)[N+](=O)[O-])S(=O)(=O)C', 'Cc1nc2ccc(nc2n3c(nnc13)c4cc(ccc4Cl)C5(O)CCOC5)C6CC6', 'COc1cc(ccc1c2oc(C)nc2)c3nnc4C(CCn34)c5ccc(Cl)c(Cl)c5', 'CC[C@H](C)[C@H](NC(=O)[C@H](CC(C)C)NC(=O)[C@@H](NC(=O)[C@H](CC(C)C)NC(=O)[C@H](Cc1c[nH]cn1)NC(=O)[C@@H]2CSSC[C@@H](N)C(=O)N[C@@H](CO)C(=O)N[C@@H]3CSSC[C@@H](NC(=O)[C@H](CCC(=O)O)NC(=O)[C@@H](CCCCN)NC(=O)[C@H](CC(=O)O)NC(=O)[C@@H](CCSC)NC(=O)[C@H](CC(C)C)NC(=O)[C@@H](CO)NC(=O)[C@H](CO)NC3=O)C(=O)N[C@@H](C(C)C)C(=O)N[C@H](Cc4ccc(O)cc4)C(=O)N[C@@H](Cc5ccccc5)C(=O)N2)[C@H](C)O)C(=O)N[C@@H](Cc6c[nH]c7ccccc67)C(=O)O', 'ClCC(=O)N(C\\C=C\\c1ccccc1)c2ccc3OCCOc3c2', 'CCS(=O)(=O)CCN1CCN(CC1)C2CCC(CC2)C(C)C', 'CCCS(=O)(=O)CCNCc1oc(cc1)c2ccc3ncnc(Nc4ccc(OCc5cccc(F)c5)c(Cl)c4)c3c2', 'NS(=O)(=O)c1ccc(NC(=O)\\C=C\\c2cccs2)cc1', 'CC(C)c1noc(n1)c2ncn3c2CN(C)C(=O)c4c(F)cccc34', 'Cc1ccc(cc1)S(=O)(=O)CCC(=O)N(CCN2CCOCC2)c3nc4ccccc4s3', 'CC1(C)C2CC=C(\\C=N\\NC(=O)C3CC3)C1C2', 'Fc1ccc(cc1)C(=O)NC2CC3CCCC(C2)N3C(=O)NC4CCCCC4', 'Nc1ncnc2c1nc(SCCP(=O)(O)O)n2CCc3ccccc3', 'Clc1ccc(cc1Cl)c2noc(n2)c3sccc3Cl'];

// const trees = {}
// chembl.forEach((smiles) => {
//   SmilesDrawer.parse(
//     smiles, (tree) => {
//       console.log(tree);
//       trees[smiles] = tree;
//     }
//     )
// })

// console.log(trees)

function draw() {
  const t = performance.now();
  SmilesDrawer.parse(input.value, tree => {
    console.log(tree);
    smilesDrawer.draw(tree, "output-canvas", "dark", false);
    const td = performance.now() - t;
    log.innerHTML = "&nbsp;";
    log.style.visibility = "hidden";
    new Noty({
      text: `Drawing took ${td.toFixed(3)}ms with a total overlap score of ${smilesDrawer.getTotalOverlapScore().toFixed(3)}.`,
      killer: true,
      timeout: 2000,
      animation: {
        open: null,
        close: null
      }
    }).show();
    console.log(smilesDrawer.getMolecularFormula());
  }, err => {
    log.innerHTML = err;
    log.style.visibility = "visible";
    console.log(err);
  });
}
function updateOptions() {
  const updatedDrawer = new SmilesDrawer.Drawer(options);
  draw();
}
document.addEventListener("DOMContentLoaded", () => {
  input.addEventListener("input", draw);
  debugCheckbox.addEventListener("click", () => {
    options.debug = debugCheckbox.checked;
    updateOptions();
  });
  textSizeInput.addEventListener("input", () => {
    options.fontSizeLarge = parseInt(textSizeInput.value);
    options.fontSizeSmall = 3 / 5 * options.fontSizeLarge;
    updateOptions();
  });
  bondThicknessInput.addEventListener("input", () => {
    options.bondThickness = parseFloat(bondThicknessInput.value);
    updateOptions();
  });
  bondLengthInput.addEventListener("input", () => {
    options.bondLength = parseInt(bondLengthInput.value);
    updateOptions();
  });
  shortBondLengthInput.addEventListener("input", () => {
    options.shortBondLength = parseInt(shortBondLengthInput.value) / 100;
    updateOptions();
  });
  bondSpacingInput.addEventListener("input", () => {
    options.bondSpacing = parseInt(bondSpacingInput.value);
    updateOptions();
  });
  sizeInput.addEventListener("input", () => {
    options.width = parseInt(sizeInput.value);
    options.height = parseInt(sizeInput.value);
    updateOptions();
  });
  overlapInput.addEventListener("input", () => {
    options.overlapResolutionIterations = parseInt(overlapInput.value);
    updateOptions();
  });
});
})();

/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sQ0FBQyxFQUFFLEVBQUU7SUFDTCxDQUFDLEVBQUUsRUFBRTtJQUNMLENBQUMsRUFBRSxFQUFFO0lBQ0wsQ0FBQyxFQUFFLEVBQUU7SUFDTCxFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sQ0FBQyxFQUFFLEVBQUU7SUFDTCxFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixDQUFDLEVBQUUsRUFBRTtJQUNMLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLENBQUMsRUFBRSxFQUFFO0lBQ0wsRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixDQUFDLEVBQUUsRUFBRTtJQUNMLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixDQUFDLEVBQUUsRUFBRTtJQUNMLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixDQUFDLEVBQUUsRUFBRTtJQUNMLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEdBQUc7SUFDUCxFQUFFLEVBQUUsR0FBRztJQUNQLEVBQUUsRUFBRSxHQUFHO0lBQ1AsRUFBRSxFQUFFLEdBQUc7SUFDUCxFQUFFLEVBQUUsR0FBRztJQUNQLEVBQUUsRUFBRSxHQUFHO0lBQ1AsRUFBRSxFQUFFLEdBQUc7SUFDUCxFQUFFLEVBQUUsR0FBRztJQUNQLEVBQUUsRUFBRSxHQUFHO0lBQ1AsRUFBRSxFQUFFLEdBQUc7SUFDUCxFQUFFLEVBQUUsR0FBRztJQUNQLEVBQUUsRUFBRSxHQUFHO0lBQ1AsRUFBRSxFQUFFLEdBQUc7SUFDUCxHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7Q0FDVCxDQUFDO0FBRUY7O0dBRUc7QUFDcUIsU0FBSSxHQUE4QjtJQUN4RCxDQUFDLEVBQUUsQ0FBQztJQUNKLEVBQUUsRUFBRSxDQUFDO0lBQ0wsRUFBRSxFQUFFLENBQUM7SUFDTCxFQUFFLEVBQUUsQ0FBQztJQUNMLENBQUMsRUFBRSxDQUFDO0lBQ0osQ0FBQyxFQUFFLENBQUM7SUFDSixDQUFDLEVBQUUsQ0FBQztJQUNKLENBQUMsRUFBRSxDQUFDO0lBQ0osQ0FBQyxFQUFFLENBQUM7SUFDSixDQUFDLEVBQUUsQ0FBQztJQUNKLENBQUMsRUFBRSxDQUFDO0lBQ0osQ0FBQyxFQUFFLENBQUM7SUFDSixDQUFDLEVBQUUsQ0FBQztJQUNKLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixDQUFDLEVBQUUsRUFBRTtJQUNMLENBQUMsRUFBRSxFQUFFO0lBQ0wsQ0FBQyxFQUFFLEVBQUU7SUFDTCxDQUFDLEVBQUUsRUFBRTtJQUNMLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixDQUFDLEVBQUUsRUFBRTtJQUNMLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLENBQUMsRUFBRSxFQUFFO0lBQ0wsRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sQ0FBQyxFQUFFLEVBQUU7SUFDTCxFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLENBQUMsRUFBRSxFQUFFO0lBQ0wsRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLENBQUMsRUFBRSxFQUFFO0lBQ0wsRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLENBQUMsRUFBRSxFQUFFO0lBQ0wsRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsRUFBRTtJQUNOLEVBQUUsRUFBRSxFQUFFO0lBQ04sRUFBRSxFQUFFLEVBQUU7SUFDTixFQUFFLEVBQUUsR0FBRztJQUNQLEVBQUUsRUFBRSxHQUFHO0lBQ1AsRUFBRSxFQUFFLEdBQUc7SUFDUCxFQUFFLEVBQUUsR0FBRztJQUNQLEVBQUUsRUFBRSxHQUFHO0lBQ1AsRUFBRSxFQUFFLEdBQUc7SUFDUCxFQUFFLEVBQUUsR0FBRztJQUNQLEVBQUUsRUFBRSxHQUFHO0lBQ1As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QUFNLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQzNELElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBRTNELElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMzQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDM0MsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzNDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUUzQyxDQUFDLENBQUMsS0FBSyxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUM7Z0JBQzFCLENBQUMsQ0FBQyxLQUFLLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQztnQkFDMUIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDO2dCQUMxQixDQUFDLENBQUMsS0FBSyxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUM7Z0JBRTFCLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQztvQkFDbEMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUN2QyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3ZDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDdkMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN6QyxDQUFDO3FCQUFNLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQztvQkFDekMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUN2QyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3ZDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDdkMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN6QyxDQUFDO3FCQUFNLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQztvQkFDekMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUN2QyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3ZDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDdkMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxD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QUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFFRDs7T0FFRztJQUNILE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBYSxFQUFFLENBQVM7UUFDMUMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRDs7T0FFRztJQUNILE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBYSxFQUFFLElBQWE7UUFDckMsT0FBTyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRDs7T0FFRztJQUNILE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBYSxFQUFFLElBQWE7UUFDdkMsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDcEMsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFFRDs7T0FFRztJQUNILE1BQU0sQ0FBQyxlQUFlLENBQUMsSUFBYSxFQUFFLElBQWEsRUFBRSxJQUFhO1FBQ2hFLE1BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3hDLE1BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3hDLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckMsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztR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QUFtRztBQUNuRyxtR0FBbUc7QUFDbkcsbUdBQW1HO0FBQ25HO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGtDQUFrQyxFQUFFLGFBQWEsRUFBRTtBQUNuRCxtQ0FBbUMsRUFBRSxhQUFhLEVBQUU7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx5Q0FBeUM7QUFDekMseUNBQXlDOztBQUV6QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9EQUFvRCxpQkFBaUI7QUFDckU7O0FBRUEscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDZCQUE2QjtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSwwREFBMEQ7QUFDMUQsVUFBVTtBQUNWO0FBQ0EsMERBQTBEO0FBQzFELFVBQVU7QUFDVjtBQUNBOztBQUVBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFF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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLDZCQUE2QixpRUFBaUU7QUFDOUYsMkJBQTJCO0FBQzNCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscURBQXFELGlCQUFpQjtBQUN0RTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWtCQTs7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SUFDMUNzTCxhQUFhLENBQUMsQ0FBQztFQUNqQixDQUFDLENBQUM7RUFFRm5CLFlBQVksQ0FBQ3FCLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxNQUFNO0lBQzNDdGYsT0FBTyxDQUFDMGYsMkJBQTJCLEdBQUdsRyxRQUFRLENBQUN5RSxZQUFZLENBQUNuSyxLQUFLLENBQUM7SUFDbEVzTCxhQUFhLENBQUMsQ0FBQztFQUNqQixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMsQyIsInNvdXJjZXMiOlsid2VicGFjazovL1NtaWxlc0RyYXdlci93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL1BhcnNlci5qcyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvU1NTUi5qcyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvU3ZnV3JhcHBlci5qcyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvQXJyYXlIZWxwZXIudHMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL0F0b20udHMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL0NhbnZhc1dyYXBwZXIudHMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL0RyYXdlci50cyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvRHJhd2VyQmFzZS50cyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvRWRnZS50cyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvRm9ybXVsYVRvQ29tbW9uTmFtZS50cyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvR2F1c3NEcmF3ZXIudHMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL0dyYXBoLnRzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9MaW5lLnRzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9NYXRoSGVscGVyLnRzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9PcHRpb25zLnRzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9QYXJzZXIudHMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL1BpeGVsc1RvU3ZnLnRzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9SZWFjdGlvbi50cyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvUmVhY3Rpb25EcmF3ZXIudHMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL1JlYWN0aW9uUGFyc2VyLnRzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9SaW5nLnRzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9SaW5nQ29ubmVjdGlvbi50cyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvU3ZnRHJhd2VyLnRzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9UaGVtZU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL1V0aWxpdHlGdW5jdGlvbnMudHMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL1ZlY3RvcjIudHMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL1ZlcnRleC50cyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9ub2RlX21vZHVsZXMvY2hyb21hLWpzL2Nocm9tYS5qcyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlNtaWxlc0RyYXdlclwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJTbWlsZXNEcmF3ZXJcIl0gPSBmYWN0b3J5KCk7XG59KShzZWxmLCAoKSA9PiB7XG5yZXR1cm4gIiwiLy8gV0hFTiBSRVBMQUNJTkcsIENIRUNLIEZPUjpcclxuLy8gS0VFUCBUSElTIFdIRU4gUkVHRU5FUkFUSU5HIFRIRSBQQVJTRVIgISFcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uICgpIHtcclxuICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgLypcclxuICAgKiBHZW5lcmF0ZWQgYnkgUEVHLmpzIDAuMTAuMC5cclxuICAgKlxyXG4gICAqIGh0dHA6Ly9wZWdqcy5vcmcvXHJcbiAgICovXHJcblxyXG4gIGZ1bmN0aW9uIHBlZyRzdWJjbGFzcyhjaGlsZCwgcGFyZW50KSB7XHJcbiAgICBmdW5jdGlvbiBjdG9yKCkge1xyXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7XHJcbiAgICB9XHJcbiAgICBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7XHJcbiAgICBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcGVnJFN5bnRheEVycm9yKG1lc3NhZ2UsIGV4cGVjdGVkLCBmb3VuZCwgbG9jYXRpb24pIHtcclxuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICB0aGlzLmV4cGVjdGVkID0gZXhwZWN0ZWQ7XHJcbiAgICB0aGlzLmZvdW5kID0gZm91bmQ7XHJcbiAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XHJcbiAgICB0aGlzLm5hbWUgPSBcIlN5bnRheEVycm9yXCI7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHBlZyRTeW50YXhFcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwZWckc3ViY2xhc3MocGVnJFN5bnRheEVycm9yLCBFcnJvcik7XHJcblxyXG4gIHBlZyRTeW50YXhFcnJvci5idWlsZE1lc3NhZ2UgPSBmdW5jdGlvbiAoZXhwZWN0ZWQsIGZvdW5kKSB7XHJcbiAgICB2YXIgREVTQ1JJQkVfRVhQRUNUQVRJT05fRk5TID0ge1xyXG4gICAgICBsaXRlcmFsOiBmdW5jdGlvbiAoZXhwZWN0YXRpb24pIHtcclxuICAgICAgICByZXR1cm4gXCJcXFwiXCIgKyBsaXRlcmFsRXNjYXBlKGV4cGVjdGF0aW9uLnRleHQpICsgXCJcXFwiXCI7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBcImNsYXNzXCI6IGZ1bmN0aW9uIChleHBlY3RhdGlvbikge1xyXG4gICAgICAgIHZhciBlc2NhcGVkUGFydHMgPSBcIlwiLFxyXG4gICAgICAgICAgaTtcclxuXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGV4cGVjdGF0aW9uLnBhcnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBlc2NhcGVkUGFydHMgKz0gZXhwZWN0YXRpb24ucGFydHNbaV0gaW5zdGFuY2VvZiBBcnJheSA/XHJcbiAgICAgICAgICAgIGNsYXNzRXNjYXBlKGV4cGVjdGF0aW9uLnBhcnRzW2ldWzBdKSArIFwiLVwiICsgY2xhc3NFc2NhcGUoZXhwZWN0YXRpb24ucGFydHNbaV1bMV0pIDpcclxuICAgICAgICAgICAgY2xhc3NFc2NhcGUoZXhwZWN0YXRpb24ucGFydHNbaV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIFwiW1wiICsgKGV4cGVjdGF0aW9uLmludmVydGVkID8gXCJeXCIgOiBcIlwiKSArIGVzY2FwZWRQYXJ0cyArIFwiXVwiO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgYW55OiBmdW5jdGlvbiAoZXhwZWN0YXRpb24pIHtcclxuICAgICAgICByZXR1cm4gXCJhbnkgY2hhcmFjdGVyXCI7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBlbmQ6IGZ1bmN0aW9uIChleHBlY3RhdGlvbikge1xyXG4gICAgICAgIHJldHVybiBcImVuZCBvZiBpbnB1dFwiO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgb3RoZXI6IGZ1bmN0aW9uIChleHBlY3RhdGlvbikge1xyXG4gICAgICAgIHJldHVybiBleHBlY3RhdGlvbi5kZXNjcmlwdGlvbjtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBoZXgoY2gpIHtcclxuICAgICAgcmV0dXJuIGNoLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbGl0ZXJhbEVzY2FwZShzKSB7XHJcbiAgICAgIHJldHVybiBzXHJcbiAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgJ1xcXFxcXFxcJylcclxuICAgICAgICAucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpXHJcbiAgICAgICAgLnJlcGxhY2UoL1xcMC9nLCAnXFxcXDAnKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cXHQvZywgJ1xcXFx0JylcclxuICAgICAgICAucmVwbGFjZSgvXFxuL2csICdcXFxcbicpXHJcbiAgICAgICAgLnJlcGxhY2UoL1xcci9nLCAnXFxcXHInKVxyXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MDAtXFx4MEZdL2csIGZ1bmN0aW9uIChjaCkge1xyXG4gICAgICAgICAgcmV0dXJuICdcXFxceDAnICsgaGV4KGNoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MTAtXFx4MUZcXHg3Ri1cXHg5Rl0vZywgZnVuY3Rpb24gKGNoKSB7XHJcbiAgICAgICAgICByZXR1cm4gJ1xcXFx4JyArIGhleChjaCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xhc3NFc2NhcGUocykge1xyXG4gICAgICByZXR1cm4gc1xyXG4gICAgICAgIC5yZXBsYWNlKC9cXFxcL2csICdcXFxcXFxcXCcpXHJcbiAgICAgICAgLnJlcGxhY2UoL1xcXS9nLCAnXFxcXF0nKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cXF4vZywgJ1xcXFxeJylcclxuICAgICAgICAucmVwbGFjZSgvLS9nLCAnXFxcXC0nKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cXDAvZywgJ1xcXFwwJylcclxuICAgICAgICAucmVwbGFjZSgvXFx0L2csICdcXFxcdCcpXHJcbiAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCAnXFxcXG4nKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cXHIvZywgJ1xcXFxyJylcclxuICAgICAgICAucmVwbGFjZSgvW1xceDAwLVxceDBGXS9nLCBmdW5jdGlvbiAoY2gpIHtcclxuICAgICAgICAgIHJldHVybiAnXFxcXHgwJyArIGhleChjaCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAucmVwbGFjZSgvW1xceDEwLVxceDFGXFx4N0YtXFx4OUZdL2csIGZ1bmN0aW9uIChjaCkge1xyXG4gICAgICAgICAgcmV0dXJuICdcXFxceCcgKyBoZXgoY2gpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRXhwZWN0YXRpb24oZXhwZWN0YXRpb24pIHtcclxuICAgICAgcmV0dXJuIERFU0NSSUJFX0VYUEVDVEFUSU9OX0ZOU1tleHBlY3RhdGlvbi50eXBlXShleHBlY3RhdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGVzY3JpYmVFeHBlY3RlZChleHBlY3RlZCkge1xyXG4gICAgICB2YXIgZGVzY3JpcHRpb25zID0gbmV3IEFycmF5KGV4cGVjdGVkLmxlbmd0aCksXHJcbiAgICAgICAgaSwgajtcclxuXHJcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBleHBlY3RlZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGRlc2NyaXB0aW9uc1tpXSA9IGRlc2NyaWJlRXhwZWN0YXRpb24oZXhwZWN0ZWRbaV0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkZXNjcmlwdGlvbnMuc29ydCgpO1xyXG5cclxuICAgICAgaWYgKGRlc2NyaXB0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZm9yIChpID0gMSwgaiA9IDE7IGkgPCBkZXNjcmlwdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmIChkZXNjcmlwdGlvbnNbaSAtIDFdICE9PSBkZXNjcmlwdGlvbnNbaV0pIHtcclxuICAgICAgICAgICAgZGVzY3JpcHRpb25zW2pdID0gZGVzY3JpcHRpb25zW2ldO1xyXG4gICAgICAgICAgICBqKys7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlc2NyaXB0aW9ucy5sZW5ndGggPSBqO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzd2l0Y2ggKGRlc2NyaXB0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25zWzBdO1xyXG5cclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25zWzBdICsgXCIgb3IgXCIgKyBkZXNjcmlwdGlvbnNbMV07XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25zLnNsaWNlKDAsIC0xKS5qb2luKFwiLCBcIikgK1xyXG4gICAgICAgICAgICBcIiwgb3IgXCIgK1xyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbnNbZGVzY3JpcHRpb25zLmxlbmd0aCAtIDFdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGVzY3JpYmVGb3VuZChmb3VuZCkge1xyXG4gICAgICByZXR1cm4gZm91bmQgPyBcIlxcXCJcIiArIGxpdGVyYWxFc2NhcGUoZm91bmQpICsgXCJcXFwiXCIgOiBcImVuZCBvZiBpbnB1dFwiO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBcIkV4cGVjdGVkIFwiICsgZGVzY3JpYmVFeHBlY3RlZChleHBlY3RlZCkgKyBcIiBidXQgXCIgKyBkZXNjcmliZUZvdW5kKGZvdW5kKSArIFwiIGZvdW5kLlwiO1xyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZShpbnB1dCwgb3B0aW9ucykge1xyXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiB7fTtcclxuXHJcbiAgICAvLyBLRUVQIFRISVMgV0hFTiBSRUdFTkVSQVRJTkcgVEhFIFBBUlNFUiAhIVxyXG4gICAgdmFyIG5PcGVuUGFyZW50aGVzZXMgPSBpbnB1dC5zcGxpdCgnKCcpLmxlbmd0aCAtIDE7XHJcbiAgICB2YXIgbkNsb3NlUGFyZW50aGVzZXMgPSBpbnB1dC5zcGxpdCgnKScpLmxlbmd0aCAtIDE7XHJcblxyXG4gICAgaWYgKG5PcGVuUGFyZW50aGVzZXMgIT09IG5DbG9zZVBhcmVudGhlc2VzKSB7XHJcbiAgICAgIHRocm93IHBlZyRidWlsZFNpbXBsZUVycm9yKCdUaGUgbnVtYmVyIG9mIG9wZW5pbmcgcGFyZW50aGVzZXMgZG9lcyBub3QgbWF0Y2ggdGhlIG51bWJlciBvZiBjbG9zaW5nIHBhcmVudGhlc2VzLicsIDApO1xyXG4gICAgfVxyXG4gICAgLy8gS0VFUCBUSElTIFdIRU4gUkVHRU5FUkFUSU5HIFRIRSBQQVJTRVIgISFcclxuXHJcbiAgICB2YXIgcGVnJEZBSUxFRCA9IHt9LFxyXG5cclxuICAgICAgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9ucyA9IHtcclxuICAgICAgICBjaGFpbjogcGVnJHBhcnNlY2hhaW5cclxuICAgICAgfSxcclxuICAgICAgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uID0gcGVnJHBhcnNlY2hhaW4sXHJcblxyXG4gICAgICBwZWckYzAgPSBmdW5jdGlvbiAocykge1xyXG4gICAgICAgIHZhciBicmFuY2hlcyA9IFtdO1xyXG4gICAgICAgIHZhciByaW5ncyA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNbMV0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGJyYW5jaGVzLnB1c2goc1sxXVtpXSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzWzJdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICB2YXIgYm9uZCA9IChzWzJdW2ldWzBdKSA/IHNbMl1baV1bMF0gOiAnLSc7XHJcbiAgICAgICAgICByaW5ncy5wdXNoKHtcclxuICAgICAgICAgICAgJ2JvbmQnOiBib25kLFxyXG4gICAgICAgICAgICAnaWQnOiBzWzJdW2ldWzFdXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc1szXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgYnJhbmNoZXMucHVzaChzWzNdW2ldKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc1s2XS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgYnJhbmNoZXMucHVzaChzWzZdW2ldKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAnYXRvbSc6IHNbMF0sXHJcbiAgICAgICAgICAnaXNCcmFja2V0Jzogc1swXS5lbGVtZW50ID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgICAgJ2JyYW5jaGVzJzogYnJhbmNoZXMsXHJcbiAgICAgICAgICAnYnJhbmNoQ291bnQnOiBicmFuY2hlcy5sZW5ndGgsXHJcbiAgICAgICAgICAncmluZ2JvbmRzJzogcmluZ3MsXHJcbiAgICAgICAgICAncmluZ2JvbmRDb3VudCc6IHJpbmdzLmxlbmd0aCxcclxuICAgICAgICAgICdib25kJzogc1s0XSA/IHNbNF0gOiAnLScsXHJcbiAgICAgICAgICAnbmV4dCc6IHNbNV0sXHJcbiAgICAgICAgICAnaGFzTmV4dCc6IHNbNV0gPyB0cnVlIDogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHBlZyRjMSA9IFwiKFwiLFxyXG4gICAgICBwZWckYzIgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKFwiLCBmYWxzZSksXHJcbiAgICAgIHBlZyRjMyA9IFwiKVwiLFxyXG4gICAgICBwZWckYzQgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKVwiLCBmYWxzZSksXHJcbiAgICAgIHBlZyRjNSA9IGZ1bmN0aW9uIChiKSB7XHJcbiAgICAgICAgdmFyIGJvbmQgPSAoYlsxXSkgPyBiWzFdIDogJy0nO1xyXG4gICAgICAgIGJbMl0uYnJhbmNoQm9uZCA9IGJvbmQ7XHJcbiAgICAgICAgcmV0dXJuIGJbMl1cclxuICAgICAgfSxcclxuICAgICAgcGVnJGM2ID0gZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICByZXR1cm4gYTtcclxuICAgICAgfSxcclxuICAgICAgcGVnJGM3ID0gL15bXFwtPSMkOlxcL1xcXFwuXS8sXHJcbiAgICAgIHBlZyRjOCA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIi1cIiwgXCI9XCIsIFwiI1wiLCBcIiRcIiwgXCI6XCIsIFwiL1wiLCBcIlxcXFxcIiwgXCIuXCJdLCBmYWxzZSwgZmFsc2UpLFxyXG4gICAgICBwZWckYzkgPSBmdW5jdGlvbiAoYikge1xyXG4gICAgICAgIHJldHVybiBiO1xyXG4gICAgICB9LFxyXG4gICAgICBwZWckYzEwID0gXCJbXCIsXHJcbiAgICAgIHBlZyRjMTEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiW1wiLCBmYWxzZSksXHJcbiAgICAgIHBlZyRjMTIgPSBcInNlXCIsXHJcbiAgICAgIHBlZyRjMTMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwic2VcIiwgZmFsc2UpLFxyXG4gICAgICBwZWckYzE0ID0gXCJhc1wiLFxyXG4gICAgICBwZWckYzE1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImFzXCIsIGZhbHNlKSxcclxuICAgICAgcGVnJGMxNiA9IFwiXVwiLFxyXG4gICAgICBwZWckYzE3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIl1cIiwgZmFsc2UpLFxyXG4gICAgICBwZWckYzE4ID0gZnVuY3Rpb24gKGIpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgJ2lzb3RvcGUnOiBiWzFdLFxyXG4gICAgICAgICAgJ2VsZW1lbnQnOiBiWzJdLFxyXG4gICAgICAgICAgJ2NoaXJhbGl0eSc6IGJbM10sXHJcbiAgICAgICAgICAnaGNvdW50JzogYls0XSxcclxuICAgICAgICAgICdjaGFyZ2UnOiBiWzVdLFxyXG4gICAgICAgICAgJ2NsYXNzJzogYls2XVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgcGVnJGMxOSA9IFwiQlwiLFxyXG4gICAgICBwZWckYzIwID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIkJcIiwgZmFsc2UpLFxyXG4gICAgICBwZWckYzIxID0gXCJyXCIsXHJcbiAgICAgIHBlZyRjMjIgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiclwiLCBmYWxzZSksXHJcbiAgICAgIHBlZyRjMjMgPSBcIkNcIixcclxuICAgICAgcGVnJGMyNCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJDXCIsIGZhbHNlKSxcclxuICAgICAgcGVnJGMyNSA9IFwibFwiLFxyXG4gICAgICBwZWckYzI2ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImxcIiwgZmFsc2UpLFxyXG4gICAgICBwZWckYzI3ID0gL15bTk9QU0ZJXS8sXHJcbiAgICAgIHBlZyRjMjggPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCJOXCIsIFwiT1wiLCBcIlBcIiwgXCJTXCIsIFwiRlwiLCBcIklcIl0sIGZhbHNlLCBmYWxzZSksXHJcbiAgICAgIHBlZyRjMjkgPSBmdW5jdGlvbiAobykge1xyXG4gICAgICAgIGlmIChvLmxlbmd0aCA+IDEpIHJldHVybiBvLmpvaW4oJycpO1xyXG4gICAgICAgIHJldHVybiBvO1xyXG4gICAgICB9LFxyXG4gICAgICBwZWckYzMwID0gL15bYmNub3BzXS8sXHJcbiAgICAgIHBlZyRjMzEgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCJiXCIsIFwiY1wiLCBcIm5cIiwgXCJvXCIsIFwicFwiLCBcInNcIl0sIGZhbHNlLCBmYWxzZSksXHJcbiAgICAgIHBlZyRjMzIgPSBcIipcIixcclxuICAgICAgcGVnJGMzMyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIqXCIsIGZhbHNlKSxcclxuICAgICAgcGVnJGMzNCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgcmV0dXJuIHc7XHJcbiAgICAgIH0sXHJcbiAgICAgIHBlZyRjMzUgPSAvXltBLVpdLyxcclxuICAgICAgcGVnJGMzNiA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcclxuICAgICAgICBbXCJBXCIsIFwiWlwiXVxyXG4gICAgICBdLCBmYWxzZSwgZmFsc2UpLFxyXG4gICAgICBwZWckYzM3ID0gL15bYS16XS8sXHJcbiAgICAgIHBlZyRjMzggPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXHJcbiAgICAgICAgW1wiYVwiLCBcInpcIl1cclxuICAgICAgXSwgZmFsc2UsIGZhbHNlKSxcclxuICAgICAgcGVnJGMzOSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgcmV0dXJuIGUuam9pbignJyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHBlZyRjNDAgPSBcIiVcIixcclxuICAgICAgcGVnJGM0MSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIlXCIsIGZhbHNlKSxcclxuICAgICAgcGVnJGM0MiA9IC9eWzEtOV0vLFxyXG4gICAgICBwZWckYzQzID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1xyXG4gICAgICAgIFtcIjFcIiwgXCI5XCJdXHJcbiAgICAgIF0sIGZhbHNlLCBmYWxzZSksXHJcbiAgICAgIHBlZyRjNDQgPSAvXlswLTldLyxcclxuICAgICAgcGVnJGM0NSA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcclxuICAgICAgICBbXCIwXCIsIFwiOVwiXVxyXG4gICAgICBdLCBmYWxzZSwgZmFsc2UpLFxyXG4gICAgICBwZWckYzQ2ID0gZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICBpZiAoci5sZW5ndGggPT0gMSkgcmV0dXJuIE51bWJlcihyKTtcclxuICAgICAgICByZXR1cm4gTnVtYmVyKHIuam9pbignJykucmVwbGFjZSgnJScsICcnKSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHBlZyRjNDcgPSBcIkBcIixcclxuICAgICAgcGVnJGM0OCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJAXCIsIGZhbHNlKSxcclxuICAgICAgcGVnJGM0OSA9IFwiVEhcIixcclxuICAgICAgcGVnJGM1MCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJUSFwiLCBmYWxzZSksXHJcbiAgICAgIHBlZyRjNTEgPSAvXlsxMl0vLFxyXG4gICAgICBwZWckYzUyID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1wiMVwiLCBcIjJcIl0sIGZhbHNlLCBmYWxzZSksXHJcbiAgICAgIHBlZyRjNTMgPSBcIkFMXCIsXHJcbiAgICAgIHBlZyRjNTQgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiQUxcIiwgZmFsc2UpLFxyXG4gICAgICBwZWckYzU1ID0gXCJTUFwiLFxyXG4gICAgICBwZWckYzU2ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlNQXCIsIGZhbHNlKSxcclxuICAgICAgcGVnJGM1NyA9IC9eWzEtM10vLFxyXG4gICAgICBwZWckYzU4ID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1xyXG4gICAgICAgIFtcIjFcIiwgXCIzXCJdXHJcbiAgICAgIF0sIGZhbHNlLCBmYWxzZSksXHJcbiAgICAgIHBlZyRjNTkgPSBcIlRCXCIsXHJcbiAgICAgIHBlZyRjNjAgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiVEJcIiwgZmFsc2UpLFxyXG4gICAgICBwZWckYzYxID0gXCJPSFwiLFxyXG4gICAgICBwZWckYzYyID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIk9IXCIsIGZhbHNlKSxcclxuICAgICAgcGVnJGM2MyA9IGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgaWYgKCFjWzFdKSByZXR1cm4gJ0AnO1xyXG4gICAgICAgIGlmIChjWzFdID09ICdAJykgcmV0dXJuICdAQCc7XHJcblxyXG4gICAgICAgIHJldHVybiBjWzFdLmpvaW4oJycpLnJlcGxhY2UoJywnLCAnJyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHBlZyRjNjQgPSBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgIHJldHVybiBjO1xyXG4gICAgICB9LFxyXG4gICAgICBwZWckYzY1ID0gXCIrXCIsXHJcbiAgICAgIHBlZyRjNjYgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiK1wiLCBmYWxzZSksXHJcbiAgICAgIHBlZyRjNjcgPSBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgIGlmICghY1sxXSkgcmV0dXJuIDE7XHJcbiAgICAgICAgaWYgKGNbMV0gIT0gJysnKSByZXR1cm4gTnVtYmVyKGNbMV0uam9pbignJykpO1xyXG4gICAgICAgIHJldHVybiAyO1xyXG4gICAgICB9LFxyXG4gICAgICBwZWckYzY4ID0gXCItXCIsXHJcbiAgICAgIHBlZyRjNjkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLVwiLCBmYWxzZSksXHJcbiAgICAgIHBlZyRjNzAgPSBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgIGlmICghY1sxXSkgcmV0dXJuIC0xO1xyXG4gICAgICAgIGlmIChjWzFdICE9ICctJykgcmV0dXJuIC1OdW1iZXIoY1sxXS5qb2luKCcnKSk7XHJcbiAgICAgICAgcmV0dXJuIC0yO1xyXG4gICAgICB9LFxyXG4gICAgICBwZWckYzcxID0gXCJIXCIsXHJcbiAgICAgIHBlZyRjNzIgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiSFwiLCBmYWxzZSksXHJcbiAgICAgIHBlZyRjNzMgPSBmdW5jdGlvbiAoaCkge1xyXG4gICAgICAgIGlmIChoWzFdKSByZXR1cm4gTnVtYmVyKGhbMV0pO1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgICB9LFxyXG4gICAgICBwZWckYzc0ID0gXCI6XCIsXHJcbiAgICAgIHBlZyRjNzUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiOlwiLCBmYWxzZSksXHJcbiAgICAgIHBlZyRjNzYgPSAvXlswXS8sXHJcbiAgICAgIHBlZyRjNzcgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCIwXCJdLCBmYWxzZSwgZmFsc2UpLFxyXG4gICAgICBwZWckYzc4ID0gZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICByZXR1cm4gTnVtYmVyKGNbMV1bMF0gKyBjWzFdWzFdLmpvaW4oJycpKTtcclxuICAgICAgfSxcclxuICAgICAgcGVnJGM3OSA9IGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgcmV0dXJuIE51bWJlcihpLmpvaW4oJycpKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHBlZyRjdXJyUG9zID0gMCxcclxuICAgICAgcGVnJHNhdmVkUG9zID0gMCxcclxuICAgICAgcGVnJHBvc0RldGFpbHNDYWNoZSA9IFt7XHJcbiAgICAgICAgbGluZTogMSxcclxuICAgICAgICBjb2x1bW46IDFcclxuICAgICAgfV0sXHJcbiAgICAgIHBlZyRtYXhGYWlsUG9zID0gMCxcclxuICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZCA9IFtdLFxyXG4gICAgICBwZWckc2lsZW50RmFpbHMgPSAwLFxyXG5cclxuICAgICAgcGVnJHJlc3VsdDtcclxuXHJcbiAgICBpZiAoXCJzdGFydFJ1bGVcIiBpbiBvcHRpb25zKSB7XHJcbiAgICAgIGlmICghKG9wdGlvbnMuc3RhcnRSdWxlIGluIHBlZyRzdGFydFJ1bGVGdW5jdGlvbnMpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3Qgc3RhcnQgcGFyc2luZyBmcm9tIHJ1bGUgXFxcIlwiICsgb3B0aW9ucy5zdGFydFJ1bGUgKyBcIlxcXCIuXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBwZWckc3RhcnRSdWxlRnVuY3Rpb24gPSBwZWckc3RhcnRSdWxlRnVuY3Rpb25zW29wdGlvbnMuc3RhcnRSdWxlXTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0ZXh0KCkge1xyXG4gICAgICByZXR1cm4gaW5wdXQuc3Vic3RyaW5nKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvY2F0aW9uKCkge1xyXG4gICAgICByZXR1cm4gcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBleHBlY3RlZChkZXNjcmlwdGlvbiwgbG9jYXRpb24pIHtcclxuICAgICAgbG9jYXRpb24gPSBsb2NhdGlvbiAhPT0gdm9pZCAwID8gbG9jYXRpb24gOiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpXHJcblxyXG4gICAgICB0aHJvdyBwZWckYnVpbGRTdHJ1Y3R1cmVkRXJyb3IoXHJcbiAgICAgICAgW3BlZyRvdGhlckV4cGVjdGF0aW9uKGRlc2NyaXB0aW9uKV0sXHJcbiAgICAgICAgaW5wdXQuc3Vic3RyaW5nKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpLFxyXG4gICAgICAgIGxvY2F0aW9uXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXJyb3IobWVzc2FnZSwgbG9jYXRpb24pIHtcclxuICAgICAgbG9jYXRpb24gPSBsb2NhdGlvbiAhPT0gdm9pZCAwID8gbG9jYXRpb24gOiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpXHJcblxyXG4gICAgICB0aHJvdyBwZWckYnVpbGRTaW1wbGVFcnJvcihtZXNzYWdlLCBsb2NhdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbih0ZXh0LCBpZ25vcmVDYXNlKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdHlwZTogXCJsaXRlcmFsXCIsXHJcbiAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICBpZ25vcmVDYXNlOiBpZ25vcmVDYXNlXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGVnJGNsYXNzRXhwZWN0YXRpb24ocGFydHMsIGludmVydGVkLCBpZ25vcmVDYXNlKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdHlwZTogXCJjbGFzc1wiLFxyXG4gICAgICAgIHBhcnRzOiBwYXJ0cyxcclxuICAgICAgICBpbnZlcnRlZDogaW52ZXJ0ZWQsXHJcbiAgICAgICAgaWdub3JlQ2FzZTogaWdub3JlQ2FzZVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBlZyRhbnlFeHBlY3RhdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiBcImFueVwiXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGVnJGVuZEV4cGVjdGF0aW9uKCkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHR5cGU6IFwiZW5kXCJcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbikge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHR5cGU6IFwib3RoZXJcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb25cclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwZWckY29tcHV0ZVBvc0RldGFpbHMocG9zKSB7XHJcbiAgICAgIHZhciBkZXRhaWxzID0gcGVnJHBvc0RldGFpbHNDYWNoZVtwb3NdLFxyXG4gICAgICAgIHA7XHJcblxyXG4gICAgICBpZiAoZGV0YWlscykge1xyXG4gICAgICAgIHJldHVybiBkZXRhaWxzO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHAgPSBwb3MgLSAxO1xyXG4gICAgICAgIHdoaWxlICghcGVnJHBvc0RldGFpbHNDYWNoZVtwXSkge1xyXG4gICAgICAgICAgcC0tO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGV0YWlscyA9IHBlZyRwb3NEZXRhaWxzQ2FjaGVbcF07XHJcbiAgICAgICAgZGV0YWlscyA9IHtcclxuICAgICAgICAgIGxpbmU6IGRldGFpbHMubGluZSxcclxuICAgICAgICAgIGNvbHVtbjogZGV0YWlscy5jb2x1bW5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB3aGlsZSAocCA8IHBvcykge1xyXG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocCkgPT09IDEwKSB7XHJcbiAgICAgICAgICAgIGRldGFpbHMubGluZSsrO1xyXG4gICAgICAgICAgICBkZXRhaWxzLmNvbHVtbiA9IDE7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkZXRhaWxzLmNvbHVtbisrO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHArKztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBlZyRwb3NEZXRhaWxzQ2FjaGVbcG9zXSA9IGRldGFpbHM7XHJcbiAgICAgICAgcmV0dXJuIGRldGFpbHM7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwZWckY29tcHV0ZUxvY2F0aW9uKHN0YXJ0UG9zLCBlbmRQb3MpIHtcclxuICAgICAgdmFyIHN0YXJ0UG9zRGV0YWlscyA9IHBlZyRjb21wdXRlUG9zRGV0YWlscyhzdGFydFBvcyksXHJcbiAgICAgICAgZW5kUG9zRGV0YWlscyA9IHBlZyRjb21wdXRlUG9zRGV0YWlscyhlbmRQb3MpO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdGFydDoge1xyXG4gICAgICAgICAgb2Zmc2V0OiBzdGFydFBvcyxcclxuICAgICAgICAgIGxpbmU6IHN0YXJ0UG9zRGV0YWlscy5saW5lLFxyXG4gICAgICAgICAgY29sdW1uOiBzdGFydFBvc0RldGFpbHMuY29sdW1uXHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbmQ6IHtcclxuICAgICAgICAgIG9mZnNldDogZW5kUG9zLFxyXG4gICAgICAgICAgbGluZTogZW5kUG9zRGV0YWlscy5saW5lLFxyXG4gICAgICAgICAgY29sdW1uOiBlbmRQb3NEZXRhaWxzLmNvbHVtblxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwZWckZmFpbChleHBlY3RlZCkge1xyXG4gICAgICBpZiAocGVnJGN1cnJQb3MgPCBwZWckbWF4RmFpbFBvcykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHBlZyRjdXJyUG9zID4gcGVnJG1heEZhaWxQb3MpIHtcclxuICAgICAgICBwZWckbWF4RmFpbFBvcyA9IHBlZyRjdXJyUG9zO1xyXG4gICAgICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQgPSBbXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZC5wdXNoKGV4cGVjdGVkKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwZWckYnVpbGRTaW1wbGVFcnJvcihtZXNzYWdlLCBsb2NhdGlvbikge1xyXG4gICAgICByZXR1cm4gbmV3IHBlZyRTeW50YXhFcnJvcihtZXNzYWdlLCBudWxsLCBudWxsLCBsb2NhdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKGV4cGVjdGVkLCBmb3VuZCwgbG9jYXRpb24pIHtcclxuICAgICAgcmV0dXJuIG5ldyBwZWckU3ludGF4RXJyb3IoXHJcbiAgICAgICAgcGVnJFN5bnRheEVycm9yLmJ1aWxkTWVzc2FnZShleHBlY3RlZCwgZm91bmQpLFxyXG4gICAgICAgIGV4cGVjdGVkLFxyXG4gICAgICAgIGZvdW5kLFxyXG4gICAgICAgIGxvY2F0aW9uXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlY2hhaW4oKSB7XHJcbiAgICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOTtcclxuXHJcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XHJcbiAgICAgIHMxID0gcGVnJGN1cnJQb3M7XHJcbiAgICAgIHMyID0gcGVnJHBhcnNlYXRvbSgpO1xyXG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICBzMyA9IFtdO1xyXG4gICAgICAgIHM0ID0gcGVnJHBhcnNlYnJhbmNoKCk7XHJcbiAgICAgICAgd2hpbGUgKHM0ICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICBzMy5wdXNoKHM0KTtcclxuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlYnJhbmNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgczQgPSBbXTtcclxuICAgICAgICAgIHM1ID0gcGVnJGN1cnJQb3M7XHJcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZWJvbmQoKTtcclxuICAgICAgICAgIGlmIChzNiA9PT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICBzNiA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgczcgPSBwZWckcGFyc2VyaW5nKCk7XHJcbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICAgIHM2ID0gW3M2LCBzN107XHJcbiAgICAgICAgICAgICAgczUgPSBzNjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xyXG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcclxuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgd2hpbGUgKHM1ICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgIHM0LnB1c2goczUpO1xyXG4gICAgICAgICAgICBzNSA9IHBlZyRjdXJyUG9zO1xyXG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZWJvbmQoKTtcclxuICAgICAgICAgICAgaWYgKHM2ID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgICAgczYgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlcmluZygpO1xyXG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICAgICAgczYgPSBbczYsIHM3XTtcclxuICAgICAgICAgICAgICAgIHM1ID0gczY7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XHJcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XHJcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgczUgPSBbXTtcclxuICAgICAgICAgICAgczYgPSBwZWckcGFyc2VicmFuY2goKTtcclxuICAgICAgICAgICAgd2hpbGUgKHM2ICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgICAgczUucHVzaChzNik7XHJcbiAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2VicmFuY2goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZWJvbmQoKTtcclxuICAgICAgICAgICAgICBpZiAoczYgPT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgICAgIHM2ID0gbnVsbDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWNoYWluKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoczcgPT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgICAgICAgczcgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgICAgICAgIHM4ID0gW107XHJcbiAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJHBhcnNlYnJhbmNoKCk7XHJcbiAgICAgICAgICAgICAgICAgIHdoaWxlIChzOSAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHM4LnB1c2goczkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJHBhcnNlYnJhbmNoKCk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgczIgPSBbczIsIHMzLCBzNCwgczUsIHM2LCBzNywgczhdO1xyXG4gICAgICAgICAgICAgICAgICAgIHMxID0gczI7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcclxuICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XHJcbiAgICAgICAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcclxuICAgICAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcclxuICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XHJcbiAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcclxuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcclxuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XHJcbiAgICAgICAgczEgPSBwZWckYzAoczEpO1xyXG4gICAgICB9XHJcbiAgICAgIHMwID0gczE7XHJcblxyXG4gICAgICByZXR1cm4gczA7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlYnJhbmNoKCkge1xyXG4gICAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcclxuXHJcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XHJcbiAgICAgIHMxID0gcGVnJGN1cnJQb3M7XHJcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcclxuICAgICAgICBzMiA9IHBlZyRjMTtcclxuICAgICAgICBwZWckY3VyclBvcysrO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcclxuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XHJcbiAgICAgICAgICBwZWckZmFpbChwZWckYzIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICBzMyA9IHBlZyRwYXJzZWJvbmQoKTtcclxuICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgIHMzID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZWNoYWluKCk7XHJcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xyXG4gICAgICAgICAgICAgIHM1ID0gcGVnJGMzO1xyXG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICAgIHMyID0gW3MyLCBzMywgczQsIHM1XTtcclxuICAgICAgICAgICAgICBzMSA9IHMyO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XHJcbiAgICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xyXG4gICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XHJcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBlZyRjdXJyUG9zID0gczE7XHJcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xyXG4gICAgICAgIHMxID0gcGVnJGM1KHMxKTtcclxuICAgICAgfVxyXG4gICAgICBzMCA9IHMxO1xyXG5cclxuICAgICAgcmV0dXJuIHMwO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWF0b20oKSB7XHJcbiAgICAgIHZhciBzMCwgczE7XHJcblxyXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xyXG4gICAgICBzMSA9IHBlZyRwYXJzZW9yZ2FuaWNzeW1ib2woKTtcclxuICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgczEgPSBwZWckcGFyc2Vhcm9tYXRpY3N5bWJvbCgpO1xyXG4gICAgICAgIGlmIChzMSA9PT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgczEgPSBwZWckcGFyc2VicmFja2V0YXRvbSgpO1xyXG4gICAgICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgIHMxID0gcGVnJHBhcnNld2lsZGNhcmQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XHJcbiAgICAgICAgczEgPSBwZWckYzYoczEpO1xyXG4gICAgICB9XHJcbiAgICAgIHMwID0gczE7XHJcblxyXG4gICAgICByZXR1cm4gczA7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlYm9uZCgpIHtcclxuICAgICAgdmFyIHMwLCBzMTtcclxuICAgICAgczAgPSBwZWckY3VyclBvcztcclxuICAgICAgaWYgKHBlZyRjNy50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XHJcbiAgICAgICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xyXG5cclxuICAgICAgICAvLyBIYWNrIHRvIHJlc29sdmUgcHJvYmxlbSBjYXVzZWQgYnk6XHJcbiAgICAgICAgLy8gTz1DKE5bQ0BASF0oQ0MoTyk9TylDKE5bQ0BIXShDMT1DQz1DKE8pQz1DMSlDKE5bQ0BASF0oQ0MoTyk9TylDKE5DQyhOW0NAQEhdKEMoTltDQEBIXShbQ0BIXShDKUNDKE8pPU8pQyhOL0MoQyhPW0NASF0oQylbQ0BASF0yTkMoW0NASF0oQ08pTkMoQyhPMylDM0NDQyk9Tyk9Tyk9Tyk9Q1xcXFxcXFxcQzQ9Q05DNT1DNEM9Q0M9QzUpPU8pPU8pW0NASF0oTylDKE4pPU8pPU8pPU8pPU8pPU8pW0NASF0oQ0MoTyk9TylOQyhbQ0BASF0oQ0M2PUNOQzc9QzZDPUNDPUM3KU5DMj1PKT1PXHJcbiAgICAgICAgLy8gS0VFUCBUSElTIFdIRU4gUkVHRU5FUkFUSU5HIFRIRSBQQVJTRVIgISFcclxuICAgICAgICBpZiAoczEgPT09IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyArIDEpKSB7XHJcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IHBlZyRidWlsZFNpbXBsZUVycm9yKCdUaGUgcGFyc2VyIGVuY291bnRlcmVkIGEgYm9uZCByZXBldGl0aW9uLicsIHBlZyRjdXJyUG9zICsgMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEtFRVAgVEhJUyBXSEVOIFJFR0VORVJBVElORyBUSEUgUEFSU0VSICEhXHJcblxyXG4gICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgIHBlZyRmYWlsKHBlZyRjOCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xyXG4gICAgICAgIHMxID0gcGVnJGM5KHMxKTtcclxuICAgICAgfVxyXG4gICAgICBzMCA9IHMxO1xyXG5cclxuICAgICAgcmV0dXJuIHMwO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWJyYWNrZXRhdG9tKCkge1xyXG4gICAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzOCwgczk7XHJcblxyXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xyXG4gICAgICBzMSA9IHBlZyRjdXJyUG9zO1xyXG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDkxKSB7XHJcbiAgICAgICAgczIgPSBwZWckYzEwO1xyXG4gICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMTEpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICBzMyA9IHBlZyRwYXJzZWlzb3RvcGUoKTtcclxuICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgIHMzID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMxMikge1xyXG4gICAgICAgICAgICBzNCA9IHBlZyRjMTI7XHJcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzEzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHM0ID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzE0KSB7XHJcbiAgICAgICAgICAgICAgczQgPSBwZWckYzE0O1xyXG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMTUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoczQgPT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgICBzNCA9IHBlZyRwYXJzZWFyb21hdGljc3ltYm9sKCk7XHJcbiAgICAgICAgICAgICAgaWYgKHM0ID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRwYXJzZWVsZW1lbnRzeW1ib2woKTtcclxuICAgICAgICAgICAgICAgIGlmIChzNCA9PT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdpbGRjYXJkKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgczUgPSBwZWckcGFyc2VjaGlyYWwoKTtcclxuICAgICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgICAgczUgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlaGNvdW50KCk7XHJcbiAgICAgICAgICAgICAgaWYgKHM2ID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgICAgICBzNiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VjaGFyZ2UoKTtcclxuICAgICAgICAgICAgICAgIGlmIChzNyA9PT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICAgICAgICBzNyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2VjbGFzcygpO1xyXG4gICAgICAgICAgICAgICAgICBpZiAoczggPT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzOCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5Mykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckYzE2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzE3KTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzMiA9IFtzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzOCwgczldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgczEgPSBzMjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcclxuICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcclxuICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XHJcbiAgICAgICAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcclxuICAgICAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcclxuICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XHJcbiAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcclxuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcclxuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XHJcbiAgICAgICAgczEgPSBwZWckYzE4KHMxKTtcclxuICAgICAgfVxyXG4gICAgICBzMCA9IHMxO1xyXG5cclxuICAgICAgcmV0dXJuIHMwO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZW9yZ2FuaWNzeW1ib2woKSB7XHJcbiAgICAgIHZhciBzMCwgczEsIHMyLCBzMztcclxuXHJcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XHJcbiAgICAgIHMxID0gcGVnJGN1cnJQb3M7XHJcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjYpIHtcclxuICAgICAgICBzMiA9IHBlZyRjMTk7XHJcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgcGVnJGZhaWwocGVnJGMyMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTE0KSB7XHJcbiAgICAgICAgICBzMyA9IHBlZyRjMjE7XHJcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XHJcbiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMjIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgIHMzID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICBzMiA9IFtzMiwgczNdO1xyXG4gICAgICAgICAgczEgPSBzMjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcclxuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcclxuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgczEgPSBwZWckY3VyclBvcztcclxuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDY3KSB7XHJcbiAgICAgICAgICBzMiA9IHBlZyRjMjM7XHJcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XHJcbiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMjQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTA4KSB7XHJcbiAgICAgICAgICAgIHMzID0gcGVnJGMyNTtcclxuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMjYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgczMgPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgIHMyID0gW3MyLCBzM107XHJcbiAgICAgICAgICAgIHMxID0gczI7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xyXG4gICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XHJcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzMSA9PT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgaWYgKHBlZyRjMjcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xyXG4gICAgICAgICAgICBzMSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XHJcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzI4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcclxuICAgICAgICBzMSA9IHBlZyRjMjkoczEpO1xyXG4gICAgICB9XHJcbiAgICAgIHMwID0gczE7XHJcblxyXG4gICAgICByZXR1cm4gczA7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlYXJvbWF0aWNzeW1ib2woKSB7XHJcbiAgICAgIHZhciBzMCwgczE7XHJcblxyXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xyXG4gICAgICBpZiAocGVnJGMzMC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XHJcbiAgICAgICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xyXG4gICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMzEpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcclxuICAgICAgICBzMSA9IHBlZyRjNihzMSk7XHJcbiAgICAgIH1cclxuICAgICAgczAgPSBzMTtcclxuXHJcbiAgICAgIHJldHVybiBzMDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwZWckcGFyc2V3aWxkY2FyZCgpIHtcclxuICAgICAgdmFyIHMwLCBzMTtcclxuXHJcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XHJcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDIpIHtcclxuICAgICAgICBzMSA9IHBlZyRjMzI7XHJcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgcGVnJGZhaWwocGVnJGMzMyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xyXG4gICAgICAgIHMxID0gcGVnJGMzNChzMSk7XHJcbiAgICAgIH1cclxuICAgICAgczAgPSBzMTtcclxuXHJcbiAgICAgIHJldHVybiBzMDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwZWckcGFyc2VlbGVtZW50c3ltYm9sKCkge1xyXG4gICAgICB2YXIgczAsIHMxLCBzMiwgczM7XHJcblxyXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xyXG4gICAgICBzMSA9IHBlZyRjdXJyUG9zO1xyXG4gICAgICBpZiAocGVnJGMzNS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XHJcbiAgICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xyXG4gICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMzYpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICBpZiAocGVnJGMzNy50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XHJcbiAgICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XHJcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XHJcbiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMzgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgIHMzID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICBzMiA9IFtzMiwgczNdO1xyXG4gICAgICAgICAgczEgPSBzMjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcclxuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcclxuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XHJcbiAgICAgICAgczEgPSBwZWckYzM5KHMxKTtcclxuICAgICAgfVxyXG4gICAgICBzMCA9IHMxO1xyXG5cclxuICAgICAgcmV0dXJuIHMwO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZXJpbmcoKSB7XHJcbiAgICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQ7XHJcblxyXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xyXG4gICAgICBzMSA9IHBlZyRjdXJyUG9zO1xyXG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM3KSB7XHJcbiAgICAgICAgczIgPSBwZWckYzQwO1xyXG4gICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICBpZiAocGVnJGM0Mi50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XHJcbiAgICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XHJcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XHJcbiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNDMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgIGlmIChwZWckYzQ0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcclxuICAgICAgICAgICAgczQgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xyXG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM0NSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICBzMiA9IFtzMiwgczMsIHM0XTtcclxuICAgICAgICAgICAgczEgPSBzMjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XHJcbiAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcclxuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcclxuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgaWYgKHBlZyRjNDQudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xyXG4gICAgICAgICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xyXG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgICBwZWckZmFpbChwZWckYzQ1KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XHJcbiAgICAgICAgczEgPSBwZWckYzQ2KHMxKTtcclxuICAgICAgfVxyXG4gICAgICBzMCA9IHMxO1xyXG5cclxuICAgICAgcmV0dXJuIHMwO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWNoaXJhbCgpIHtcclxuICAgICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2O1xyXG5cclxuICAgICAgczAgPSBwZWckY3VyclBvcztcclxuICAgICAgczEgPSBwZWckY3VyclBvcztcclxuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2NCkge1xyXG4gICAgICAgIHMyID0gcGVnJGM0NztcclxuICAgICAgICBwZWckY3VyclBvcysrO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcclxuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XHJcbiAgICAgICAgICBwZWckZmFpbChwZWckYzQ4KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2NCkge1xyXG4gICAgICAgICAgczMgPSBwZWckYzQ3O1xyXG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgICBwZWckZmFpbChwZWckYzQ4KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xyXG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNDkpIHtcclxuICAgICAgICAgICAgczQgPSBwZWckYzQ5O1xyXG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM1MCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICBpZiAocGVnJGM1MS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XHJcbiAgICAgICAgICAgICAgczUgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xyXG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNTIpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgICBzNCA9IFtzNCwgczVdO1xyXG4gICAgICAgICAgICAgIHMzID0gczQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcclxuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XHJcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGM1Mykge1xyXG4gICAgICAgICAgICAgIHM0ID0gcGVnJGM1MztcclxuICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzU0KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHBlZyRjNTEudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xyXG4gICAgICAgICAgICAgICAgczUgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xyXG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzUyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgICAgICBzNCA9IFtzNCwgczVdO1xyXG4gICAgICAgICAgICAgICAgczMgPSBzNDtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcclxuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcclxuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgICAgczMgPSBwZWckY3VyclBvcztcclxuICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGM1NSkge1xyXG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzU1O1xyXG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzU2KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGVnJGM1Ny50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XHJcbiAgICAgICAgICAgICAgICAgIHM1ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcclxuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNTgpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgICAgICAgczQgPSBbczQsIHM1XTtcclxuICAgICAgICAgICAgICAgICAgczMgPSBzNDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XHJcbiAgICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcclxuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNTkpIHtcclxuICAgICAgICAgICAgICAgICAgczQgPSBwZWckYzU5O1xyXG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM2MCk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICAgICAgICBpZiAocGVnJGM0Mi50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgczUgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNDMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJGM0NC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzNiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNDUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoczYgPT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHM2ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzNCA9IFtzNCwgczUsIHM2XTtcclxuICAgICAgICAgICAgICAgICAgICAgIHMzID0gczQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XHJcbiAgICAgICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xyXG4gICAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgICAgICAgczMgPSBwZWckY3VyclBvcztcclxuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNjEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzNCA9IHBlZyRjNjE7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM2Mik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckYzQyLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHM1ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM0Myk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRjNDQudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzNiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzQ1KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHM2ID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHM2ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzNCA9IFtzNCwgczUsIHM2XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgczMgPSBzNDtcclxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcclxuICAgICAgICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcclxuICAgICAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICBzMyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgczIgPSBbczIsIHMzXTtcclxuICAgICAgICAgIHMxID0gczI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XHJcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBlZyRjdXJyUG9zID0gczE7XHJcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xyXG4gICAgICAgIHMxID0gcGVnJGM2MyhzMSk7XHJcbiAgICAgIH1cclxuICAgICAgczAgPSBzMTtcclxuXHJcbiAgICAgIHJldHVybiBzMDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwZWckcGFyc2VjaGFyZ2UoKSB7XHJcbiAgICAgIHZhciBzMCwgczE7XHJcblxyXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xyXG4gICAgICBzMSA9IHBlZyRwYXJzZXBvc2NoYXJnZSgpO1xyXG4gICAgICBpZiAoczEgPT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICBzMSA9IHBlZyRwYXJzZW5lZ2NoYXJnZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xyXG4gICAgICAgIHMxID0gcGVnJGM2NChzMSk7XHJcbiAgICAgIH1cclxuICAgICAgczAgPSBzMTtcclxuXHJcbiAgICAgIHJldHVybiBzMDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwZWckcGFyc2Vwb3NjaGFyZ2UoKSB7XHJcbiAgICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xyXG5cclxuICAgICAgczAgPSBwZWckY3VyclBvcztcclxuICAgICAgczEgPSBwZWckY3VyclBvcztcclxuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0Mykge1xyXG4gICAgICAgIHMyID0gcGVnJGM2NTtcclxuICAgICAgICBwZWckY3VyclBvcysrO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcclxuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XHJcbiAgICAgICAgICBwZWckZmFpbChwZWckYzY2KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0Mykge1xyXG4gICAgICAgICAgczMgPSBwZWckYzY1O1xyXG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgICBwZWckZmFpbChwZWckYzY2KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xyXG4gICAgICAgICAgaWYgKHBlZyRjNDIudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xyXG4gICAgICAgICAgICBzNCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XHJcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzQzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgIGlmIChwZWckYzQ0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcclxuICAgICAgICAgICAgICBzNSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XHJcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM0NSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICAgIHM1ID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgICBzNCA9IFtzNCwgczVdO1xyXG4gICAgICAgICAgICAgIHMzID0gczQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcclxuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XHJcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICBzMyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgczIgPSBbczIsIHMzXTtcclxuICAgICAgICAgIHMxID0gczI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XHJcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBlZyRjdXJyUG9zID0gczE7XHJcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xyXG4gICAgICAgIHMxID0gcGVnJGM2NyhzMSk7XHJcbiAgICAgIH1cclxuICAgICAgczAgPSBzMTtcclxuXHJcbiAgICAgIHJldHVybiBzMDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwZWckcGFyc2VuZWdjaGFyZ2UoKSB7XHJcbiAgICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xyXG5cclxuICAgICAgczAgPSBwZWckY3VyclBvcztcclxuICAgICAgczEgPSBwZWckY3VyclBvcztcclxuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NSkge1xyXG4gICAgICAgIHMyID0gcGVnJGM2ODtcclxuICAgICAgICBwZWckY3VyclBvcysrO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcclxuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XHJcbiAgICAgICAgICBwZWckZmFpbChwZWckYzY5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NSkge1xyXG4gICAgICAgICAgczMgPSBwZWckYzY4O1xyXG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgICBwZWckZmFpbChwZWckYzY5KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xyXG4gICAgICAgICAgaWYgKHBlZyRjNDIudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xyXG4gICAgICAgICAgICBzNCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XHJcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzQzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgIGlmIChwZWckYzQ0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcclxuICAgICAgICAgICAgICBzNSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XHJcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM0NSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICAgIHM1ID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgICBzNCA9IFtzNCwgczVdO1xyXG4gICAgICAgICAgICAgIHMzID0gczQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcclxuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XHJcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICBzMyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgczIgPSBbczIsIHMzXTtcclxuICAgICAgICAgIHMxID0gczI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XHJcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBlZyRjdXJyUG9zID0gczE7XHJcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xyXG4gICAgICAgIHMxID0gcGVnJGM3MChzMSk7XHJcbiAgICAgIH1cclxuICAgICAgczAgPSBzMTtcclxuXHJcbiAgICAgIHJldHVybiBzMDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwZWckcGFyc2VoY291bnQoKSB7XHJcbiAgICAgIHZhciBzMCwgczEsIHMyLCBzMztcclxuXHJcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XHJcbiAgICAgIHMxID0gcGVnJGN1cnJQb3M7XHJcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNzIpIHtcclxuICAgICAgICBzMiA9IHBlZyRjNzE7XHJcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgcGVnJGZhaWwocGVnJGM3Mik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgIGlmIChwZWckYzQ0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcclxuICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcclxuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM0NSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgczMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgIHMyID0gW3MyLCBzM107XHJcbiAgICAgICAgICBzMSA9IHMyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xyXG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xyXG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcclxuICAgICAgICBzMSA9IHBlZyRjNzMoczEpO1xyXG4gICAgICB9XHJcbiAgICAgIHMwID0gczE7XHJcblxyXG4gICAgICByZXR1cm4gczA7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlY2xhc3MoKSB7XHJcbiAgICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNjtcclxuXHJcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XHJcbiAgICAgIHMxID0gcGVnJGN1cnJQb3M7XHJcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTgpIHtcclxuICAgICAgICBzMiA9IHBlZyRjNzQ7XHJcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgcGVnJGZhaWwocGVnJGM3NSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XHJcbiAgICAgICAgaWYgKHBlZyRjNDIudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xyXG4gICAgICAgICAgczQgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xyXG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgICBwZWckZmFpbChwZWckYzQzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICBzNSA9IFtdO1xyXG4gICAgICAgICAgaWYgKHBlZyRjNDQudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xyXG4gICAgICAgICAgICBzNiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XHJcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzQ1KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgd2hpbGUgKHM2ICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgIHM1LnB1c2goczYpO1xyXG4gICAgICAgICAgICBpZiAocGVnJGM0NC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XHJcbiAgICAgICAgICAgICAgczYgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xyXG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNDUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XHJcbiAgICAgICAgICAgIHM0ID0gW3M0LCBzNV07XHJcbiAgICAgICAgICAgIHMzID0gczQ7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xyXG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XHJcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgaWYgKHBlZyRjNzYudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xyXG4gICAgICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XHJcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzc3KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgIHMyID0gW3MyLCBzM107XHJcbiAgICAgICAgICBzMSA9IHMyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xyXG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xyXG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcclxuICAgICAgICBzMSA9IHBlZyRjNzgoczEpO1xyXG4gICAgICB9XHJcbiAgICAgIHMwID0gczE7XHJcblxyXG4gICAgICByZXR1cm4gczA7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlaXNvdG9wZSgpIHtcclxuICAgICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNDtcclxuXHJcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XHJcbiAgICAgIHMxID0gcGVnJGN1cnJQb3M7XHJcbiAgICAgIGlmIChwZWckYzQyLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcclxuICAgICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XHJcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xyXG4gICAgICAgICAgcGVnJGZhaWwocGVnJGM0Myk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgIGlmIChwZWckYzQ0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcclxuICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcclxuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcclxuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcclxuICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM0NSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgczMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgIGlmIChwZWckYzQ0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcclxuICAgICAgICAgICAgczQgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xyXG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xyXG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM0NSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChzNCA9PT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgICAgICBzNCA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcclxuICAgICAgICAgICAgczIgPSBbczIsIHMzLCBzNF07XHJcbiAgICAgICAgICAgIHMxID0gczI7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xyXG4gICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XHJcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBlZyRjdXJyUG9zID0gczE7XHJcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xyXG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xyXG4gICAgICAgIHMxID0gcGVnJGM3OShzMSk7XHJcbiAgICAgIH1cclxuICAgICAgczAgPSBzMTtcclxuXHJcbiAgICAgIHJldHVybiBzMDtcclxuICAgIH1cclxuXHJcbiAgICBwZWckcmVzdWx0ID0gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uKCk7XHJcblxyXG4gICAgaWYgKHBlZyRyZXN1bHQgIT09IHBlZyRGQUlMRUQgJiYgcGVnJGN1cnJQb3MgPT09IGlucHV0Lmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gcGVnJHJlc3VsdDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChwZWckcmVzdWx0ICE9PSBwZWckRkFJTEVEICYmIHBlZyRjdXJyUG9zIDwgaW5wdXQubGVuZ3RoKSB7XHJcbiAgICAgICAgcGVnJGZhaWwocGVnJGVuZEV4cGVjdGF0aW9uKCkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aHJvdyBwZWckYnVpbGRTdHJ1Y3R1cmVkRXJyb3IoXHJcbiAgICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZCxcclxuICAgICAgICBwZWckbWF4RmFpbFBvcyA8IGlucHV0Lmxlbmd0aCA/IGlucHV0LmNoYXJBdChwZWckbWF4RmFpbFBvcykgOiBudWxsLFxyXG4gICAgICAgIHBlZyRtYXhGYWlsUG9zIDwgaW5wdXQubGVuZ3RoID9cclxuICAgICAgICAgIHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJG1heEZhaWxQb3MsIHBlZyRtYXhGYWlsUG9zICsgMSkgOlxyXG4gICAgICAgICAgcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckbWF4RmFpbFBvcywgcGVnJG1heEZhaWxQb3MpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgU3ludGF4RXJyb3I6IHBlZyRTeW50YXhFcnJvcixcclxuICAgIHBhcnNlOiBwZWckcGFyc2VcclxuICB9O1xyXG59KSgpOyIsImltcG9ydCB7IEdyYXBoIH0gZnJvbSAnLi9HcmFwaCc7XG5cbi8qKiBBIGNsYXNzIGVuY2Fwc3VsYXRpbmcgdGhlIGZ1bmN0aW9uYWxpdHkgdG8gZmluZCB0aGUgc21hbGxlc3Qgc2V0IG9mIHNtYWxsZXN0IHJpbmdzIGluIGEgZ3JhcGguICovXG5leHBvcnQgY2xhc3MgU1NTUiB7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIGFycmF5cywgZWFjaCByZXByZXNlbnRpbmcgYSByaW5nIGZyb20gdGhlIHNtYWxsZXN0IHNldCBvZiBzbWFsbGVzdCByaW5ncyBpbiB0aGUgZ3JhcGguXG4gICAgICogXG4gICAgICogQHBhcmFtIHtHcmFwaH0gZ3JhcGggQSBHcmFwaCBvYmplY3QuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZXhwZXJpbWVudGFsPWZhbHNlXSBXaGV0aGVyIG9yIG5vdCB0byB1c2UgZXhwZXJpbWVudGFsIFNTU1IuXG4gICAgICogQHJldHVybnMge0FycmF5W119IEFuIGFycmF5IGNvbnRhaW5pbmcgYXJyYXlzLCBlYWNoIHJlcHJlc2VudGluZyBhIHJpbmcgZnJvbSB0aGUgc21hbGxlc3Qgc2V0IG9mIHNtYWxsZXN0IHJpbmdzIGluIHRoZSBncm91cC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0UmluZ3MoZ3JhcGgsIGV4cGVyaW1lbnRhbD1mYWxzZSkge1xuICAgICAgICBsZXQgYWRqYWNlbmN5TWF0cml4ID0gZ3JhcGguZ2V0Q29tcG9uZW50c0FkamFjZW5jeU1hdHJpeCgpO1xuICAgICAgICBpZiAoYWRqYWNlbmN5TWF0cml4Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29ubmVjdGVkQ29tcG9uZW50cyA9IEdyYXBoLmdldENvbm5lY3RlZENvbXBvbmVudHMoYWRqYWNlbmN5TWF0cml4KTtcbiAgICAgICAgbGV0IHJpbmdzID0gQXJyYXkoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbm5lY3RlZENvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjb25uZWN0ZWRDb21wb25lbnQgPSBjb25uZWN0ZWRDb21wb25lbnRzW2ldO1xuICAgICAgICAgICAgbGV0IGNjQWRqYWNlbmN5TWF0cml4ID0gZ3JhcGguZ2V0U3ViZ3JhcGhBZGphY2VuY3lNYXRyaXgoWy4uLmNvbm5lY3RlZENvbXBvbmVudF0pO1xuXG4gICAgICAgICAgICBsZXQgYXJyQm9uZENvdW50ID0gbmV3IFVpbnQxNkFycmF5KGNjQWRqYWNlbmN5TWF0cml4Lmxlbmd0aCk7XG4gICAgICAgICAgICBsZXQgYXJyUmluZ0NvdW50ID0gbmV3IFVpbnQxNkFycmF5KGNjQWRqYWNlbmN5TWF0cml4Lmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2NBZGphY2VuY3lNYXRyaXgubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBhcnJSaW5nQ291bnRbal0gPSAwO1xuICAgICAgICAgICAgICAgIGFyckJvbmRDb3VudFtqXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGNjQWRqYWNlbmN5TWF0cml4W2pdLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyckJvbmRDb3VudFtqXSArPSBjY0FkamFjZW5jeU1hdHJpeFtqXVtrXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCB0aGUgZWRnZSBudW1iZXIgYW5kIHRoZSB0aGVvcmV0aWNhbCBudW1iZXIgb2YgcmluZ3MgaW4gU1NTUlxuICAgICAgICAgICAgbGV0IG5FZGdlcyA9IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2NBZGphY2VuY3lNYXRyaXgubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gaiArIDE7IGsgPCBjY0FkamFjZW5jeU1hdHJpeC5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICBuRWRnZXMgKz0gY2NBZGphY2VuY3lNYXRyaXhbal1ba107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgblNzc3IgPSBuRWRnZXMgLSBjY0FkamFjZW5jeU1hdHJpeC5sZW5ndGggKyAxO1xuXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuRWRnZXMsIGNjQWRqYWNlbmN5TWF0cml4Lmxlbmd0aCwgblNzc3IpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coU1NTUi5nZXRFZGdlTGlzdChjY0FkamFjZW5jeU1hdHJpeCkpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY2NBZGphY2VuY3lNYXRyaXgpO1xuXG4gICAgICAgICAgICAvLyBJZiBhbGwgdmVydGljZXMgaGF2ZSAzIGluY2lkZW50IGVkZ2VzLCBjYWxjdWxhdGUgd2l0aCBkaWZmZXJlbnQgZm9ybXVsYSAoc2VlIEV1bGVyKVxuICAgICAgICAgICAgbGV0IGFsbFRocmVlID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXJyQm9uZENvdW50Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyckJvbmRDb3VudFtqXSAhPT0gMykge1xuICAgICAgICAgICAgICAgICAgICBhbGxUaHJlZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGFsbFRocmVlKSB7XG4gICAgICAgICAgICAgICAgblNzc3IgPSAyLjAgKyBuRWRnZXMgLSBjY0FkamFjZW5jeU1hdHJpeC5sZW5ndGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFsbCB2ZXJ0aWNlcyBhcmUgcGFydCBvZiBvbmUgcmluZyBpZiB0aGVyZXMgb25seSBvbmUgcmluZy5cbiAgICAgICAgICAgIGlmIChuU3NzciA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJpbmdzLnB1c2goWy4uLmNvbm5lY3RlZENvbXBvbmVudF0pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZXhwZXJpbWVudGFsKSB7XG4gICAgICAgICAgICAgICAgblNzc3IgPSA5OTk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB7IGQsIHBlLCBwZV9wcmltZSB9ID0gU1NTUi5nZXRQYXRoSW5jbHVkZWREaXN0YW5jZU1hdHJpY2VzKGNjQWRqYWNlbmN5TWF0cml4KTtcbiAgICAgICAgICAgIGxldCBjID0gU1NTUi5nZXRSaW5nQ2FuZGlkYXRlcyhkLCBwZSwgcGVfcHJpbWUpO1xuICAgICAgICAgICAgbGV0IHNzc3IgPSBTU1NSLmdldFNTU1IoYywgZCwgY2NBZGphY2VuY3lNYXRyaXgsIHBlLCBwZV9wcmltZSwgYXJyQm9uZENvdW50LCBhcnJSaW5nQ291bnQsIG5Tc3NyKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzc3NyLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJpbmcgPSBBcnJheShzc3NyW2pdLnNpemUpO1xuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCB2YWwgb2Ygc3NzcltqXSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIG9yaWdpbmFsIGlkIG9mIHRoZSB2ZXJ0ZXggYmFja1xuICAgICAgICAgICAgICAgICAgICByaW5nW2luZGV4KytdID0gY29ubmVjdGVkQ29tcG9uZW50W3ZhbF07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmluZ3MucHVzaChyaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcblxuICAgICAgICAvLyBTbywgZm9yIHNvbWUgcmVhc29uLCB0aGlzIHdvdWxkIHJldHVybiB0aHJlZSByaW5ncyBmb3IgQzFDQ0NDMkNDMUNDQ0MyLCB3aGljaCBpcyB3cm9uZ1xuICAgICAgICAvLyBBcyBJIGRvbid0IGhhdmUgdGltZSB0byBmaXggdGhpcyBwcm9wZXJseSwgaXQgd2lsbCBzdGF5IGluLiBJJ20gc29ycnkgbmV4dCBwZXJzb24gd2hvIHdvcmtzXG4gICAgICAgIC8vIG9uIGl0LiBBdCB0aGF0IHBvaW50IGl0IG1pZ2h0IGJlIGJlc3QgdG8gcmVpbXBsZW1lbnQgdGhlIHdob2xlIFNTU1IgdGhpbmcuLi5cbiAgICAgICAgcmV0dXJuIHJpbmdzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwcmludGFibGUgc3RyaW5nIGZyb20gYSBtYXRyaXggKDJEIGFycmF5KS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0FycmF5W119IG1hdHJpeCBBIDJEIGFycmF5LlxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgbWF0cml4LlxuICAgICAqL1xuICAgIHN0YXRpYyBtYXRyaXhUb1N0cmluZyhtYXRyaXgpIHtcbiAgICAgICAgbGV0IHN0ciA9ICcnO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0cml4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1hdHJpeFtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHN0ciArPSBtYXRyaXhbaV1bal0gKyAnICc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0ciArPSAnXFxuJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuZXMgdGhlIHR3byBwYXRoLWluY2x1ZGVkIGRpc3RhbmNlIG1hdHJpY2VzIHVzZWQgdG8gZmluZCB0aGUgc3Nzci5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0FycmF5W119IGFkamFjZW5jeU1hdHJpeCBBbiBhZGphY2VuY3kgbWF0cml4LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBwYXRoLWluY2x1ZGVkIGRpc3RhbmNlIG1hdHJpY2VzLiB7IHAxLCBwMiB9XG4gICAgICovXG4gICAgc3RhdGljIGdldFBhdGhJbmNsdWRlZERpc3RhbmNlTWF0cmljZXMoYWRqYWNlbmN5TWF0cml4KSB7XG4gICAgICAgIGxldCBsZW5ndGggPSBhZGphY2VuY3lNYXRyaXgubGVuZ3RoO1xuICAgICAgICBsZXQgZCA9IEFycmF5KGxlbmd0aCk7XG4gICAgICAgIGxldCBwZSA9IEFycmF5KGxlbmd0aCk7XG4gICAgICAgIGxldCBwZV9wcmltZSA9IEFycmF5KGxlbmd0aCk7XG4gICAgICAgIHZhciBsID0gMDtcbiAgICAgICAgdmFyIG0gPSAwO1xuICAgICAgICB2YXIgbiA9IDA7XG5cbiAgICAgICAgdmFyIGkgPSBsZW5ndGg7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIGRbaV0gPSBBcnJheShsZW5ndGgpO1xuICAgICAgICAgICAgcGVbaV0gPSBBcnJheShsZW5ndGgpO1xuICAgICAgICAgICAgcGVfcHJpbWVbaV0gPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICAgICAgICB2YXIgaiA9IGxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChqLS0pIHtcbiAgICAgICAgICAgICAgICBkW2ldW2pdID0gKGkgPT09IGogfHwgYWRqYWNlbmN5TWF0cml4W2ldW2pdID09PSAxKSA/IGFkamFjZW5jeU1hdHJpeFtpXVtqXSA6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcblxuICAgICAgICAgICAgICAgIGlmIChkW2ldW2pdID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlW2ldW2pdID0gW1tbaSwgal1dXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZVtpXVtqXSA9IEFycmF5KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGVfcHJpbWVbaV1bal0gPSBBcnJheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGsgPSBsZW5ndGg7XG4gICAgICAgIHZhciBqO1xuICAgICAgICB3aGlsZSAoay0tKSB7XG4gICAgICAgICAgICBpID0gbGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgIGogPSBsZW5ndGg7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGotLSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c1BhdGhMZW5ndGggPSBkW2ldW2pdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdQYXRoTGVuZ3RoID0gZFtpXVtrXSArIGRba11bal07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzUGF0aExlbmd0aCA+IG5ld1BhdGhMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsLCBtLCBuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzUGF0aExlbmd0aCA9PT0gbmV3UGF0aExlbmd0aCArIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZV9wcmltZVtpXVtqXSA9IFtwZVtpXVtqXS5sZW5ndGhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgPSBwZVtpXVtqXS5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobC0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlX3ByaW1lW2ldW2pdW2xdID0gW3BlW2ldW2pdW2xdLmxlbmd0aF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0gPSBwZVtpXVtqXVtsXS5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG0tLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVfcHJpbWVbaV1bal1bbF1bbV0gPSBbcGVbaV1bal1bbF1bbV0ubGVuZ3RoXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBwZVtpXVtqXVtsXVttXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobi0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVfcHJpbWVbaV1bal1bbF1bbV1bbl0gPSBbcGVbaV1bal1bbF1bbV1bMF0sIHBlW2ldW2pdW2xdW21dWzFdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVfcHJpbWVbaV1bal0gPSBBcnJheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBkW2ldW2pdID0gbmV3UGF0aExlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcGVbaV1bal0gPSBbW11dO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsID0gcGVbaV1ba11bMF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGwtLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlW2ldW2pdWzBdLnB1c2gocGVbaV1ba11bMF1bbF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsID0gcGVba11bal1bMF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGwtLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlW2ldW2pdWzBdLnB1c2gocGVba11bal1bMF1bbF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByZXZpb3VzUGF0aExlbmd0aCA9PT0gbmV3UGF0aExlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlW2ldW2tdLmxlbmd0aCAmJiBwZVtrXVtqXS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVbaV1bal0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0bXAgPSBBcnJheSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgPSBwZVtpXVtrXVswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChsLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5wdXNoKHBlW2ldW2tdWzBdW2xdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgPSBwZVtrXVtqXVswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChsLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5wdXNoKHBlW2tdW2pdWzBdW2xdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlW2ldW2pdLnB1c2godG1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG1wID0gQXJyYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IHBlW2ldW2tdWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGwtLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wLnB1c2gocGVbaV1ba11bMF1bbF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IHBlW2tdW2pdWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGwtLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wLnB1c2gocGVba11bal1bMF1bbF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVbaV1bal1bMF0gPSB0bXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXNQYXRoTGVuZ3RoID09PSBuZXdQYXRoTGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVfcHJpbWVbaV1bal0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRtcCA9IEFycmF5KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsID0gcGVbaV1ba11bMF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChsLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wLnB1c2gocGVbaV1ba11bMF1bbF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgPSBwZVtrXVtqXVswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGwtLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAucHVzaChwZVtrXVtqXVswXVtsXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVfcHJpbWVbaV1bal0ucHVzaCh0bXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG1wID0gQXJyYXkoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgPSBwZVtpXVtrXVswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGwtLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAucHVzaChwZVtpXVtrXVswXVtsXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IHBlW2tdW2pdWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobC0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5wdXNoKHBlW2tdW2pdWzBdW2xdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZV9wcmltZVtpXVtqXVswXSA9IHRtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkOiBkLFxuICAgICAgICAgICAgcGU6IHBlLFxuICAgICAgICAgICAgcGVfcHJpbWU6IHBlX3ByaW1lXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSByaW5nIGNhbmRpZGF0ZXMgZnJvbSB0aGUgcGF0aC1pbmNsdWRlZCBkaXN0YW5jZSBtYXRyaWNlcy5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0FycmF5W119IGQgVGhlIGRpc3RhbmNlIG1hdHJpeC5cbiAgICAgKiBAcGFyYW0ge0FycmF5W119IHBlIEEgbWF0cml4IGNvbnRhaW5pbmcgdGhlIHNob3J0ZXN0IHBhdGhzLlxuICAgICAqIEBwYXJhbSB7QXJyYXlbXX0gcGVfcHJpbWUgQSBtYXRyaXggY29udGFpbmluZyB0aGUgc2hvcnRlc3QgcGF0aHMgKyBvbmUgdmVydGV4LlxuICAgICAqIEByZXR1cm5zIHtBcnJheVtdfSBUaGUgcmluZyBjYW5kaWRhdGVzLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRSaW5nQ2FuZGlkYXRlcyhkLCBwZSwgcGVfcHJpbWUpIHtcbiAgICAgICAgbGV0IGxlbmd0aCA9IGQubGVuZ3RoO1xuICAgICAgICBsZXQgY2FuZGlkYXRlcyA9IEFycmF5KCk7XG4gICAgICAgIGxldCBjID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRbaV1bal0gPT09IDAgfHwgKHBlW2ldW2pdLmxlbmd0aCA9PT0gMSAmJiBwZV9wcmltZVtpXVtqXSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYyBpcyB0aGUgbnVtYmVyIG9mIHZlcnRpY2VzIGluIHRoZSBjeWNsZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlX3ByaW1lW2ldW2pdLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYyA9IDIgKiAoZFtpXVtqXSArIDAuNSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjID0gMiAqIGRbaV1bal07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoYyAhPT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZXMucHVzaChbYywgcGVbaV1bal0sIHBlX3ByaW1lW2ldW2pdXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYW5kaWRhdGVzIGhhdmUgdG8gYmUgc29ydGVkIGJ5IGNcbiAgICAgICAgY2FuZGlkYXRlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYVswXSAtIGJbMF07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjYW5kaWRhdGVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlYXJjaGVzIHRoZSBjYW5kaWRhdGVzIGZvciB0aGUgc21hbGxlc3Qgc2V0IG9mIHNtYWxsZXN0IHJpbmdzLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7QXJyYXlbXX0gYyBUaGUgY2FuZGlkYXRlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5W119IGQgVGhlIGRpc3RhbmNlIG1hdHJpeC5cbiAgICAgKiBAcGFyYW0ge0FycmF5W119IGFkamFjZW5jeU1hdHJpeCBBbiBhZGphY2VuY3kgbWF0cml4LlxuICAgICAqIEBwYXJhbSB7QXJyYXlbXX0gcGUgQSBtYXRyaXggY29udGFpbmluZyB0aGUgc2hvcnRlc3QgcGF0aHMuXG4gICAgICogQHBhcmFtIHtBcnJheVtdfSBwZV9wcmltZSBBIG1hdHJpeCBjb250YWluaW5nIHRoZSBzaG9ydGVzdCBwYXRocyArIG9uZSB2ZXJ0ZXguXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheX0gYXJyQm9uZENvdW50IEEgbWF0cml4IGNvbnRhaW5pbmcgdGhlIGJvbmQgY291bnQgb2YgZWFjaCB2ZXJ0ZXguXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheX0gYXJyUmluZ0NvdW50IEEgbWF0cml4IGNvbnRhaW5pbmcgdGhlIG51bWJlciBvZiByaW5ncyBhc3NvY2lhdGVkIHdpdGggZWFjaCB2ZXJ0ZXguXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG5zc3NyIFRoZSB0aGVvcmV0aWNhbCBudW1iZXIgb2YgcmluZ3MgaW4gdGhlIGdyYXBoLlxuICAgICAqIEByZXR1cm5zIHtTZXRbXX0gVGhlIHNtYWxsZXN0IHNldCBvZiBzbWFsbGVzdCByaW5ncy5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0U1NTUihjLCBkLCBhZGphY2VuY3lNYXRyaXgsIHBlLCBwZV9wcmltZSwgYXJyQm9uZENvdW50LCBhcnJSaW5nQ291bnQsIG5zc3NyKSB7XG4gICAgICAgIGxldCBjU3NzciA9IEFycmF5KCk7XG4gICAgICAgIGxldCBhbGxCb25kcyA9IEFycmF5KCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoY1tpXVswXSAlIDIgIT09IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNbaV1bMl0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJvbmRzID0gY1tpXVsxXVswXS5jb25jYXQoY1tpXVsyXVtqXSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNvbWUgYm9uZHMgYXJlIGFkZGVkIHR3aWNlLCByZXN1bHRpbmcgaW4gW1t1LCB2XSwgW3UsIHZdXSBpbnN0ZWFkIG9mIFt1LCB2XS5cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogVGhpcyBpcyBhIHdvcmthcm91bmQsIGZpeCBsYXRlci4gUHJvYmFibHkgc2hvdWxkIGJlIGEgc2V0IHJhdGhlciB0aGFuIGFuIGFycmF5LCBob3dldmVyIHRoZSBjb21wdXRhdGlvbmFsIG92ZXJoZWFkXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgIGlzIHByb2JhYmx5IGJpZ2dlciBjb21wYXJlZCB0byBsZWF2aW5nIGl0IGxpa2UgdGhpcy5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBib25kcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvbmRzW2tdWzBdLmNvbnN0cnVjdG9yID09PSBBcnJheSkgYm9uZHNba10gPSBib25kc1trXVswXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxldCBhdG9tcyA9IFNTU1IuYm9uZHNUb0F0b21zKGJvbmRzKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoU1NTUi5nZXRCb25kQ291bnQoYXRvbXMsIGFkamFjZW5jeU1hdHJpeCkgPT09IGF0b21zLnNpemUgJiYgIVNTU1IucGF0aFNldHNDb250YWluKGNTc3NyLCBhdG9tcywgYm9uZHMsIGFsbEJvbmRzLCBhcnJCb25kQ291bnQsIGFyclJpbmdDb3VudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNTc3NyLnB1c2goYXRvbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsQm9uZHMgPSBhbGxCb25kcy5jb25jYXQoYm9uZHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNTc3NyLmxlbmd0aCA+IG5zc3NyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY1Nzc3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY1tpXVsxXS5sZW5ndGggLSAxOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJvbmRzID0gY1tpXVsxXVtqXS5jb25jYXQoY1tpXVsxXVtqICsgMV0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBTb21lIGJvbmRzIGFyZSBhZGRlZCB0d2ljZSwgcmVzdWx0aW5nIGluIFtbdSwgdl0sIFt1LCB2XV0gaW5zdGVhZCBvZiBbdSwgdl0uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFRoaXMgaXMgYSB3b3JrYXJvdW5kLCBmaXggbGF0ZXIuIFByb2JhYmx5IHNob3VsZCBiZSBhIHNldCByYXRoZXIgdGhhbiBhbiBhcnJheSwgaG93ZXZlciB0aGUgY29tcHV0YXRpb25hbCBvdmVyaGVhZFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICBpcyBwcm9iYWJseSBiaWdnZXIgY29tcGFyZWQgdG8gbGVhdmluZyBpdCBsaWtlIHRoaXMuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgYm9uZHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib25kc1trXVswXS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIGJvbmRzW2tdID0gYm9uZHNba11bMF07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQgYXRvbXMgPSBTU1NSLmJvbmRzVG9BdG9tcyhib25kcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKFNTU1IuZ2V0Qm9uZENvdW50KGF0b21zLCBhZGphY2VuY3lNYXRyaXgpID09PSBhdG9tcy5zaXplICYmICFTU1NSLnBhdGhTZXRzQ29udGFpbihjU3NzciwgYXRvbXMsIGJvbmRzLCBhbGxCb25kcywgYXJyQm9uZENvdW50LCBhcnJSaW5nQ291bnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjU3Nzci5wdXNoKGF0b21zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEJvbmRzID0gYWxsQm9uZHMuY29uY2F0KGJvbmRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjU3Nzci5sZW5ndGggPiBuc3Nzcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNTc3NyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNTc3NyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBlZGdlcyBpbiBhIGdyYXBoIGRlZmluZWQgYnkgYW4gYWRqYWNlbmN5IG1hdHJpeC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0FycmF5W119IGFkamFjZW5jeU1hdHJpeCBBbiBhZGphY2VuY3kgbWF0cml4LlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgZWRnZXMgaW4gdGhlIGdyYXBoIGRlZmluZWQgYnkgdGhlIGFkamFjZW5jeSBtYXRyaXguXG4gICAgICovXG4gICAgc3RhdGljIGdldEVkZ2VDb3VudChhZGphY2VuY3lNYXRyaXgpIHtcbiAgICAgICAgbGV0IGVkZ2VDb3VudCA9IDA7XG4gICAgICAgIGxldCBsZW5ndGggPSBhZGphY2VuY3lNYXRyaXgubGVuZ3RoO1xuXG4gICAgICAgIHZhciBpID0gbGVuZ3RoIC0gMTtcbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgdmFyIGogPSBsZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoai0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFkamFjZW5jeU1hdHJpeFtpXVtqXSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBlZGdlQ291bnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZWRnZUNvdW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gZWRnZSBsaXN0IGNvbnN0cnVjdGVkIGZvcm0gYW4gYWRqYWNlbmN5IG1hdHJpeC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0FycmF5W119IGFkamFjZW5jeU1hdHJpeCBBbiBhZGphY2VuY3kgbWF0cml4LlxuICAgICAqIEByZXR1cm5zIHtBcnJheVtdfSBBbiBlZGdlIGxpc3QuIEUuZy4gWyBbIDAsIDEgXSwgLi4uLCBbIDE2LCAyIF0gXVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRFZGdlTGlzdChhZGphY2VuY3lNYXRyaXgpIHtcbiAgICAgICAgbGV0IGxlbmd0aCA9IGFkamFjZW5jeU1hdHJpeC5sZW5ndGg7XG4gICAgICAgIGxldCBlZGdlTGlzdCA9IEFycmF5KCk7XG5cbiAgICAgICAgdmFyIGkgPSBsZW5ndGggLSAxO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICB2YXIgaiA9IGxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChqLS0pIHtcbiAgICAgICAgICAgICAgICBpZiAoYWRqYWNlbmN5TWF0cml4W2ldW2pdID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGVkZ2VMaXN0LnB1c2goW2ksIGpdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZWRnZUxpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgc2V0IG9mIHZlcnRleCBpbmRpY2VzIGNvbnRhaW5lZCBpbiBhbiBhcnJheSBvZiBib25kcy5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBib25kcyBBbiBhcnJheSBvZiBib25kcy4gQSBib25kIGlzIGRlZmluZWQgYXMgWyBzb3VyY2VWZXJ0ZXhJZCwgdGFyZ2V0VmVydGV4SWQgXS5cbiAgICAgKiBAcmV0dXJucyB7U2V0PE51bWJlcj59IEFuIGFycmF5IG9mIHZlcnRpY2VzLlxuICAgICAqL1xuICAgIHN0YXRpYyBib25kc1RvQXRvbXMoYm9uZHMpIHtcbiAgICAgICAgbGV0IGF0b21zID0gbmV3IFNldCgpO1xuXG4gICAgICAgIHZhciBpID0gYm9uZHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBhdG9tcy5hZGQoYm9uZHNbaV1bMF0pO1xuICAgICAgICAgICAgYXRvbXMuYWRkKGJvbmRzW2ldWzFdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXRvbXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgYm9uZHMgd2l0aGluIGEgc2V0IG9mIGF0b21zLlxuICAgICogXG4gICAgKiBAcGFyYW0ge1NldDxOdW1iZXI+fSBhdG9tcyBBbiBhcnJheSBvZiBhdG9tIGlkcy5cbiAgICAqIEBwYXJhbSB7QXJyYXlbXX0gYWRqYWNlbmN5TWF0cml4IEFuIGFkamFjZW5jeSBtYXRyaXguXG4gICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGJvbmRzIGluIGEgc2V0IG9mIGF0b21zLlxuICAgICovXG4gICAgc3RhdGljIGdldEJvbmRDb3VudChhdG9tcywgYWRqYWNlbmN5TWF0cml4KSB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGZvciAobGV0IHUgb2YgYXRvbXMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHYgb2YgYXRvbXMpIHtcbiAgICAgICAgICAgICAgICBpZiAodSA9PT0gdikge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY291bnQgKz0gYWRqYWNlbmN5TWF0cml4W3VdW3ZdXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY291bnQgLyAyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCBhIGdpdmVuIHBhdGggYWxyZWFkeSBleGlzdHMgaW4gYW4gYXJyYXkgb2YgcGF0aHMuXG4gICAgICogXG4gICAgICogQHBhcmFtIHtTZXRbXX0gcGF0aFNldHMgQW4gYXJyYXkgb2Ygc2V0cyBlYWNoIHJlcHJlc2VudGluZyBhIHBhdGguXG4gICAgICogQHBhcmFtIHtTZXQ8TnVtYmVyPn0gcGF0aFNldCBBIHNldCByZXByZXNlbnRpbmcgYSBwYXRoLlxuICAgICAqIEBwYXJhbSB7QXJyYXlbXX0gYm9uZHMgVGhlIGJvbmRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBwYXRoLlxuICAgICAqIEBwYXJhbSB7QXJyYXlbXX0gYWxsQm9uZHMgQWxsIGJvbmRzIGN1cnJlbnRseSBhc3NvY2lhdGVkIHdpdGggcmluZ3MgaW4gdGhlIFNTU1Igc2V0LlxuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IGFyckJvbmRDb3VudCBBIG1hdHJpeCBjb250YWluaW5nIHRoZSBib25kIGNvdW50IG9mIGVhY2ggdmVydGV4LlxuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IGFyclJpbmdDb3VudCBBIG1hdHJpeCBjb250YWluaW5nIHRoZSBudW1iZXIgb2YgcmluZ3MgYXNzb2NpYXRlZCB3aXRoIGVhY2ggdmVydGV4LlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCBhIGdpdmUgcGF0aCBpcyBjb250YWluZWQgd2l0aGluIGEgc2V0LlxuICAgICAqL1xuICAgIHN0YXRpYyBwYXRoU2V0c0NvbnRhaW4ocGF0aFNldHMsIHBhdGhTZXQsIGJvbmRzLCBhbGxCb25kcywgYXJyQm9uZENvdW50LCBhcnJSaW5nQ291bnQpIHtcbiAgICAgICAgdmFyIGkgPSBwYXRoU2V0cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIGlmIChTU1NSLmlzU3VwZXJzZXRPZihwYXRoU2V0LCBwYXRoU2V0c1tpXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBhdGhTZXRzW2ldLnNpemUgIT09IHBhdGhTZXQuc2l6ZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoU1NTUi5hcmVTZXRzRXF1YWwocGF0aFNldHNbaV0sIHBhdGhTZXQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgZWRnZXMgZnJvbSB0aGUgY2FuZGlkYXRlIGFyZSBhbHJlYWR5IGFsbCBjb250YWluZWQgd2l0aGluIHRoZSBwYXRocyBvZiB0aGUgc2V0IG9mIHBhdGhzLlxuICAgICAgICAvLyBUT0RPOiBGb3Igc29tZSByZWFzb24sIHRoaXMgZG9lcyBub3QgcmVwbGFjZSB0aGUgaXNTdXBlcnNldE9mIG1ldGhvZCBhYm92ZSAtPiB3aHk/XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGxldCBhbGxDb250YWluZWQgPSBmYWxzZTtcbiAgICAgICAgaSA9IGJvbmRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgdmFyIGogPSBhbGxCb25kcy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoai0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJvbmRzW2ldWzBdID09PSBhbGxCb25kc1tqXVswXSAmJiBib25kc1tpXVsxXSA9PT0gYWxsQm9uZHNbal1bMV0gfHxcbiAgICAgICAgICAgICAgICAgICAgYm9uZHNbaV1bMV0gPT09IGFsbEJvbmRzW2pdWzBdICYmIGJvbmRzW2ldWzBdID09PSBhbGxCb25kc1tqXVsxXSkge1xuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA9PT0gYm9uZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbENvbnRhaW5lZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgYWxsIHRoZSBib25kcyBhbmQgdGh1cyB2ZXJ0aWNlcyBhcmUgYWxyZWFkeSBjb250YWluZWQgd2l0aGluIG90aGVyIHJpbmdzXG4gICAgICAgIC8vIGNoZWNrIGlmIHRoZXJlJ3Mgb25lIHZlcnRleCB3aXRoIHJpbmdDb3VudCA8IGJvbmRDb3VudFxuICAgICAgICBsZXQgc3BlY2lhbENhc2UgPSBmYWxzZTtcbiAgICAgICAgaWYgKGFsbENvbnRhaW5lZCkge1xuICAgICAgICAgICAgZm9yIChsZXQgZWxlbWVudCBvZiBwYXRoU2V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyclJpbmdDb3VudFtlbGVtZW50XSA8IGFyckJvbmRDb3VudFtlbGVtZW50XSkge1xuICAgICAgICAgICAgICAgICAgICBzcGVjaWFsQ2FzZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhbGxDb250YWluZWQgJiYgIXNwZWNpYWxDYXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcmluZyBjb3VudHMgZm9yIHRoZSB2ZXJ0aWNlc1xuICAgICAgICBmb3IgKGxldCBlbGVtZW50IG9mIHBhdGhTZXQpIHtcbiAgICAgICAgICAgIGFyclJpbmdDb3VudFtlbGVtZW50XSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCB0d28gc2V0cyBhcmUgZXF1YWwgKGNvbnRhaW4gdGhlIHNhbWUgZWxlbWVudHMpLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7U2V0PE51bWJlcj59IHNldEEgQSBzZXQuXG4gICAgICogQHBhcmFtIHtTZXQ8TnVtYmVyPn0gc2V0QiBBIHNldC5cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhlIHR3byBzZXRzIGFyZSBlcXVhbC5cbiAgICAgKi9cbiAgICBzdGF0aWMgYXJlU2V0c0VxdWFsKHNldEEsIHNldEIpIHtcbiAgICAgICAgaWYgKHNldEEuc2l6ZSAhPT0gc2V0Qi5zaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBlbGVtZW50IG9mIHNldEEpIHtcbiAgICAgICAgICAgIGlmICghc2V0Qi5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciBvciBub3QgYSBzZXQgKHNldEEpIGlzIGEgc3VwZXJzZXQgb2YgYW5vdGhlciBzZXQgKHNldEIpLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7U2V0PE51bWJlcj59IHNldEEgQSBzZXQuXG4gICAgICogQHBhcmFtIHtTZXQ8TnVtYmVyPn0gc2V0QiBBIHNldC5cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3Qgc2V0QiBpcyBhIHN1cGVyc2V0IG9mIHNldEEuXG4gICAgICovXG4gICAgc3RhdGljIGlzU3VwZXJzZXRPZihzZXRBLCBzZXRCKSB7XG4gICAgICAgIGZvciAodmFyIGVsZW1lbnQgb2Ygc2V0Qikge1xuICAgICAgICAgICAgaWYgKCFzZXRBLmhhcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4vVmVjdG9yMlwiO1xyXG5pbXBvcnQgeyBNYXRoSGVscGVyIH0gZnJvbSBcIi4vTWF0aEhlbHBlclwiO1xyXG5pbXBvcnQgeyBMaW5lIH0gZnJvbSBcIi4vTGluZVwiO1xyXG5cclxuZnVuY3Rpb24gbWFrZWlkKGxlbmd0aCkge1xyXG4gIHZhciByZXN1bHQgPSBcIlwiO1xyXG4gIHZhciBjaGFyYWN0ZXJzID1cclxuICAgIFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIjtcclxuICB2YXIgY2hhcmFjdGVyc0xlbmd0aCA9IGNoYXJhY3RlcnMubGVuZ3RoO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgIHJlc3VsdCArPSBjaGFyYWN0ZXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyYWN0ZXJzTGVuZ3RoKSk7XHJcbiAgfVxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTdmdXcmFwcGVyIHtcclxuICBjb25zdHJ1Y3Rvcih0aGVtZU1hbmFnZXIsIHRhcmdldCwgb3B0aW9ucywgY2xlYXIgPSB0cnVlKSB7XHJcbiAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJzdHJpbmdcIiB8fCB0YXJnZXQgaW5zdGFuY2VvZiBTdHJpbmcpIHtcclxuICAgICAgdGhpcy5zdmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zdmcgPSB0YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb250YWluZXIgPSBudWxsO1xyXG4gICAgdGhpcy5vcHRzID0gb3B0aW9ucztcclxuICAgIHRoaXMudWlkID0gbWFrZWlkKDUpO1xyXG4gICAgdGhpcy5ncmFkaWVudElkID0gMDtcclxuXHJcbiAgICAvLyBtYWludGFpbiBhIGxpc3Qgb2YgbGluZSBlbGVtZW50cyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBncmFkaWVudHNcclxuICAgIC8vIG1haW50YWluIGEgbGlzdCBvZiB2ZXJ0ZXggZWxlbWVudHNcclxuICAgIC8vIG1haW50YWluIGEgbGlzdCBvZiBoaWdobGlnaHRpbmcgZWxlbWVudHNcclxuICAgIHRoaXMuYmFja2dyb3VuZEl0ZW1zID0gW107XHJcbiAgICB0aGlzLnBhdGhzID0gW107XHJcbiAgICB0aGlzLnZlcnRpY2VzID0gW107XHJcbiAgICB0aGlzLmdyYWRpZW50cyA9IFtdO1xyXG4gICAgdGhpcy5oaWdobGlnaHRzID0gW107XHJcblxyXG4gICAgLy8gbWFpbnRhaW4gdGhlIGRpbWVuc2lvbnNcclxuICAgIHRoaXMuZHJhd2luZ1dpZHRoID0gMDtcclxuICAgIHRoaXMuZHJhd2luZ0hlaWdodCA9IDA7XHJcbiAgICB0aGlzLmhhbGZCb25kVGhpY2tuZXNzID0gdGhpcy5vcHRzLmJvbmRUaGlja25lc3MgLyAyLjA7XHJcblxyXG4gICAgLy8gZm9yIG1hbmFnaW5nIGNvbG9yIHNjaGVtZXNcclxuICAgIHRoaXMudGhlbWVNYW5hZ2VyID0gdGhlbWVNYW5hZ2VyO1xyXG5cclxuICAgIC8vIGNyZWF0ZSB0aGUgbWFza1xyXG4gICAgdGhpcy5tYXNrRWxlbWVudHMgPSBbXTtcclxuXHJcbiAgICAvLyBtaW4gYW5kIG1heCB2YWx1ZXMgb2YgdGhlIGNvb3JkaW5hdGVzXHJcbiAgICB0aGlzLm1heFggPSAtTnVtYmVyLk1BWF9WQUxVRTtcclxuICAgIHRoaXMubWF4WSA9IC1OdW1iZXIuTUFYX1ZBTFVFO1xyXG4gICAgdGhpcy5taW5YID0gTnVtYmVyLk1BWF9WQUxVRTtcclxuICAgIHRoaXMubWluWSA9IE51bWJlci5NQVhfVkFMVUU7XHJcblxyXG4gICAgLy8gY2xlYXIgdGhlIHN2ZyBlbGVtZW50XHJcbiAgICBpZiAoY2xlYXIpIHtcclxuICAgICAgd2hpbGUgKHRoaXMuc3ZnLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICB0aGlzLnN2Zy5yZW1vdmVDaGlsZCh0aGlzLnN2Zy5maXJzdENoaWxkKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWF0ZSBzdHlsZXMgaGVyZSBhcyB0ZXh0IG1lYXN1cmVtZW50IGlzIGRvbmUgYmVmb3JlIGNvbnN0cnVjdFN2Z1xyXG4gICAgdGhpcy5zdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcclxuICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxyXG4gICAgICBcInN0eWxlXCJcclxuICAgICk7XHJcblxyXG4gICAgLy8gY3JlYXRlIHRoZSBjc3Mgc3R5bGVzXHJcbiAgICB0aGlzLnN0eWxlLmFwcGVuZENoaWxkKFxyXG4gICAgICBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShgXHJcbiAgICAgICAgICAgICAgICAuZWxlbWVudCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udDogJHt0aGlzLm9wdHMuZm9udFNpemVMYXJnZX1wdCAke3RoaXMub3B0cy5mb250RmFtaWx5fTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC5zdWIge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQ6ICR7dGhpcy5vcHRzLmZvbnRTaXplU21hbGx9cHQgJHt0aGlzLm9wdHMuZm9udEZhbWlseX07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGApXHJcbiAgICApO1xyXG5cclxuICAgIGlmICh0aGlzLnN2Zykge1xyXG4gICAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZCh0aGlzLnN0eWxlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxyXG4gICAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcclxuICAgICAgICBcImdcIlxyXG4gICAgICApO1xyXG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zdHlsZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RTdmcoKSB7XHJcbiAgICAvLyBUT0RPOiBhZGQgdGhlIGRlZnMgZWxlbWVudCB0byBwdXQgZ3JhZGllbnRzIGluXHJcbiAgICBsZXQgZGVmcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZGVmc1wiKSxcclxuICAgICAgbWFza3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcIm1hc2tcIiksXHJcbiAgICAgIGJhY2tncm91bmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImdcIiksXHJcbiAgICAgIGhpZ2hsaWdodHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImdcIiksXHJcbiAgICAgIHBhdGhzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJnXCIpLFxyXG4gICAgICB2ZXJ0aWNlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZ1wiKSxcclxuICAgICAgcGF0aENoaWxkTm9kZXMgPSB0aGlzLnBhdGhzO1xyXG5cclxuICAgIGxldCBtYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJyZWN0XCIpO1xyXG4gICAgbWFzay5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInhcIiwgdGhpcy5taW5YKTtcclxuICAgIG1hc2suc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ5XCIsIHRoaXMubWluWSk7XHJcbiAgICBtYXNrLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgdGhpcy5tYXhYIC0gdGhpcy5taW5YKTtcclxuICAgIG1hc2suc2V0QXR0cmlidXRlTlMobnVsbCwgXCJoZWlnaHRcIiwgdGhpcy5tYXhZIC0gdGhpcy5taW5ZKTtcclxuICAgIG1hc2suc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsXCIsIFwid2hpdGVcIik7XHJcblxyXG4gICAgbWFza3MuYXBwZW5kQ2hpbGQobWFzayk7XHJcblxyXG4gICAgLy8gZ2l2ZSB0aGUgbWFzayBhbiBpZFxyXG4gICAgbWFza3Muc2V0QXR0cmlidXRlTlMobnVsbCwgXCJpZFwiLCB0aGlzLnVpZCArIFwiLXRleHQtbWFza1wiKTtcclxuXHJcbiAgICBmb3IgKGxldCBwYXRoIG9mIHBhdGhDaGlsZE5vZGVzKSB7XHJcbiAgICAgIHBhdGhzLmFwcGVuZENoaWxkKHBhdGgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGJhY2tncm91bmRJdGVtIG9mIHRoaXMuYmFja2dyb3VuZEl0ZW1zKSB7XHJcbiAgICAgIGJhY2tncm91bmQuYXBwZW5kQ2hpbGQoYmFja2dyb3VuZEl0ZW0pO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgaGlnaGxpZ2h0IG9mIHRoaXMuaGlnaGxpZ2h0cykge1xyXG4gICAgICBoaWdobGlnaHRzLmFwcGVuZENoaWxkKGhpZ2hsaWdodCk7XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCB2ZXJ0ZXggb2YgdGhpcy52ZXJ0aWNlcykge1xyXG4gICAgICB2ZXJ0aWNlcy5hcHBlbmRDaGlsZCh2ZXJ0ZXgpO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgbWFzayBvZiB0aGlzLm1hc2tFbGVtZW50cykge1xyXG4gICAgICBtYXNrcy5hcHBlbmRDaGlsZChtYXNrKTtcclxuICAgIH1cclxuICAgIGZvciAobGV0IGdyYWRpZW50IG9mIHRoaXMuZ3JhZGllbnRzKSB7XHJcbiAgICAgIGRlZnMuYXBwZW5kQ2hpbGQoZ3JhZGllbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHBhdGhzLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwibWFza1wiLCBcInVybCgjXCIgKyB0aGlzLnVpZCArIFwiLXRleHQtbWFzaylcIik7XHJcblxyXG4gICAgdGhpcy51cGRhdGVWaWV3Ym94KHRoaXMub3B0cy5zY2FsZSk7XHJcblxyXG4gICAgLy8gUG9zaXRpb24gdGhlIGJhY2tncm91bmRcclxuICAgIGJhY2tncm91bmQuc2V0QXR0cmlidXRlTlMoXHJcbiAgICAgIG51bGwsXHJcbiAgICAgIFwic3R5bGVcIixcclxuICAgICAgYHRyYW5zZm9ybTogdHJhbnNsYXRlWCgke3RoaXMubWluWH1weCkgdHJhbnNsYXRlWSgke3RoaXMubWluWX1weClgXHJcbiAgICApO1xyXG5cclxuICAgIGlmICh0aGlzLnN2Zykge1xyXG4gICAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZChkZWZzKTtcclxuICAgICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQobWFza3MpO1xyXG4gICAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZChiYWNrZ3JvdW5kKTtcclxuICAgICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQoaGlnaGxpZ2h0cyk7XHJcbiAgICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKHBhdGhzKTtcclxuICAgICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQodmVydGljZXMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZGVmcyk7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKG1hc2tzKTtcclxuICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoYmFja2dyb3VuZCk7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHBhdGhzKTtcclxuICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodmVydGljZXMpO1xyXG4gICAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgYSBiYWNrZ3JvdW5kIHRvIHRoZSBzdmcuXHJcbiAgICovXHJcbiAgYWRkTGF5ZXIoc3ZnKSB7XHJcbiAgICB0aGlzLmJhY2tncm91bmRJdGVtcy5wdXNoKHN2Zy5maXJzdENoaWxkKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIGxpbmVhciBncmFkaWVudCB0byBhcHBseSB0byBhIGxpbmVcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TGluZX0gbGluZSB0aGUgbGluZSB0byBhcHBseSB0aGUgZ3JhZGlhdGlvbiB0by5cclxuICAgKi9cclxuICBjcmVhdGVHcmFkaWVudChsaW5lKSB7XHJcbiAgICAvLyBjcmVhdGUgdGhlIGdyYWRpZW50IGFuZCBhZGQgaXRcclxuICAgIGxldCBncmFkaWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcclxuICAgICAgICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXHJcbiAgICAgICAgXCJsaW5lYXJHcmFkaWVudFwiXHJcbiAgICAgICksXHJcbiAgICAgIGdyYWRpZW50VXJsID0gdGhpcy51aWQgKyBgLWxpbmUtJHt0aGlzLmdyYWRpZW50SWQrK31gLFxyXG4gICAgICBsID0gbGluZS5nZXRMZWZ0VmVjdG9yKCksXHJcbiAgICAgIHIgPSBsaW5lLmdldFJpZ2h0VmVjdG9yKCksXHJcbiAgICAgIGZyb21YID0gbC54LFxyXG4gICAgICBmcm9tWSA9IGwueSxcclxuICAgICAgdG9YID0gci54LFxyXG4gICAgICB0b1kgPSByLnk7XHJcblxyXG4gICAgZ3JhZGllbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJpZFwiLCBncmFkaWVudFVybCk7XHJcbiAgICBncmFkaWVudC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImdyYWRpZW50VW5pdHNcIiwgXCJ1c2VyU3BhY2VPblVzZVwiKTtcclxuICAgIGdyYWRpZW50LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieDFcIiwgZnJvbVgpO1xyXG4gICAgZ3JhZGllbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ5MVwiLCBmcm9tWSk7XHJcbiAgICBncmFkaWVudC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIngyXCIsIHRvWCk7XHJcbiAgICBncmFkaWVudC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInkyXCIsIHRvWSk7XHJcblxyXG4gICAgbGV0IGZpcnN0U3RvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcclxuICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxyXG4gICAgICBcInN0b3BcIlxyXG4gICAgKTtcclxuICAgIGZpcnN0U3RvcC5zZXRBdHRyaWJ1dGVOUyhcclxuICAgICAgbnVsbCxcclxuICAgICAgXCJzdG9wLWNvbG9yXCIsXHJcbiAgICAgIHRoaXMudGhlbWVNYW5hZ2VyLmdldENvbG9yKGxpbmUuZ2V0TGVmdEVsZW1lbnQoKSkgfHxcclxuICAgICAgICB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcihcIkNcIilcclxuICAgICk7XHJcbiAgICBmaXJzdFN0b3Auc2V0QXR0cmlidXRlTlMobnVsbCwgXCJvZmZzZXRcIiwgXCIyMCVcIik7XHJcblxyXG4gICAgbGV0IHNlY29uZFN0b3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXHJcbiAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcclxuICAgICAgXCJzdG9wXCJcclxuICAgICk7XHJcbiAgICBzZWNvbmRTdG9wLnNldEF0dHJpYnV0ZU5TKFxyXG4gICAgICBudWxsLFxyXG4gICAgICBcInN0b3AtY29sb3JcIixcclxuICAgICAgdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IoXHJcbiAgICAgICAgbGluZS5nZXRSaWdodEVsZW1lbnQoKSB8fCB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcihcIkNcIilcclxuICAgICAgKVxyXG4gICAgKTtcclxuICAgIHNlY29uZFN0b3Auc2V0QXR0cmlidXRlTlMobnVsbCwgXCJvZmZzZXRcIiwgXCIxMDAlXCIpO1xyXG5cclxuICAgIGdyYWRpZW50LmFwcGVuZENoaWxkKGZpcnN0U3RvcCk7XHJcbiAgICBncmFkaWVudC5hcHBlbmRDaGlsZChzZWNvbmRTdG9wKTtcclxuXHJcbiAgICB0aGlzLmdyYWRpZW50cy5wdXNoKGdyYWRpZW50KTtcclxuXHJcbiAgICByZXR1cm4gZ3JhZGllbnRVcmw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgYSB0c3BhbiBlbGVtZW50IGZvciBzdWIgb3Igc3VwZXIgc2NyaXB0cyB0aGF0IHN0eWxlcyB0aGUgdGV4dFxyXG4gICAqIGFwcHJvcHJpYXRlbHkgYXMgb25lIG9mIHRob3NlIHRleHQgdHlwZXMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCB0aGUgYWN0dWFsIHRleHRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc2hpZnQgdGhlIHR5cGUgb2YgdGV4dCwgZWl0aGVyICdzdWInLCBvciAnc3VwZXInXHJcbiAgICovXHJcbiAgY3JlYXRlU3ViU3VwZXJTY3JpcHRzKHRleHQsIHNoaWZ0KSB7XHJcbiAgICBsZXQgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwidHNwYW5cIik7XHJcbiAgICBlbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiYmFzZWxpbmUtc2hpZnRcIiwgc2hpZnQpO1xyXG4gICAgZWxlbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSk7XHJcbiAgICBlbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgXCJzdWJcIik7XHJcblxyXG4gICAgcmV0dXJuIGVsZW07XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY3JlYXRlVW5pY29kZUNoYXJnZShuKSB7XHJcbiAgICBpZiAobiA9PT0gMSkge1xyXG4gICAgICByZXR1cm4gXCLigbpcIjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobiA9PT0gLTEpIHtcclxuICAgICAgcmV0dXJuIFwi4oG7XCI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG4gPiAxKSB7XHJcbiAgICAgIHJldHVybiBTdmdXcmFwcGVyLmNyZWF0ZVVuaWNvZGVTdXBlcnNjcmlwdChuKSArIFwi4oG6XCI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG4gPCAtMSkge1xyXG4gICAgICByZXR1cm4gU3ZnV3JhcHBlci5jcmVhdGVVbmljb2RlU3VwZXJzY3JpcHQobikgKyBcIuKBu1wiO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBcIlwiO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGV0ZXJtaW5lIGRyYXdpbmcgZGltZW5zaW9zbiBiYXNlZCBvbiB2ZXJ0ZXggcG9zaXRpb25zLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtWZXJ0ZXhbXX0gdmVydGljZXMgQW4gYXJyYXkgb2YgdmVydGljZXMgY29udGFpbmluZyB0aGUgdmVydGljZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IG1vbGVjdWxlLlxyXG4gICAqL1xyXG4gIGRldGVybWluZURpbWVuc2lvbnModmVydGljZXMpIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKCF2ZXJ0aWNlc1tpXS52YWx1ZS5pc0RyYXduKSB7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBwID0gdmVydGljZXNbaV0ucG9zaXRpb247XHJcblxyXG4gICAgICBpZiAodGhpcy5tYXhYIDwgcC54KSB0aGlzLm1heFggPSBwLng7XHJcbiAgICAgIGlmICh0aGlzLm1heFkgPCBwLnkpIHRoaXMubWF4WSA9IHAueTtcclxuICAgICAgaWYgKHRoaXMubWluWCA+IHAueCkgdGhpcy5taW5YID0gcC54O1xyXG4gICAgICBpZiAodGhpcy5taW5ZID4gcC55KSB0aGlzLm1pblkgPSBwLnk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIHBhZGRpbmdcclxuICAgIGxldCBwYWRkaW5nID0gdGhpcy5vcHRzLnBhZGRpbmc7XHJcbiAgICB0aGlzLm1heFggKz0gcGFkZGluZztcclxuICAgIHRoaXMubWF4WSArPSBwYWRkaW5nO1xyXG4gICAgdGhpcy5taW5YIC09IHBhZGRpbmc7XHJcbiAgICB0aGlzLm1pblkgLT0gcGFkZGluZztcclxuXHJcbiAgICB0aGlzLmRyYXdpbmdXaWR0aCA9IHRoaXMubWF4WCAtIHRoaXMubWluWDtcclxuICAgIHRoaXMuZHJhd2luZ0hlaWdodCA9IHRoaXMubWF4WSAtIHRoaXMubWluWTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVZpZXdib3goc2NhbGUpIHtcclxuICAgIGxldCB4ID0gdGhpcy5taW5YO1xyXG4gICAgbGV0IHkgPSB0aGlzLm1pblk7XHJcbiAgICBsZXQgd2lkdGggPSB0aGlzLm1heFggLSB0aGlzLm1pblg7XHJcbiAgICBsZXQgaGVpZ2h0ID0gdGhpcy5tYXhZIC0gdGhpcy5taW5ZO1xyXG5cclxuICAgIGlmIChzY2FsZSA8PSAwLjApIHtcclxuICAgICAgaWYgKHdpZHRoID4gaGVpZ2h0KSB7XHJcbiAgICAgICAgbGV0IGRpZmYgPSB3aWR0aCAtIGhlaWdodDtcclxuICAgICAgICBoZWlnaHQgPSB3aWR0aDtcclxuICAgICAgICB5IC09IGRpZmYgLyAyLjA7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IGRpZmYgPSBoZWlnaHQgLSB3aWR0aDtcclxuICAgICAgICB3aWR0aCA9IGhlaWdodDtcclxuICAgICAgICB4IC09IGRpZmYgLyAyLjA7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLnN2Zykge1xyXG4gICAgICAgIHRoaXMuc3ZnLnN0eWxlLndpZHRoID0gc2NhbGUgKiB3aWR0aCArIFwicHhcIjtcclxuICAgICAgICB0aGlzLnN2Zy5zdHlsZS5oZWlnaHQgPSBzY2FsZSAqIGhlaWdodCArIFwicHhcIjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBgJHt4fSAke3l9ICR7d2lkdGh9ICR7aGVpZ2h0fWApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRHJhdyBhbiBzdmcgZWxsaXBzZSBhcyBhIGJhbGwuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBwb3NpdGlvbiBvZiB0aGUgdGV4dC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSBwb3NpdGlvbiBvZiB0aGUgdGV4dC5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZWxlbWVudE5hbWUgVGhlIG5hbWUgb2YgdGhlIGVsZW1lbnQgKHNpbmdsZS1sZXR0ZXIpLlxyXG4gICAqL1xyXG4gIGRyYXdCYWxsKHgsIHksIGVsZW1lbnROYW1lKSB7XHJcbiAgICBsZXQgciA9IHRoaXMub3B0cy5ib25kTGVuZ3RoIC8gNC41O1xyXG5cclxuICAgIGlmICh4IC0gciA8IHRoaXMubWluWCkge1xyXG4gICAgICB0aGlzLm1pblggPSB4IC0gcjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoeCArIHIgPiB0aGlzLm1heFgpIHtcclxuICAgICAgdGhpcy5tYXhYID0geCArIHI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHkgLSByIDwgdGhpcy5taW5ZKSB7XHJcbiAgICAgIHRoaXMubWluWSA9IHkgLSByO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh5ICsgciA+IHRoaXMubWF4WSkge1xyXG4gICAgICB0aGlzLm1heFkgPSB5ICsgcjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgYmFsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiY2lyY2xlXCIpO1xyXG4gICAgYmFsbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImN4XCIsIHgpO1xyXG4gICAgYmFsbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImN5XCIsIHkpO1xyXG4gICAgYmFsbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInJcIiwgcik7XHJcbiAgICBiYWxsLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZmlsbFwiLCB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcihlbGVtZW50TmFtZSkpO1xyXG5cclxuICAgIHRoaXMudmVydGljZXMucHVzaChiYWxsKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7TGluZX0gbGluZSB0aGUgbGluZSBvYmplY3QgdG8gY3JlYXRlIHRoZSB3ZWRnZSBmcm9tXHJcbiAgICovXHJcbiAgZHJhd1dlZGdlKGxpbmUpIHtcclxuICAgIGxldCBsID0gbGluZS5nZXRMZWZ0VmVjdG9yKCkuY2xvbmUoKSxcclxuICAgICAgciA9IGxpbmUuZ2V0UmlnaHRWZWN0b3IoKS5jbG9uZSgpO1xyXG5cclxuICAgIGxldCBub3JtYWxzID0gVmVjdG9yMi5ub3JtYWxzKGwsIHIpO1xyXG5cclxuICAgIG5vcm1hbHNbMF0ubm9ybWFsaXplKCk7XHJcbiAgICBub3JtYWxzWzFdLm5vcm1hbGl6ZSgpO1xyXG5cclxuICAgIGxldCBpc1JpZ2h0Q2hpcmFsQ2VudGVyID0gbGluZS5nZXRSaWdodENoaXJhbCgpO1xyXG5cclxuICAgIGxldCBzdGFydCA9IGwsXHJcbiAgICAgIGVuZCA9IHI7XHJcblxyXG4gICAgaWYgKGlzUmlnaHRDaGlyYWxDZW50ZXIpIHtcclxuICAgICAgc3RhcnQgPSByO1xyXG4gICAgICBlbmQgPSBsO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB0ID0gVmVjdG9yMi5hZGQoXHJcbiAgICAgICAgc3RhcnQsXHJcbiAgICAgICAgVmVjdG9yMi5tdWx0aXBseVNjYWxhcihub3JtYWxzWzBdLCB0aGlzLmhhbGZCb25kVGhpY2tuZXNzKVxyXG4gICAgICApLFxyXG4gICAgICB1ID0gVmVjdG9yMi5hZGQoXHJcbiAgICAgICAgZW5kLFxyXG4gICAgICAgIFZlY3RvcjIubXVsdGlwbHlTY2FsYXIobm9ybWFsc1swXSwgMy4wICsgdGhpcy5vcHRzLmZvbnRTaXplTGFyZ2UgLyA0LjApXHJcbiAgICAgICksXHJcbiAgICAgIHYgPSBWZWN0b3IyLmFkZChcclxuICAgICAgICBlbmQsXHJcbiAgICAgICAgVmVjdG9yMi5tdWx0aXBseVNjYWxhcihub3JtYWxzWzFdLCAzLjAgKyB0aGlzLm9wdHMuZm9udFNpemVMYXJnZSAvIDQuMClcclxuICAgICAgKSxcclxuICAgICAgdyA9IFZlY3RvcjIuYWRkKFxyXG4gICAgICAgIHN0YXJ0LFxyXG4gICAgICAgIFZlY3RvcjIubXVsdGlwbHlTY2FsYXIobm9ybWFsc1sxXSwgdGhpcy5oYWxmQm9uZFRoaWNrbmVzcylcclxuICAgICAgKTtcclxuXHJcbiAgICBsZXQgcG9seWdvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcclxuICAgICAgICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXHJcbiAgICAgICAgXCJwb2x5Z29uXCJcclxuICAgICAgKSxcclxuICAgICAgZ3JhZGllbnQgPSB0aGlzLmNyZWF0ZUdyYWRpZW50KGxpbmUsIGwueCwgbC55LCByLngsIHIueSk7XHJcbiAgICBwb2x5Z29uLnNldEF0dHJpYnV0ZU5TKFxyXG4gICAgICBudWxsLFxyXG4gICAgICBcInBvaW50c1wiLFxyXG4gICAgICBgJHt0Lnh9LCR7dC55fSAke3UueH0sJHt1Lnl9ICR7di54fSwke3YueX0gJHt3Lnh9LCR7dy55fWBcclxuICAgICk7XHJcbiAgICBwb2x5Z29uLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZmlsbFwiLCBgdXJsKCcjJHtncmFkaWVudH0nKWApO1xyXG4gICAgdGhpcy5wYXRocy5wdXNoKHBvbHlnb24pO1xyXG4gIH1cclxuXHJcbiAgLyogRHJhdyBhIGhpZ2hsaWdodCBmb3IgYW4gYXRvbVxyXG4gICAqXHJcbiAgICogIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IHBvc2l0aW9uIG9mIHRoZSBoaWdobGlnaHRcclxuICAgKiAgQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgcG9zaXRpb24gb2YgdGhlIGhpZ2hsaWdodFxyXG4gICAqICBAcGFyYW0ge3N0cmluZ30gY29sb3IgVGhlIGNvbG9yIG9mIHRoZSBoaWdobGlnaHQsIGRlZmF1bHQgIzAzZmM5ZFxyXG4gICAqL1xyXG4gIGRyYXdBdG9tSGlnaGxpZ2h0KHgsIHksIGNvbG9yID0gXCIjMDNmYzlkXCIpIHtcclxuICAgIGxldCBiYWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJjaXJjbGVcIik7XHJcbiAgICBiYWxsLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY3hcIiwgeCk7XHJcbiAgICBiYWxsLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY3lcIiwgeSk7XHJcbiAgICBiYWxsLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiclwiLCB0aGlzLm9wdHMuYm9uZExlbmd0aCAvIDMpO1xyXG4gICAgYmFsbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZpbGxcIiwgY29sb3IpO1xyXG5cclxuICAgIHRoaXMuaGlnaGxpZ2h0cy5wdXNoKGJhbGwpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRHJhdyBhIGRhc2hlZCB3ZWRnZSBvbiB0aGUgY2FudmFzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtMaW5lfSBsaW5lIEEgbGluZS5cclxuICAgKi9cclxuICBkcmF3RGFzaGVkV2VkZ2UobGluZSkge1xyXG4gICAgaWYgKFxyXG4gICAgICBpc05hTihsaW5lLmZyb20ueCkgfHxcclxuICAgICAgaXNOYU4obGluZS5mcm9tLnkpIHx8XHJcbiAgICAgIGlzTmFOKGxpbmUudG8ueCkgfHxcclxuICAgICAgaXNOYU4obGluZS50by55KVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbCA9IGxpbmUuZ2V0TGVmdFZlY3RvcigpLmNsb25lKCksXHJcbiAgICAgIHIgPSBsaW5lLmdldFJpZ2h0VmVjdG9yKCkuY2xvbmUoKSxcclxuICAgICAgbm9ybWFscyA9IFZlY3RvcjIubm9ybWFscyhsLCByKTtcclxuXHJcbiAgICBub3JtYWxzWzBdLm5vcm1hbGl6ZSgpO1xyXG4gICAgbm9ybWFsc1sxXS5ub3JtYWxpemUoKTtcclxuXHJcbiAgICBsZXQgaXNSaWdodENoaXJhbENlbnRlciA9IGxpbmUuZ2V0UmlnaHRDaGlyYWwoKSxcclxuICAgICAgc3RhcnQsXHJcbiAgICAgIGVuZDtcclxuXHJcbiAgICBpZiAoaXNSaWdodENoaXJhbENlbnRlcikge1xyXG4gICAgICBzdGFydCA9IHI7XHJcbiAgICAgIGVuZCA9IGw7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdGFydCA9IGw7XHJcbiAgICAgIGVuZCA9IHI7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGRpciA9IFZlY3RvcjIuc3VidHJhY3QoZW5kLCBzdGFydCkubm9ybWFsaXplKCksXHJcbiAgICAgIGxlbmd0aCA9IGxpbmUuZ2V0TGVuZ3RoKCksXHJcbiAgICAgIHN0ZXAgPSAxLjI1IC8gKGxlbmd0aCAvICh0aGlzLm9wdHMuYm9uZExlbmd0aCAvIDEwLjApKSxcclxuICAgICAgY2hhbmdlZCA9IGZhbHNlO1xyXG5cclxuICAgIGxldCBncmFkaWVudCA9IHRoaXMuY3JlYXRlR3JhZGllbnQobGluZSk7XHJcblxyXG4gICAgZm9yIChsZXQgdCA9IDAuMDsgdCA8IDEuMDsgdCArPSBzdGVwKSB7XHJcbiAgICAgIGxldCB0byA9IFZlY3RvcjIubXVsdGlwbHlTY2FsYXIoZGlyLCB0ICogbGVuZ3RoKSxcclxuICAgICAgICBzdGFydERhc2ggPSBWZWN0b3IyLmFkZChzdGFydCwgdG8pLFxyXG4gICAgICAgIHdpZHRoID0gKHRoaXMub3B0cy5mb250U2l6ZUxhcmdlIC8gMi4wKSAqIHQsXHJcbiAgICAgICAgZGFzaE9mZnNldCA9IFZlY3RvcjIubXVsdGlwbHlTY2FsYXIobm9ybWFsc1swXSwgd2lkdGgpO1xyXG5cclxuICAgICAgc3RhcnREYXNoLnN1YnRyYWN0KGRhc2hPZmZzZXQpO1xyXG4gICAgICBsZXQgZW5kRGFzaCA9IHN0YXJ0RGFzaC5jbG9uZSgpO1xyXG4gICAgICBlbmREYXNoLmFkZChWZWN0b3IyLm11bHRpcGx5U2NhbGFyKGRhc2hPZmZzZXQsIDIuMCkpO1xyXG5cclxuICAgICAgdGhpcy5kcmF3TGluZShuZXcgTGluZShzdGFydERhc2gsIGVuZERhc2gpLCBudWxsLCBncmFkaWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEcmF3cyBhIGRlYnVnIGRvdCBhdCBhIGdpdmVuIGNvb3JkaW5hdGUgYW5kIGFkZHMgdGV4dC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IGNvb3JkaW5hdGUuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgY29vcmRpbmRhdGUuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtkZWJ1Z1RleHQ9JyddIEEgc3RyaW5nLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbY29sb3I9JyNmMDAnXSBBIGNvbG9yIGluIGhleCBmb3JtLlxyXG4gICAqL1xyXG4gIGRyYXdEZWJ1Z1BvaW50KHgsIHksIGRlYnVnVGV4dCA9IFwiXCIsIGNvbG9yID0gXCIjZjAwXCIpIHtcclxuICAgIGxldCBwb2ludCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcclxuICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxyXG4gICAgICBcImNpcmNsZVwiXHJcbiAgICApO1xyXG4gICAgcG9pbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjeFwiLCB4KTtcclxuICAgIHBvaW50LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY3lcIiwgeSk7XHJcbiAgICBwb2ludC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInJcIiwgXCIyXCIpO1xyXG4gICAgcG9pbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsXCIsIFwiI2YwMFwiKTtcclxuICAgIHRoaXMudmVydGljZXMucHVzaChwb2ludCk7XHJcbiAgICB0aGlzLmRyYXdEZWJ1Z1RleHQoeCwgeSwgZGVidWdUZXh0KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXdzIGEgZGVidWcgdGV4dCBtZXNzYWdlIGF0IGEgZ2l2ZW4gcG9zaXRpb25cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IGNvb3JkaW5hdGUuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgY29vcmRpbmF0ZS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCBUaGUgZGVidWcgdGV4dC5cclxuICAgKi9cclxuICBkcmF3RGVidWdUZXh0KHgsIHksIHRleHQpIHtcclxuICAgIGxldCB0ZXh0RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcclxuICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxyXG4gICAgICBcInRleHRcIlxyXG4gICAgKTtcclxuICAgIHRleHRFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieFwiLCB4KTtcclxuICAgIHRleHRFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieVwiLCB5KTtcclxuICAgIHRleHRFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgXCJkZWJ1Z1wiKTtcclxuICAgIHRleHRFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZmlsbFwiLCBcIiNmZjAwMDBcIik7XHJcbiAgICB0ZXh0RWxlbS5zZXRBdHRyaWJ1dGVOUyhcclxuICAgICAgbnVsbCxcclxuICAgICAgXCJzdHlsZVwiLFxyXG4gICAgICBgXHJcbiAgICAgICAgICAgICAgICBmb250OiA1cHggRHJvaWQgU2Fucywgc2Fucy1zZXJpZjtcclxuICAgICAgICAgICAgYFxyXG4gICAgKTtcclxuICAgIHRleHRFbGVtLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpKTtcclxuXHJcbiAgICB0aGlzLnZlcnRpY2VzLnB1c2godGV4dEVsZW0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRHJhd3MgYSByaW5nLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHt4fSB4IFRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIHJpbmcuXHJcbiAgICogQHBhcmFtIHt5fSByIFRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIHJpbmcuXHJcbiAgICogQHBhcmFtIHtzfSBzIFRoZSBzaXplIG9mIHRoZSByaW5nLlxyXG4gICAqL1xyXG4gIGRyYXdSaW5nKHgsIHksIHMpIHtcclxuICAgIGxldCBjaXJjbGVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxyXG4gICAgICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXHJcbiAgICAgIFwiY2lyY2xlXCJcclxuICAgICk7XHJcbiAgICBsZXQgcmFkaXVzID0gTWF0aEhlbHBlci5hcG90aGVtRnJvbVNpZGVMZW5ndGgodGhpcy5vcHRzLmJvbmRMZW5ndGgsIHMpO1xyXG4gICAgY2lyY2xlRWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImN4XCIsIHgpO1xyXG4gICAgY2lyY2xlRWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImN5XCIsIHkpO1xyXG4gICAgY2lyY2xlRWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInJcIiwgcmFkaXVzIC0gdGhpcy5vcHRzLmJvbmRTcGFjaW5nKTtcclxuICAgIGNpcmNsZUVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgXCJzdHJva2VcIiwgdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IoXCJDXCIpKTtcclxuICAgIGNpcmNsZUVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgXCJzdHJva2Utd2lkdGhcIiwgdGhpcy5vcHRzLmJvbmRUaGlja25lc3MpO1xyXG4gICAgY2lyY2xlRWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZpbGxcIiwgXCJub25lXCIpO1xyXG4gICAgdGhpcy5wYXRocy5wdXNoKGNpcmNsZUVsZW0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRHJhd3MgYSBsaW5lLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtMaW5lfSBsaW5lIEEgbGluZS5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGRhc2hlZCBkZWZhdWx0cyB0byBmYWxzZS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZ3JhZGllbnQgZ3JhZGllbnQgdXJsLiBEZWZhdWx0cyB0byBudWxsLlxyXG4gICAqL1xyXG4gIGRyYXdMaW5lKGxpbmUsIGRhc2hlZCA9IGZhbHNlLCBncmFkaWVudCA9IG51bGwsIGxpbmVjYXAgPSBcInJvdW5kXCIpIHtcclxuICAgIGxldCBvcHRzID0gdGhpcy5vcHRzLFxyXG4gICAgICBzdHlsZXNBcnIgPSBbXHJcbiAgICAgICAgW1wic3Ryb2tlLXdpZHRoXCIsIHRoaXMub3B0cy5ib25kVGhpY2tuZXNzXSxcclxuICAgICAgICBbXCJzdHJva2UtbGluZWNhcFwiLCBsaW5lY2FwXSxcclxuICAgICAgICBbXCJzdHJva2UtZGFzaGFycmF5XCIsIGRhc2hlZCA/IFwiNSwgNVwiIDogXCJub25lXCJdLFxyXG4gICAgICBdLFxyXG4gICAgICBsID0gbGluZS5nZXRMZWZ0VmVjdG9yKCksXHJcbiAgICAgIHIgPSBsaW5lLmdldFJpZ2h0VmVjdG9yKCksXHJcbiAgICAgIGZyb21YID0gbC54LFxyXG4gICAgICBmcm9tWSA9IGwueSxcclxuICAgICAgdG9YID0gci54LFxyXG4gICAgICB0b1kgPSByLnk7XHJcblxyXG4gICAgbGV0IHN0eWxlcyA9IHN0eWxlc0Fyci5tYXAoKHN1YikgPT4gc3ViLmpvaW4oXCI6XCIpKS5qb2luKFwiO1wiKSxcclxuICAgICAgbGluZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImxpbmVcIik7XHJcblxyXG4gICAgbGluZUVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ4MVwiLCBmcm9tWCk7XHJcbiAgICBsaW5lRWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInkxXCIsIGZyb21ZKTtcclxuICAgIGxpbmVFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieDJcIiwgdG9YKTtcclxuICAgIGxpbmVFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieTJcIiwgdG9ZKTtcclxuICAgIGxpbmVFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwic3R5bGVcIiwgc3R5bGVzKTtcclxuICAgIHRoaXMucGF0aHMucHVzaChsaW5lRWxlbSk7XHJcblxyXG4gICAgaWYgKGdyYWRpZW50ID09IG51bGwpIHtcclxuICAgICAgZ3JhZGllbnQgPSB0aGlzLmNyZWF0ZUdyYWRpZW50KGxpbmUsIGZyb21YLCBmcm9tWSwgdG9YLCB0b1kpO1xyXG4gICAgfVxyXG4gICAgbGluZUVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgXCJzdHJva2VcIiwgYHVybCgnIyR7Z3JhZGllbnR9JylgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXcgYSBwb2ludC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IHBvc2l0aW9uIG9mIHRoZSBwb2ludC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGVsZW1lbnROYW1lIFRoZSBuYW1lIG9mIHRoZSBlbGVtZW50IChzaW5nbGUtbGV0dGVyKS5cclxuICAgKi9cclxuICBkcmF3UG9pbnQoeCwgeSwgZWxlbWVudE5hbWUpIHtcclxuICAgIGxldCByID0gMC43NTtcclxuXHJcbiAgICBpZiAoeCAtIHIgPCB0aGlzLm1pblgpIHtcclxuICAgICAgdGhpcy5taW5YID0geCAtIHI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHggKyByID4gdGhpcy5tYXhYKSB7XHJcbiAgICAgIHRoaXMubWF4WCA9IHggKyByO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh5IC0gciA8IHRoaXMubWluWSkge1xyXG4gICAgICB0aGlzLm1pblkgPSB5IC0gcjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoeSArIHIgPiB0aGlzLm1heFkpIHtcclxuICAgICAgdGhpcy5tYXhZID0geSArIHI7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZmlyc3QgY3JlYXRlIGEgbWFza1xyXG4gICAgbGV0IG1hc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImNpcmNsZVwiKTtcclxuICAgIG1hc2suc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjeFwiLCB4KTtcclxuICAgIG1hc2suc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjeVwiLCB5KTtcclxuICAgIG1hc2suc2V0QXR0cmlidXRlTlMobnVsbCwgXCJyXCIsIFwiMS41XCIpO1xyXG4gICAgbWFzay5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZpbGxcIiwgXCJibGFja1wiKTtcclxuICAgIHRoaXMubWFza0VsZW1lbnRzLnB1c2gobWFzayk7XHJcblxyXG4gICAgLy8gbm93IGNyZWF0ZSB0aGUgcG9pbnRcclxuICAgIGxldCBwb2ludCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcclxuICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxyXG4gICAgICBcImNpcmNsZVwiXHJcbiAgICApO1xyXG4gICAgcG9pbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJjeFwiLCB4KTtcclxuICAgIHBvaW50LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY3lcIiwgeSk7XHJcbiAgICBwb2ludC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInJcIiwgcik7XHJcbiAgICBwb2ludC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZpbGxcIiwgdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IoZWxlbWVudE5hbWUpKTtcclxuICAgIHRoaXMudmVydGljZXMucHVzaChwb2ludCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEcmF3IGEgdGV4dCB0byB0aGUgY2FudmFzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHggcG9zaXRpb24gb2YgdGhlIHRleHQuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgcG9zaXRpb24gb2YgdGhlIHRleHQuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGVsZW1lbnROYW1lIFRoZSBuYW1lIG9mIHRoZSBlbGVtZW50IChzaW5nbGUtbGV0dGVyKS5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gaHlkcm9nZW5zIFRoZSBudW1iZXIgb2YgaHlkcm9nZW4gYXRvbXMuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGRpcmVjdGlvbiBUaGUgZGlyZWN0aW9uIG9mIHRoZSB0ZXh0IGluIHJlbGF0aW9uIHRvIHRoZSBhc3NvY2lhdGVkIHZlcnRleC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzVGVybWluYWwgQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhlIHZlcnRleCBpcyB0ZXJtaW5hbC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gY2hhcmdlIFRoZSBjaGFyZ2Ugb2YgdGhlIGF0b20uXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGlzb3RvcGUgVGhlIGlzb3RvcGUgbnVtYmVyLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0b3RhbFZlcnRpY2VzIFRoZSB0b3RhbCBudW1iZXIgb2YgdmVydGljZXMgaW4gdGhlIGdyYXBoLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhdHRhY2hlZFBzZXVkb0VsZW1lbnQgQSBtYXAgd2l0aCBjb250YWluaW5nIGluZm9ybWF0aW9uIGZvciBwc2V1ZG8gZWxlbWVudHMgb3IgY29uY2F0aW5hdGVkIGVsZW1lbnRzLiBUaGUga2V5IGlzIGNvbXByaXNlZCBvZiB0aGUgZWxlbWVudCBzeW1ib2wgYW5kIHRoZSBoeWRyb2dlbiBjb3VudC5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0YWNoZWRQc2V1ZG9FbGVtZW50LmVsZW1lbnQgVGhlIGVsZW1lbnQgc3ltYm9sLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBhdHRhY2hlZFBzZXVkb0VsZW1lbnQuY291bnQgVGhlIG51bWJlciBvZiBvY2N1cmVuY2VzIHRoYXQgbWF0Y2ggdGhlIGtleS5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gYXR0YWNoZWRQc2V1ZG9FbGVtZW50Lmh5cm9nZW5Db3VudCBUaGUgbnVtYmVyIG9mIGh5ZHJvZ2VucyBhdHRhY2hlZCB0byBlYWNoIGF0b20gbWF0Y2hpbmcgdGhlIGtleS5cclxuICAgKi9cclxuICBkcmF3VGV4dChcclxuICAgIHgsXHJcbiAgICB5LFxyXG4gICAgZWxlbWVudE5hbWUsXHJcbiAgICBoeWRyb2dlbnMsXHJcbiAgICBkaXJlY3Rpb24sXHJcbiAgICBpc1Rlcm1pbmFsLFxyXG4gICAgY2hhcmdlLFxyXG4gICAgaXNvdG9wZSxcclxuICAgIHRvdGFsVmVydGljZXMsXHJcbiAgICBhdHRhY2hlZFBzZXVkb0VsZW1lbnQgPSB7fVxyXG4gICkge1xyXG4gICAgbGV0IHRleHQgPSBbXTtcclxuICAgIGxldCBkaXNwbGF5ID0gZWxlbWVudE5hbWU7XHJcblxyXG4gICAgaWYgKGNoYXJnZSAhPT0gMCAmJiBjaGFyZ2UgIT09IG51bGwpIHtcclxuICAgICAgZGlzcGxheSArPSBTdmdXcmFwcGVyLmNyZWF0ZVVuaWNvZGVDaGFyZ2UoY2hhcmdlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNvdG9wZSAhPT0gMCAmJiBpc290b3BlICE9PSBudWxsKSB7XHJcbiAgICAgIGRpc3BsYXkgPSBTdmdXcmFwcGVyLmNyZWF0ZVVuaWNvZGVTdXBlcnNjcmlwdChpc290b3BlKSArIGRpc3BsYXk7XHJcbiAgICB9XHJcblxyXG4gICAgdGV4dC5wdXNoKFtkaXNwbGF5LCBlbGVtZW50TmFtZV0pO1xyXG5cclxuICAgIGlmIChoeWRyb2dlbnMgPT09IDEpIHtcclxuICAgICAgdGV4dC5wdXNoKFtcIkhcIiwgXCJIXCJdKTtcclxuICAgIH0gZWxzZSBpZiAoaHlkcm9nZW5zID4gMSkge1xyXG4gICAgICB0ZXh0LnB1c2goW1wiSFwiICsgU3ZnV3JhcHBlci5jcmVhdGVVbmljb2RlU3Vic2NyaXB0KGh5ZHJvZ2VucyksIFwiSFwiXSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogQmV0dGVyIGhhbmRsZSBleGNlcHRpb25zXHJcbiAgICAvLyBFeGNlcHRpb24gZm9yIG5pdHJvIChkcmF3IG5pdHJvIGFzIE5PMiBpbnN0ZWFkIG9mIE4rTy1PKVxyXG4gICAgaWYgKFxyXG4gICAgICBjaGFyZ2UgPT09IDEgJiZcclxuICAgICAgZWxlbWVudE5hbWUgPT09IFwiTlwiICYmXHJcbiAgICAgIGF0dGFjaGVkUHNldWRvRWxlbWVudC5oYXNPd25Qcm9wZXJ0eShcIjBPXCIpICYmXHJcbiAgICAgIGF0dGFjaGVkUHNldWRvRWxlbWVudC5oYXNPd25Qcm9wZXJ0eShcIjBPLTFcIilcclxuICAgICkge1xyXG4gICAgICBhdHRhY2hlZFBzZXVkb0VsZW1lbnQgPSB7XHJcbiAgICAgICAgXCIwT1wiOiB7XHJcbiAgICAgICAgICBlbGVtZW50OiBcIk9cIixcclxuICAgICAgICAgIGNvdW50OiAyLFxyXG4gICAgICAgICAgaHlkcm9nZW5Db3VudDogMCxcclxuICAgICAgICAgIHByZXZpb3VzRWxlbWVudDogXCJDXCIsXHJcbiAgICAgICAgICBjaGFyZ2U6IFwiXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuICAgICAgY2hhcmdlID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBrZXkgaW4gYXR0YWNoZWRQc2V1ZG9FbGVtZW50KSB7XHJcbiAgICAgIGlmICghYXR0YWNoZWRQc2V1ZG9FbGVtZW50Lmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IHBlID0gYXR0YWNoZWRQc2V1ZG9FbGVtZW50W2tleV07XHJcbiAgICAgIGxldCBkaXNwbGF5ID0gcGUuZWxlbWVudDtcclxuXHJcbiAgICAgIGlmIChwZS5jb3VudCA+IDEpIHtcclxuICAgICAgICBkaXNwbGF5ICs9IFN2Z1dyYXBwZXIuY3JlYXRlVW5pY29kZVN1YnNjcmlwdChwZS5jb3VudCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwZS5jaGFyZ2UgIT09IFwiXCIpIHtcclxuICAgICAgICBkaXNwbGF5ICs9IFN2Z1dyYXBwZXIuY3JlYXRlVW5pY29kZUNoYXJnZShjaGFyZ2UpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0ZXh0LnB1c2goW2Rpc3BsYXksIHBlLmVsZW1lbnRdKTtcclxuXHJcbiAgICAgIGlmIChwZS5oeWRyb2dlbkNvdW50ID09PSAxKSB7XHJcbiAgICAgICAgdGV4dC5wdXNoKFtcIkhcIiwgXCJIXCJdKTtcclxuICAgICAgfSBlbHNlIGlmIChwZS5oeWRyb2dlbkNvdW50ID4gMSkge1xyXG4gICAgICAgIHRleHQucHVzaChbXHJcbiAgICAgICAgICBcIkhcIiArIFN2Z1dyYXBwZXIuY3JlYXRlVW5pY29kZVN1YnNjcmlwdChwZS5oeWRyb2dlbkNvdW50KSxcclxuICAgICAgICAgIFwiSFwiLFxyXG4gICAgICAgIF0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy53cml0ZSh0ZXh0LCBkaXJlY3Rpb24sIHgsIHksIHRvdGFsVmVydGljZXMgPT09IDEpO1xyXG4gIH1cclxuXHJcbiAgd3JpdGUodGV4dCwgZGlyZWN0aW9uLCB4LCB5LCBzaW5nbGVWZXJ0ZXgpIHtcclxuICAgIC8vIE1lYXN1cmUgZWxlbWVudCBuYW1lIG9ubHksIHdpdGhvdXQgY2hhcmdlIG9yIGlzb3RvcGUgLi4uXHJcbiAgICBsZXQgYmJveCA9IFN2Z1dyYXBwZXIubWVhc3VyZVRleHQoXHJcbiAgICAgIHRleHRbMF1bMV0sXHJcbiAgICAgIHRoaXMub3B0cy5mb250U2l6ZUxhcmdlLFxyXG4gICAgICB0aGlzLm9wdHMuZm9udEZhbWlseVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyAuLi4gYnV0IGZvciBkaXJlY3Rpb24gbGVmdCBtb3ZlIHRvIHRoZSByaWdodCB0b1xyXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIgJiYgdGV4dFswXVswXSAhPT0gdGV4dFswXVsxXSkge1xyXG4gICAgICBiYm94LndpZHRoICo9IDIuMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgdGhlIGFwcHJveGltYXRlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGV4dCBhbmQgYWRkIHVwZGF0ZSBtYXgvbWluXHJcbiAgICAvLyB0byBhbGxvdyBmb3IgbmFycm93ZXIgcGFkZGluZ3NcclxuICAgIGlmIChzaW5nbGVWZXJ0ZXgpIHtcclxuICAgICAgaWYgKHggKyBiYm94LndpZHRoICogdGV4dC5sZW5ndGggPiB0aGlzLm1heFgpIHtcclxuICAgICAgICB0aGlzLm1heFggPSB4ICsgYmJveC53aWR0aCAqIHRleHQubGVuZ3RoO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh4IC0gYmJveC53aWR0aCAvIDIuMCA8IHRoaXMubWluWCkge1xyXG4gICAgICAgIHRoaXMubWluWCA9IHggLSBiYm94LndpZHRoIC8gMi4wO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh5IC0gYmJveC5oZWlnaHQgPCB0aGlzLm1pblkpIHtcclxuICAgICAgICB0aGlzLm1pblkgPSB5IC0gYmJveC5oZWlnaHQ7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHkgKyBiYm94LmhlaWdodCA+IHRoaXMubWF4WSkge1xyXG4gICAgICAgIHRoaXMubWF4WSA9IHkgKyBiYm94LmhlaWdodDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGRpcmVjdGlvbiAhPT0gXCJyaWdodFwiKSB7XHJcbiAgICAgICAgaWYgKHggKyBiYm94LndpZHRoICogdGV4dC5sZW5ndGggPiB0aGlzLm1heFgpIHtcclxuICAgICAgICAgIHRoaXMubWF4WCA9IHggKyBiYm94LndpZHRoICogdGV4dC5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh4IC0gYmJveC53aWR0aCAqIHRleHQubGVuZ3RoIDwgdGhpcy5taW5YKSB7XHJcbiAgICAgICAgICB0aGlzLm1pblggPSB4IC0gYmJveC53aWR0aCAqIHRleHQubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gIT09IFwibGVmdFwiKSB7XHJcbiAgICAgICAgaWYgKHggKyBiYm94LndpZHRoICogdGV4dC5sZW5ndGggPiB0aGlzLm1heFgpIHtcclxuICAgICAgICAgIHRoaXMubWF4WCA9IHggKyBiYm94LndpZHRoICogdGV4dC5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh4IC0gYmJveC53aWR0aCAvIDIuMCA8IHRoaXMubWluWCkge1xyXG4gICAgICAgICAgdGhpcy5taW5YID0geCAtIGJib3gud2lkdGggLyAyLjA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoeSAtIGJib3guaGVpZ2h0IDwgdGhpcy5taW5ZKSB7XHJcbiAgICAgICAgdGhpcy5taW5ZID0geSAtIGJib3guaGVpZ2h0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoeSArIGJib3guaGVpZ2h0ID4gdGhpcy5tYXhZKSB7XHJcbiAgICAgICAgdGhpcy5tYXhZID0geSArIGJib3guaGVpZ2h0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSBcImRvd25cIikge1xyXG4gICAgICAgIGlmICh5ICsgMC44ICogYmJveC5oZWlnaHQgKiB0ZXh0Lmxlbmd0aCA+IHRoaXMubWF4WSkge1xyXG4gICAgICAgICAgdGhpcy5tYXhZID0geSArIDAuOCAqIGJib3guaGVpZ2h0ICogdGV4dC5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSBcInVwXCIpIHtcclxuICAgICAgICBpZiAoeSAtIDAuOCAqIGJib3guaGVpZ2h0ICogdGV4dC5sZW5ndGggPCB0aGlzLm1pblkpIHtcclxuICAgICAgICAgIHRoaXMubWluWSA9IHkgLSAwLjggKiBiYm94LmhlaWdodCAqIHRleHQubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBjeCA9IHg7XHJcbiAgICBsZXQgY3kgPSB5O1xyXG5cclxuICAgIC8vIERyYXcgdGhlIHRleHRcclxuICAgIGxldCB0ZXh0RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcclxuICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxyXG4gICAgICBcInRleHRcIlxyXG4gICAgKTtcclxuICAgIHRleHRFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgXCJlbGVtZW50XCIpO1xyXG4gICAgbGV0IGcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImdcIik7XHJcblxyXG4gICAgdGV4dEVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsXCIsIFwiI2ZmZmZmZlwiKTtcclxuXHJcbiAgICBpZiAoZGlyZWN0aW9uID09PSBcImxlZnRcIikge1xyXG4gICAgICB0ZXh0ID0gdGV4dC5yZXZlcnNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJyaWdodFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJkb3duXCIgfHwgZGlyZWN0aW9uID09PSBcInVwXCIpIHtcclxuICAgICAgeCAtPSBiYm94LndpZHRoIC8gMi4wO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkaXJlY3Rpb24gPT09IFwibGVmdFwiKSB7XHJcbiAgICAgIHggKz0gYmJveC53aWR0aCAvIDIuMDtcclxuICAgIH1cclxuXHJcbiAgICB0ZXh0LmZvckVhY2goKHBhcnQsIGkpID0+IHtcclxuICAgICAgY29uc3QgZGlzcGxheSA9IHBhcnRbMF07XHJcbiAgICAgIGNvbnN0IGVsZW1lbnROYW1lID0gcGFydFsxXTtcclxuICAgICAgbGV0IHRzcGFuRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcclxuICAgICAgICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXHJcbiAgICAgICAgXCJ0c3BhblwiXHJcbiAgICAgICk7XHJcbiAgICAgIHRzcGFuRWxlbS5zZXRBdHRyaWJ1dGVOUyhcclxuICAgICAgICBudWxsLFxyXG4gICAgICAgIFwiZmlsbFwiLFxyXG4gICAgICAgIHRoaXMudGhlbWVNYW5hZ2VyLmdldENvbG9yKGVsZW1lbnROYW1lKVxyXG4gICAgICApO1xyXG4gICAgICB0c3BhbkVsZW0udGV4dENvbnRlbnQgPSBkaXNwbGF5O1xyXG5cclxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJ1cFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJkb3duXCIpIHtcclxuICAgICAgICB0c3BhbkVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ4XCIsIFwiMHB4XCIpO1xyXG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IFwidXBcIikge1xyXG4gICAgICAgICAgdHNwYW5FbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieVwiLCBgLSR7MC45ICogaX1lbWApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0c3BhbkVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ5XCIsIGAkezAuOSAqIGl9ZW1gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRleHRFbGVtLmFwcGVuZENoaWxkKHRzcGFuRWxlbSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXh0RWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRhdGEtZGlyZWN0aW9uXCIsIGRpcmVjdGlvbik7XHJcblxyXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIgfHwgZGlyZWN0aW9uID09PSBcInJpZ2h0XCIpIHtcclxuICAgICAgdGV4dEVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkb21pbmFudC1iYXNlbGluZVwiLCBcImFscGhhYmV0aWNcIik7XHJcbiAgICAgIHRleHRFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieVwiLCBcIjAuMzZlbVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRleHRFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZG9taW5hbnQtYmFzZWxpbmVcIiwgXCJjZW50cmFsXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkaXJlY3Rpb24gPT09IFwibGVmdFwiKSB7XHJcbiAgICAgIHRleHRFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZy5hcHBlbmRDaGlsZCh0ZXh0RWxlbSk7XHJcblxyXG4gICAgZy5zZXRBdHRyaWJ1dGVOUyhcclxuICAgICAgbnVsbCxcclxuICAgICAgXCJzdHlsZVwiLFxyXG4gICAgICBgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKCR7eH1weCkgdHJhbnNsYXRlWSgke3l9cHgpYFxyXG4gICAgKTtcclxuXHJcbiAgICBsZXQgbWFza1JhZGl1cyA9IHRoaXMub3B0cy5mb250U2l6ZUxhcmdlICogMC43NTtcclxuICAgIGlmICh0ZXh0WzBdWzFdLmxlbmd0aCA+IDEpIHtcclxuICAgICAgbWFza1JhZGl1cyA9IHRoaXMub3B0cy5mb250U2l6ZUxhcmdlICogMS4xO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBtYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJjaXJjbGVcIik7XHJcbiAgICBtYXNrLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY3hcIiwgY3gpO1xyXG4gICAgbWFzay5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImN5XCIsIGN5KTtcclxuICAgIG1hc2suc2V0QXR0cmlidXRlTlMobnVsbCwgXCJyXCIsIG1hc2tSYWRpdXMpO1xyXG4gICAgbWFzay5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZpbGxcIiwgXCJibGFja1wiKTtcclxuXHJcbiAgICB0aGlzLm1hc2tFbGVtZW50cy5wdXNoKG1hc2spO1xyXG5cclxuICAgIHRoaXMudmVydGljZXMucHVzaChnKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXcgdGhlIHdyYXBwZWQgU1ZHIHRvIGEgY2FudmFzLlxyXG4gICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyBUaGUgY2FudmFzIGVsZW1lbnQgdG8gZHJhdyB0aGUgc3ZnIHRvLlxyXG4gICAqL1xyXG4gIHRvQ2FudmFzKGNhbnZhcywgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgaWYgKHR5cGVvZiBjYW52YXMgPT09IFwic3RyaW5nXCIgfHwgY2FudmFzIGluc3RhbmNlb2YgU3RyaW5nKSB7XHJcbiAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbnZhcyk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGltYWdlID0gbmV3IEltYWdlKCk7XHJcblxyXG4gICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgY2FudmFzLmdldENvbnRleHQoXCIyZFwiKS5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgfTtcclxuXHJcbiAgICBpbWFnZS5zcmMgPVxyXG4gICAgICBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0LXV0Zi04LFwiICtcclxuICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuc3ZnLm91dGVySFRNTCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY3JlYXRlVW5pY29kZVN1YnNjcmlwdChuKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuXHJcbiAgICBuLnRvU3RyaW5nKClcclxuICAgICAgLnNwbGl0KFwiXCIpXHJcbiAgICAgIC5mb3JFYWNoKChkKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0ICs9IFtcIuKCgFwiLCBcIuKCgVwiLCBcIuKCglwiLCBcIuKCg1wiLCBcIuKChFwiLCBcIuKChVwiLCBcIuKChlwiLCBcIuKCh1wiLCBcIuKCiFwiLCBcIuKCiVwiXVtcclxuICAgICAgICAgIHBhcnNlSW50KGQpXHJcbiAgICAgICAgXTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjcmVhdGVVbmljb2RlU3VwZXJzY3JpcHQobikge1xyXG4gICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcblxyXG4gICAgbi50b1N0cmluZygpXHJcbiAgICAgIC5zcGxpdChcIlwiKVxyXG4gICAgICAuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICAgIGxldCBwYXJzZWQgPSBwYXJzZUludChkKTtcclxuICAgICAgICBpZiAocGFyc2VkKSB7XHJcbiAgICAgICAgICByZXN1bHQgKz0gW1wi4oGwXCIsIFwiwrlcIiwgXCLCslwiLCBcIsKzXCIsIFwi4oG0XCIsIFwi4oG1XCIsIFwi4oG2XCIsIFwi4oG3XCIsIFwi4oG4XCIsIFwi4oG5XCJdW1xyXG4gICAgICAgICAgICBwYXJzZUludChkKVxyXG4gICAgICAgICAgXTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgcmVwbGFjZU51bWJlcnNXaXRoU3Vic2NyaXB0KHRleHQpIHtcclxuICAgIGxldCBzdWJzY3JpcHROdW1iZXJzID0ge1xyXG4gICAgICAwOiBcIuKCgFwiLFxyXG4gICAgICAxOiBcIuKCgVwiLFxyXG4gICAgICAyOiBcIuKCglwiLFxyXG4gICAgICAzOiBcIuKCg1wiLFxyXG4gICAgICA0OiBcIuKChFwiLFxyXG4gICAgICA1OiBcIuKChVwiLFxyXG4gICAgICA2OiBcIuKChlwiLFxyXG4gICAgICA3OiBcIuKCh1wiLFxyXG4gICAgICA4OiBcIuKCiFwiLFxyXG4gICAgICA5OiBcIuKCiVwiLFxyXG4gICAgfTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzdWJzY3JpcHROdW1iZXJzKSkge1xyXG4gICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlQWxsKGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0ZXh0O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIG1lYXN1cmVUZXh0KHRleHQsIGZvbnRTaXplLCBmb250RmFtaWx5LCBsaW5lSGVpZ2h0ID0gMC45KSB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgIGNvbnN0IGN0eCA9IGVsZW1lbnQuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgY3R4LmZvbnQgPSBgJHtmb250U2l6ZX1wdCAke2ZvbnRGYW1pbHl9YDtcclxuICAgIGxldCB0ZXh0TWV0cmljcyA9IGN0eC5tZWFzdXJlVGV4dCh0ZXh0KTtcclxuXHJcbiAgICBsZXQgY29tcFdpZHRoID1cclxuICAgICAgTWF0aC5hYnModGV4dE1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hMZWZ0KSArXHJcbiAgICAgIE1hdGguYWJzKHRleHRNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94UmlnaHQpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgd2lkdGg6IHRleHRNZXRyaWNzLndpZHRoID4gY29tcFdpZHRoID8gdGV4dE1ldHJpY3Mud2lkdGggOiBjb21wV2lkdGgsXHJcbiAgICAgIGhlaWdodDpcclxuICAgICAgICAoTWF0aC5hYnModGV4dE1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQpICtcclxuICAgICAgICAgIE1hdGguYWJzKHRleHRNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50KSkgKlxyXG4gICAgICAgIGxpbmVIZWlnaHQsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29udmVydCBhbiBTVkcgdG8gYSBjYW52YXMuIFdhcm5pbmc6IFRoaXMgaGFwcGVucyBhc3luYyFcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gc3ZnXHJcbiAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodFxyXG4gICAqIEBwYXJhbSB7Q2FsbGFibGVGdW5jdGlvbn0gY2FsbGJhY2tcclxuICAgKiBAcmV0dXJucyB7SFRNTENhbnZhc0VsZW1lbnR9IFRoZSBpbnB1dCBodG1sIGNhbnZhcyBlbGVtZW50IGFmdGVyIGRyYXdpbmcgdG8uXHJcbiAgICovXHJcbiAgc3RhdGljIHN2Z1RvQ2FudmFzKHN2ZywgY2FudmFzLCB3aWR0aCwgaGVpZ2h0LCBjYWxsYmFjayA9IG51bGwpIHtcclxuICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIHdpZHRoKTtcclxuICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBoZWlnaHQpO1xyXG5cclxuICAgIGxldCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuXHJcbiAgICAgIGxldCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgY2FsbGJhY2soY2FudmFzKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24gKGVycikge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBpbWFnZS5zcmMgPVxyXG4gICAgICBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0LXV0Zi04LFwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHN2Zy5vdXRlckhUTUwpO1xyXG4gICAgcmV0dXJuIGNhbnZhcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnZlcnQgYW4gU1ZHIHRvIGEgY2FudmFzLiBXYXJuaW5nOiBUaGlzIGhhcHBlbnMgYXN5bmMhXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IHN2Z1xyXG4gICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudH0gY2FudmFzXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodFxyXG4gICAqL1xyXG4gIHN0YXRpYyBzdmdUb0ltZyhzdmcsIGltZywgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICB0aGlzLnN2Z1RvQ2FudmFzKHN2ZywgY2FudmFzLCB3aWR0aCwgaGVpZ2h0LCAocmVzdWx0KSA9PiB7XHJcbiAgICAgIGltZy5zcmMgPSBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgYW4gU1ZHIGVsZW1lbnQgY29udGFpbmluZyB0ZXh0LlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0XHJcbiAgICogQHBhcmFtIHsqfSB0aGVtZU1hbmFnZXJcclxuICAgKiBAcGFyYW0geyp9IG9wdGlvbnNcclxuICAgKiBAcmV0dXJucyB7e3N2ZzogU1ZHRWxlbWVudCwgd2lkdGg6IE51bWJlciwgaGVpZ2h0OiBOdW1iZXJ9fSBUaGUgU1ZHIGVsZW1lbnQgY29udGFpbmluZyB0aGUgdGV4dCBhbmQgaXRzIGRpbWVuc2lvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIHdyaXRlVGV4dChcclxuICAgIHRleHQsXHJcbiAgICB0aGVtZU1hbmFnZXIsXHJcbiAgICBmb250U2l6ZSxcclxuICAgIGZvbnRGYW1pbHksXHJcbiAgICBtYXhXaWR0aCA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXHJcbiAgKSB7XHJcbiAgICBsZXQgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XHJcbiAgICBsZXQgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN0eWxlXCIpO1xyXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoXHJcbiAgICAgIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGBcclxuICAgICAgICAudGV4dCB7XHJcbiAgICAgICAgICAgIGZvbnQ6ICR7Zm9udFNpemV9cHQgJHtmb250RmFtaWx5fTtcclxuICAgICAgICAgICAgZG9taW5hbnQtYmFzZWxpbmU6IGlkZW9ncmFwaGljO1xyXG4gICAgICAgIH1cclxuICAgIGApXHJcbiAgICApO1xyXG4gICAgc3ZnLmFwcGVuZENoaWxkKHN0eWxlKTtcclxuXHJcbiAgICBsZXQgdGV4dEVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXHJcbiAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcclxuICAgICAgXCJ0ZXh0XCJcclxuICAgICk7XHJcbiAgICB0ZXh0RWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImNsYXNzXCIsIFwidGV4dFwiKTtcclxuXHJcbiAgICBsZXQgbWF4TGluZVdpZHRoID0gMC4wO1xyXG4gICAgbGV0IHRvdGFsSGVpZ2h0ID0gMC4wO1xyXG5cclxuICAgIGxldCBsaW5lcyA9IFtdO1xyXG5cclxuICAgIHRleHQuc3BsaXQoXCJcXG5cIikuZm9yRWFjaCgobGluZSkgPT4ge1xyXG4gICAgICBsZXQgZGltcyA9IFN2Z1dyYXBwZXIubWVhc3VyZVRleHQobGluZSwgZm9udFNpemUsIGZvbnRGYW1pbHksIDEuMCk7XHJcbiAgICAgIGlmIChkaW1zLndpZHRoID49IG1heFdpZHRoKSB7XHJcbiAgICAgICAgbGV0IHRvdGFsV29yZHNXaWR0aCA9IDAuMDtcclxuICAgICAgICBsZXQgbWF4V29yZHNIZWlnaHQgPSAwLjA7XHJcbiAgICAgICAgbGV0IHdvcmRzID0gbGluZS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGxldCB3b3JkRGltcyA9IFN2Z1dyYXBwZXIubWVhc3VyZVRleHQoXHJcbiAgICAgICAgICAgIHdvcmRzW2ldLFxyXG4gICAgICAgICAgICBmb250U2l6ZSxcclxuICAgICAgICAgICAgZm9udEZhbWlseSxcclxuICAgICAgICAgICAgMS4wXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIGlmICh0b3RhbFdvcmRzV2lkdGggKyB3b3JkRGltcy53aWR0aCA+IG1heFdpZHRoKSB7XHJcbiAgICAgICAgICAgIGxpbmVzLnB1c2goe1xyXG4gICAgICAgICAgICAgIHRleHQ6IHdvcmRzLnNsaWNlKG9mZnNldCwgaSkuam9pbihcIiBcIiksXHJcbiAgICAgICAgICAgICAgd2lkdGg6IHRvdGFsV29yZHNXaWR0aCxcclxuICAgICAgICAgICAgICBoZWlnaHQ6IG1heFdvcmRzSGVpZ2h0LFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRvdGFsV29yZHNXaWR0aCA9IDAuMDtcclxuICAgICAgICAgICAgbWF4V29yZHNIZWlnaHQgPSAwLjA7XHJcbiAgICAgICAgICAgIG9mZnNldCA9IGk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKHdvcmREaW1zLmhlaWdodCA+IG1heFdvcmRzSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIG1heFdvcmRzSGVpZ2h0ID0gd29yZERpbXMuaGVpZ2h0O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHRvdGFsV29yZHNXaWR0aCArPSB3b3JkRGltcy53aWR0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvZmZzZXQgPCB3b3Jkcy5sZW5ndGgpIHtcclxuICAgICAgICAgIGxpbmVzLnB1c2goe1xyXG4gICAgICAgICAgICB0ZXh0OiB3b3Jkcy5zbGljZShvZmZzZXQsIHdvcmRzLmxlbmd0aCkuam9pbihcIiBcIiksXHJcbiAgICAgICAgICAgIHdpZHRoOiB0b3RhbFdvcmRzV2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogbWF4V29yZHNIZWlnaHQsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGluZXMucHVzaCh7XHJcbiAgICAgICAgICB0ZXh0OiBsaW5lLFxyXG4gICAgICAgICAgd2lkdGg6IGRpbXMud2lkdGgsXHJcbiAgICAgICAgICBoZWlnaHQ6IGRpbXMuaGVpZ2h0LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBsaW5lcy5mb3JFYWNoKChsaW5lLCBpKSA9PiB7XHJcbiAgICAgIHRvdGFsSGVpZ2h0ICs9IGxpbmUuaGVpZ2h0O1xyXG4gICAgICBsZXQgdHNwYW5FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxyXG4gICAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcclxuICAgICAgICBcInRzcGFuXCJcclxuICAgICAgKTtcclxuICAgICAgdHNwYW5FbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZmlsbFwiLCB0aGVtZU1hbmFnZXIuZ2V0Q29sb3IoXCJDXCIpKTtcclxuICAgICAgdHNwYW5FbGVtLnRleHRDb250ZW50ID0gbGluZS50ZXh0O1xyXG4gICAgICB0c3BhbkVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ4XCIsIFwiMHB4XCIpO1xyXG4gICAgICB0c3BhbkVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ5XCIsIGAke3RvdGFsSGVpZ2h0fXB4YCk7XHJcbiAgICAgIHRleHRFbGVtLmFwcGVuZENoaWxkKHRzcGFuRWxlbSk7XHJcblxyXG4gICAgICBpZiAobGluZS53aWR0aCA+IG1heExpbmVXaWR0aCkge1xyXG4gICAgICAgIG1heExpbmVXaWR0aCA9IGxpbmUud2lkdGg7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHN2Zy5hcHBlbmRDaGlsZCh0ZXh0RWxlbSk7XHJcblxyXG4gICAgcmV0dXJuIHsgc3ZnOiBzdmcsIHdpZHRoOiBtYXhMaW5lV2lkdGgsIGhlaWdodDogdG90YWxIZWlnaHQgfTtcclxuICB9XHJcbn0iLCJpbnRlcmZhY2UgQ29udGFpbnNPcHRpb25zPFQ+IHtcclxuICB2YWx1ZTogYW55O1xyXG4gIHByb3BlcnR5Pzoga2V5b2YgVDtcclxuICBmdW5jPzogKGl0ZW06IFQpID0+IGJvb2xlYW47XHJcbn1cclxuXHJcbmludGVyZmFjZSBBdG9taWNOdW1iZXJJdGVtIHtcclxuICB2ZXJ0ZXhJZDogbnVtYmVyO1xyXG4gIGF0b21pY051bWJlcjogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogQSBzdGF0aWMgY2xhc3MgY29udGFpbmluZyBoZWxwZXIgZnVuY3Rpb25zIGZvciBhcnJheS1yZWxhdGVkIHRhc2tzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFycmF5SGVscGVyIHtcclxuICAvKipcclxuICAgKiBDbG9uZSBhbiBhcnJheSBvciBhbiBvYmplY3QuIElmIGFuIG9iamVjdCBpcyBwYXNzZWQsIGEgc2hhbGxvdyBjbG9uZSB3aWxsIGJlIGNyZWF0ZWQuXHJcbiAgICpcclxuICAgKiBAc3RhdGljXHJcbiAgICogQHRlbXBsYXRlIFRcclxuICAgKiBAcGFyYW0ge1R9IGFyciBUaGUgYXJyYXkgb3Igb2JqZWN0IHRvIGJlIGNsb25lZC5cclxuICAgKiBAcmV0dXJucyB7VH0gQSBjbG9uZSBvZiB0aGUgYXJyYXkgb3Igb2JqZWN0LlxyXG4gICAqL1xyXG4gIHN0YXRpYyBjbG9uZTxUPihhcnI6IFQpOiBUIHtcclxuICAgIGNvbnN0IG91dDogYW55ID0gQXJyYXkuaXNBcnJheShhcnIpID8gW10gOiB7fTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhcnIpIHtcclxuICAgICAgY29uc3QgdmFsdWUgPSBhcnJba2V5XTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICBpZiAodHlwZW9mICh2YWx1ZSBhcyBhbnkpLmNsb25lID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgIG91dFtrZXldID0gKHZhbHVlIGFzIGFueSkuY2xvbmUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgb3V0W2tleV0gPSBBcnJheUhlbHBlci5jbG9uZSh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG91dFtrZXldID0gdmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb3V0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgdHdvIGFycmF5cyBjb250YWluIHRoZSBzYW1lIGVsZW1lbnRzLlxyXG4gICAqIE9ubHkgc3VwcG9ydHMgMWQsIG5vbi1uZXN0ZWQgYXJyYXlzLlxyXG4gICAqXHJcbiAgICogQHN0YXRpY1xyXG4gICAqIEB0ZW1wbGF0ZSBUXHJcbiAgICogQHBhcmFtIHtUW119IGFyckEgQW4gYXJyYXkuXHJcbiAgICogQHBhcmFtIHtUW119IGFyckIgQW4gYXJyYXkuXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoZSB0d28gYXJyYXlzIGNvbnRhaW4gdGhlIHNhbWUgZWxlbWVudHMuXHJcbiAgICovXHJcbiAgc3RhdGljIGVxdWFsczxUPihhcnJBOiBUW10sIGFyckI6IFRbXSk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKGFyckEubGVuZ3RoICE9PSBhcnJCLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdG1wQSA9IGFyckEuc2xpY2UoKS5zb3J0KCk7XHJcbiAgICBjb25zdCB0bXBCID0gYXJyQi5zbGljZSgpLnNvcnQoKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRtcEEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHRtcEFbaV0gIT09IHRtcEJbaV0pIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gYXJyYXkuIElmIHRoZSBhcnJheSBjb250YWlucyBvYmplY3RzIHdpdGggYW4gaWQgcHJvcGVydHksIHRoZSBpZCBwcm9wZXJ0eSBpcyBwcmludGVkIGZvciBlYWNoIG9mIHRoZSBlbGVtZW50cy5cclxuICAgKlxyXG4gICAqIEBzdGF0aWNcclxuICAgKiBAdGVtcGxhdGUgVFxyXG4gICAqIEBwYXJhbSB7VFtdfSBhcnIgQW4gYXJyYXkuXHJcbiAgICogQHJldHVybnMge3N0cmluZ30gQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGFycmF5LlxyXG4gICAqL1xyXG4gIHN0YXRpYyBwcmludDxUIGV4dGVuZHMgeyBpZD86IGFueSB9PihhcnI6IFRbXSk6IHN0cmluZyB7XHJcbiAgICBpZiAoYXJyLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcyA9IFwiKFwiO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHMgKz0gYXJyW2ldLmlkID8gYXJyW2ldLmlkICsgXCIsIFwiIDogYXJyW2ldICsgXCIsIFwiO1xyXG4gICAgfVxyXG5cclxuICAgIHMgPSBzLnN1YnN0cmluZygwLCBzLmxlbmd0aCAtIDIpO1xyXG5cclxuICAgIHJldHVybiBzICsgXCIpXCI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSdW4gYSBmdW5jdGlvbiBmb3IgZWFjaCBlbGVtZW50IGluIHRoZSBhcnJheS4gVGhlIGVsZW1lbnQgaXMgc3VwcGxpZWQgYXMgYW4gYXJndW1lbnQgZm9yIHRoZSBjYWxsYmFjayBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQHN0YXRpY1xyXG4gICAqIEB0ZW1wbGF0ZSBUXHJcbiAgICogQHBhcmFtIHtUW119IGFyciBBbiBhcnJheS5cclxuICAgKiBAcGFyYW0geyhpdGVtOiBUKSA9PiB2b2lkfSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgZm9yIGVhY2ggZWxlbWVudC5cclxuICAgKi9cclxuICBzdGF0aWMgZWFjaDxUPihhcnI6IFRbXSwgY2FsbGJhY2s6IChpdGVtOiBUKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjYWxsYmFjayhhcnJbaV0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJuIHRoZSBhcnJheSBlbGVtZW50IGZyb20gYW4gYXJyYXkgY29udGFpbmluZyBvYmplY3RzLCB3aGVyZSBhIHByb3BlcnR5IG9mIHRoZSBvYmplY3QgaXMgc2V0IHRvIGEgZ2l2ZW4gdmFsdWUuXHJcbiAgICpcclxuICAgKiBAc3RhdGljXHJcbiAgICogQHRlbXBsYXRlIFRcclxuICAgKiBAcGFyYW0ge1RbXX0gYXJyIEFuIGFycmF5LlxyXG4gICAqIEBwYXJhbSB7a2V5b2YgVH0gcHJvcGVydHkgQSBwcm9wZXJ0eSBjb250YWluZWQgd2l0aGluIGFuIG9iamVjdCBpbiB0aGUgYXJyYXkuXHJcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXJ9IHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkuXHJcbiAgICogQHJldHVybnMge1QgfCB1bmRlZmluZWR9IFRoZSBhcnJheSBlbGVtZW50IG1hdGNoaW5nIHRoZSB2YWx1ZS5cclxuICAgKi9cclxuICBzdGF0aWMgZ2V0PFQ+KFxyXG4gICAgYXJyOiBUW10sXHJcbiAgICBwcm9wZXJ0eToga2V5b2YgVCxcclxuICAgIHZhbHVlOiBzdHJpbmcgfCBudW1iZXJcclxuICApOiBUIHwgdW5kZWZpbmVkIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChhcnJbaV1bcHJvcGVydHldID09IHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGFycltpXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCBhbiBhcnJheSBjb250YWlucyBhIGdpdmVuIHZhbHVlLlxyXG4gICAqXHJcbiAgICogQHN0YXRpY1xyXG4gICAqIEB0ZW1wbGF0ZSBUXHJcbiAgICogQHBhcmFtIHtUW119IGFyciBBbiBhcnJheS5cclxuICAgKiBAcGFyYW0ge0NvbnRhaW5zT3B0aW9uczxUPn0gb3B0aW9ucyBUaGUgb3B0aW9ucyBmb3IgdGhlIGNvbnRhaW5zIGNoZWNrLlxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBBIGJvb2xlYW4gd2hldGhlciBvciBub3QgdGhlIGFycmF5IGNvbnRhaW5zIGEgdmFsdWUuXHJcbiAgICovXHJcbiAgc3RhdGljIGNvbnRhaW5zPFQ+KGFycjogVFtdLCBvcHRpb25zOiBDb250YWluc09wdGlvbnM8VD4pOiBib29sZWFuIHtcclxuICAgIGlmICghb3B0aW9ucy5wcm9wZXJ0eSAmJiAhb3B0aW9ucy5mdW5jKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFycltpXSA9PSBvcHRpb25zLnZhbHVlKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5mdW5jKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuZnVuYyhhcnJbaV0pKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5wcm9wZXJ0eSkge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChhcnJbaV1bb3B0aW9ucy5wcm9wZXJ0eV0gPT0gb3B0aW9ucy52YWx1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBpbnRlcnNlY3Rpb24gYmV0d2VlbiB0d28gYXJyYXlzLlxyXG4gICAqXHJcbiAgICogQHN0YXRpY1xyXG4gICAqIEB0ZW1wbGF0ZSBUXHJcbiAgICogQHBhcmFtIHtUW119IGFyckEgQW4gYXJyYXkuXHJcbiAgICogQHBhcmFtIHtUW119IGFyckIgQW4gYXJyYXkuXHJcbiAgICogQHJldHVybnMge1RbXX0gVGhlIGludGVyc2VjdGluZyB2YWx1ZXMuXHJcbiAgICovXHJcbiAgc3RhdGljIGludGVyc2VjdGlvbjxUPihhcnJBOiBUW10sIGFyckI6IFRbXSk6IFRbXSB7XHJcbiAgICBjb25zdCBpbnRlcnNlY3Rpb246IFRbXSA9IFtdO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyQS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFyckIubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBpZiAoYXJyQVtpXSA9PT0gYXJyQltqXSkge1xyXG4gICAgICAgICAgaW50ZXJzZWN0aW9uLnB1c2goYXJyQVtpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGludGVyc2VjdGlvbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2YgdW5pcXVlIGVsZW1lbnRzIGNvbnRhaW5lZCBpbiBhbiBhcnJheS5cclxuICAgKlxyXG4gICAqIEBzdGF0aWNcclxuICAgKiBAdGVtcGxhdGUgVFxyXG4gICAqIEBwYXJhbSB7VFtdfSBhcnIgQW4gYXJyYXkuXHJcbiAgICogQHJldHVybnMge1RbXX0gQW4gYXJyYXkgb2YgdW5pcXVlIGVsZW1lbnRzLlxyXG4gICAqL1xyXG4gIHN0YXRpYyB1bmlxdWU8VCBleHRlbmRzIHN0cmluZyB8IG51bWJlcj4oYXJyOiBUW10pOiBUW10ge1xyXG4gICAgY29uc3QgY29udGFpbnM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307XHJcbiAgICByZXR1cm4gYXJyLmZpbHRlcigoaSkgPT4ge1xyXG4gICAgICByZXR1cm4gY29udGFpbnNbaSBhcyBzdHJpbmddICE9PSB1bmRlZmluZWRcclxuICAgICAgICA/IGZhbHNlXHJcbiAgICAgICAgOiAoY29udGFpbnNbaSBhcyBzdHJpbmddID0gdHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvdW50IHRoZSBudW1iZXIgb2Ygb2NjdXJyZW5jZXMgb2YgYSB2YWx1ZSBpbiBhbiBhcnJheS5cclxuICAgKlxyXG4gICAqIEBzdGF0aWNcclxuICAgKiBAdGVtcGxhdGUgVFxyXG4gICAqIEBwYXJhbSB7VFtdfSBhcnIgQW4gYXJyYXkuXHJcbiAgICogQHBhcmFtIHtUfSB2YWx1ZSBBIHZhbHVlIHRvIGJlIGNvdW50ZWQuXHJcbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIG51bWJlciBvZiBvY2N1cnJlbmNlcyBvZiBhIHZhbHVlIGluIHRoZSBhcnJheS5cclxuICAgKi9cclxuICBzdGF0aWMgY291bnQ8VD4oYXJyOiBUW10sIHZhbHVlOiBUKTogbnVtYmVyIHtcclxuICAgIGxldCBjb3VudCA9IDA7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKGFycltpXSA9PT0gdmFsdWUpIHtcclxuICAgICAgICBjb3VudCsrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvdW50O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVG9nZ2xlcyB0aGUgdmFsdWUgb2YgYW4gYXJyYXkuXHJcbiAgICpcclxuICAgKiBAc3RhdGljXHJcbiAgICogQHRlbXBsYXRlIFRcclxuICAgKiBAcGFyYW0ge1RbXX0gYXJyIEFuIGFycmF5LlxyXG4gICAqIEBwYXJhbSB7VH0gdmFsdWUgQSB2YWx1ZSB0byBiZSB0b2dnbGVkLlxyXG4gICAqIEByZXR1cm5zIHtUW119IFRoZSB0b2dnbGVkIGFycmF5LlxyXG4gICAqL1xyXG4gIHN0YXRpYyB0b2dnbGU8VD4oYXJyOiBUW10sIHZhbHVlOiBUKTogVFtdIHtcclxuICAgIGNvbnN0IG5ld0FycjogVFtdID0gW107XHJcblxyXG4gICAgbGV0IHJlbW92ZWQgPSBmYWxzZTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChhcnJbaV0gIT09IHZhbHVlKSB7XHJcbiAgICAgICAgbmV3QXJyLnB1c2goYXJyW2ldKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZW1vdmVkID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghcmVtb3ZlZCkge1xyXG4gICAgICBuZXdBcnIucHVzaCh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ld0FycjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZSBhIHZhbHVlIGZyb20gYW4gYXJyYXkuXHJcbiAgICpcclxuICAgKiBAc3RhdGljXHJcbiAgICogQHRlbXBsYXRlIFRcclxuICAgKiBAcGFyYW0ge1RbXX0gYXJyIEFuIGFycmF5LlxyXG4gICAqIEBwYXJhbSB7VH0gdmFsdWUgQSB2YWx1ZSB0byBiZSByZW1vdmVkLlxyXG4gICAqIEByZXR1cm5zIHtUW119IEEgbmV3IGFycmF5IHdpdGggdGhlIGVsZW1lbnQgd2l0aCBhIGdpdmVuIHZhbHVlIHJlbW92ZWQuXHJcbiAgICovXHJcbiAgc3RhdGljIHJlbW92ZTxUPihhcnI6IFRbXSwgdmFsdWU6IFQpOiBUW10ge1xyXG4gICAgY29uc3QgdG1wOiBUW10gPSBbXTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoYXJyW2ldICE9PSB2YWx1ZSkge1xyXG4gICAgICAgIHRtcC5wdXNoKGFycltpXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdG1wO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVtb3ZlIGEgdmFsdWUgZnJvbSBhbiBhcnJheSB3aXRoIHVuaXF1ZSB2YWx1ZXMuXHJcbiAgICpcclxuICAgKiBAc3RhdGljXHJcbiAgICogQHRlbXBsYXRlIFRcclxuICAgKiBAcGFyYW0ge1RbXX0gYXJyIEFuIGFycmF5LlxyXG4gICAqIEBwYXJhbSB7VH0gdmFsdWUgQSB2YWx1ZSB0byBiZSByZW1vdmVkLlxyXG4gICAqIEByZXR1cm5zIHtUW119IEFuIGFycmF5IHdpdGggdGhlIGVsZW1lbnQgd2l0aCBhIGdpdmVuIHZhbHVlIHJlbW92ZWQuXHJcbiAgICovXHJcbiAgc3RhdGljIHJlbW92ZVVuaXF1ZTxUPihhcnI6IFRbXSwgdmFsdWU6IFQpOiBUW10ge1xyXG4gICAgY29uc3QgaW5kZXggPSBhcnIuaW5kZXhPZih2YWx1ZSk7XHJcblxyXG4gICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgYXJyLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFycjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZSBhbGwgZWxlbWVudHMgY29udGFpbmVkIGluIG9uZSBhcnJheSBmcm9tIGFub3RoZXIgYXJyYXkuXHJcbiAgICpcclxuICAgKiBAc3RhdGljXHJcbiAgICogQHRlbXBsYXRlIFRcclxuICAgKiBAcGFyYW0ge1RbXX0gYXJyQSBUaGUgYXJyYXkgdG8gYmUgZmlsdGVyZWQuXHJcbiAgICogQHBhcmFtIHtUW119IGFyckIgVGhlIGFycmF5IGNvbnRhaW5pbmcgZWxlbWVudHMgdGhhdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgb3RoZXIgYXJyYXkuXHJcbiAgICogQHJldHVybnMge1RbXX0gVGhlIGZpbHRlcmVkIGFycmF5LlxyXG4gICAqL1xyXG4gIHN0YXRpYyByZW1vdmVBbGw8VD4oYXJyQTogVFtdLCBhcnJCOiBUW10pOiBUW10ge1xyXG4gICAgcmV0dXJuIGFyckEuZmlsdGVyKChpdGVtKSA9PiBhcnJCLmluZGV4T2YoaXRlbSkgPT09IC0xKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1lcmdlcyB0d28gYXJyYXlzIGFuZCByZXR1cm5zIHRoZSByZXN1bHQuXHJcbiAgICpcclxuICAgKiBAc3RhdGljXHJcbiAgICogQHRlbXBsYXRlIFRcclxuICAgKiBAcGFyYW0ge1RbXX0gYXJyQSBBbiBhcnJheS5cclxuICAgKiBAcGFyYW0ge1RbXX0gYXJyQiBBbiBhcnJheS5cclxuICAgKiBAcmV0dXJucyB7VFtdfSBUaGUgbWVyZ2VkIGFycmF5LlxyXG4gICAqL1xyXG4gIHN0YXRpYyBtZXJnZTxUPihhcnJBOiBUW10sIGFyckI6IFRbXSk6IFRbXSB7XHJcbiAgICBjb25zdCBhcnI6IFRbXSA9IG5ldyBBcnJheShhcnJBLmxlbmd0aCArIGFyckIubGVuZ3RoKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyckEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgYXJyW2ldID0gYXJyQVtpXTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyckIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgYXJyW2FyckEubGVuZ3RoICsgaV0gPSBhcnJCW2ldO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhcnI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVja3Mgd2hldGhlciBvciBub3QgYW4gYXJyYXkgY29udGFpbnMgYWxsIHRoZSBlbGVtZW50cyBvZiBhbm90aGVyIGFycmF5LlxyXG4gICAqXHJcbiAgICogQHN0YXRpY1xyXG4gICAqIEB0ZW1wbGF0ZSBUXHJcbiAgICogQHBhcmFtIHtUW119IGFyckEgQW4gYXJyYXkuXHJcbiAgICogQHBhcmFtIHtUW119IGFyckIgQW4gYXJyYXkuXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IGJvdGggYXJyYXkgY29udGFpbiB0aGUgc2FtZSBlbGVtZW50cy5cclxuICAgKi9cclxuICBzdGF0aWMgY29udGFpbnNBbGw8VD4oYXJyQTogVFtdLCBhcnJCOiBUW10pOiBib29sZWFuIHtcclxuICAgIGxldCBjb250YWluaW5nID0gMDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyQS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFyckIubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBpZiAoYXJyQVtpXSA9PT0gYXJyQltqXSkge1xyXG4gICAgICAgICAgY29udGFpbmluZysrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjb250YWluaW5nID09PSBhcnJCLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNvcnQgYW4gYXJyYXkgb2YgYXRvbWljIG51bWJlciBpbmZvcm1hdGlvbi5cclxuICAgKlxyXG4gICAqIEBzdGF0aWNcclxuICAgKiBAcGFyYW0ge0F0b21pY051bWJlckl0ZW1bXX0gYXJyIEFuIGFycmF5IG9mIHZlcnRleCBpZHMgd2l0aCB0aGVpciBhc3NvY2lhdGVkIGF0b21pYyBudW1iZXJzLlxyXG4gICAqIEByZXR1cm5zIHtBdG9taWNOdW1iZXJJdGVtW119IFRoZSBhcnJheSBzb3J0ZWQgYnkgYXRvbWljIG51bWJlci5cclxuICAgKi9cclxuICBzdGF0aWMgc29ydEJ5QXRvbWljTnVtYmVyRGVzYyhhcnI6IEF0b21pY051bWJlckl0ZW1bXSk6IEF0b21pY051bWJlckl0ZW1bXSB7XHJcbiAgICBjb25zdCBtYXAgPSBhcnIubWFwKChlLCBpKSA9PiAoe1xyXG4gICAgICBpbmRleDogaSxcclxuICAgICAgdmFsdWU6IGUuYXRvbWljTnVtYmVyLnNwbGl0KFwiLlwiKS5tYXAoTnVtYmVyKSxcclxuICAgIH0pKTtcclxuXHJcbiAgICBtYXAuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihiLnZhbHVlLmxlbmd0aCwgYS52YWx1ZS5sZW5ndGgpO1xyXG4gICAgICBsZXQgaSA9IDA7XHJcblxyXG4gICAgICB3aGlsZSAoaSA8IG1pbiAmJiBiLnZhbHVlW2ldID09PSBhLnZhbHVlW2ldKSB7XHJcbiAgICAgICAgaSsrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gaSA9PT0gbWluXHJcbiAgICAgICAgPyBiLnZhbHVlLmxlbmd0aCAtIGEudmFsdWUubGVuZ3RoXHJcbiAgICAgICAgOiBiLnZhbHVlW2ldIC0gYS52YWx1ZVtpXTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBtYXAubWFwKChlKSA9PiBhcnJbZS5pbmRleF0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29waWVzIGFuIG4tZGltZW5zaW9uYWwgYXJyYXkuXHJcbiAgICpcclxuICAgKiBAc3RhdGljXHJcbiAgICogQHRlbXBsYXRlIFRcclxuICAgKiBAcGFyYW0ge1RbXX0gYXJyIFRoZSBhcnJheSB0byBiZSBjb3BpZWQuXHJcbiAgICogQHJldHVybnMge1RbXX0gVGhlIGNvcHkuXHJcbiAgICovXHJcbiAgc3RhdGljIGRlZXBDb3B5PFQ+KGFycjogVFtdKTogVFtdIHtcclxuICAgIGNvbnN0IG5ld0FycjogVFtdID0gW107XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgaXRlbSA9IGFycltpXTtcclxuXHJcbiAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICBuZXdBcnJbaV0gPSBBcnJheUhlbHBlci5kZWVwQ29weShpdGVtKSBhcyBUO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5ld0FycltpXSA9IGl0ZW07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3QXJyO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgaW50ZXJmYWNlIElCcmFja2V0IHtcclxuICBoY291bnQ/OiBudW1iZXI7XHJcbiAgY2hhcmdlPzogKFwiLS1cIiB8IFwiLVwiIHwgXCIrXCIgfCBcIisrXCIpW107XHJcbiAgaXNvdG9wZT86IG51bWJlcjtcclxuICBjaGlyYWxpdHk/OiBzdHJpbmc7XHJcbiAgZWxlbWVudD86IHN0cmluZztcclxuICBjbGFzcz86IG51bWJlcjtcclxufVxyXG5cclxuaW50ZXJmYWNlIElQc2V1ZG9FbGVtZW50IHtcclxuICBlbGVtZW50OiBzdHJpbmc7XHJcbiAgY291bnQ6IG51bWJlcjtcclxuICBoeWRyb2dlbkNvdW50OiBudW1iZXI7XHJcbiAgcHJldmlvdXNFbGVtZW50OiBzdHJpbmc7XHJcbiAgY2hhcmdlOiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBJUmluZ2JvbmQge1xyXG4gIGlkOiBudW1iZXI7XHJcbiAgYm9uZFR5cGU6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEF0b20ge1xyXG4gIHB1YmxpYyBpZHg6IG51bWJlciB8IG51bGw7XHJcbiAgcHVibGljIGVsZW1lbnQ6IHN0cmluZztcclxuICBwdWJsaWMgZHJhd0V4cGxpY2l0OiBib29sZWFuO1xyXG4gIHB1YmxpYyByaW5nYm9uZHM6IElSaW5nYm9uZFtdO1xyXG4gIHB1YmxpYyByaW5nczogbnVtYmVyW107XHJcbiAgcHVibGljIGJvbmRUeXBlOiBzdHJpbmc7XHJcbiAgcHVibGljIGJyYW5jaEJvbmQ6IHN0cmluZyB8IG51bGw7XHJcbiAgcHVibGljIGlzQnJpZGdlOiBib29sZWFuO1xyXG4gIHB1YmxpYyBpc0JyaWRnZU5vZGU6IGJvb2xlYW47XHJcbiAgcHVibGljIG9yaWdpbmFsUmluZ3M6IG51bWJlcltdO1xyXG4gIHB1YmxpYyBicmlkZ2VkUmluZzogbnVtYmVyIHwgbnVsbDtcclxuICBwdWJsaWMgYW5jaG9yZWRSaW5nczogbnVtYmVyW107XHJcbiAgcHVibGljIGJyYWNrZXQ6IElCcmFja2V0IHwgbnVsbDtcclxuICBwdWJsaWMgcGxhbmU6IG51bWJlcjtcclxuICBwdWJsaWMgYXR0YWNoZWRQc2V1ZG9FbGVtZW50czogeyBba2V5OiBzdHJpbmddOiBJUHNldWRvRWxlbWVudCB9O1xyXG4gIHB1YmxpYyBoYXNBdHRhY2hlZFBzZXVkb0VsZW1lbnRzOiBib29sZWFuO1xyXG4gIHB1YmxpYyBpc0RyYXduOiBib29sZWFuO1xyXG4gIHB1YmxpYyBpc0Nvbm5lY3RlZFRvUmluZzogYm9vbGVhbjtcclxuICBwdWJsaWMgbmVpZ2hib3VyaW5nRWxlbWVudHM6IHN0cmluZ1tdO1xyXG4gIHB1YmxpYyBpc1BhcnRPZkFyb21hdGljUmluZzogYm9vbGVhbjtcclxuICBwdWJsaWMgYm9uZENvdW50OiBudW1iZXI7XHJcbiAgcHVibGljIGNoaXJhbGl0eTogc3RyaW5nO1xyXG4gIHB1YmxpYyBpc1N0ZXJlb0NlbnRlcjogYm9vbGVhbjtcclxuICBwdWJsaWMgcHJpb3JpdHk6IG51bWJlcjtcclxuICBwdWJsaWMgbWFpbkNoYWluOiBib29sZWFuO1xyXG4gIHB1YmxpYyBoeWRyb2dlbkRpcmVjdGlvbjogXCJ1cFwiIHwgXCJkb3duXCI7XHJcbiAgcHVibGljIHN1YnRyZWVEZXB0aDogbnVtYmVyO1xyXG4gIHB1YmxpYyBoYXNIeWRyb2dlbjogYm9vbGVhbjtcclxuICBwdWJsaWMgY2xhc3M/OiBudW1iZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgY2xhc3MgQXRvbS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBlbGVtZW50IFRoZSBvbmUtbGV0dGVyIGNvZGUgb2YgdGhlIGVsZW1lbnQuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtib25kVHlwZT0nLSddIFRoZSB0eXBlIG9mIHRoZSBib25kIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGF0b20uXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoZWxlbWVudDogc3RyaW5nLCBib25kVHlwZTogc3RyaW5nID0gXCItXCIpIHtcclxuICAgIHRoaXMuaWR4ID0gbnVsbDtcclxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQubGVuZ3RoID09PSAxID8gZWxlbWVudC50b1VwcGVyQ2FzZSgpIDogZWxlbWVudDtcclxuICAgIHRoaXMuZHJhd0V4cGxpY2l0ID0gZmFsc2U7XHJcbiAgICB0aGlzLnJpbmdib25kcyA9IFtdO1xyXG4gICAgdGhpcy5yaW5ncyA9IFtdO1xyXG4gICAgdGhpcy5ib25kVHlwZSA9IGJvbmRUeXBlO1xyXG4gICAgdGhpcy5icmFuY2hCb25kID0gbnVsbDtcclxuICAgIHRoaXMuaXNCcmlkZ2UgPSBmYWxzZTtcclxuICAgIHRoaXMuaXNCcmlkZ2VOb2RlID0gZmFsc2U7XHJcbiAgICB0aGlzLm9yaWdpbmFsUmluZ3MgPSBbXTtcclxuICAgIHRoaXMuYnJpZGdlZFJpbmcgPSBudWxsO1xyXG4gICAgdGhpcy5hbmNob3JlZFJpbmdzID0gW107XHJcbiAgICB0aGlzLmJyYWNrZXQgPSBudWxsO1xyXG4gICAgdGhpcy5wbGFuZSA9IDA7XHJcbiAgICB0aGlzLmF0dGFjaGVkUHNldWRvRWxlbWVudHMgPSB7fTtcclxuICAgIHRoaXMuaGFzQXR0YWNoZWRQc2V1ZG9FbGVtZW50cyA9IGZhbHNlO1xyXG4gICAgdGhpcy5pc0RyYXduID0gdHJ1ZTtcclxuICAgIHRoaXMuaXNDb25uZWN0ZWRUb1JpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMubmVpZ2hib3VyaW5nRWxlbWVudHMgPSBbXTtcclxuICAgIHRoaXMuaXNQYXJ0T2ZBcm9tYXRpY1JpbmcgPSBlbGVtZW50ICE9PSB0aGlzLmVsZW1lbnQ7XHJcbiAgICB0aGlzLmJvbmRDb3VudCA9IDA7XHJcbiAgICB0aGlzLmNoaXJhbGl0eSA9IFwiXCI7XHJcbiAgICB0aGlzLmlzU3RlcmVvQ2VudGVyID0gZmFsc2U7XHJcbiAgICB0aGlzLnByaW9yaXR5ID0gMDtcclxuICAgIHRoaXMubWFpbkNoYWluID0gZmFsc2U7XHJcbiAgICB0aGlzLmh5ZHJvZ2VuRGlyZWN0aW9uID0gXCJkb3duXCI7XHJcbiAgICB0aGlzLnN1YnRyZWVEZXB0aCA9IDE7XHJcbiAgICB0aGlzLmhhc0h5ZHJvZ2VuID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGRzIGEgbmVpZ2hib3VyaW5nIGVsZW1lbnQgdG8gdGhpcyBhdG9tLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGVsZW1lbnQgQSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgcHVibGljIGFkZE5laWdoYm91cmluZ0VsZW1lbnQoZWxlbWVudDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICB0aGlzLm5laWdoYm91cmluZ0VsZW1lbnRzLnB1c2goZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBdHRhY2hlcyBhIHBzZXVkbyBlbGVtZW50IChlLmcuIEFjKSB0byB0aGUgYXRvbS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZWxlbWVudCBUaGUgZWxlbWVudCBpZGVudGlmaWVyIChlLmcuIEJyLCBDLCAuLi4pLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcmV2aW91c0VsZW1lbnQgVGhlIGVsZW1lbnQgdGhhdCBpcyBwYXJ0IG9mIHRoZSBtYWluIGNoYWluIChub3QgdGhlIHRlcm1pbmFscyB0aGF0IGFyZSBjb252ZXJ0ZWQgdG8gdGhlIHBzZXVkbyBlbGVtZW50IG9yIGNvbmNhdGluYXRlZCkuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtoeWRyb2dlbkNvdW50PTBdIFRoZSBudW1iZXIgb2YgaHlkcm9nZW5zIGZvciB0aGUgZWxlbWVudC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NoYXJnZT0wXSBUaGUgY2hhcmdlIGZvciB0aGUgZWxlbWVudC5cclxuICAgKi9cclxuICBwdWJsaWMgYXR0YWNoUHNldWRvRWxlbWVudChcclxuICAgIGVsZW1lbnQ6IHN0cmluZyxcclxuICAgIHByZXZpb3VzRWxlbWVudDogc3RyaW5nLFxyXG4gICAgaHlkcm9nZW5Db3VudDogbnVtYmVyID0gMCxcclxuICAgIGNoYXJnZTogbnVtYmVyID0gMFxyXG4gICk6IHZvaWQge1xyXG4gICAgaWYgKGh5ZHJvZ2VuQ291bnQgPT09IG51bGwpIHtcclxuICAgICAgaHlkcm9nZW5Db3VudCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYXJnZSA9PT0gbnVsbCkge1xyXG4gICAgICBjaGFyZ2UgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGtleSA9IGAke2h5ZHJvZ2VuQ291bnR9JHtlbGVtZW50fSR7Y2hhcmdlfWA7XHJcblxyXG4gICAgaWYgKHRoaXMuYXR0YWNoZWRQc2V1ZG9FbGVtZW50c1trZXldKSB7XHJcbiAgICAgIHRoaXMuYXR0YWNoZWRQc2V1ZG9FbGVtZW50c1trZXldLmNvdW50ICs9IDE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmF0dGFjaGVkUHNldWRvRWxlbWVudHNba2V5XSA9IHtcclxuICAgICAgICBlbGVtZW50LFxyXG4gICAgICAgIGNvdW50OiAxLFxyXG4gICAgICAgIGh5ZHJvZ2VuQ291bnQsXHJcbiAgICAgICAgcHJldmlvdXNFbGVtZW50LFxyXG4gICAgICAgIGNoYXJnZSxcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmhhc0F0dGFjaGVkUHNldWRvRWxlbWVudHMgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgYXR0YWNoZWQgcHNldWRvIGVsZW1lbnRzIHNvcnRlZCBieSBoeWRyb2dlbiBjb3VudCAoYXNjZW5kaW5nKS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBzb3J0ZWQgYXR0YWNoZWQgcHNldWRvIGVsZW1lbnRzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRBdHRhY2hlZFBzZXVkb0VsZW1lbnRzKCk6IHsgW2tleTogc3RyaW5nXTogSVBzZXVkb0VsZW1lbnQgfSB7XHJcbiAgICBjb25zdCBvcmRlcmVkOiB7IFtrZXk6IHN0cmluZ106IElQc2V1ZG9FbGVtZW50IH0gPSB7fTtcclxuXHJcbiAgICBPYmplY3Qua2V5cyh0aGlzLmF0dGFjaGVkUHNldWRvRWxlbWVudHMpXHJcbiAgICAgIC5zb3J0KClcclxuICAgICAgLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgIG9yZGVyZWRba2V5XSA9IHRoaXMuYXR0YWNoZWRQc2V1ZG9FbGVtZW50c1trZXldO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gb3JkZXJlZDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBhdHRhY2hlZCBwc2V1ZG8gZWxlbWVudHMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGF0dGFjaGVkIHBzZXVkbyBlbGVtZW50cy5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0QXR0YWNoZWRQc2V1ZG9FbGVtZW50c0NvdW50KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5hdHRhY2hlZFBzZXVkb0VsZW1lbnRzKS5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgYXR0YWNoZWQgcHNldWRvIGVsZW1lbnRzLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBhdHRhY2hlZCBwc2V1ZG8gZWxlbWVudHMuXHJcbiAgICovXHJcbiAgcHVibGljIGlzSGV0ZXJvQXRvbSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW1lbnQgIT09IFwiQ1wiICYmIHRoaXMuZWxlbWVudCAhPT0gXCJIXCI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZWZpbmVzIHRoaXMgYXRvbSBhcyB0aGUgYW5jaG9yIGZvciBhIHJpbmcuIFdoZW4gZG9pbmcgcmVwb3NpdGlvbmluZ3Mgb2YgdGhlIHZlcnRpY2VzIGFuZCB0aGUgdmVydGV4IGFzc29jaWF0ZWQgd2l0aCB0aGlzIGF0b20gaXMgbW92ZWQsIHRoZSBjZW50ZXIgb2YgdGhpcyByaW5nIGlzIG1vdmVkIGFzIHdlbGwuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0gcmluZ0lkIEEgcmluZyBpZC5cclxuICAgKi9cclxuICBwdWJsaWMgYWRkQW5jaG9yZWRSaW5nKHJpbmdJZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuYW5jaG9yZWRSaW5ncy5pbmNsdWRlcyhyaW5nSWQpKSB7XHJcbiAgICAgIHRoaXMuYW5jaG9yZWRSaW5ncy5wdXNoKHJpbmdJZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgcmluZ2JvbmRzIChicmVha3MgaW4gcmluZ3MgdG8gZ2VuZXJhdGUgdGhlIE1TVCBvZiB0aGUgc21pbGVzKSB3aXRoaW4gdGhpcyBhdG9tIGlzIGNvbm5lY3RlZCB0by5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgcmluZ2JvbmRzIHRoaXMgYXRvbSBpcyBjb25uZWN0ZWQgdG8uXHJcbiAgICovXHJcbiAgcHVibGljIGdldFJpbmdib25kQ291bnQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnJpbmdib25kcy5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBCYWNrcyB1cCB0aGUgY3VycmVudCByaW5ncy5cclxuICAgKi9cclxuICBwdWJsaWMgYmFja3VwUmluZ3MoKTogdm9pZCB7XHJcbiAgICB0aGlzLm9yaWdpbmFsUmluZ3MgPSBbLi4udGhpcy5yaW5nc107XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXN0b3JlcyB0aGUgbW9zdCByZWNlbnQgYmFja2VkIHVwIHJpbmdzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXN0b3JlUmluZ3MoKTogdm9pZCB7XHJcbiAgICB0aGlzLnJpbmdzID0gWy4uLnRoaXMub3JpZ2luYWxSaW5nc107XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVja3Mgd2hldGhlciBvciBub3QgdHdvIGF0b21zIHNoYXJlIGEgY29tbW9uIHJpbmdib25kIGlkLiBBIHJpbmdib25kIGlzIGEgYnJlYWsgaW4gYSByaW5nIGNyZWF0ZWQgd2hlbiBnZW5lcmF0aW5nIHRoZSBzcGFubmluZyB0cmVlIG9mIGEgc3RydWN0dXJlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtBdG9tfSBhdG9tQSBBbiBhdG9tLlxyXG4gICAqIEBwYXJhbSB7QXRvbX0gYXRvbUIgQW4gYXRvbS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdHdvIGF0b21zIHNoYXJlIGEgY29tbW9uIHJpbmdib25kLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBoYXZlQ29tbW9uUmluZ2JvbmQoYXRvbUE6IEF0b20sIGF0b21COiBBdG9tKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gYXRvbUEucmluZ2JvbmRzLnNvbWUoKHJiQSkgPT5cclxuICAgICAgYXRvbUIucmluZ2JvbmRzLnNvbWUoKHJiQikgPT4gcmJBLmlkID09PSByYkIuaWQpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgd2hldGhlciBvciBub3QgdGhlIG5laWdoYm91cmluZyBlbGVtZW50cyBvZiB0aGlzIGF0b20gZXF1YWwgdGhlIHN1cHBsaWVkIGFycmF5LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTdHJpbmdbXX0gYXJyIEFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIHRoZSBlbGVtZW50cyB0aGF0IGFyZSBuZWlnaGJvdXJpbmcgdGhpcyBhdG9tLiBFLmcuIFsnQycsICdPJywgJ08nLCAnTiddXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoZSBuZWlnaGJvdXJzIG1hdGNoIHRoZSBzdXBwbGllZCBhcnJheSBvZiBlbGVtZW50cy5cclxuICAgKi9cclxuICBwdWJsaWMgbmVpZ2hib3VyaW5nRWxlbWVudHNFcXVhbChhcnI6IHN0cmluZ1tdKTogYm9vbGVhbiB7XHJcbiAgICBpZiAoYXJyLmxlbmd0aCAhPT0gdGhpcy5uZWlnaGJvdXJpbmdFbGVtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNvcnRlZEFyciA9IFsuLi5hcnJdLnNvcnQoKTtcclxuICAgIGNvbnN0IHNvcnRlZE5laWdoYm91cnMgPSBbLi4udGhpcy5uZWlnaGJvdXJpbmdFbGVtZW50c10uc29ydCgpO1xyXG5cclxuICAgIHJldHVybiBzb3J0ZWRBcnIuZXZlcnkoXHJcbiAgICAgIChlbGVtZW50LCBpbmRleCkgPT4gZWxlbWVudCA9PT0gc29ydGVkTmVpZ2hib3Vyc1tpbmRleF1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIGF0b21pYyBudW1iZXIgb2YgdGhpcyBhdG9tLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIGF0b21pYyBudW1iZXIgb2YgdGhpcyBhdG9tLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRBdG9taWNOdW1iZXIoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBBdG9tLmF0b21pY051bWJlcnNbdGhpcy5lbGVtZW50XTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgYXRvbWljIG51bWJlciBvZiB0aGlzIGF0b20uXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYXRvbWljIG51bWJlciBvZiB0aGlzIGF0b20uXHJcbiAgICovXHJcbiAgcHVibGljIGdldE1heEJvbmRzKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gQXRvbS5tYXhCb25kc1t0aGlzLmVsZW1lbnRdO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQSBtYXAgbWFwcGluZyBlbGVtZW50IHN5bWJvbHMgdG8gdGhlaXIgbWF4aW11bSBib25kcy5cclxuICAgKi9cclxuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBtYXhCb25kczogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHtcclxuICAgIEg6IDEsXHJcbiAgICBDOiA0LFxyXG4gICAgTjogMyxcclxuICAgIE86IDIsXHJcbiAgICBQOiAzLFxyXG4gICAgUzogMixcclxuICAgIEI6IDMsXHJcbiAgICBGOiAxLFxyXG4gICAgSTogMSxcclxuICAgIENsOiAxLFxyXG4gICAgQnI6IDEsXHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQSBtYXAgbWFwcGluZyBlbGVtZW50IHN5bWJvbHMgdG8gdGhlIGF0b21pYyBudW1iZXIuXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgYXRvbWljTnVtYmVyczogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHtcclxuICAgIEg6IDEsXHJcbiAgICBIZTogMixcclxuICAgIExpOiAzLFxyXG4gICAgQmU6IDQsXHJcbiAgICBCOiA1LFxyXG4gICAgYjogNSxcclxuICAgIEM6IDYsXHJcbiAgICBjOiA2LFxyXG4gICAgTjogNyxcclxuICAgIG46IDcsXHJcbiAgICBPOiA4LFxyXG4gICAgbzogOCxcclxuICAgIEY6IDksXHJcbiAgICBOZTogMTAsXHJcbiAgICBOYTogMTEsXHJcbiAgICBNZzogMTIsXHJcbiAgICBBbDogMTMsXHJcbiAgICBTaTogMTQsXHJcbiAgICBQOiAxNSxcclxuICAgIHA6IDE1LFxyXG4gICAgUzogMTYsXHJcbiAgICBzOiAxNixcclxuICAgIENsOiAxNyxcclxuICAgIEFyOiAxOCxcclxuICAgIEs6IDE5LFxyXG4gICAgQ2E6IDIwLFxyXG4gICAgU2M6IDIxLFxyXG4gICAgVGk6IDIyLFxyXG4gICAgVjogMjMsXHJcbiAgICBDcjogMjQsXHJcbiAgICBNbjogMjUsXHJcbiAgICBGZTogMjYsXHJcbiAgICBDbzogMjcsXHJcbiAgICBOaTogMjgsXHJcbiAgICBDdTogMjksXHJcbiAgICBabjogMzAsXHJcbiAgICBHYTogMzEsXHJcbiAgICBHZTogMzIsXHJcbiAgICBBczogMzMsXHJcbiAgICBTZTogMzQsXHJcbiAgICBCcjogMzUsXHJcbiAgICBLcjogMzYsXHJcbiAgICBSYjogMzcsXHJcbiAgICBTcjogMzgsXHJcbiAgICBZOiAzOSxcclxuICAgIFpyOiA0MCxcclxuICAgIE5iOiA0MSxcclxuICAgIE1vOiA0MixcclxuICAgIFRjOiA0MyxcclxuICAgIFJ1OiA0NCxcclxuICAgIFJoOiA0NSxcclxuICAgIFBkOiA0NixcclxuICAgIEFnOiA0NyxcclxuICAgIENkOiA0OCxcclxuICAgIEluOiA0OSxcclxuICAgIFNuOiA1MCxcclxuICAgIFNiOiA1MSxcclxuICAgIFRlOiA1MixcclxuICAgIEk6IDUzLFxyXG4gICAgWGU6IDU0LFxyXG4gICAgQ3M6IDU1LFxyXG4gICAgQmE6IDU2LFxyXG4gICAgTGE6IDU3LFxyXG4gICAgQ2U6IDU4LFxyXG4gICAgUHI6IDU5LFxyXG4gICAgTmQ6IDYwLFxyXG4gICAgUG06IDYxLFxyXG4gICAgU206IDYyLFxyXG4gICAgRXU6IDYzLFxyXG4gICAgR2Q6IDY0LFxyXG4gICAgVGI6IDY1LFxyXG4gICAgRHk6IDY2LFxyXG4gICAgSG86IDY3LFxyXG4gICAgRXI6IDY4LFxyXG4gICAgVG06IDY5LFxyXG4gICAgWWI6IDcwLFxyXG4gICAgTHU6IDcxLFxyXG4gICAgSGY6IDcyLFxyXG4gICAgVGE6IDczLFxyXG4gICAgVzogNzQsXHJcbiAgICBSZTogNzUsXHJcbiAgICBPczogNzYsXHJcbiAgICBJcjogNzcsXHJcbiAgICBQdDogNzgsXHJcbiAgICBBdTogNzksXHJcbiAgICBIZzogODAsXHJcbiAgICBUbDogODEsXHJcbiAgICBQYjogODIsXHJcbiAgICBCaTogODMsXHJcbiAgICBQbzogODQsXHJcbiAgICBBdDogODUsXHJcbiAgICBSbjogODYsXHJcbiAgICBGcjogODcsXHJcbiAgICBSYTogODgsXHJcbiAgICBBYzogODksXHJcbiAgICBUaDogOTAsXHJcbiAgICBQYTogOTEsXHJcbiAgICBVOiA5MixcclxuICAgIE5wOiA5MyxcclxuICAgIFB1OiA5NCxcclxuICAgIEFtOiA5NSxcclxuICAgIENtOiA5NixcclxuICAgIEJrOiA5NyxcclxuICAgIENmOiA5OCxcclxuICAgIEVzOiA5OSxcclxuICAgIEZtOiAxMDAsXHJcbiAgICBNZDogMTAxLFxyXG4gICAgTm86IDEwMixcclxuICAgIExyOiAxMDMsXHJcbiAgICBSZjogMTA0LFxyXG4gICAgRGI6IDEwNSxcclxuICAgIFNnOiAxMDYsXHJcbiAgICBCaDogMTA3LFxyXG4gICAgSHM6IDEwOCxcclxuICAgIE10OiAxMDksXHJcbiAgICBEczogMTEwLFxyXG4gICAgUmc6IDExMSxcclxuICAgIENuOiAxMTIsXHJcbiAgICBVdXQ6IDExMyxcclxuICAgIFV1cTogMTE0LFxyXG4gICAgVXVwOiAxMTUsXHJcbiAgICBVdWg6IDExNixcclxuICAgIFV1czogMTE3LFxyXG4gICAgVXVvOiAxMTgsXHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQSBtYXAgbWFwcGluZyBlbGVtZW50IHN5bWJvbHMgdG8gdGhlIGF0b21pYyBtYXNzLlxyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IG1hc3M6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7XHJcbiAgICBIOiAxLFxyXG4gICAgSGU6IDIsXHJcbiAgICBMaTogMyxcclxuICAgIEJlOiA0LFxyXG4gICAgQjogNSxcclxuICAgIGI6IDUsXHJcbiAgICBDOiA2LFxyXG4gICAgYzogNixcclxuICAgIE46IDcsXHJcbiAgICBuOiA3LFxyXG4gICAgTzogOCxcclxuICAgIG86IDgsXHJcbiAgICBGOiA5LFxyXG4gICAgTmU6IDEwLFxyXG4gICAgTmE6IDExLFxyXG4gICAgTWc6IDEyLFxyXG4gICAgQWw6IDEzLFxyXG4gICAgU2k6IDE0LFxyXG4gICAgUDogMTUsXHJcbiAgICBwOiAxNSxcclxuICAgIFM6IDE2LFxyXG4gICAgczogMTYsXHJcbiAgICBDbDogMTcsXHJcbiAgICBBcjogMTgsXHJcbiAgICBLOiAxOSxcclxuICAgIENhOiAyMCxcclxuICAgIFNjOiAyMSxcclxuICAgIFRpOiAyMixcclxuICAgIFY6IDIzLFxyXG4gICAgQ3I6IDI0LFxyXG4gICAgTW46IDI1LFxyXG4gICAgRmU6IDI2LFxyXG4gICAgQ286IDI3LFxyXG4gICAgTmk6IDI4LFxyXG4gICAgQ3U6IDI5LFxyXG4gICAgWm46IDMwLFxyXG4gICAgR2E6IDMxLFxyXG4gICAgR2U6IDMyLFxyXG4gICAgQXM6IDMzLFxyXG4gICAgU2U6IDM0LFxyXG4gICAgQnI6IDM1LFxyXG4gICAgS3I6IDM2LFxyXG4gICAgUmI6IDM3LFxyXG4gICAgU3I6IDM4LFxyXG4gICAgWTogMzksXHJcbiAgICBacjogNDAsXHJcbiAgICBOYjogNDEsXHJcbiAgICBNbzogNDIsXHJcbiAgICBUYzogNDMsXHJcbiAgICBSdTogNDQsXHJcbiAgICBSaDogNDUsXHJcbiAgICBQZDogNDYsXHJcbiAgICBBZzogNDcsXHJcbiAgICBDZDogNDgsXHJcbiAgICBJbjogNDksXHJcbiAgICBTbjogNTAsXHJcbiAgICBTYjogNTEsXHJcbiAgICBUZTogNTIsXHJcbiAgICBJOiA1MyxcclxuICAgIFhlOiA1NCxcclxuICAgIENzOiA1NSxcclxuICAgIEJhOiA1NixcclxuICAgIExhOiA1NyxcclxuICAgIENlOiA1OCxcclxuICAgIFByOiA1OSxcclxuICAgIE5kOiA2MCxcclxuICAgIFBtOiA2MSxcclxuICAgIFNtOiA2MixcclxuICAgIEV1OiA2MyxcclxuICAgIEdkOiA2NCxcclxuICAgIFRiOiA2NSxcclxuICAgIER5OiA2NixcclxuICAgIEhvOiA2NyxcclxuICAgIEVyOiA2OCxcclxuICAgIFRtOiA2OSxcclxuICAgIFliOiA3MCxcclxuICAgIEx1OiA3MSxcclxuICAgIEhmOiA3MixcclxuICAgIFRhOiA3MyxcclxuICAgIFc6IDc0LFxyXG4gICAgUmU6IDc1LFxyXG4gICAgT3M6IDc2LFxyXG4gICAgSXI6IDc3LFxyXG4gICAgUHQ6IDc4LFxyXG4gICAgQXU6IDc5LFxyXG4gICAgSGc6IDgwLFxyXG4gICAgVGw6IDgxLFxyXG4gICAgUGI6IDgyLFxyXG4gICAgQmk6IDgzLFxyXG4gICAgUG86IDg0LFxyXG4gICAgQXQ6IDg1LFxyXG4gICAgUm46IDg2LFxyXG4gICAgRnI6IDg3LFxyXG4gICAgUmE6IDg4LFxyXG4gICAgQWM6IDg5LFxyXG4gICAgVGg6IDkwLFxyXG4gICAgUGE6IDkxLFxyXG4gICAgVTogOTIsXHJcbiAgICBOcDogOTMsXHJcbiAgICBQdTogOTQsXHJcbiAgICBBbTogOTUsXHJcbiAgICBDbTogOTYsXHJcbiAgICBCazogOTcsXHJcbiAgICBDZjogOTgsXHJcbiAgICBFczogOTksXHJcbiAgICBGbTogMTAwLFxyXG4gICAgTWQ6IDEwMSxcclxuICAgIE5vOiAxMDIsXHJcbiAgICBMcjogMTAzLFxyXG4gICAgUmY6IDEwNCxcclxuICAgIERiOiAxMDUsXHJcbiAgICBTZzogMTA2LFxyXG4gICAgQmg6IDEwNyxcclxuICAgIEhzOiAxMDgsXHJcbiAgICBNdDogMTA5LFxyXG4gICAgRHM6IDExMCxcclxuICAgIFJnOiAxMTEsXHJcbiAgICBDbjogMTEyLFxyXG4gICAgVXV0OiAxMTMsXHJcbiAgICBVdXE6IDExNCxcclxuICAgIFV1cDogMTE1LFxyXG4gICAgVXVoOiAxMTYsXHJcbiAgICBVdXM6IDExNyxcclxuICAgIFV1bzogMTE4LFxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgZ2V0Q2hhcmdlVGV4dCB9IGZyb20gXCIuL1V0aWxpdHlGdW5jdGlvbnNcIjtcclxuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuL1ZlY3RvcjJcIjtcclxuaW1wb3J0IHsgTWF0aEhlbHBlciB9IGZyb20gXCIuL01hdGhIZWxwZXJcIjtcclxuaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL0xpbmVcIjtcclxuaW1wb3J0IHsgVmVydGV4IH0gZnJvbSBcIi4vVmVydGV4XCI7XHJcbmltcG9ydCB7IFJpbmcgfSBmcm9tIFwiLi9SaW5nXCI7XHJcbmltcG9ydCB7IFRoZW1lTWFuYWdlciB9IGZyb20gXCIuL1RoZW1lTWFuYWdlclwiO1xyXG5cclxuLyoqXHJcbiAqIERyYXdpbmcgb3B0aW9ucyBpbnRlcmZhY2UgZm9yIENhbnZhc1dyYXBwZXJcclxuICovXHJcbmludGVyZmFjZSBEcmF3aW5nT3B0aW9ucyB7XHJcbiAgd2lkdGg6IG51bWJlcjtcclxuICBoZWlnaHQ6IG51bWJlcjtcclxuICBib25kVGhpY2tuZXNzOiBudW1iZXI7XHJcbiAgYm9uZExlbmd0aDogbnVtYmVyO1xyXG4gIHNob3J0Qm9uZExlbmd0aDogbnVtYmVyO1xyXG4gIGJvbmRTcGFjaW5nOiBudW1iZXI7XHJcbiAgcGFkZGluZzogbnVtYmVyO1xyXG4gIGZvbnRTaXplTGFyZ2U6IG51bWJlcjtcclxuICBmb250U2l6ZVNtYWxsOiBudW1iZXI7XHJcbiAgaGFsZkZvbnRTaXplTGFyZ2U6IG51bWJlcjtcclxuICBmaWZ0aEZvbnRTaXplU21hbGw6IG51bWJlcjtcclxuICBxdWFydGVyRm9udFNpemVMYXJnZTogbnVtYmVyO1xyXG4gIFtrZXk6IHN0cmluZ106IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgY2xhc3Mgd3JhcHBpbmcgYSBjYW52YXMgZWxlbWVudC5cclxuICpcclxuICogQHByb3BlcnR5IHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIFRoZSBIVE1MIGVsZW1lbnQgZm9yIHRoZSBjYW52YXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgQ2FudmFzV3JhcHBlciBpbnN0YW5jZS5cclxuICogQHByb3BlcnR5IHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBUaGUgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIG9mIHRoZSBjYW52YXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgQ2FudmFzV3JhcHBlciBpbnN0YW5jZS5cclxuICogQHByb3BlcnR5IHtUaGVtZU1hbmFnZXJ9IHRoZW1lTWFuYWdlciBUaGVtZSBtYW5hZ2VyIGZvciBnZXR0aW5nIGNvbG9ycy5cclxuICogQHByb3BlcnR5IHtEcmF3aW5nT3B0aW9uc30gb3B0cyBUaGUgU21pbGVzRHJhd2VyIG9wdGlvbnMuXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBkcmF3aW5nV2lkdGggVGhlIHdpZHRoIG9mIHRoZSBjYW52YXMuXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBkcmF3aW5nSGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIGNhbnZhcy5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IG9mZnNldFggVGhlIGhvcml6b250YWwgb2Zmc2V0IHJlcXVpcmVkIGZvciBjZW50ZXJpbmcgdGhlIGRyYXdpbmcuXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBvZmZzZXRZIFRoZSB2ZXJ0aWNhbCBvZmZzZXQgcmVxdWlyZWQgZm9yIGNlbnRlcmluZyB0aGUgZHJhd2luZy5cclxuICogQHByb3BlcnR5IHtTdHJpbmd9IGZvbnRMYXJnZSBUaGUgbGFyZ2UgZm9udCBzaXplIGluIHB0LlxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gZm9udFNtYWxsIFRoZSBzbWFsbCBmb250IHNpemUgaW4gcHQuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FudmFzV3JhcHBlciB7XHJcbiAgcHVibGljIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgcHVibGljIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gIHByaXZhdGUgdGhlbWVNYW5hZ2VyOiBUaGVtZU1hbmFnZXI7XHJcbiAgcHJpdmF0ZSBvcHRzOiBEcmF3aW5nT3B0aW9ucztcclxuICBwdWJsaWMgZHJhd2luZ1dpZHRoOiBudW1iZXI7XHJcbiAgcHVibGljIGRyYXdpbmdIZWlnaHQ6IG51bWJlcjtcclxuICBwdWJsaWMgb2Zmc2V0WDogbnVtYmVyO1xyXG4gIHB1YmxpYyBvZmZzZXRZOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBmb250TGFyZ2U6IHN0cmluZztcclxuICBwcml2YXRlIGZvbnRTbWFsbDogc3RyaW5nO1xyXG4gIHByaXZhdGUgaHlkcm9nZW5XaWR0aDogbnVtYmVyO1xyXG4gIHByaXZhdGUgaGFsZkh5ZHJvZ2VuV2lkdGg6IG51bWJlcjtcclxuICBwcml2YXRlIGhhbGZCb25kVGhpY2tuZXNzOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBkZXZpY2VQaXhlbFJhdGlvOiBudW1iZXIgPSAxO1xyXG4gIHByaXZhdGUgYmFja2luZ1N0b3JlUmF0aW86IG51bWJlciA9IDE7XHJcbiAgcHJpdmF0ZSByYXRpbzogbnVtYmVyID0gMTtcclxuICBwcml2YXRlIGNvbG9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgY29uc3RydWN0b3IgZm9yIHRoZSBjbGFzcyBDYW52YXNXcmFwcGVyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsoU3RyaW5nfEhUTUxFbGVtZW50KX0gdGFyZ2V0IFRoZSBjYW52YXMgaWQgb3IgdGhlIGNhbnZhcyBIVE1MRWxlbWVudC5cclxuICAgKiBAcGFyYW0ge1RoZW1lTWFuYWdlcn0gdGhlbWVNYW5hZ2VyIFRoZW1lIG1hbmFnZXIgZm9yIHNldHRpbmcgcHJvcGVyIGNvbG9ycy5cclxuICAgKiBAcGFyYW0ge0RyYXdpbmdPcHRpb25zfSBvcHRpb25zIFRoZSBzbWlsZXMgZHJhd2VyIG9wdGlvbnMgb2JqZWN0LlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHRhcmdldDogc3RyaW5nIHwgSFRNTENhbnZhc0VsZW1lbnQsIHRoZW1lTWFuYWdlcjogVGhlbWVNYW5hZ2VyLCBvcHRpb25zOiBEcmF3aW5nT3B0aW9ucykge1xyXG4gICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jYW52YXMgPSB0YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikhO1xyXG4gICAgdGhpcy50aGVtZU1hbmFnZXIgPSB0aGVtZU1hbmFnZXI7XHJcbiAgICB0aGlzLm9wdHMgPSBvcHRpb25zO1xyXG4gICAgdGhpcy5kcmF3aW5nV2lkdGggPSAwLjA7XHJcbiAgICB0aGlzLmRyYXdpbmdIZWlnaHQgPSAwLjA7XHJcbiAgICB0aGlzLm9mZnNldFggPSAwLjA7XHJcbiAgICB0aGlzLm9mZnNldFkgPSAwLjA7XHJcblxyXG4gICAgdGhpcy5mb250TGFyZ2UgPVxyXG4gICAgICB0aGlzLm9wdHMuZm9udFNpemVMYXJnZSArIFwicHQgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZlwiO1xyXG4gICAgdGhpcy5mb250U21hbGwgPVxyXG4gICAgICB0aGlzLm9wdHMuZm9udFNpemVTbWFsbCArIFwicHQgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZlwiO1xyXG5cclxuICAgIHRoaXMudXBkYXRlU2l6ZSh0aGlzLm9wdHMud2lkdGgsIHRoaXMub3B0cy5oZWlnaHQpO1xyXG5cclxuICAgIHRoaXMuY3R4LmZvbnQgPSB0aGlzLmZvbnRMYXJnZTtcclxuICAgIHRoaXMuaHlkcm9nZW5XaWR0aCA9IHRoaXMuY3R4Lm1lYXN1cmVUZXh0KFwiSFwiKS53aWR0aDtcclxuICAgIHRoaXMuaGFsZkh5ZHJvZ2VuV2lkdGggPSB0aGlzLmh5ZHJvZ2VuV2lkdGggLyAyLjA7XHJcbiAgICB0aGlzLmhhbGZCb25kVGhpY2tuZXNzID0gdGhpcy5vcHRzLmJvbmRUaGlja25lc3MgLyAyLjA7XHJcblxyXG4gICAgLy8gVE9ETzogRmluZCBvdXQgd2h5IGNsZWFyIHdhcyBoZXJlLlxyXG4gICAgLy8gdGhpcy5jbGVhcigpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBjYW52YXNcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcclxuICAgKi9cclxuICBwdWJsaWMgdXBkYXRlU2l6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5kZXZpY2VQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcclxuICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4IGFzIGFueTsgLy8gVmVuZG9yLXByZWZpeGVkIHByb3BlcnRpZXMgbm90IGluIHN0YW5kYXJkIHR5cGVzXHJcbiAgICB0aGlzLmJhY2tpbmdTdG9yZVJhdGlvID1cclxuICAgICAgY3R4LndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcclxuICAgICAgY3R4Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcclxuICAgICAgY3R4Lm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxyXG4gICAgICBjdHgub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcclxuICAgICAgY3R4LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcclxuICAgICAgMTtcclxuICAgIHRoaXMucmF0aW8gPSB0aGlzLmRldmljZVBpeGVsUmF0aW8gLyB0aGlzLmJhY2tpbmdTdG9yZVJhdGlvO1xyXG5cclxuICAgIGlmICh0aGlzLnJhdGlvICE9PSAxKSB7XHJcbiAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGggKiB0aGlzLnJhdGlvO1xyXG4gICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQgKiB0aGlzLnJhdGlvO1xyXG4gICAgICB0aGlzLmNhbnZhcy5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xyXG4gICAgICB0aGlzLmNhbnZhcy5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgIHRoaXMuY3R4LnNldFRyYW5zZm9ybSh0aGlzLnJhdGlvLCAwLCAwLCB0aGlzLnJhdGlvLCAwLCAwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGggKiB0aGlzLnJhdGlvO1xyXG4gICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQgKiB0aGlzLnJhdGlvO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyBhIHByb3ZpZGVkIHRoZW1lLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IHRoZW1lIEEgdGhlbWUgZnJvbSB0aGUgc21pbGVzIGRyYXdlciBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXRUaGVtZSh0aGVtZTogUmVjb3JkPHN0cmluZywgc3RyaW5nPik6IHZvaWQge1xyXG4gICAgdGhpcy5jb2xvcnMgPSB0aGVtZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNjYWxlIHRoZSBjYW52YXMgYmFzZWQgb24gdmVydGV4IHBvc2l0aW9ucy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7VmVydGV4W119IHZlcnRpY2VzIEFuIGFycmF5IG9mIHZlcnRpY2VzIGNvbnRhaW5pbmcgdGhlIHZlcnRpY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBtb2xlY3VsZS5cclxuICAgKi9cclxuICBwdWJsaWMgc2NhbGUodmVydGljZXM6IFZlcnRleFtdKTogdm9pZCB7XHJcbiAgICAvLyBGaWd1cmUgb3V0IHRoZSBmaW5hbCBzaXplIG9mIHRoZSBpbWFnZVxyXG4gICAgbGV0IG1heFggPSAtTnVtYmVyLk1BWF9WQUxVRTtcclxuICAgIGxldCBtYXhZID0gLU51bWJlci5NQVhfVkFMVUU7XHJcbiAgICBsZXQgbWluWCA9IE51bWJlci5NQVhfVkFMVUU7XHJcbiAgICBsZXQgbWluWSA9IE51bWJlci5NQVhfVkFMVUU7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoIXZlcnRpY2VzW2ldLnZhbHVlLmlzRHJhd24pIHtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IHAgPSB2ZXJ0aWNlc1tpXS5wb3NpdGlvbjtcclxuXHJcbiAgICAgIGlmIChtYXhYIDwgcC54KSBtYXhYID0gcC54O1xyXG4gICAgICBpZiAobWF4WSA8IHAueSkgbWF4WSA9IHAueTtcclxuICAgICAgaWYgKG1pblggPiBwLngpIG1pblggPSBwLng7XHJcbiAgICAgIGlmIChtaW5ZID4gcC55KSBtaW5ZID0gcC55O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBwYWRkaW5nXHJcbiAgICB2YXIgcGFkZGluZyA9IHRoaXMub3B0cy5wYWRkaW5nO1xyXG4gICAgbWF4WCArPSBwYWRkaW5nO1xyXG4gICAgbWF4WSArPSBwYWRkaW5nO1xyXG4gICAgbWluWCAtPSBwYWRkaW5nO1xyXG4gICAgbWluWSAtPSBwYWRkaW5nO1xyXG5cclxuICAgIHRoaXMuZHJhd2luZ1dpZHRoID0gbWF4WCAtIG1pblg7XHJcbiAgICB0aGlzLmRyYXdpbmdIZWlnaHQgPSBtYXhZIC0gbWluWTtcclxuXHJcbiAgICB2YXIgc2NhbGVYID0gdGhpcy5jYW52YXMub2Zmc2V0V2lkdGggLyB0aGlzLmRyYXdpbmdXaWR0aDtcclxuICAgIHZhciBzY2FsZVkgPSB0aGlzLmNhbnZhcy5vZmZzZXRIZWlnaHQgLyB0aGlzLmRyYXdpbmdIZWlnaHQ7XHJcblxyXG4gICAgdmFyIHNjYWxlID0gc2NhbGVYIDwgc2NhbGVZID8gc2NhbGVYIDogc2NhbGVZO1xyXG5cclxuICAgIHRoaXMuY3R4LnNjYWxlKHNjYWxlLCBzY2FsZSk7XHJcblxyXG4gICAgdGhpcy5vZmZzZXRYID0gLW1pblg7XHJcbiAgICB0aGlzLm9mZnNldFkgPSAtbWluWTtcclxuXHJcbiAgICAvLyBDZW50ZXJcclxuICAgIGlmIChzY2FsZVggPCBzY2FsZVkpIHtcclxuICAgICAgdGhpcy5vZmZzZXRZICs9XHJcbiAgICAgICAgdGhpcy5jYW52YXMub2Zmc2V0SGVpZ2h0IC8gKDIuMCAqIHNjYWxlKSAtIHRoaXMuZHJhd2luZ0hlaWdodCAvIDIuMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMub2Zmc2V0WCArPVxyXG4gICAgICAgIHRoaXMuY2FudmFzLm9mZnNldFdpZHRoIC8gKDIuMCAqIHNjYWxlKSAtIHRoaXMuZHJhd2luZ1dpZHRoIC8gMi4wO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVzZXRzIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhbnZhcy5cclxuICAgKi9cclxuICBwdWJsaWMgcmVzZXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmN0eC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBoZXggY29kZSBvZiBhIGNvbG9yIGFzc29jaWF0ZWQgd2l0aCBhIGtleSBmcm9tIHRoZSBjdXJyZW50IHRoZW1lLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUgY29sb3Iga2V5IGluIHRoZSB0aGVtZSAoZS5nLiBDLCBOLCBCQUNLR1JPVU5ELCAuLi4pLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IEEgY29sb3IgaGV4IHZhbHVlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRDb2xvcihrZXk6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBrZXkgPSBrZXkudG9VcHBlckNhc2UoKTtcclxuXHJcbiAgICBpZiAoa2V5IGluIHRoaXMuY29sb3JzKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmNvbG9yc1trZXldO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmNvbG9yc1tcIkNcIl07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEcmF3cyBhIGNpcmNsZSB0byBhIGNhbnZhcyBjb250ZXh0LlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIGNpcmNsZXMgY2VudGVyLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIGNpcmNsZXMgY2VudGVyLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXMgVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIEEgaGV4IGVuY29kZWQgY29sb3IuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbZmlsbD10cnVlXSBXaGV0aGVyIHRvIGZpbGwgb3Igc3Ryb2tlIHRoZSBjaXJjbGUuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbZGVidWc9ZmFsc2VdIERyYXcgaW4gZGVidWcgbW9kZS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW2RlYnVnVGV4dD0nJ10gQSBkZWJ1ZyBtZXNzYWdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkcmF3Q2lyY2xlKHg6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6IG51bWJlciwgY29sb3I6IHN0cmluZywgZmlsbDogYm9vbGVhbiA9IHRydWUsIGRlYnVnOiBib29sZWFuID0gZmFsc2UsIGRlYnVnVGV4dDogc3RyaW5nID0gXCJcIik6IHZvaWQge1xyXG4gICAgbGV0IGN0eCA9IHRoaXMuY3R4O1xyXG4gICAgbGV0IG9mZnNldFggPSB0aGlzLm9mZnNldFg7XHJcbiAgICBsZXQgb2Zmc2V0WSA9IHRoaXMub2Zmc2V0WTtcclxuXHJcbiAgICBjdHguc2F2ZSgpO1xyXG4gICAgY3R4LmxpbmVXaWR0aCA9IDEuNTtcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5hcmMoeCArIG9mZnNldFgsIHkgKyBvZmZzZXRZLCByYWRpdXMsIDAsIE1hdGhIZWxwZXIudHdvUEksIHRydWUpO1xyXG4gICAgY3R4LmNsb3NlUGF0aCgpO1xyXG5cclxuICAgIGlmIChkZWJ1Zykge1xyXG4gICAgICBpZiAoZmlsbCkge1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIiNmMDBcIjtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiI2YwMFwiO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5kcmF3RGVidWdUZXh0KHgsIHksIGRlYnVnVGV4dCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoZmlsbCkge1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEcmF3IGEgbGluZSB0byBhIGNhbnZhcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TGluZX0gbGluZSBBIGxpbmUuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbZGFzaGVkPWZhbHNlXSBXaGV0aGVyIG9yIG5vdCB0aGUgbGluZSBpcyBkYXNoZWQuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFthbHBoYT0xLjBdIFRoZSBhbHBoYSB2YWx1ZSBvZiB0aGUgY29sb3IuXHJcbiAgICovXHJcbiAgcHVibGljIGRyYXdMaW5lKGxpbmU6IExpbmUsIGRhc2hlZDogYm9vbGVhbiA9IGZhbHNlLCBhbHBoYTogbnVtYmVyID0gMS4wKTogdm9pZCB7XHJcbiAgICBsZXQgY3R4ID0gdGhpcy5jdHg7XHJcbiAgICBsZXQgb2Zmc2V0WCA9IHRoaXMub2Zmc2V0WDtcclxuICAgIGxldCBvZmZzZXRZID0gdGhpcy5vZmZzZXRZO1xyXG5cclxuICAgIC8vIEFkZCBhIHNoYWRvdyBiZWhpbmQgdGhlIGxpbmVcclxuICAgIGxldCBzaG9ydExpbmUgPSBsaW5lLmNsb25lKCkuc2hvcnRlbig0LjApO1xyXG5cclxuICAgIGxldCBsID0gc2hvcnRMaW5lLmdldExlZnRWZWN0b3IoKS5jbG9uZSgpO1xyXG4gICAgbGV0IHIgPSBzaG9ydExpbmUuZ2V0UmlnaHRWZWN0b3IoKS5jbG9uZSgpO1xyXG5cclxuICAgIGwueCArPSBvZmZzZXRYO1xyXG4gICAgbC55ICs9IG9mZnNldFk7XHJcblxyXG4gICAgci54ICs9IG9mZnNldFg7XHJcbiAgICByLnkgKz0gb2Zmc2V0WTtcclxuXHJcbiAgICAvLyBEcmF3IHRoZSBcInNoYWRvd1wiXHJcbiAgICBpZiAoIWRhc2hlZCkge1xyXG4gICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJkZXN0aW5hdGlvbi1vdXRcIjtcclxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICBjdHgubW92ZVRvKGwueCwgbC55KTtcclxuICAgICAgY3R4LmxpbmVUbyhyLngsIHIueSk7XHJcbiAgICAgIGN0eC5saW5lQ2FwID0gXCJyb3VuZFwiO1xyXG4gICAgICBjdHgubGluZVdpZHRoID0gdGhpcy5vcHRzLmJvbmRUaGlja25lc3MgKyAxLjI7XHJcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMudGhlbWVNYW5hZ2VyLmdldENvbG9yKFwiQkFDS0dST1VORFwiKTtcclxuICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2Utb3ZlclwiO1xyXG4gICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGwgPSBsaW5lLmdldExlZnRWZWN0b3IoKS5jbG9uZSgpO1xyXG4gICAgciA9IGxpbmUuZ2V0UmlnaHRWZWN0b3IoKS5jbG9uZSgpO1xyXG5cclxuICAgIGwueCArPSBvZmZzZXRYO1xyXG4gICAgbC55ICs9IG9mZnNldFk7XHJcblxyXG4gICAgci54ICs9IG9mZnNldFg7XHJcbiAgICByLnkgKz0gb2Zmc2V0WTtcclxuXHJcbiAgICBjdHguc2F2ZSgpO1xyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3R4Lm1vdmVUbyhsLngsIGwueSk7XHJcbiAgICBjdHgubGluZVRvKHIueCwgci55KTtcclxuICAgIGN0eC5saW5lQ2FwID0gXCJyb3VuZFwiO1xyXG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMub3B0cy5ib25kVGhpY2tuZXNzO1xyXG5cclxuICAgIGxldCBncmFkaWVudCA9IHRoaXMuY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KGwueCwgbC55LCByLngsIHIueSk7XHJcbiAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoXHJcbiAgICAgIDAuNCxcclxuICAgICAgdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IobGluZS5nZXRMZWZ0RWxlbWVudCgpIHx8IFwiQ1wiKVxyXG4gICAgKTtcclxuICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChcclxuICAgICAgMC42LFxyXG4gICAgICB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcihsaW5lLmdldFJpZ2h0RWxlbWVudCgpIHx8IFwiQ1wiKVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoZGFzaGVkKSB7XHJcbiAgICAgIGN0eC5zZXRMaW5lRGFzaChbMSwgMS41XSk7XHJcbiAgICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLm9wdHMuYm9uZFRoaWNrbmVzcyAvIDEuNTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYWxwaGEgPCAxLjApIHtcclxuICAgICAgY3R4Lmdsb2JhbEFscGhhID0gYWxwaGE7XHJcbiAgICB9XHJcblxyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gZ3JhZGllbnQ7XHJcblxyXG4gICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgY3R4LnJlc3RvcmUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXcgYSB3ZWRnZSBvbiB0aGUgY2FudmFzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtMaW5lfSBsaW5lIEEgbGluZS5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggVGhlIHdlZGdlIHdpZHRoLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkcmF3V2VkZ2UobGluZTogTGluZSwgd2lkdGg6IG51bWJlciA9IDEuMCk6IHZvaWQge1xyXG4gICAgaWYgKFxyXG4gICAgICBpc05hTihsaW5lLmZyb20ueCkgfHxcclxuICAgICAgaXNOYU4obGluZS5mcm9tLnkpIHx8XHJcbiAgICAgIGlzTmFOKGxpbmUudG8ueCkgfHxcclxuICAgICAgaXNOYU4obGluZS50by55KVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgY3R4ID0gdGhpcy5jdHg7XHJcbiAgICBsZXQgb2Zmc2V0WCA9IHRoaXMub2Zmc2V0WDtcclxuICAgIGxldCBvZmZzZXRZID0gdGhpcy5vZmZzZXRZO1xyXG5cclxuICAgIC8vIEFkZCBhIHNoYWRvdyBiZWhpbmQgdGhlIGxpbmVcclxuICAgIGxldCBzaG9ydExpbmUgPSBsaW5lLmNsb25lKCkuc2hvcnRlbig1LjApO1xyXG5cclxuICAgIGxldCBsID0gc2hvcnRMaW5lLmdldExlZnRWZWN0b3IoKS5jbG9uZSgpO1xyXG4gICAgbGV0IHIgPSBzaG9ydExpbmUuZ2V0UmlnaHRWZWN0b3IoKS5jbG9uZSgpO1xyXG5cclxuICAgIGwueCArPSBvZmZzZXRYO1xyXG4gICAgbC55ICs9IG9mZnNldFk7XHJcblxyXG4gICAgci54ICs9IG9mZnNldFg7XHJcbiAgICByLnkgKz0gb2Zmc2V0WTtcclxuXHJcbiAgICBsID0gbGluZS5nZXRMZWZ0VmVjdG9yKCkuY2xvbmUoKTtcclxuICAgIHIgPSBsaW5lLmdldFJpZ2h0VmVjdG9yKCkuY2xvbmUoKTtcclxuXHJcbiAgICBsLnggKz0gb2Zmc2V0WDtcclxuICAgIGwueSArPSBvZmZzZXRZO1xyXG5cclxuICAgIHIueCArPSBvZmZzZXRYO1xyXG4gICAgci55ICs9IG9mZnNldFk7XHJcblxyXG4gICAgY3R4LnNhdmUoKTtcclxuXHJcbiAgICBsZXQgbm9ybWFscyA9IFZlY3RvcjIubm9ybWFscyhsLCByKTtcclxuXHJcbiAgICBub3JtYWxzWzBdLm5vcm1hbGl6ZSgpO1xyXG4gICAgbm9ybWFsc1sxXS5ub3JtYWxpemUoKTtcclxuXHJcbiAgICBsZXQgaXNSaWdodENoaXJhbENlbnRlciA9IGxpbmUuZ2V0UmlnaHRDaGlyYWwoKTtcclxuXHJcbiAgICBsZXQgc3RhcnQgPSBsO1xyXG4gICAgbGV0IGVuZCA9IHI7XHJcblxyXG4gICAgaWYgKGlzUmlnaHRDaGlyYWxDZW50ZXIpIHtcclxuICAgICAgc3RhcnQgPSByO1xyXG4gICAgICBlbmQgPSBsO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB0ID0gVmVjdG9yMi5hZGQoXHJcbiAgICAgIHN0YXJ0LFxyXG4gICAgICBWZWN0b3IyLm11bHRpcGx5U2NhbGFyKG5vcm1hbHNbMF0sIHRoaXMuaGFsZkJvbmRUaGlja25lc3MpXHJcbiAgICApO1xyXG4gICAgbGV0IHUgPSBWZWN0b3IyLmFkZChcclxuICAgICAgZW5kLFxyXG4gICAgICBWZWN0b3IyLm11bHRpcGx5U2NhbGFyKG5vcm1hbHNbMF0sIDEuNSArIHRoaXMuaGFsZkJvbmRUaGlja25lc3MpXHJcbiAgICApO1xyXG4gICAgbGV0IHYgPSBWZWN0b3IyLmFkZChcclxuICAgICAgZW5kLFxyXG4gICAgICBWZWN0b3IyLm11bHRpcGx5U2NhbGFyKG5vcm1hbHNbMV0sIDEuNSArIHRoaXMuaGFsZkJvbmRUaGlja25lc3MpXHJcbiAgICApO1xyXG4gICAgbGV0IHcgPSBWZWN0b3IyLmFkZChcclxuICAgICAgc3RhcnQsXHJcbiAgICAgIFZlY3RvcjIubXVsdGlwbHlTY2FsYXIobm9ybWFsc1sxXSwgdGhpcy5oYWxmQm9uZFRoaWNrbmVzcylcclxuICAgICk7XHJcblxyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3R4Lm1vdmVUbyh0LngsIHQueSk7XHJcbiAgICBjdHgubGluZVRvKHUueCwgdS55KTtcclxuICAgIGN0eC5saW5lVG8odi54LCB2LnkpO1xyXG4gICAgY3R4LmxpbmVUbyh3LngsIHcueSk7XHJcblxyXG4gICAgbGV0IGdyYWRpZW50ID0gdGhpcy5jdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoXHJcbiAgICAgIHIueCxcclxuICAgICAgci55LFxyXG4gICAgICB0aGlzLm9wdHMuYm9uZExlbmd0aCxcclxuICAgICAgci54LFxyXG4gICAgICByLnksXHJcbiAgICAgIDBcclxuICAgICk7XHJcbiAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoXHJcbiAgICAgIDAuNCxcclxuICAgICAgdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IobGluZS5nZXRMZWZ0RWxlbWVudCgpIHx8IFwiQ1wiKVxyXG4gICAgKTtcclxuICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChcclxuICAgICAgMC42LFxyXG4gICAgICB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcihsaW5lLmdldFJpZ2h0RWxlbWVudCgpIHx8IFwiQ1wiKVxyXG4gICAgKTtcclxuXHJcbiAgICBjdHguZmlsbFN0eWxlID0gZ3JhZGllbnQ7XHJcblxyXG4gICAgY3R4LmZpbGwoKTtcclxuICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEcmF3IGEgZGFzaGVkIHdlZGdlIG9uIHRoZSBjYW52YXMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0xpbmV9IGxpbmUgQSBsaW5lLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkcmF3RGFzaGVkV2VkZ2UobGluZTogTGluZSk6IHZvaWQge1xyXG4gICAgaWYgKFxyXG4gICAgICBpc05hTihsaW5lLmZyb20ueCkgfHxcclxuICAgICAgaXNOYU4obGluZS5mcm9tLnkpIHx8XHJcbiAgICAgIGlzTmFOKGxpbmUudG8ueCkgfHxcclxuICAgICAgaXNOYU4obGluZS50by55KVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgY3R4ID0gdGhpcy5jdHg7XHJcbiAgICBsZXQgb2Zmc2V0WCA9IHRoaXMub2Zmc2V0WDtcclxuICAgIGxldCBvZmZzZXRZID0gdGhpcy5vZmZzZXRZO1xyXG5cclxuICAgIGxldCBsID0gbGluZS5nZXRMZWZ0VmVjdG9yKCkuY2xvbmUoKTtcclxuICAgIGxldCByID0gbGluZS5nZXRSaWdodFZlY3RvcigpLmNsb25lKCk7XHJcblxyXG4gICAgbC54ICs9IG9mZnNldFg7XHJcbiAgICBsLnkgKz0gb2Zmc2V0WTtcclxuXHJcbiAgICByLnggKz0gb2Zmc2V0WDtcclxuICAgIHIueSArPSBvZmZzZXRZO1xyXG5cclxuICAgIGN0eC5zYXZlKCk7XHJcblxyXG4gICAgbGV0IG5vcm1hbHMgPSBWZWN0b3IyLm5vcm1hbHMobCwgcik7XHJcblxyXG4gICAgbm9ybWFsc1swXS5ub3JtYWxpemUoKTtcclxuICAgIG5vcm1hbHNbMV0ubm9ybWFsaXplKCk7XHJcblxyXG4gICAgbGV0IGlzUmlnaHRDaGlyYWxDZW50ZXIgPSBsaW5lLmdldFJpZ2h0Q2hpcmFsKCk7XHJcblxyXG4gICAgbGV0IHN0YXJ0O1xyXG4gICAgbGV0IGVuZDtcclxuICAgIGxldCBzU3RhcnQ7XHJcbiAgICBsZXQgc0VuZDtcclxuXHJcbiAgICBsZXQgc2hvcnRMaW5lID0gbGluZS5jbG9uZSgpO1xyXG5cclxuICAgIGlmIChpc1JpZ2h0Q2hpcmFsQ2VudGVyKSB7XHJcbiAgICAgIHN0YXJ0ID0gcjtcclxuICAgICAgZW5kID0gbDtcclxuXHJcbiAgICAgIHNob3J0TGluZS5zaG9ydGVuUmlnaHQoMS4wKTtcclxuXHJcbiAgICAgIHNTdGFydCA9IHNob3J0TGluZS5nZXRSaWdodFZlY3RvcigpLmNsb25lKCk7XHJcbiAgICAgIHNFbmQgPSBzaG9ydExpbmUuZ2V0TGVmdFZlY3RvcigpLmNsb25lKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdGFydCA9IGw7XHJcbiAgICAgIGVuZCA9IHI7XHJcblxyXG4gICAgICBzaG9ydExpbmUuc2hvcnRlbkxlZnQoMS4wKTtcclxuXHJcbiAgICAgIHNTdGFydCA9IHNob3J0TGluZS5nZXRMZWZ0VmVjdG9yKCkuY2xvbmUoKTtcclxuICAgICAgc0VuZCA9IHNob3J0TGluZS5nZXRSaWdodFZlY3RvcigpLmNsb25lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc1N0YXJ0LnggKz0gb2Zmc2V0WDtcclxuICAgIHNTdGFydC55ICs9IG9mZnNldFk7XHJcbiAgICBzRW5kLnggKz0gb2Zmc2V0WDtcclxuICAgIHNFbmQueSArPSBvZmZzZXRZO1xyXG5cclxuICAgIGxldCBkaXIgPSBWZWN0b3IyLnN1YnRyYWN0KGVuZCwgc3RhcnQpLm5vcm1hbGl6ZSgpO1xyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IoXCJDXCIpO1xyXG4gICAgY3R4LmxpbmVDYXAgPSBcInJvdW5kXCI7XHJcbiAgICBjdHgubGluZVdpZHRoID0gdGhpcy5vcHRzLmJvbmRUaGlja25lc3M7XHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBsZXQgbGVuZ3RoID0gbGluZS5nZXRMZW5ndGgoKTtcclxuICAgIGxldCBzdGVwID0gMS4yNSAvIChsZW5ndGggLyAodGhpcy5vcHRzLmJvbmRUaGlja25lc3MgKiAzLjApKTtcclxuXHJcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgZm9yICh2YXIgdCA9IDAuMDsgdCA8IDEuMDsgdCArPSBzdGVwKSB7XHJcbiAgICAgIGxldCB0byA9IFZlY3RvcjIubXVsdGlwbHlTY2FsYXIoZGlyLCB0ICogbGVuZ3RoKTtcclxuICAgICAgbGV0IHN0YXJ0RGFzaCA9IFZlY3RvcjIuYWRkKHN0YXJ0LCB0byk7XHJcbiAgICAgIGxldCB3aWR0aCA9IDEuNSAqIHQ7XHJcbiAgICAgIGxldCBkYXNoT2Zmc2V0ID0gVmVjdG9yMi5tdWx0aXBseVNjYWxhcihub3JtYWxzWzBdLCB3aWR0aCk7XHJcblxyXG4gICAgICBpZiAoIWNoYW5nZWQgJiYgdCA+IDAuNSkge1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IobGluZS5nZXRSaWdodEVsZW1lbnQoKSB8fCBcIkNcIik7XHJcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHN0YXJ0RGFzaC5zdWJ0cmFjdChkYXNoT2Zmc2V0KTtcclxuICAgICAgY3R4Lm1vdmVUbyhzdGFydERhc2gueCwgc3RhcnREYXNoLnkpO1xyXG4gICAgICBzdGFydERhc2guYWRkKFZlY3RvcjIubXVsdGlwbHlTY2FsYXIoZGFzaE9mZnNldCwgMi4wKSk7XHJcbiAgICAgIGN0eC5saW5lVG8oc3RhcnREYXNoLngsIHN0YXJ0RGFzaC55KTtcclxuICAgIH1cclxuXHJcbiAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICBjdHgucmVzdG9yZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRHJhd3MgYSBkZWJ1ZyB0ZXh0IG1lc3NhZ2UgYXQgYSBnaXZlbiBwb3NpdGlvblxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHggY29vcmRpbmF0ZS5cclxuICAgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSBjb29yZGluYXRlLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IFRoZSBkZWJ1ZyB0ZXh0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkcmF3RGVidWdUZXh0KHg6IG51bWJlciwgeTogbnVtYmVyLCB0ZXh0OiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGxldCBjdHggPSB0aGlzLmN0eDtcclxuXHJcbiAgICBjdHguc2F2ZSgpO1xyXG4gICAgY3R4LmZvbnQgPSBcIjVweCBEcm9pZCBTYW5zLCBzYW5zLXNlcmlmXCI7XHJcbiAgICBjdHgudGV4dEFsaWduID0gXCJzdGFydFwiO1xyXG4gICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gXCIjZmYwMDAwXCI7XHJcbiAgICBjdHguZmlsbFRleHQodGV4dCwgeCArIHRoaXMub2Zmc2V0WCwgeSArIHRoaXMub2Zmc2V0WSk7XHJcbiAgICBjdHgucmVzdG9yZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRHJhdyBhIGJhbGwgdG8gdGhlIGNhbnZhcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IHBvc2l0aW9uIG9mIHRoZSB0ZXh0LlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IHBvc2l0aW9uIG9mIHRoZSB0ZXh0LlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBlbGVtZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZWxlbWVudCAoc2luZ2xlLWxldHRlcikuXHJcbiAgICovXHJcbiAgcHVibGljIGRyYXdCYWxsKHg6IG51bWJlciwgeTogbnVtYmVyLCBlbGVtZW50TmFtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBsZXQgY3R4ID0gdGhpcy5jdHg7XHJcblxyXG4gICAgY3R4LnNhdmUoKTtcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5hcmMoXHJcbiAgICAgIHggKyB0aGlzLm9mZnNldFgsXHJcbiAgICAgIHkgKyB0aGlzLm9mZnNldFksXHJcbiAgICAgIHRoaXMub3B0cy5ib25kTGVuZ3RoIC8gNC41LFxyXG4gICAgICAwLFxyXG4gICAgICBNYXRoSGVscGVyLnR3b1BJLFxyXG4gICAgICBmYWxzZVxyXG4gICAgKTtcclxuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcihlbGVtZW50TmFtZSk7XHJcbiAgICBjdHguZmlsbCgpO1xyXG4gICAgY3R4LnJlc3RvcmUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXcgYSBwb2ludCB0byB0aGUgY2FudmFzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHggcG9zaXRpb24gb2YgdGhlIHBvaW50LlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IHBvc2l0aW9uIG9mIHRoZSBwb2ludC5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZWxlbWVudE5hbWUgVGhlIG5hbWUgb2YgdGhlIGVsZW1lbnQgKHNpbmdsZS1sZXR0ZXIpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkcmF3UG9pbnQoeDogbnVtYmVyLCB5OiBudW1iZXIsIGVsZW1lbnROYW1lOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGxldCBjdHggPSB0aGlzLmN0eDtcclxuICAgIGxldCBvZmZzZXRYID0gdGhpcy5vZmZzZXRYO1xyXG4gICAgbGV0IG9mZnNldFkgPSB0aGlzLm9mZnNldFk7XHJcblxyXG4gICAgY3R4LnNhdmUoKTtcclxuICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcImRlc3RpbmF0aW9uLW91dFwiO1xyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3R4LmFyYyh4ICsgb2Zmc2V0WCwgeSArIG9mZnNldFksIDEuNSwgMCwgTWF0aEhlbHBlci50d29QSSwgdHJ1ZSk7XHJcbiAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICBjdHguZmlsbCgpO1xyXG4gICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLW92ZXJcIjtcclxuXHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHguYXJjKFxyXG4gICAgICB4ICsgdGhpcy5vZmZzZXRYLFxyXG4gICAgICB5ICsgdGhpcy5vZmZzZXRZLFxyXG4gICAgICAwLjc1LFxyXG4gICAgICAwLFxyXG4gICAgICBNYXRoSGVscGVyLnR3b1BJLFxyXG4gICAgICBmYWxzZVxyXG4gICAgKTtcclxuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcihlbGVtZW50TmFtZSk7XHJcbiAgICBjdHguZmlsbCgpO1xyXG4gICAgY3R4LnJlc3RvcmUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXcgYSB0ZXh0IHRvIHRoZSBjYW52YXMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBwb3NpdGlvbiBvZiB0aGUgdGV4dC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSBwb3NpdGlvbiBvZiB0aGUgdGV4dC5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZWxlbWVudE5hbWUgVGhlIG5hbWUgb2YgdGhlIGVsZW1lbnQgKHNpbmdsZS1sZXR0ZXIpLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBoeWRyb2dlbnMgVGhlIG51bWJlciBvZiBoeWRyb2dlbiBhdG9tcy5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gb2YgdGhlIHRleHQgaW4gcmVsYXRpb24gdG8gdGhlIGFzc29jaWF0ZWQgdmVydGV4LlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNUZXJtaW5hbCBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVydGV4IGlzIHRlcm1pbmFsLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFyZ2UgVGhlIGNoYXJnZSBvZiB0aGUgYXRvbS5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gaXNvdG9wZSBUaGUgaXNvdG9wZSBudW1iZXIuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlcnRleENvdW50IFRoZSBudW1iZXIgb2YgdmVydGljZXMgaW4gdGhlIG1vbGVjdWxhciBncmFwaC5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gYXR0YWNoZWRQc2V1ZG9FbGVtZW50IEEgbWFwIHdpdGggY29udGFpbmluZyBpbmZvcm1hdGlvbiBmb3IgcHNldWRvIGVsZW1lbnRzIG9yIGNvbmNhdGluYXRlZCBlbGVtZW50cy4gVGhlIGtleSBpcyBjb21wcmlzZWQgb2YgdGhlIGVsZW1lbnQgc3ltYm9sIGFuZCB0aGUgaHlkcm9nZW4gY291bnQuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGF0dGFjaGVkUHNldWRvRWxlbWVudC5lbGVtZW50IFRoZSBlbGVtZW50IHN5bWJvbC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gYXR0YWNoZWRQc2V1ZG9FbGVtZW50LmNvdW50IFRoZSBudW1iZXIgb2Ygb2NjdXJlbmNlcyB0aGF0IG1hdGNoIHRoZSBrZXkuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGF0dGFjaGVkUHNldWRvRWxlbWVudC5oeXJvZ2VuQ291bnQgVGhlIG51bWJlciBvZiBoeWRyb2dlbnMgYXR0YWNoZWQgdG8gZWFjaCBhdG9tIG1hdGNoaW5nIHRoZSBrZXkuXHJcbiAgICovXHJcbiAgcHVibGljIGRyYXdUZXh0KFxyXG4gICAgeDogbnVtYmVyLFxyXG4gICAgeTogbnVtYmVyLFxyXG4gICAgZWxlbWVudE5hbWU6IHN0cmluZyxcclxuICAgIGh5ZHJvZ2VuczogbnVtYmVyLFxyXG4gICAgZGlyZWN0aW9uOiBzdHJpbmcsXHJcbiAgICBpc1Rlcm1pbmFsOiBib29sZWFuLFxyXG4gICAgY2hhcmdlOiBudW1iZXIsXHJcbiAgICBpc290b3BlOiBudW1iZXIsXHJcbiAgICB2ZXJ0ZXhDb3VudDogbnVtYmVyLFxyXG4gICAgYXR0YWNoZWRQc2V1ZG9FbGVtZW50OiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge31cclxuICApOiB2b2lkIHtcclxuICAgIGxldCBjdHggPSB0aGlzLmN0eDtcclxuICAgIGxldCBvZmZzZXRYID0gdGhpcy5vZmZzZXRYO1xyXG4gICAgbGV0IG9mZnNldFkgPSB0aGlzLm9mZnNldFk7XHJcblxyXG4gICAgY3R4LnNhdmUoKTtcclxuXHJcbiAgICBjdHgudGV4dEFsaWduID0gXCJzdGFydFwiO1xyXG4gICAgY3R4LnRleHRCYXNlbGluZSA9IFwiYWxwaGFiZXRpY1wiO1xyXG5cclxuICAgIGxldCBwc2V1ZG9FbGVtZW50SGFuZGxlZCA9IGZhbHNlO1xyXG5cclxuICAgIC8vIENoYXJnZVxyXG4gICAgbGV0IGNoYXJnZVRleHQgPSBcIlwiO1xyXG4gICAgbGV0IGNoYXJnZVdpZHRoID0gMDtcclxuXHJcbiAgICBpZiAoY2hhcmdlKSB7XHJcbiAgICAgIGNoYXJnZVRleHQgPSBnZXRDaGFyZ2VUZXh0KGNoYXJnZSk7XHJcblxyXG4gICAgICBjdHguZm9udCA9IHRoaXMuZm9udFNtYWxsO1xyXG4gICAgICBjaGFyZ2VXaWR0aCA9IGN0eC5tZWFzdXJlVGV4dChjaGFyZ2VUZXh0KS53aWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaXNvdG9wZVRleHQgPSBcIjBcIjtcclxuICAgIGxldCBpc290b3BlV2lkdGggPSAwO1xyXG5cclxuICAgIGlmIChpc290b3BlID4gMCkge1xyXG4gICAgICBpc290b3BlVGV4dCA9IGlzb3RvcGUudG9TdHJpbmcoKTtcclxuICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRTbWFsbDtcclxuICAgICAgaXNvdG9wZVdpZHRoID0gY3R4Lm1lYXN1cmVUZXh0KGlzb3RvcGVUZXh0KS53aWR0aDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiBCZXR0ZXIgaGFuZGxlIGV4Y2VwdGlvbnNcclxuICAgIC8vIEV4Y2VwdGlvbiBmb3Igbml0cm8gKGRyYXcgbml0cm8gYXMgTk8yIGluc3RlYWQgb2YgTitPLU8pXHJcbiAgICBpZiAoXHJcbiAgICAgIGNoYXJnZSA9PT0gMSAmJlxyXG4gICAgICBlbGVtZW50TmFtZSA9PT0gXCJOXCIgJiZcclxuICAgICAgYXR0YWNoZWRQc2V1ZG9FbGVtZW50Lmhhc093blByb3BlcnR5KFwiME9cIikgJiZcclxuICAgICAgYXR0YWNoZWRQc2V1ZG9FbGVtZW50Lmhhc093blByb3BlcnR5KFwiME8tMVwiKVxyXG4gICAgKSB7XHJcbiAgICAgIGF0dGFjaGVkUHNldWRvRWxlbWVudCA9IHtcclxuICAgICAgICBcIjBPXCI6IHtcclxuICAgICAgICAgIGVsZW1lbnQ6IFwiT1wiLFxyXG4gICAgICAgICAgY291bnQ6IDIsXHJcbiAgICAgICAgICBoeWRyb2dlbkNvdW50OiAwLFxyXG4gICAgICAgICAgcHJldmlvdXNFbGVtZW50OiBcIkNcIixcclxuICAgICAgICAgIGNoYXJnZTogXCJcIixcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgICBjaGFyZ2UgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGN0eC5mb250ID0gdGhpcy5mb250TGFyZ2U7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IoXCJCQUNLR1JPVU5EXCIpO1xyXG5cclxuICAgIGxldCBkaW0gPSBjdHgubWVhc3VyZVRleHQoZWxlbWVudE5hbWUpIGFzIFRleHRNZXRyaWNzICYgeyB0b3RhbFdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH07XHJcblxyXG4gICAgZGltLnRvdGFsV2lkdGggPSBkaW0ud2lkdGggKyBjaGFyZ2VXaWR0aDtcclxuICAgIGRpbS5oZWlnaHQgPSBwYXJzZUludCh0aGlzLmZvbnRMYXJnZSwgMTApO1xyXG5cclxuICAgIGxldCByID1cclxuICAgICAgZGltLndpZHRoID4gdGhpcy5vcHRzLmZvbnRTaXplTGFyZ2UgPyBkaW0ud2lkdGggOiB0aGlzLm9wdHMuZm9udFNpemVMYXJnZTtcclxuICAgIHIgLz0gMS41O1xyXG5cclxuICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcImRlc3RpbmF0aW9uLW91dFwiO1xyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3R4LmFyYyh4ICsgb2Zmc2V0WCwgeSArIG9mZnNldFksIHIsIDAsIE1hdGhIZWxwZXIudHdvUEksIHRydWUpO1xyXG4gICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgY3R4LmZpbGwoKTtcclxuICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1vdmVyXCI7XHJcblxyXG4gICAgbGV0IGN1cnNvclBvcyA9IC1kaW0ud2lkdGggLyAyLjA7XHJcbiAgICBsZXQgY3Vyc29yUG9zTGVmdCA9IC1kaW0ud2lkdGggLyAyLjA7XHJcblxyXG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMudGhlbWVNYW5hZ2VyLmdldENvbG9yKGVsZW1lbnROYW1lKTtcclxuICAgIGN0eC5maWxsVGV4dChcclxuICAgICAgZWxlbWVudE5hbWUsXHJcbiAgICAgIHggKyBvZmZzZXRYICsgY3Vyc29yUG9zLFxyXG4gICAgICB5ICsgdGhpcy5vcHRzLmhhbGZGb250U2l6ZUxhcmdlICsgb2Zmc2V0WVxyXG4gICAgKTtcclxuICAgIGN1cnNvclBvcyArPSBkaW0ud2lkdGg7XHJcblxyXG4gICAgaWYgKGNoYXJnZSkge1xyXG4gICAgICBjdHguZm9udCA9IHRoaXMuZm9udFNtYWxsO1xyXG4gICAgICBjdHguZmlsbFRleHQoXHJcbiAgICAgICAgY2hhcmdlVGV4dCxcclxuICAgICAgICB4ICsgb2Zmc2V0WCArIGN1cnNvclBvcyxcclxuICAgICAgICB5IC0gdGhpcy5vcHRzLmZpZnRoRm9udFNpemVTbWFsbCArIG9mZnNldFlcclxuICAgICAgKTtcclxuICAgICAgY3Vyc29yUG9zICs9IGNoYXJnZVdpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc290b3BlID4gMCkge1xyXG4gICAgICBjdHguZm9udCA9IHRoaXMuZm9udFNtYWxsO1xyXG4gICAgICBjdHguZmlsbFRleHQoXHJcbiAgICAgICAgaXNvdG9wZVRleHQsXHJcbiAgICAgICAgeCArIG9mZnNldFggKyBjdXJzb3JQb3NMZWZ0IC0gaXNvdG9wZVdpZHRoLFxyXG4gICAgICAgIHkgLSB0aGlzLm9wdHMuZmlmdGhGb250U2l6ZVNtYWxsICsgb2Zmc2V0WVxyXG4gICAgICApO1xyXG4gICAgICBjdXJzb3JQb3NMZWZ0IC09IGlzb3RvcGVXaWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBjdHguZm9udCA9IHRoaXMuZm9udExhcmdlO1xyXG5cclxuICAgIGxldCBoeWRyb2dlbldpZHRoID0gMDtcclxuICAgIGxldCBoeWRyb2dlbkNvdW50V2lkdGggPSAwO1xyXG5cclxuICAgIGlmIChoeWRyb2dlbnMgPT09IDEpIHtcclxuICAgICAgbGV0IGh4ID0geCArIG9mZnNldFg7XHJcbiAgICAgIGxldCBoeSA9IHkgKyBvZmZzZXRZICsgdGhpcy5vcHRzLmhhbGZGb250U2l6ZUxhcmdlO1xyXG5cclxuICAgICAgaHlkcm9nZW5XaWR0aCA9IHRoaXMuaHlkcm9nZW5XaWR0aDtcclxuICAgICAgY3Vyc29yUG9zTGVmdCAtPSBoeWRyb2dlbldpZHRoO1xyXG5cclxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIpIHtcclxuICAgICAgICBoeCArPSBjdXJzb3JQb3NMZWZ0O1xyXG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gXCJyaWdodFwiKSB7XHJcbiAgICAgICAgaHggKz0gY3Vyc29yUG9zO1xyXG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gXCJ1cFwiICYmIGlzVGVybWluYWwpIHtcclxuICAgICAgICBoeCArPSBjdXJzb3JQb3M7XHJcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBcImRvd25cIiAmJiBpc1Rlcm1pbmFsKSB7XHJcbiAgICAgICAgaHggKz0gY3Vyc29yUG9zO1xyXG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gXCJ1cFwiICYmICFpc1Rlcm1pbmFsKSB7XHJcbiAgICAgICAgaHkgLT0gdGhpcy5vcHRzLmZvbnRTaXplTGFyZ2UgKyB0aGlzLm9wdHMucXVhcnRlckZvbnRTaXplTGFyZ2U7XHJcbiAgICAgICAgaHggLT0gdGhpcy5oYWxmSHlkcm9nZW5XaWR0aDtcclxuICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFwiZG93blwiICYmICFpc1Rlcm1pbmFsKSB7XHJcbiAgICAgICAgaHkgKz0gdGhpcy5vcHRzLmZvbnRTaXplTGFyZ2UgKyB0aGlzLm9wdHMucXVhcnRlckZvbnRTaXplTGFyZ2U7XHJcbiAgICAgICAgaHggLT0gdGhpcy5oYWxmSHlkcm9nZW5XaWR0aDtcclxuICAgICAgfVxyXG5cclxuICAgICAgY3R4LmZpbGxUZXh0KFwiSFwiLCBoeCwgaHkpO1xyXG5cclxuICAgICAgY3Vyc29yUG9zICs9IGh5ZHJvZ2VuV2lkdGg7XHJcbiAgICB9IGVsc2UgaWYgKGh5ZHJvZ2VucyA+IDEpIHtcclxuICAgICAgbGV0IGh4ID0geCArIG9mZnNldFg7XHJcbiAgICAgIGxldCBoeSA9IHkgKyBvZmZzZXRZICsgdGhpcy5vcHRzLmhhbGZGb250U2l6ZUxhcmdlO1xyXG5cclxuICAgICAgaHlkcm9nZW5XaWR0aCA9IHRoaXMuaHlkcm9nZW5XaWR0aDtcclxuICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRTbWFsbDtcclxuICAgICAgaHlkcm9nZW5Db3VudFdpZHRoID0gY3R4Lm1lYXN1cmVUZXh0KGh5ZHJvZ2Vucy50b1N0cmluZygpKS53aWR0aDtcclxuICAgICAgY3Vyc29yUG9zTGVmdCAtPSBoeWRyb2dlbldpZHRoICsgaHlkcm9nZW5Db3VudFdpZHRoO1xyXG5cclxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIpIHtcclxuICAgICAgICBoeCArPSBjdXJzb3JQb3NMZWZ0O1xyXG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gXCJyaWdodFwiKSB7XHJcbiAgICAgICAgaHggKz0gY3Vyc29yUG9zO1xyXG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gXCJ1cFwiICYmIGlzVGVybWluYWwpIHtcclxuICAgICAgICBoeCArPSBjdXJzb3JQb3M7XHJcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBcImRvd25cIiAmJiBpc1Rlcm1pbmFsKSB7XHJcbiAgICAgICAgaHggKz0gY3Vyc29yUG9zO1xyXG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gXCJ1cFwiICYmICFpc1Rlcm1pbmFsKSB7XHJcbiAgICAgICAgaHkgLT0gdGhpcy5vcHRzLmZvbnRTaXplTGFyZ2UgKyB0aGlzLm9wdHMucXVhcnRlckZvbnRTaXplTGFyZ2U7XHJcbiAgICAgICAgaHggLT0gdGhpcy5oYWxmSHlkcm9nZW5XaWR0aDtcclxuICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFwiZG93blwiICYmICFpc1Rlcm1pbmFsKSB7XHJcbiAgICAgICAgaHkgKz0gdGhpcy5vcHRzLmZvbnRTaXplTGFyZ2UgKyB0aGlzLm9wdHMucXVhcnRlckZvbnRTaXplTGFyZ2U7XHJcbiAgICAgICAgaHggLT0gdGhpcy5oYWxmSHlkcm9nZW5XaWR0aDtcclxuICAgICAgfVxyXG5cclxuICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRMYXJnZTtcclxuICAgICAgY3R4LmZpbGxUZXh0KFwiSFwiLCBoeCwgaHkpO1xyXG5cclxuICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRTbWFsbDtcclxuICAgICAgY3R4LmZpbGxUZXh0KFxyXG4gICAgICAgIGh5ZHJvZ2Vucy50b1N0cmluZygpLFxyXG4gICAgICAgIGh4ICsgdGhpcy5oYWxmSHlkcm9nZW5XaWR0aCArIGh5ZHJvZ2VuQ291bnRXaWR0aCxcclxuICAgICAgICBoeSArIHRoaXMub3B0cy5maWZ0aEZvbnRTaXplU21hbGxcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGN1cnNvclBvcyArPSBoeWRyb2dlbldpZHRoICsgdGhpcy5oYWxmSHlkcm9nZW5XaWR0aCArIGh5ZHJvZ2VuQ291bnRXaWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocHNldWRvRWxlbWVudEhhbmRsZWQpIHtcclxuICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGtleSBpbiBhdHRhY2hlZFBzZXVkb0VsZW1lbnQpIHtcclxuICAgICAgaWYgKCFhdHRhY2hlZFBzZXVkb0VsZW1lbnQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgb3BlblBhcmVudGhlc2lzV2lkdGggPSAwO1xyXG4gICAgICBsZXQgY2xvc2VQYXJlbnRoZXNpc1dpZHRoID0gMDtcclxuXHJcbiAgICAgIGxldCBlbGVtZW50ID0gYXR0YWNoZWRQc2V1ZG9FbGVtZW50W2tleV0uZWxlbWVudDtcclxuICAgICAgbGV0IGVsZW1lbnRDb3VudCA9IGF0dGFjaGVkUHNldWRvRWxlbWVudFtrZXldLmNvdW50O1xyXG4gICAgICBsZXQgaHlkcm9nZW5Db3VudCA9IGF0dGFjaGVkUHNldWRvRWxlbWVudFtrZXldLmh5ZHJvZ2VuQ291bnQ7XHJcbiAgICAgIGxldCBlbGVtZW50Q2hhcmdlID0gYXR0YWNoZWRQc2V1ZG9FbGVtZW50W2tleV0uY2hhcmdlO1xyXG5cclxuICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRMYXJnZTtcclxuXHJcbiAgICAgIGlmIChlbGVtZW50Q291bnQgPiAxICYmIGh5ZHJvZ2VuQ291bnQgPiAwKSB7XHJcbiAgICAgICAgb3BlblBhcmVudGhlc2lzV2lkdGggPSBjdHgubWVhc3VyZVRleHQoXCIoXCIpLndpZHRoO1xyXG4gICAgICAgIGNsb3NlUGFyZW50aGVzaXNXaWR0aCA9IGN0eC5tZWFzdXJlVGV4dChcIilcIikud2lkdGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBlbGVtZW50V2lkdGggPSBjdHgubWVhc3VyZVRleHQoZWxlbWVudCkud2lkdGg7XHJcbiAgICAgIGxldCBlbGVtZW50Q291bnRXaWR0aCA9IDA7XHJcblxyXG4gICAgICBsZXQgZWxlbWVudENoYXJnZVRleHQgPSBcIlwiO1xyXG4gICAgICBsZXQgZWxlbWVudENoYXJnZVdpZHRoID0gMDtcclxuXHJcbiAgICAgIGh5ZHJvZ2VuV2lkdGggPSAwO1xyXG5cclxuICAgICAgaWYgKGh5ZHJvZ2VuQ291bnQgPiAwKSB7XHJcbiAgICAgICAgaHlkcm9nZW5XaWR0aCA9IHRoaXMuaHlkcm9nZW5XaWR0aDtcclxuICAgICAgfVxyXG5cclxuICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRTbWFsbDtcclxuXHJcbiAgICAgIGlmIChlbGVtZW50Q291bnQgPiAxKSB7XHJcbiAgICAgICAgZWxlbWVudENvdW50V2lkdGggPSBjdHgubWVhc3VyZVRleHQoZWxlbWVudENvdW50KS53aWR0aDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGVsZW1lbnRDaGFyZ2UgIT09IDApIHtcclxuICAgICAgICBlbGVtZW50Q2hhcmdlVGV4dCA9IGdldENoYXJnZVRleHQoZWxlbWVudENoYXJnZSk7XHJcbiAgICAgICAgZWxlbWVudENoYXJnZVdpZHRoID0gY3R4Lm1lYXN1cmVUZXh0KGVsZW1lbnRDaGFyZ2VUZXh0KS53aWR0aDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaHlkcm9nZW5Db3VudFdpZHRoID0gMDtcclxuXHJcbiAgICAgIGlmIChoeWRyb2dlbkNvdW50ID4gMSkge1xyXG4gICAgICAgIGh5ZHJvZ2VuQ291bnRXaWR0aCA9IGN0eC5tZWFzdXJlVGV4dChoeWRyb2dlbkNvdW50KS53aWR0aDtcclxuICAgICAgfVxyXG5cclxuICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRMYXJnZTtcclxuXHJcbiAgICAgIGxldCBoeCA9IHggKyBvZmZzZXRYO1xyXG4gICAgICBsZXQgaHkgPSB5ICsgb2Zmc2V0WSArIHRoaXMub3B0cy5oYWxmRm9udFNpemVMYXJnZTtcclxuXHJcbiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcihlbGVtZW50KTtcclxuXHJcbiAgICAgIGlmIChlbGVtZW50Q291bnQgPiAwKSB7XHJcbiAgICAgICAgY3Vyc29yUG9zTGVmdCAtPSBlbGVtZW50Q291bnRXaWR0aDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGVsZW1lbnRDb3VudCA+IDEgJiYgaHlkcm9nZW5Db3VudCA+IDApIHtcclxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBcImxlZnRcIikge1xyXG4gICAgICAgICAgY3Vyc29yUG9zTGVmdCAtPSBjbG9zZVBhcmVudGhlc2lzV2lkdGg7XHJcbiAgICAgICAgICBjdHguZmlsbFRleHQoXCIpXCIsIGh4ICsgY3Vyc29yUG9zTGVmdCwgaHkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjdHguZmlsbFRleHQoXCIoXCIsIGh4ICsgY3Vyc29yUG9zLCBoeSk7XHJcbiAgICAgICAgICBjdXJzb3JQb3MgKz0gb3BlblBhcmVudGhlc2lzV2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSBcImxlZnRcIikge1xyXG4gICAgICAgIGN1cnNvclBvc0xlZnQgLT0gZWxlbWVudFdpZHRoO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dChlbGVtZW50LCBoeCArIGN1cnNvclBvc0xlZnQsIGh5KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjdHguZmlsbFRleHQoZWxlbWVudCwgaHggKyBjdXJzb3JQb3MsIGh5KTtcclxuICAgICAgICBjdXJzb3JQb3MgKz0gZWxlbWVudFdpZHRoO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaHlkcm9nZW5Db3VudCA+IDApIHtcclxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBcImxlZnRcIikge1xyXG4gICAgICAgICAgY3Vyc29yUG9zTGVmdCAtPSBoeWRyb2dlbldpZHRoICsgaHlkcm9nZW5Db3VudFdpZHRoO1xyXG4gICAgICAgICAgY3R4LmZpbGxUZXh0KFwiSFwiLCBoeCArIGN1cnNvclBvc0xlZnQsIGh5KTtcclxuXHJcbiAgICAgICAgICBpZiAoaHlkcm9nZW5Db3VudCA+IDEpIHtcclxuICAgICAgICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRTbWFsbDtcclxuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KFxyXG4gICAgICAgICAgICAgIGh5ZHJvZ2VuQ291bnQsXHJcbiAgICAgICAgICAgICAgaHggKyBjdXJzb3JQb3NMZWZ0ICsgaHlkcm9nZW5XaWR0aCxcclxuICAgICAgICAgICAgICBoeSArIHRoaXMub3B0cy5maWZ0aEZvbnRTaXplU21hbGxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY3R4LmZpbGxUZXh0KFwiSFwiLCBoeCArIGN1cnNvclBvcywgaHkpO1xyXG4gICAgICAgICAgY3Vyc29yUG9zICs9IGh5ZHJvZ2VuV2lkdGg7XHJcblxyXG4gICAgICAgICAgaWYgKGh5ZHJvZ2VuQ291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgIGN0eC5mb250ID0gdGhpcy5mb250U21hbGw7XHJcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChcclxuICAgICAgICAgICAgICBoeWRyb2dlbkNvdW50LFxyXG4gICAgICAgICAgICAgIGh4ICsgY3Vyc29yUG9zLFxyXG4gICAgICAgICAgICAgIGh5ICsgdGhpcy5vcHRzLmZpZnRoRm9udFNpemVTbWFsbFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBjdXJzb3JQb3MgKz0gaHlkcm9nZW5Db3VudFdpZHRoO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRMYXJnZTtcclxuXHJcbiAgICAgIGlmIChlbGVtZW50Q291bnQgPiAxICYmIGh5ZHJvZ2VuQ291bnQgPiAwKSB7XHJcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIpIHtcclxuICAgICAgICAgIGN1cnNvclBvc0xlZnQgLT0gb3BlblBhcmVudGhlc2lzV2lkdGg7XHJcbiAgICAgICAgICBjdHguZmlsbFRleHQoXCIoXCIsIGh4ICsgY3Vyc29yUG9zTGVmdCwgaHkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjdHguZmlsbFRleHQoXCIpXCIsIGh4ICsgY3Vyc29yUG9zLCBoeSk7XHJcbiAgICAgICAgICBjdXJzb3JQb3MgKz0gY2xvc2VQYXJlbnRoZXNpc1dpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRTbWFsbDtcclxuXHJcbiAgICAgIGlmIChlbGVtZW50Q291bnQgPiAxKSB7XHJcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIpIHtcclxuICAgICAgICAgIGN0eC5maWxsVGV4dChcclxuICAgICAgICAgICAgZWxlbWVudENvdW50LFxyXG4gICAgICAgICAgICBoeCArXHJcbiAgICAgICAgICAgICAgY3Vyc29yUG9zTGVmdCArXHJcbiAgICAgICAgICAgICAgb3BlblBhcmVudGhlc2lzV2lkdGggK1xyXG4gICAgICAgICAgICAgIGNsb3NlUGFyZW50aGVzaXNXaWR0aCArXHJcbiAgICAgICAgICAgICAgaHlkcm9nZW5XaWR0aCArXHJcbiAgICAgICAgICAgICAgaHlkcm9nZW5Db3VudFdpZHRoICtcclxuICAgICAgICAgICAgICBlbGVtZW50V2lkdGgsXHJcbiAgICAgICAgICAgIGh5ICsgdGhpcy5vcHRzLmZpZnRoRm9udFNpemVTbWFsbFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY3R4LmZpbGxUZXh0KFxyXG4gICAgICAgICAgICBlbGVtZW50Q291bnQsXHJcbiAgICAgICAgICAgIGh4ICsgY3Vyc29yUG9zLFxyXG4gICAgICAgICAgICBoeSArIHRoaXMub3B0cy5maWZ0aEZvbnRTaXplU21hbGxcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBjdXJzb3JQb3MgKz0gZWxlbWVudENvdW50V2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZWxlbWVudENoYXJnZSAhPT0gMCkge1xyXG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IFwibGVmdFwiKSB7XHJcbiAgICAgICAgICBjdHguZmlsbFRleHQoXHJcbiAgICAgICAgICAgIGVsZW1lbnRDaGFyZ2VUZXh0LFxyXG4gICAgICAgICAgICBoeCArXHJcbiAgICAgICAgICAgICAgY3Vyc29yUG9zTGVmdCArXHJcbiAgICAgICAgICAgICAgb3BlblBhcmVudGhlc2lzV2lkdGggK1xyXG4gICAgICAgICAgICAgIGNsb3NlUGFyZW50aGVzaXNXaWR0aCArXHJcbiAgICAgICAgICAgICAgaHlkcm9nZW5XaWR0aCArXHJcbiAgICAgICAgICAgICAgaHlkcm9nZW5Db3VudFdpZHRoICtcclxuICAgICAgICAgICAgICBlbGVtZW50V2lkdGgsXHJcbiAgICAgICAgICAgIHkgLSB0aGlzLm9wdHMuZmlmdGhGb250U2l6ZVNtYWxsICsgb2Zmc2V0WVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY3R4LmZpbGxUZXh0KFxyXG4gICAgICAgICAgICBlbGVtZW50Q2hhcmdlVGV4dCxcclxuICAgICAgICAgICAgaHggKyBjdXJzb3JQb3MsXHJcbiAgICAgICAgICAgIHkgLSB0aGlzLm9wdHMuZmlmdGhGb250U2l6ZVNtYWxsICsgb2Zmc2V0WVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGN1cnNvclBvcyArPSBlbGVtZW50Q2hhcmdlV2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY3R4LnJlc3RvcmUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRyYW5zbGF0ZSB0aGUgaW50ZWdlciBpbmRpY2F0aW5nIHRoZSBjaGFyZ2UgdG8gdGhlIGFwcHJvcHJpYXRlIHRleHQuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJnZSBUaGUgaW50ZWdlciBpbmRpY2F0aW5nIHRoZSBjaGFyZ2UuXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gQSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgY2hhcmdlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRDaGFyZ2VUZXh0KGNoYXJnZTogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgIGlmIChjaGFyZ2UgPT09IDEpIHtcclxuICAgICAgcmV0dXJuIFwiK1wiO1xyXG4gICAgfSBlbHNlIGlmIChjaGFyZ2UgPT09IDIpIHtcclxuICAgICAgcmV0dXJuIFwiMitcIjtcclxuICAgIH0gZWxzZSBpZiAoY2hhcmdlID09PSAtMSkge1xyXG4gICAgICByZXR1cm4gXCItXCI7XHJcbiAgICB9IGVsc2UgaWYgKGNoYXJnZSA9PT0gLTIpIHtcclxuICAgICAgcmV0dXJuIFwiMi1cIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRHJhd3MgYSBkdWJ1ZyBkb3QgYXQgYSBnaXZlbiBjb29yZGluYXRlIGFuZCBhZGRzIHRleHQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBjb29yZGluYXRlLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IGNvb3JkaW5kYXRlLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbZGVidWdUZXh0PScnXSBBIHN0cmluZy5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbG9yPScjZjAwJ10gQSBjb2xvciBpbiBoZXggZm9ybS5cclxuICAgKi9cclxuICBwdWJsaWMgZHJhd0RlYnVnUG9pbnQoeDogbnVtYmVyLCB5OiBudW1iZXIsIGRlYnVnVGV4dDogc3RyaW5nID0gXCJcIiwgY29sb3I6IHN0cmluZyA9IFwiI2YwMFwiKTogdm9pZCB7XHJcbiAgICB0aGlzLmRyYXdDaXJjbGUoeCwgeSwgMiwgY29sb3IsIHRydWUsIHRydWUsIGRlYnVnVGV4dCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEcmF3cyBhIHJpbmcgaW5zaWRlIGEgcHJvdmlkZWQgcmluZywgaW5kaWNhdGluZyBhcm9tYXRpY2l0eS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UmluZ30gcmluZyBBIHJpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIGRyYXdBcm9tYXRpY2l0eVJpbmcocmluZzogUmluZyk6IHZvaWQge1xyXG4gICAgbGV0IGN0eCA9IHRoaXMuY3R4O1xyXG4gICAgbGV0IHJhZGl1cyA9IE1hdGhIZWxwZXIuYXBvdGhlbUZyb21TaWRlTGVuZ3RoKFxyXG4gICAgICB0aGlzLm9wdHMuYm9uZExlbmd0aCxcclxuICAgICAgcmluZy5nZXRTaXplKClcclxuICAgICk7XHJcblxyXG4gICAgY3R4LnNhdmUoKTtcclxuICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMudGhlbWVNYW5hZ2VyLmdldENvbG9yKFwiQ1wiKTtcclxuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLm9wdHMuYm9uZFRoaWNrbmVzcztcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5hcmMoXHJcbiAgICAgIHJpbmcuY2VudGVyLnggKyB0aGlzLm9mZnNldFgsXHJcbiAgICAgIHJpbmcuY2VudGVyLnkgKyB0aGlzLm9mZnNldFksXHJcbiAgICAgIHJhZGl1cyAtIHRoaXMub3B0cy5ib25kU3BhY2luZyxcclxuICAgICAgMCxcclxuICAgICAgTWF0aC5QSSAqIDIsXHJcbiAgICAgIHRydWVcclxuICAgICk7XHJcbiAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICBjdHgucmVzdG9yZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2xlYXIgdGhlIGNhbnZhcy5cclxuICAgKlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcclxuICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy5vZmZzZXRXaWR0aCwgdGhpcy5jYW52YXMub2Zmc2V0SGVpZ2h0KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgU3ZnRHJhd2VyIH0gZnJvbSBcIi4vU3ZnRHJhd2VyXCI7XHJcblxyXG4vKipcclxuICogVGhlIG1haW4gY2xhc3Mgb2YgdGhlIGFwcGxpY2F0aW9uIHJlcHJlc2VudGluZyB0aGUgc21pbGVzIGRyYXdlclxyXG4gKlxyXG4gKiBAcHJvcGVydHkge0dyYXBofSBncmFwaCBUaGUgZ3JhcGggYXNzb2NpYXRlZCB3aXRoIHRoaXMgU21pbGVzRHJhd2VyLkRyYXdlciBpbnN0YW5jZS5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHJpbmdJZENvdW50ZXIgQW4gaW50ZXJuYWwgY291bnRlciB0byBrZWVwIHRyYWNrIG9mIHJpbmcgaWRzLlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gcmluZ0Nvbm5lY3Rpb25JZENvdW50ZXIgQW4gaW50ZXJuYWwgY291bnRlciB0byBrZWVwIHRyYWNrIG9mIHJpbmcgY29ubmVjdGlvbiBpZHMuXHJcbiAqIEBwcm9wZXJ0eSB7Q2FudmFzV3JhcHBlcn0gY2FudmFzV3JhcHBlciBUaGUgQ2FudmFzV3JhcHBlciBhc3NvY2lhdGVkIHdpdGggdGhpcyBTbWlsZXNEcmF3ZXIuRHJhd2VyIGluc3RhbmNlLlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gdG90YWxPdmVybGFwU2NvcmUgVGhlIGN1cnJlbnQgaW50ZXJuYWwgdG90YWwgb3ZlcmxhcCBzY29yZS5cclxuICogQHByb3BlcnR5IHtPYmplY3R9IGRlZmF1bHRPcHRpb25zIFRoZSBkZWZhdWx0IG9wdGlvbnMuXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvcHRzIFRoZSBtZXJnZWQgb3B0aW9ucy5cclxuICogQHByb3BlcnR5IHtPYmplY3R9IHRoZW1lIFRoZSBjdXJyZW50IHRoZW1lLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIERyYXdlciB7XHJcbiAgc3ZnRHJhd2VyOiBTdmdEcmF3ZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIGNsYXNzIFNtaWxlc0RyYXdlci5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIEFuIG9iamVjdCBjb250YWluaW5nIGN1c3RvbSB2YWx1ZXMgZm9yIGRpZmZlcmVudCBvcHRpb25zLiBJdCBpcyBtZXJnZWQgd2l0aCB0aGUgZGVmYXVsdCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IGFueSkge1xyXG4gICAgdGhpcy5zdmdEcmF3ZXIgPSBuZXcgU3ZnRHJhd2VyKG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRHJhd3MgdGhlIHBhcnNlZCBzbWlsZXMgZGF0YSB0byBhIGNhbnZhcyBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgVGhlIHRyZWUgcmV0dXJuZWQgYnkgdGhlIHNtaWxlcyBwYXJzZXIuXHJcbiAgICogQHBhcmFtIHsoU3RyaW5nfEhUTUxDYW52YXNFbGVtZW50KX0gdGFyZ2V0IFRoZSBpZCBvZiB0aGUgSFRNTCBjYW52YXMgZWxlbWVudCB0aGUgc3RydWN0dXJlIGlzIGRyYXduIHRvIC0gb3IgdGhlIGVsZW1lbnQgaXRzZWxmLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0aGVtZU5hbWU9J2RhcmsnIFRoZSBuYW1lIG9mIHRoZSB0aGVtZSB0byB1c2UuIEJ1aWx0LWluIHRoZW1lcyBhcmUgJ2xpZ2h0JyBhbmQgJ2RhcmsnLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaW5mb09ubHk9ZmFsc2UgT25seSBvdXRwdXQgaW5mbyBvbiB0aGUgbW9sZWN1bGUgd2l0aG91dCBkcmF3aW5nIGFueXRoaW5nIHRvIHRoZSBjYW52YXMuXHJcbiAgICovXHJcbiAgZHJhdyhcclxuICAgIGRhdGE6IGFueSxcclxuICAgIHRhcmdldDogc3RyaW5nIHwgSFRNTENhbnZhc0VsZW1lbnQsXHJcbiAgICB0aGVtZU5hbWU6IHN0cmluZyA9IFwibGlnaHRcIixcclxuICAgIGluZm9Pbmx5OiBib29sZWFuID0gZmFsc2UsXHJcbiAgICBoaWdobGlnaHRfYXRvbXM6IEFycmF5PG51bWJlcj4gPSBbXVxyXG4gICkge1xyXG4gICAgbGV0IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcInN0cmluZ1wiIHx8IHRhcmdldCBpbnN0YW5jZW9mIFN0cmluZykge1xyXG4gICAgICBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQgYXMgc3RyaW5nKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNhbnZhcyA9IHRhcmdldDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc3ZnOiBTVkdTVkdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XHJcbiAgICBzdmcuc2V0QXR0cmlidXRlKFwieG1sbnNcIiwgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiKTtcclxuICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhcclxuICAgICAgbnVsbCxcclxuICAgICAgXCJ2aWV3Qm94XCIsXHJcbiAgICAgIFwiMCAwIFwiICsgdGhpcy5zdmdEcmF3ZXIub3B0cy53aWR0aCArIFwiIFwiICsgdGhpcy5zdmdEcmF3ZXIub3B0cy5oZWlnaHRcclxuICAgICk7XHJcbiAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ3aWR0aFwiLCB0aGlzLnN2Z0RyYXdlci5vcHRzLndpZHRoICsgXCJcIik7XHJcbiAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJoZWlnaHRcIiwgdGhpcy5zdmdEcmF3ZXIub3B0cy5oZWlnaHQgKyBcIlwiKTtcclxuICAgIHRoaXMuc3ZnRHJhd2VyLmRyYXcoZGF0YSwgc3ZnLCB0aGVtZU5hbWUsIHVuZGVmaW5lZCwgaW5mb09ubHksIGhpZ2hsaWdodF9hdG9tcyk7IC8vIEFkZGVkIG51bGwgZm9yIHRoZW1lLCBpdCdzIG5vdCBkZWZpbmVkIGluIHRoaXMgbWV0aG9kLlxyXG4gICAgdGhpcy5zdmdEcmF3ZXIuc3ZnV3JhcHBlcj8udG9DYW52YXMoXHJcbiAgICAgIGNhbnZhcyxcclxuICAgICAgdGhpcy5zdmdEcmF3ZXIub3B0cy53aWR0aCxcclxuICAgICAgdGhpcy5zdmdEcmF3ZXIub3B0cy5oZWlnaHRcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSB0b3RhbCBvdmVybGFwIHNjb3JlIG9mIHRoZSBjdXJyZW50IG1vbGVjdWxlLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIG92ZXJsYXAgc2NvcmUuXHJcbiAgICovXHJcbiAgZ2V0VG90YWxPdmVybGFwU2NvcmUoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnN2Z0RyYXdlci5nZXRUb3RhbE92ZXJsYXBTY29yZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgbW9sZWN1bGFyIGZvcm11bGEgb2YgdGhlIGxvYWRlZCBtb2xlY3VsZSBhcyBhIHN0cmluZy5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBtb2xlY3VsYXIgZm9ybXVsYS5cclxuICAgKi9cclxuICBnZXRNb2xlY3VsYXJGb3JtdWxhKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5zdmdEcmF3ZXIuZ2V0TW9sZWN1bGFyRm9ybXVsYSgpO1xyXG4gIH1cclxufVxyXG4iLCIvLyBAdHMtbm9jaGVja1xuaW1wb3J0IHsgQXRvbSB9IGZyb20gXCIuL0F0b21cIjtcbmltcG9ydCB7IEFycmF5SGVscGVyIH0gZnJvbSBcIi4vQXJyYXlIZWxwZXJcIjtcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi9WZWN0b3IyXCI7XG5pbXBvcnQgeyBNYXRoSGVscGVyIH0gZnJvbSBcIi4vTWF0aEhlbHBlclwiO1xuaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL0xpbmVcIjtcbmltcG9ydCB7IEVkZ2UgfSBmcm9tIFwiLi9FZGdlXCI7XG5pbXBvcnQgeyBWZXJ0ZXggfSBmcm9tIFwiLi9WZXJ0ZXhcIjtcbmltcG9ydCB7IFRoZW1lTWFuYWdlciB9IGZyb20gXCIuL1RoZW1lTWFuYWdlclwiO1xuaW1wb3J0IHsgUmluZyB9IGZyb20gXCIuL1JpbmdcIjtcbmltcG9ydCB7IFJpbmdDb25uZWN0aW9uIH0gZnJvbSBcIi4vUmluZ0Nvbm5lY3Rpb25cIjtcbmltcG9ydCB7IEdyYXBoIH0gZnJvbSBcIi4vR3JhcGhcIjtcbmltcG9ydCB7IENhbnZhc1dyYXBwZXIgfSBmcm9tIFwiLi9DYW52YXNXcmFwcGVyXCI7XG5pbXBvcnQgeyBPcHRpb25zIH0gZnJvbSBcIi4vT3B0aW9uc1wiO1xuaW1wb3J0IHsgU1NTUiB9IGZyb20gXCIuL1NTU1JcIjtcbmltcG9ydCB0eXBlIHsgUGFyc2VUcmVlTm9kZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8qKlxuICogVGhlIG1haW4gY2xhc3Mgb2YgdGhlIGFwcGxpY2F0aW9uIHJlcHJlc2VudGluZyB0aGUgc21pbGVzIGRyYXdlclxuICovXG5leHBvcnQgY2xhc3MgRHJhd2VyQmFzZSB7XG4gIHB1YmxpYyBncmFwaDogR3JhcGggfCBudWxsID0gbnVsbDtcbiAgcHVibGljIHJpbmdzOiBSaW5nW10gPSBbXTtcbiAgcHVibGljIHJpbmdDb25uZWN0aW9uczogUmluZ0Nvbm5lY3Rpb25bXSA9IFtdO1xuICBwdWJsaWMgb3JpZ2luYWxSaW5nczogYW55W10gPSBbXTtcbiAgcHVibGljIHJpbmdJZENvdW50ZXI6IG51bWJlciA9IDA7XG4gIHB1YmxpYyByaW5nQ29ubmVjdGlvbklkQ291bnRlcjogbnVtYmVyID0gMDtcbiAgcHVibGljIGNhbnZhc1dyYXBwZXI6IENhbnZhc1dyYXBwZXIgfCBudWxsID0gbnVsbDtcbiAgcHVibGljIHRvdGFsT3ZlcmxhcFNjb3JlOiBudW1iZXIgPSAwO1xuICBwdWJsaWMgZGVmYXVsdE9wdGlvbnM6IGFueTtcbiAgcHVibGljIG9wdHM6IGFueTtcbiAgcHJpdmF0ZSBkb3VibGVCb25kQ29uZmlnQ291bnQ6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgZG91YmxlQm9uZENvbmZpZzogYW55ID0gbnVsbDtcbiAgcHJpdmF0ZSBicmlkZ2VkUmluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IGFueSkge1xuICAgIHRoaXMuZ3JhcGggPSBudWxsO1xuICAgIHRoaXMuZG91YmxlQm9uZENvbmZpZ0NvdW50ID0gMDtcbiAgICB0aGlzLmRvdWJsZUJvbmRDb25maWcgPSBudWxsO1xuICAgIHRoaXMucmluZ0lkQ291bnRlciA9IDA7XG4gICAgdGhpcy5yaW5nQ29ubmVjdGlvbklkQ291bnRlciA9IDA7XG4gICAgdGhpcy5jYW52YXNXcmFwcGVyID0gbnVsbDtcbiAgICB0aGlzLnRvdGFsT3ZlcmxhcFNjb3JlID0gMDtcblxuICAgIHRoaXMuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICB3aWR0aDogNTAwLFxuICAgICAgaGVpZ2h0OiA1MDAsXG4gICAgICBzY2FsZTogMC4wLFxuICAgICAgYm9uZFRoaWNrbmVzczogMS4wLFxuICAgICAgYm9uZExlbmd0aDogMzAsXG4gICAgICBzaG9ydEJvbmRMZW5ndGg6IDAuOCxcbiAgICAgIGJvbmRTcGFjaW5nOiAwLjE3ICogMzAsXG4gICAgICBhdG9tVmlzdWFsaXphdGlvbjogXCJkZWZhdWx0XCIsXG4gICAgICBpc29tZXJpYzogdHJ1ZSxcbiAgICAgIGRlYnVnOiBmYWxzZSxcbiAgICAgIHRlcm1pbmFsQ2FyYm9uczogZmFsc2UsXG4gICAgICBleHBsaWNpdEh5ZHJvZ2VuczogdHJ1ZSxcbiAgICAgIG92ZXJsYXBTZW5zaXRpdml0eTogMC40MixcbiAgICAgIG92ZXJsYXBSZXNvbHV0aW9uSXRlcmF0aW9uczogMSxcbiAgICAgIGNvbXBhY3REcmF3aW5nOiB0cnVlLFxuICAgICAgZm9udEZhbWlseTogXCJBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmXCIsXG4gICAgICBmb250U2l6ZUxhcmdlOiAxMSxcbiAgICAgIGZvbnRTaXplU21hbGw6IDMsXG4gICAgICBwYWRkaW5nOiAxMC4wLFxuICAgICAgZXhwZXJpbWVudGFsU1NTUjogZmFsc2UsXG4gICAgICBra1RocmVzaG9sZDogMC4xLFxuICAgICAga2tJbm5lclRocmVzaG9sZDogMC4xLFxuICAgICAga2tNYXhJdGVyYXRpb246IDIwMDAwLFxuICAgICAga2tNYXhJbm5lckl0ZXJhdGlvbjogNTAsXG4gICAgICBra01heEVuZXJneTogMWU5LFxuICAgICAgd2VpZ2h0czoge1xuICAgICAgICBjb2xvcm1hcDogbnVsbCxcbiAgICAgICAgYWRkaXRpb25hbFBhZGRpbmc6IDIwLjAsXG4gICAgICAgIHNpZ21hOiAxMCxcbiAgICAgICAgaW50ZXJ2YWw6IDAuMCxcbiAgICAgICAgb3BhY2l0eTogMS4wLFxuICAgICAgfSxcbiAgICAgIHRoZW1lczoge1xuICAgICAgICBkYXJrOiB7XG4gICAgICAgICAgQzogXCIjZmZmXCIsXG4gICAgICAgICAgTzogXCIjZTc0YzNjXCIsXG4gICAgICAgICAgTjogXCIjMzQ5OGRiXCIsXG4gICAgICAgICAgRjogXCIjMjdhZTYwXCIsXG4gICAgICAgICAgQ0w6IFwiIzE2YTA4NVwiLFxuICAgICAgICAgIEJSOiBcIiNkMzU0MDBcIixcbiAgICAgICAgICBJOiBcIiM4ZTQ0YWRcIixcbiAgICAgICAgICBQOiBcIiNkMzU0MDBcIixcbiAgICAgICAgICBTOiBcIiNmMWM0MGZcIixcbiAgICAgICAgICBCOiBcIiNlNjdlMjJcIixcbiAgICAgICAgICBTSTogXCIjZTY3ZTIyXCIsXG4gICAgICAgICAgSDogXCIjYWFhXCIsXG4gICAgICAgICAgQkFDS0dST1VORDogXCIjMTQxNDE0XCIsXG4gICAgICAgIH0sXG4gICAgICAgIGxpZ2h0OiB7XG4gICAgICAgICAgQzogXCIjMjIyXCIsXG4gICAgICAgICAgTzogXCIjZTc0YzNjXCIsXG4gICAgICAgICAgTjogXCIjMzQ5OGRiXCIsXG4gICAgICAgICAgRjogXCIjMjdhZTYwXCIsXG4gICAgICAgICAgQ0w6IFwiIzE2YTA4NVwiLFxuICAgICAgICAgIEJSOiBcIiNkMzU0MDBcIixcbiAgICAgICAgICBJOiBcIiM4ZTQ0YWRcIixcbiAgICAgICAgICBQOiBcIiNkMzU0MDBcIixcbiAgICAgICAgICBTOiBcIiNmMWM0MGZcIixcbiAgICAgICAgICBCOiBcIiNlNjdlMjJcIixcbiAgICAgICAgICBTSTogXCIjZTY3ZTIyXCIsXG4gICAgICAgICAgSDogXCIjNjY2XCIsXG4gICAgICAgICAgQkFDS0dST1VORDogXCIjZmZmXCIsXG4gICAgICAgIH0sXG4gICAgICAgIG9sZHNjaG9vbDoge1xuICAgICAgICAgIEM6IFwiIzAwMFwiLFxuICAgICAgICAgIE86IFwiIzAwMFwiLFxuICAgICAgICAgIE46IFwiIzAwMFwiLFxuICAgICAgICAgIEY6IFwiIzAwMFwiLFxuICAgICAgICAgIENMOiBcIiMwMDBcIixcbiAgICAgICAgICBCUjogXCIjMDAwXCIsXG4gICAgICAgICAgSTogXCIjMDAwXCIsXG4gICAgICAgICAgUDogXCIjMDAwXCIsXG4gICAgICAgICAgUzogXCIjMDAwXCIsXG4gICAgICAgICAgQjogXCIjMDAwXCIsXG4gICAgICAgICAgU0k6IFwiIzAwMFwiLFxuICAgICAgICAgIEg6IFwiIzAwMFwiLFxuICAgICAgICAgIEJBQ0tHUk9VTkQ6IFwiI2ZmZlwiLFxuICAgICAgICB9LFxuICAgICAgICBzb2xhcml6ZWQ6IHtcbiAgICAgICAgICBDOiBcIiM1ODZlNzVcIixcbiAgICAgICAgICBPOiBcIiNkYzMyMmZcIixcbiAgICAgICAgICBOOiBcIiMyNjhiZDJcIixcbiAgICAgICAgICBGOiBcIiM4NTk5MDBcIixcbiAgICAgICAgICBDTDogXCIjMTZhMDg1XCIsXG4gICAgICAgICAgQlI6IFwiI2NiNGIxNlwiLFxuICAgICAgICAgIEk6IFwiIzZjNzFjNFwiLFxuICAgICAgICAgIFA6IFwiI2QzMzY4MlwiLFxuICAgICAgICAgIFM6IFwiI2I1ODkwMFwiLFxuICAgICAgICAgIEI6IFwiIzJhYTE5OFwiLFxuICAgICAgICAgIFNJOiBcIiMyYWExOThcIixcbiAgICAgICAgICBIOiBcIiM2NTdiODNcIixcbiAgICAgICAgICBCQUNLR1JPVU5EOiBcIiNmZmZcIixcbiAgICAgICAgfSxcbiAgICAgICAgXCJzb2xhcml6ZWQtZGFya1wiOiB7XG4gICAgICAgICAgQzogXCIjOTNhMWExXCIsXG4gICAgICAgICAgTzogXCIjZGMzMjJmXCIsXG4gICAgICAgICAgTjogXCIjMjY4YmQyXCIsXG4gICAgICAgICAgRjogXCIjODU5OTAwXCIsXG4gICAgICAgICAgQ0w6IFwiIzE2YTA4NVwiLFxuICAgICAgICAgIEJSOiBcIiNjYjRiMTZcIixcbiAgICAgICAgICBJOiBcIiM2YzcxYzRcIixcbiAgICAgICAgICBQOiBcIiNkMzM2ODJcIixcbiAgICAgICAgICBTOiBcIiNiNTg5MDBcIixcbiAgICAgICAgICBCOiBcIiMyYWExOThcIixcbiAgICAgICAgICBTSTogXCIjMmFhMTk4XCIsXG4gICAgICAgICAgSDogXCIjODM5NDk2XCIsXG4gICAgICAgICAgQkFDS0dST1VORDogXCIjZmZmXCIsXG4gICAgICAgIH0sXG4gICAgICAgIG1hdHJpeDoge1xuICAgICAgICAgIEM6IFwiIzY3OGM2MVwiLFxuICAgICAgICAgIE86IFwiIzJmYzA3OVwiLFxuICAgICAgICAgIE46IFwiIzRmN2U3ZVwiLFxuICAgICAgICAgIEY6IFwiIzkwZDc2MlwiLFxuICAgICAgICAgIENMOiBcIiM4MmQ5NjdcIixcbiAgICAgICAgICBCUjogXCIjMjM3NTVhXCIsXG4gICAgICAgICAgSTogXCIjNDA5OTMxXCIsXG4gICAgICAgICAgUDogXCIjYzFmZjhhXCIsXG4gICAgICAgICAgUzogXCIjZmFmZjAwXCIsXG4gICAgICAgICAgQjogXCIjNTBiNDVhXCIsXG4gICAgICAgICAgU0k6IFwiIzQwOTkzMVwiLFxuICAgICAgICAgIEg6IFwiIzQyNjY0NFwiLFxuICAgICAgICAgIEJBQ0tHUk9VTkQ6IFwiI2ZmZlwiLFxuICAgICAgICB9LFxuICAgICAgICBnaXRodWI6IHtcbiAgICAgICAgICBDOiBcIiMyNDI5MmZcIixcbiAgICAgICAgICBPOiBcIiNjZjIyMmVcIixcbiAgICAgICAgICBOOiBcIiMwOTY5ZGFcIixcbiAgICAgICAgICBGOiBcIiMyZGE0NGVcIixcbiAgICAgICAgICBDTDogXCIjNmZkZDhiXCIsXG4gICAgICAgICAgQlI6IFwiI2JjNGMwMFwiLFxuICAgICAgICAgIEk6IFwiIzgyNTBkZlwiLFxuICAgICAgICAgIFA6IFwiI2JmMzk4OVwiLFxuICAgICAgICAgIFM6IFwiI2Q0YTcyY1wiLFxuICAgICAgICAgIEI6IFwiI2ZiOGY0NFwiLFxuICAgICAgICAgIFNJOiBcIiNiYzRjMDBcIixcbiAgICAgICAgICBIOiBcIiM1NzYwNmFcIixcbiAgICAgICAgICBCQUNLR1JPVU5EOiBcIiNmZmZcIixcbiAgICAgICAgfSxcbiAgICAgICAgY2FyYm9uOiB7XG4gICAgICAgICAgQzogXCIjMTYxNjE2XCIsXG4gICAgICAgICAgTzogXCIjZGExZTI4XCIsXG4gICAgICAgICAgTjogXCIjMGY2MmZlXCIsXG4gICAgICAgICAgRjogXCIjMTk4MDM4XCIsXG4gICAgICAgICAgQ0w6IFwiIzAwN2Q3OVwiLFxuICAgICAgICAgIEJSOiBcIiNmYTRkNTZcIixcbiAgICAgICAgICBJOiBcIiM4YTNmZmNcIixcbiAgICAgICAgICBQOiBcIiNmZjgzMmJcIixcbiAgICAgICAgICBTOiBcIiNmMWMyMWJcIixcbiAgICAgICAgICBCOiBcIiM4YTM4MDBcIixcbiAgICAgICAgICBTSTogXCIjZTY3ZTIyXCIsXG4gICAgICAgICAgSDogXCIjNTI1MjUyXCIsXG4gICAgICAgICAgQkFDS0dST1VORDogXCIjZmZmXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGN5YmVycHVuazoge1xuICAgICAgICAgIEM6IFwiI2VhMDBkOVwiLFxuICAgICAgICAgIE86IFwiI2ZmMzEzMVwiLFxuICAgICAgICAgIE46IFwiIzBhYmRjNlwiLFxuICAgICAgICAgIEY6IFwiIzAwZmY5ZlwiLFxuICAgICAgICAgIENMOiBcIiMwMGZlMDBcIixcbiAgICAgICAgICBCUjogXCIjZmU5ZjIwXCIsXG4gICAgICAgICAgSTogXCIjZmYwMGZmXCIsXG4gICAgICAgICAgUDogXCIjZmU3ZjAwXCIsXG4gICAgICAgICAgUzogXCIjZmNlZTBjXCIsXG4gICAgICAgICAgQjogXCIjZmYwMGZmXCIsXG4gICAgICAgICAgU0k6IFwiI2ZmZmZmZlwiLFxuICAgICAgICAgIEg6IFwiIzkxM2NiMVwiLFxuICAgICAgICAgIEJBQ0tHUk9VTkQ6IFwiI2ZmZlwiLFxuICAgICAgICB9LFxuICAgICAgICBncnV2Ym94OiB7XG4gICAgICAgICAgQzogXCIjNjY1YzU0XCIsXG4gICAgICAgICAgTzogXCIjY2MyNDFkXCIsXG4gICAgICAgICAgTjogXCIjNDU4NTg4XCIsXG4gICAgICAgICAgRjogXCIjOTg5NzFhXCIsXG4gICAgICAgICAgQ0w6IFwiIzc5NzQwZVwiLFxuICAgICAgICAgIEJSOiBcIiNkNjVkMGVcIixcbiAgICAgICAgICBJOiBcIiNiMTYyODZcIixcbiAgICAgICAgICBQOiBcIiNhZjNhMDNcIixcbiAgICAgICAgICBTOiBcIiNkNzk5MjFcIixcbiAgICAgICAgICBCOiBcIiM2ODlkNmFcIixcbiAgICAgICAgICBTSTogXCIjNDI3YjU4XCIsXG4gICAgICAgICAgSDogXCIjN2M2ZjY0XCIsXG4gICAgICAgICAgQkFDS0dST1VORDogXCIjZmJmMWM3XCIsXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ3J1dmJveC1kYXJrXCI6IHtcbiAgICAgICAgICBDOiBcIiNlYmRiYjJcIixcbiAgICAgICAgICBPOiBcIiNjYzI0MWRcIixcbiAgICAgICAgICBOOiBcIiM0NTg1ODhcIixcbiAgICAgICAgICBGOiBcIiM5ODk3MWFcIixcbiAgICAgICAgICBDTDogXCIjYjhiYjI2XCIsXG4gICAgICAgICAgQlI6IFwiI2Q2NWQwZVwiLFxuICAgICAgICAgIEk6IFwiI2IxNjI4NlwiLFxuICAgICAgICAgIFA6IFwiI2ZlODAxOVwiLFxuICAgICAgICAgIFM6IFwiI2Q3OTkyMVwiLFxuICAgICAgICAgIEI6IFwiIzhlYzA3Y1wiLFxuICAgICAgICAgIFNJOiBcIiM4M2E1OThcIixcbiAgICAgICAgICBIOiBcIiNiZGFlOTNcIixcbiAgICAgICAgICBCQUNLR1JPVU5EOiBcIiMyODI4MjhcIixcbiAgICAgICAgfSxcbiAgICAgICAgY3VzdG9tOiB7XG4gICAgICAgICAgQzogXCIjMjIyXCIsXG4gICAgICAgICAgTzogXCIjZTc0YzNjXCIsXG4gICAgICAgICAgTjogXCIjMzQ5OGRiXCIsXG4gICAgICAgICAgRjogXCIjMjdhZTYwXCIsXG4gICAgICAgICAgQ0w6IFwiIzE2YTA4NVwiLFxuICAgICAgICAgIEJSOiBcIiNkMzU0MDBcIixcbiAgICAgICAgICBJOiBcIiM4ZTQ0YWRcIixcbiAgICAgICAgICBQOiBcIiNkMzU0MDBcIixcbiAgICAgICAgICBTOiBcIiNmMWM0MGZcIixcbiAgICAgICAgICBCOiBcIiNlNjdlMjJcIixcbiAgICAgICAgICBTSTogXCIjZTY3ZTIyXCIsXG4gICAgICAgICAgSDogXCIjNjY2XCIsXG4gICAgICAgICAgQkFDS0dST1VORDogXCIjZmZmXCIsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG5cbiAgICB0aGlzLm9wdHMgPSBPcHRpb25zLmV4dGVuZCh0cnVlLCB0aGlzLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICB0aGlzLm9wdHMuaGFsZkJvbmRTcGFjaW5nID0gdGhpcy5vcHRzLmJvbmRTcGFjaW5nIC8gMi4wO1xuICAgIHRoaXMub3B0cy5ib25kTGVuZ3RoU3EgPSB0aGlzLm9wdHMuYm9uZExlbmd0aCAqIHRoaXMub3B0cy5ib25kTGVuZ3RoO1xuICAgIHRoaXMub3B0cy5oYWxmRm9udFNpemVMYXJnZSA9IHRoaXMub3B0cy5mb250U2l6ZUxhcmdlIC8gMi4wO1xuICAgIHRoaXMub3B0cy5xdWFydGVyRm9udFNpemVMYXJnZSA9IHRoaXMub3B0cy5mb250U2l6ZUxhcmdlIC8gNC4wO1xuICAgIHRoaXMub3B0cy5maWZ0aEZvbnRTaXplU21hbGwgPSB0aGlzLm9wdHMuZm9udFNpemVTbWFsbCAvIDUuMDtcblxuICAgIC8vIFNldCB0aGUgZGVmYXVsdCB0aGVtZS5cbiAgICB0aGlzLnRoZW1lID0gdGhpcy5vcHRzLnRoZW1lcy5kYXJrO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBwYXJzZWQgc21pbGVzIGRhdGEgdG8gYSBjYW52YXMgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgVGhlIHRyZWUgcmV0dXJuZWQgYnkgdGhlIHNtaWxlcyBwYXJzZXIuXG4gICAqIEBwYXJhbSB7KFN0cmluZ3xIVE1MQ2FudmFzRWxlbWVudCl9IHRhcmdldCBUaGUgaWQgb2YgdGhlIEhUTUwgY2FudmFzIGVsZW1lbnQgdGhlIHN0cnVjdHVyZSBpcyBkcmF3biB0byAtIG9yIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHRoZW1lTmFtZT0nZGFyaycgVGhlIG5hbWUgb2YgdGhlIHRoZW1lIHRvIHVzZS4gQnVpbHQtaW4gdGhlbWVzIGFyZSAnbGlnaHQnIGFuZCAnZGFyaycuXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaW5mb09ubHk9ZmFsc2UgT25seSBvdXRwdXQgaW5mbyBvbiB0aGUgbW9sZWN1bGUgd2l0aG91dCBkcmF3aW5nIGFueXRoaW5nIHRvIHRoZSBjYW52YXMuXG4gICAqL1xuICBkcmF3KGRhdGEsIHRhcmdldCwgdGhlbWVOYW1lID0gXCJsaWdodFwiLCBpbmZvT25seSA9IGZhbHNlKSB7XG4gICAgdGhpcy5pbml0RHJhdyhkYXRhLCB0aGVtZU5hbWUsIGluZm9Pbmx5KTtcblxuICAgIGlmICghdGhpcy5pbmZvT25seSkge1xuICAgICAgdGhpcy50aGVtZU1hbmFnZXIgPSBuZXcgVGhlbWVNYW5hZ2VyKHRoaXMub3B0cy50aGVtZXMsIHRoZW1lTmFtZSk7XG4gICAgICB0aGlzLmNhbnZhc1dyYXBwZXIgPSBuZXcgQ2FudmFzV3JhcHBlcihcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICB0aGlzLnRoZW1lTWFuYWdlcixcbiAgICAgICAgdGhpcy5vcHRzXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghaW5mb09ubHkpIHtcbiAgICAgIHRoaXMucHJvY2Vzc0dyYXBoKCk7XG5cbiAgICAgIC8vIFNldCB0aGUgY2FudmFzIHRvIHRoZSBhcHByb3ByaWF0ZSBzaXplXG4gICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuc2NhbGUodGhpcy5ncmFwaC52ZXJ0aWNlcyk7XG5cbiAgICAgIC8vIERvIHRoZSBhY3R1YWwgZHJhd2luZ1xuICAgICAgdGhpcy5kcmF3RWRnZXModGhpcy5vcHRzLmRlYnVnKTtcbiAgICAgIHRoaXMuZHJhd1ZlcnRpY2VzKHRoaXMub3B0cy5kZWJ1Zyk7XG4gICAgICB0aGlzLmNhbnZhc1dyYXBwZXIucmVzZXQoKTtcblxuICAgICAgaWYgKHRoaXMub3B0cy5kZWJ1Zykge1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmdyYXBoKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5yaW5ncyk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMucmluZ0Nvbm5lY3Rpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHJpbmdzIHRoaXMgZWRnZSBpcyBhIHBhcnQgb2YuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlZGdlSWQgVGhlIGlkIG9mIGFuIGVkZ2UuXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgcmluZ3MgdGhlIHByb3ZpZGVkIGVkZ2UgaXMgcGFydCBvZi5cbiAgICovXG4gIGVkZ2VSaW5nQ291bnQoZWRnZUlkKSB7XG4gICAgbGV0IGVkZ2UgPSB0aGlzLmdyYXBoLmVkZ2VzW2VkZ2VJZF07XG4gICAgbGV0IGEgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2VkZ2Uuc291cmNlSWRdO1xuICAgIGxldCBiID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tlZGdlLnRhcmdldElkXTtcblxuICAgIHJldHVybiBNYXRoLm1pbihhLnZhbHVlLnJpbmdzLmxlbmd0aCwgYi52YWx1ZS5yaW5ncy5sZW5ndGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgYnJpZGdlZCByaW5ncyBhc3NvY2lhdGVkIHdpdGggdGhpcyAgbW9sZWN1bGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtSaW5nW119IEFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIGJyaWRnZWQgcmluZ3MgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbW9sZWN1bGUuXG4gICAqL1xuICBnZXRCcmlkZ2VkUmluZ3MoKSB7XG4gICAgbGV0IGJyaWRnZWRSaW5ncyA9IEFycmF5KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLnJpbmdzW2ldLmlzQnJpZGdlZCkge1xuICAgICAgICBicmlkZ2VkUmluZ3MucHVzaCh0aGlzLnJpbmdzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYnJpZGdlZFJpbmdzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyBhbGwgZnVzZWQgcmluZ3MgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbW9sZWN1bGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtSaW5nW119IEFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIGZ1c2VkIHJpbmdzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1vbGVjdWxlLlxuICAgKi9cbiAgZ2V0RnVzZWRSaW5ncygpIHtcbiAgICBsZXQgZnVzZWRSaW5ncyA9IEFycmF5KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLnJpbmdzW2ldLmlzRnVzZWQpIHtcbiAgICAgICAgZnVzZWRSaW5ncy5wdXNoKHRoaXMucmluZ3NbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmdXNlZFJpbmdzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyBhbGwgc3Bpcm9zIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1vbGVjdWxlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UmluZ1tdfSBBbiBhcnJheSBjb250YWluaW5nIGFsbCBzcGlyb3MgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbW9sZWN1bGUuXG4gICAqL1xuICBnZXRTcGlyb3MoKSB7XG4gICAgbGV0IHNwaXJvcyA9IEFycmF5KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLnJpbmdzW2ldLmlzU3Bpcm8pIHtcbiAgICAgICAgc3Bpcm9zLnB1c2godGhpcy5yaW5nc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNwaXJvcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIGNvbnRhaW5pbmcgYSBzZW1pY29sb24gYW5kIG5ldy1saW5lIHNlcGFyYXRlZCBsaXN0IG9mIHJpbmcgcHJvcGVydGllczogSWQ7IE1lbWJlcnMgQ291bnQ7IE5laWdoYm91cnMgQ291bnQ7IElzU3Bpcm87IElzRnVzZWQ7IElzQnJpZGdlZDsgUmluZyBDb3VudCAoc3VicmluZ3Mgb2YgYnJpZGdlZCByaW5ncylcbiAgICpcbiAgICogQHJldHVybnMge1N0cmluZ30gQSBzdHJpbmcgYXMgZGVzY3JpYmVkIGluIHRoZSBtZXRob2QgZGVzY3JpcHRpb24uXG4gICAqL1xuICBwcmludFJpbmdJbmZvKCkge1xuICAgIGxldCByZXN1bHQgPSBcIlwiO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcmluZyA9IHRoaXMucmluZ3NbaV07XG5cbiAgICAgIHJlc3VsdCArPSByaW5nLmlkICsgXCI7XCI7XG4gICAgICByZXN1bHQgKz0gcmluZy5tZW1iZXJzLmxlbmd0aCArIFwiO1wiO1xuICAgICAgcmVzdWx0ICs9IHJpbmcubmVpZ2hib3Vycy5sZW5ndGggKyBcIjtcIjtcbiAgICAgIHJlc3VsdCArPSByaW5nLmlzU3Bpcm8gPyBcInRydWU7XCIgOiBcImZhbHNlO1wiO1xuICAgICAgcmVzdWx0ICs9IHJpbmcuaXNGdXNlZCA/IFwidHJ1ZTtcIiA6IFwiZmFsc2U7XCI7XG4gICAgICByZXN1bHQgKz0gcmluZy5pc0JyaWRnZWQgPyBcInRydWU7XCIgOiBcImZhbHNlO1wiO1xuICAgICAgcmVzdWx0ICs9IHJpbmcucmluZ3MubGVuZ3RoICsgXCI7XCI7XG4gICAgICByZXN1bHQgKz0gXCJcXG5cIjtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJvdGF0ZXMgdGhlIGRyYXdpbmcgdG8gbWFrZSB0aGUgd2lkZXN0IGRpbWVuc2lvbiBob3Jpem9udGFsLlxuICAgKi9cbiAgcm90YXRlRHJhd2luZygpIHtcbiAgICAvLyBSb3RhdGUgdGhlIHZlcnRpY2VzIHRvIG1ha2UgdGhlIG1vbGVjdWxlIGFsaWduIGhvcml6b250YWxseVxuICAgIC8vIEZpbmQgdGhlIGxvbmdlc3QgZGlzdGFuY2VcbiAgICBsZXQgYSA9IDA7XG4gICAgbGV0IGIgPSAwO1xuICAgIGxldCBtYXhEaXN0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB2ZXJ0ZXhBID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tpXTtcblxuICAgICAgaWYgKCF2ZXJ0ZXhBLnZhbHVlLmlzRHJhd24pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGogPSBpICsgMTsgaiA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IHZlcnRleEIgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2pdO1xuXG4gICAgICAgIGlmICghdmVydGV4Qi52YWx1ZS5pc0RyYXduKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGlzdCA9IHZlcnRleEEucG9zaXRpb24uZGlzdGFuY2VTcSh2ZXJ0ZXhCLnBvc2l0aW9uKTtcblxuICAgICAgICBpZiAoZGlzdCA+IG1heERpc3QpIHtcbiAgICAgICAgICBtYXhEaXN0ID0gZGlzdDtcbiAgICAgICAgICBhID0gaTtcbiAgICAgICAgICBiID0gajtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBhbmdsZSA9IC1WZWN0b3IyLnN1YnRyYWN0KFxuICAgICAgdGhpcy5ncmFwaC52ZXJ0aWNlc1thXS5wb3NpdGlvbixcbiAgICAgIHRoaXMuZ3JhcGgudmVydGljZXNbYl0ucG9zaXRpb25cbiAgICApLmFuZ2xlKCk7XG5cbiAgICBpZiAoIWlzTmFOKGFuZ2xlKSkge1xuICAgICAgLy8gUm91bmQgdG8gMzAgZGVncmVlc1xuICAgICAgbGV0IHJlbWFpbmRlciA9IGFuZ2xlICUgMC41MjM1OTk7XG5cbiAgICAgIC8vIFJvdW5kIGVpdGhlciB1cCBvciBkb3duIGluIDMwIGRlZ3JlZSBzdGVwc1xuICAgICAgaWYgKHJlbWFpbmRlciA8IDAuMjYxNzk5NSkge1xuICAgICAgICBhbmdsZSA9IGFuZ2xlIC0gcmVtYWluZGVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYW5nbGUgKz0gMC41MjM1OTkgLSByZW1haW5kZXI7XG4gICAgICB9XG5cbiAgICAgIC8vIEZpbmFsbHksIHJvdGF0ZSBldmVyeXRoaW5nXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGkgPT09IGIpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ3JhcGgudmVydGljZXNbaV0ucG9zaXRpb24ucm90YXRlQXJvdW5kKFxuICAgICAgICAgIGFuZ2xlLFxuICAgICAgICAgIHRoaXMuZ3JhcGgudmVydGljZXNbYl0ucG9zaXRpb25cbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMucmluZ3NbaV0uY2VudGVyLnJvdGF0ZUFyb3VuZChcbiAgICAgICAgICBhbmdsZSxcbiAgICAgICAgICB0aGlzLmdyYXBoLnZlcnRpY2VzW2JdLnBvc2l0aW9uXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHRvdGFsIG92ZXJsYXAgc2NvcmUgb2YgdGhlIGN1cnJlbnQgbW9sZWN1bGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBvdmVybGFwIHNjb3JlLlxuICAgKi9cbiAgZ2V0VG90YWxPdmVybGFwU2NvcmUoKSB7XG4gICAgcmV0dXJuIHRoaXMudG90YWxPdmVybGFwU2NvcmU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcmluZyBjb3VudCBvZiB0aGUgY3VycmVudCBtb2xlY3VsZS5cbiAgICpcbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIHJpbmcgY291bnQuXG4gICAqL1xuICBnZXRSaW5nQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucmluZ3MubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCB0aGUgY3VycmVudCBtb2xlY3VsZSAgYSBicmlkZ2VkIHJpbmcuXG4gICAqXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgY3VycmVudCBtb2xlY3VsZSAgYSBicmlkZ2VkIHJpbmcuXG4gICAqL1xuICBoYXNCcmlkZ2VkUmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5icmlkZ2VkUmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgaGVhdnkgYXRvbXMgKG5vbi1oeWRyb2dlbikgaW4gdGhlIGN1cnJlbnQgbW9sZWN1bGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBoZWF2eSBhdG9tIGNvdW50LlxuICAgKi9cbiAgZ2V0SGVhdnlBdG9tQ291bnQoKSB7XG4gICAgbGV0IGhhYyA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmdyYXBoLnZlcnRpY2VzW2ldLnZhbHVlLmVsZW1lbnQgIT09IFwiSFwiKSB7XG4gICAgICAgIGhhYysrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBoYWM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbW9sZWN1bGFyIGZvcm11bGEgb2YgdGhlIGxvYWRlZCBtb2xlY3VsZSBhcyBhIHN0cmluZy5cbiAgICpcbiAgICogQHJldHVybnMge1N0cmluZ30gVGhlIG1vbGVjdWxhciBmb3JtdWxhLlxuICAgKi9cbiAgZ2V0TW9sZWN1bGFyRm9ybXVsYShkYXRhID0gbnVsbCkge1xuICAgIGxldCBtb2xlY3VsYXJGb3JtdWxhID0gXCJcIjtcbiAgICBsZXQgY291bnRzID0gbmV3IE1hcCgpO1xuXG4gICAgbGV0IGdyYXBoID1cbiAgICAgIGRhdGEgPT09IG51bGwgPyB0aGlzLmdyYXBoIDogbmV3IEdyYXBoKGRhdGEsIHRoaXMub3B0cy5pc29tZXJpYyk7XG5cbiAgICAvLyBJbml0aWFsaXplIGVsZW1lbnQgY291bnRcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyYXBoLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgYXRvbSA9IGdyYXBoLnZlcnRpY2VzW2ldLnZhbHVlO1xuXG4gICAgICBpZiAoY291bnRzLmhhcyhhdG9tLmVsZW1lbnQpKSB7XG4gICAgICAgIGNvdW50cy5zZXQoYXRvbS5lbGVtZW50LCBjb3VudHMuZ2V0KGF0b20uZWxlbWVudCkgKyAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvdW50cy5zZXQoYXRvbS5lbGVtZW50LCAxKTtcbiAgICAgIH1cblxuICAgICAgLy8gSHlkcm9nZW5zIGF0dGFjaGVkIHRvIGEgY2hpcmFsIGNlbnRlciB3ZXJlIGFkZGVkIGFzIHZlcnRpY2VzLFxuICAgICAgLy8gdGhvc2UgaW4gbm9uIGNoaXJhbCBicmFja2V0cyBhcmUgYWRkZWQgaGVyZVxuICAgICAgaWYgKGF0b20uYnJhY2tldCAmJiAhYXRvbS5icmFja2V0LmNoaXJhbGl0eSkge1xuICAgICAgICBpZiAoY291bnRzLmhhcyhcIkhcIikpIHtcbiAgICAgICAgICBjb3VudHMuc2V0KFwiSFwiLCBjb3VudHMuZ2V0KFwiSFwiKSArIGF0b20uYnJhY2tldC5oY291bnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvdW50cy5zZXQoXCJIXCIsIGF0b20uYnJhY2tldC5oY291bnQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCB0aGUgaW1wbGljaXQgaHlkcm9nZW5zIGFjY29yZGluZyB0byB2YWxlbmN5LCBleGNsdWRlXG4gICAgICAvLyBicmFja2V0IGF0b21zIGFzIHRoZXkgd2VyZSBoYW5kbGVkIGFuZCBhbHdheXMgaGF2ZSB0aGUgbnVtYmVyXG4gICAgICAvLyBvZiBoeWRyb2dlbnMgc3BlY2lmaWVkIGV4cGxpY2l0bHlcbiAgICAgIGlmICghYXRvbS5icmFja2V0KSB7XG4gICAgICAgIGxldCBuSHlkcm9nZW5zID0gQXRvbS5tYXhCb25kc1thdG9tLmVsZW1lbnRdIC0gYXRvbS5ib25kQ291bnQ7XG5cbiAgICAgICAgaWYgKGF0b20uaXNQYXJ0T2ZBcm9tYXRpY1JpbmcpIHtcbiAgICAgICAgICBuSHlkcm9nZW5zLS07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY291bnRzLmhhcyhcIkhcIikpIHtcbiAgICAgICAgICBjb3VudHMuc2V0KFwiSFwiLCBjb3VudHMuZ2V0KFwiSFwiKSArIG5IeWRyb2dlbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvdW50cy5zZXQoXCJIXCIsIG5IeWRyb2dlbnMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvdW50cy5oYXMoXCJDXCIpKSB7XG4gICAgICBsZXQgY291bnQgPSBjb3VudHMuZ2V0KFwiQ1wiKTtcbiAgICAgIG1vbGVjdWxhckZvcm11bGEgKz0gXCJDXCIgKyAoY291bnQgPiAxID8gY291bnQgOiBcIlwiKTtcbiAgICAgIGNvdW50cy5kZWxldGUoXCJDXCIpO1xuICAgIH1cblxuICAgIGlmIChjb3VudHMuaGFzKFwiSFwiKSkge1xuICAgICAgbGV0IGNvdW50ID0gY291bnRzLmdldChcIkhcIik7XG4gICAgICBtb2xlY3VsYXJGb3JtdWxhICs9IFwiSFwiICsgKGNvdW50ID4gMSA/IGNvdW50IDogXCJcIik7XG4gICAgICBjb3VudHMuZGVsZXRlKFwiSFwiKTtcbiAgICB9XG5cbiAgICBsZXQgZWxlbWVudHMgPSBPYmplY3Qua2V5cyhBdG9tLmF0b21pY051bWJlcnMpLnNvcnQoKTtcblxuICAgIGVsZW1lbnRzLm1hcCgoZSkgPT4ge1xuICAgICAgaWYgKGNvdW50cy5oYXMoZSkpIHtcbiAgICAgICAgbGV0IGNvdW50ID0gY291bnRzLmdldChlKTtcbiAgICAgICAgbW9sZWN1bGFyRm9ybXVsYSArPSBlICsgKGNvdW50ID4gMSA/IGNvdW50IDogXCJcIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbW9sZWN1bGFyRm9ybXVsYTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB0eXBlIG9mIHRoZSByaW5nYm9uZCAoZS5nLiAnPScgZm9yIGEgZG91YmxlIGJvbmQpLiBUaGUgcmluZ2JvbmQgcmVwcmVzZW50cyB0aGUgYnJlYWsgaW4gYSByaW5nIGludHJvZHVjZWQgd2hlbiBjcmVhdGluZyB0aGUgTVNULiBJZiB0aGUgdHdvIHZlcnRpY2VzIHN1cHBsaWVkIGFzIGFyZ3VtZW50cyBhcmUgbm90IHBhcnQgb2YgYSBjb21tb24gcmluZ2JvbmQsIHRoZSBtZXRob2QgcmV0dXJucyBudWxsLlxuICAgKlxuICAgKiBAcGFyYW0ge1ZlcnRleH0gdmVydGV4QSBBIHZlcnRleC5cbiAgICogQHBhcmFtIHtWZXJ0ZXh9IHZlcnRleEIgQSB2ZXJ0ZXguXG4gICAqIEByZXR1cm5zIHsoU3RyaW5nfG51bGwpfSBSZXR1cm5zIHRoZSByaW5nYm9uZCB0eXBlIG9yIG51bGwsIGlmIHRoZSB0d28gc3VwcGxpZWQgdmVydGljZXMgYXJlIG5vdCBjb25uZWN0ZWQgYnkgYSByaW5nYm9uZC5cbiAgICovXG4gIGdldFJpbmdib25kVHlwZSh2ZXJ0ZXhBLCB2ZXJ0ZXhCKSB7XG4gICAgLy8gQ2hlY2tzIHdoZXRoZXIgdGhlIHR3byB2ZXJ0aWNlcyBhcmUgdGhlIG9uZXMgY29ubmVjdGluZyB0aGUgcmluZ1xuICAgIC8vIGFuZCB3aGF0IHRoZSBib25kIHR5cGUgc2hvdWxkIGJlLlxuICAgIGlmIChcbiAgICAgIHZlcnRleEEudmFsdWUuZ2V0UmluZ2JvbmRDb3VudCgpIDwgMSB8fFxuICAgICAgdmVydGV4Qi52YWx1ZS5nZXRSaW5nYm9uZENvdW50KCkgPCAxXG4gICAgKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleEEudmFsdWUucmluZ2JvbmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZlcnRleEIudmFsdWUucmluZ2JvbmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIC8vIGlmKGkgIT0gaikgY29udGludWU7XG4gICAgICAgIGlmICh2ZXJ0ZXhBLnZhbHVlLnJpbmdib25kc1tpXS5pZCA9PT0gdmVydGV4Qi52YWx1ZS5yaW5nYm9uZHNbal0uaWQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgYm9uZHMgYXJlIGVxdWFsLCBpdCBkb2Vzbid0IG1hdHRlciB3aGljaCBib25kIGlzIHJldHVybmVkLlxuICAgICAgICAgIC8vIGlmIHRoZXkgYXJlIG5vdCBlcXVhbCwgcmV0dXJuIHRoZSBvbmUgdGhhdCBpcyBub3QgdGhlIGRlZmF1bHQgKFwiLVwiKVxuICAgICAgICAgIGlmICh2ZXJ0ZXhBLnZhbHVlLnJpbmdib25kc1tpXS5ib25kVHlwZSA9PT0gXCItXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB2ZXJ0ZXhCLnZhbHVlLnJpbmdib25kc1tqXS5ib25kO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdmVydGV4QS52YWx1ZS5yaW5nYm9uZHNbaV0uYm9uZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGluaXREcmF3KGRhdGEsIHRoZW1lTmFtZSwgaW5mb09ubHksIGhpZ2hsaWdodF9hdG9tcykge1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5pbmZvT25seSA9IGluZm9Pbmx5O1xuXG4gICAgdGhpcy5yaW5nSWRDb3VudGVyID0gMDtcbiAgICB0aGlzLnJpbmdDb25uZWN0aW9uSWRDb3VudGVyID0gMDtcblxuICAgIHRoaXMuZ3JhcGggPSBuZXcgR3JhcGgoZGF0YSwgdGhpcy5vcHRzLmlzb21lcmljKTtcbiAgICB0aGlzLnJpbmdzID0gQXJyYXkoKTtcbiAgICB0aGlzLnJpbmdDb25uZWN0aW9ucyA9IEFycmF5KCk7XG5cbiAgICB0aGlzLm9yaWdpbmFsUmluZ3MgPSBBcnJheSgpO1xuICAgIHRoaXMub3JpZ2luYWxSaW5nQ29ubmVjdGlvbnMgPSBBcnJheSgpO1xuXG4gICAgdGhpcy5icmlkZ2VkUmluZyA9IGZhbHNlO1xuXG4gICAgLy8gUmVzZXQgdGhvc2UsIGluIGNhc2UgdGhlIHByZXZpb3VzIGRyYXduIFNNSUxFUyBoYWQgYSBkYW5nbGluZyBcXCBvciAvXG4gICAgdGhpcy5kb3VibGVCb25kQ29uZmlnQ291bnQgPSBudWxsO1xuICAgIHRoaXMuZG91YmxlQm9uZENvbmZpZyA9IG51bGw7XG5cbiAgICB0aGlzLmhpZ2hsaWdodF9hdG9tcyA9IGhpZ2hsaWdodF9hdG9tcztcblxuICAgIHRoaXMuaW5pdFJpbmdzKCk7XG4gICAgdGhpcy5pbml0SHlkcm9nZW5zKCk7XG4gIH1cblxuICBwcm9jZXNzR3JhcGgoKSB7XG4gICAgdGhpcy5wb3NpdGlvbigpO1xuXG4gICAgLy8gUmVzdG9yZSB0aGUgcmluZyBpbmZvcm1hdGlvbiAocmVtb3ZlcyBicmlkZ2VkIHJpbmdzIGFuZCByZXBsYWNlcyB0aGVtIHdpdGggdGhlIG9yaWdpbmFsLCBtdWx0aXBsZSwgcmluZ3MpXG4gICAgdGhpcy5yZXN0b3JlUmluZ0luZm9ybWF0aW9uKCk7XG5cbiAgICAvLyBBdG9tcyBib25kZWQgdG8gdGhlIHNhbWUgcmluZyBhdG9tXG4gICAgdGhpcy5yZXNvbHZlUHJpbWFyeU92ZXJsYXBzKCk7XG5cbiAgICBsZXQgb3ZlcmxhcFNjb3JlID0gdGhpcy5nZXRPdmVybGFwU2NvcmUoKTtcblxuICAgIHRoaXMudG90YWxPdmVybGFwU2NvcmUgPSB0aGlzLmdldE92ZXJsYXBTY29yZSgpLnRvdGFsO1xuXG4gICAgZm9yICh2YXIgbyA9IDA7IG8gPCB0aGlzLm9wdHMub3ZlcmxhcFJlc29sdXRpb25JdGVyYXRpb25zOyBvKyspIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaC5lZGdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgZWRnZSA9IHRoaXMuZ3JhcGguZWRnZXNbaV07XG4gICAgICAgIGlmICh0aGlzLmlzRWRnZVJvdGF0YWJsZShlZGdlKSkge1xuICAgICAgICAgIGxldCBzdWJUcmVlRGVwdGhBID0gdGhpcy5ncmFwaC5nZXRUcmVlRGVwdGgoXG4gICAgICAgICAgICBlZGdlLnNvdXJjZUlkLFxuICAgICAgICAgICAgZWRnZS50YXJnZXRJZFxuICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IHN1YlRyZWVEZXB0aEIgPSB0aGlzLmdyYXBoLmdldFRyZWVEZXB0aChcbiAgICAgICAgICAgIGVkZ2UudGFyZ2V0SWQsXG4gICAgICAgICAgICBlZGdlLnNvdXJjZUlkXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIE9ubHkgcm90YXRlIHRoZSBzaG9ydGVyIHN1YnRyZWVcbiAgICAgICAgICBsZXQgYSA9IGVkZ2UudGFyZ2V0SWQ7XG4gICAgICAgICAgbGV0IGIgPSBlZGdlLnNvdXJjZUlkO1xuXG4gICAgICAgICAgaWYgKHN1YlRyZWVEZXB0aEEgPiBzdWJUcmVlRGVwdGhCKSB7XG4gICAgICAgICAgICBhID0gZWRnZS5zb3VyY2VJZDtcbiAgICAgICAgICAgIGIgPSBlZGdlLnRhcmdldElkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxldCBzdWJUcmVlT3ZlcmxhcCA9IHRoaXMuZ2V0U3VidHJlZU92ZXJsYXBTY29yZShcbiAgICAgICAgICAgIGIsXG4gICAgICAgICAgICBhLFxuICAgICAgICAgICAgb3ZlcmxhcFNjb3JlLnZlcnRleFNjb3Jlc1xuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHN1YlRyZWVPdmVybGFwLnZhbHVlID4gdGhpcy5vcHRzLm92ZXJsYXBTZW5zaXRpdml0eSkge1xuICAgICAgICAgICAgbGV0IHZlcnRleEEgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2FdO1xuICAgICAgICAgICAgbGV0IHZlcnRleEIgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2JdO1xuICAgICAgICAgICAgbGV0IG5laWdoYm91cnNCID0gdmVydGV4Qi5nZXROZWlnaGJvdXJzKGEpO1xuXG4gICAgICAgICAgICBpZiAobmVpZ2hib3Vyc0IubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgIGxldCBuZWlnaGJvdXIgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNCWzBdXTtcbiAgICAgICAgICAgICAgbGV0IGFuZ2xlID0gbmVpZ2hib3VyLnBvc2l0aW9uLmdldFJvdGF0ZUF3YXlGcm9tQW5nbGUoXG4gICAgICAgICAgICAgICAgdmVydGV4QS5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhCLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIE1hdGhIZWxwZXIudG9SYWQoMTIwKVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIHRoaXMucm90YXRlU3VidHJlZShcbiAgICAgICAgICAgICAgICBuZWlnaGJvdXIuaWQsXG4gICAgICAgICAgICAgICAgdmVydGV4Qi5pZCxcbiAgICAgICAgICAgICAgICBhbmdsZSxcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhCLnBvc2l0aW9uXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIC8vIElmIHRoZSBuZXcgb3ZlcmxhcCBpcyBiaWdnZXIsIHVuZG8gY2hhbmdlXG4gICAgICAgICAgICAgIGxldCBuZXdUb3RhbE92ZXJsYXBTY29yZSA9IHRoaXMuZ2V0T3ZlcmxhcFNjb3JlKCkudG90YWw7XG5cbiAgICAgICAgICAgICAgaWYgKG5ld1RvdGFsT3ZlcmxhcFNjb3JlID4gdGhpcy50b3RhbE92ZXJsYXBTY29yZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlU3VidHJlZShcbiAgICAgICAgICAgICAgICAgIG5laWdoYm91ci5pZCxcbiAgICAgICAgICAgICAgICAgIHZlcnRleEIuaWQsXG4gICAgICAgICAgICAgICAgICAtYW5nbGUsXG4gICAgICAgICAgICAgICAgICB2ZXJ0ZXhCLnBvc2l0aW9uXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsT3ZlcmxhcFNjb3JlID0gbmV3VG90YWxPdmVybGFwU2NvcmU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmVpZ2hib3Vyc0IubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgIC8vIFN3aXRjaCBwbGFjZXMgLyBzaWRlc1xuICAgICAgICAgICAgICAvLyBJZiB2ZXJ0ZXggYSBpcyBpbiBhIHJpbmcsIGRvIG5vdGhpbmdcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHZlcnRleEIudmFsdWUucmluZ3MubGVuZ3RoICE9PSAwICYmXG4gICAgICAgICAgICAgICAgdmVydGV4QS52YWx1ZS5yaW5ncy5sZW5ndGggIT09IDBcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBsZXQgbmVpZ2hib3VyQSA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc0JbMF1dO1xuICAgICAgICAgICAgICBsZXQgbmVpZ2hib3VyQiA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc0JbMV1dO1xuXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBuZWlnaGJvdXJBLnZhbHVlLnJpbmdzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgICAgIG5laWdoYm91ckIudmFsdWUucmluZ3MubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIEJvdGggbmVpZ2hib3VycyBpbiBzYW1lIHJpbmcuIFRPRE86IGRvZXMgdGhpcyBjcmVhdGUgcHJvYmxlbXMgd2l0aCB3ZWRnZXM/ICh1cCA9IGRvd24gYW5kIHZpY2UgdmVyc2E/KVxuICAgICAgICAgICAgICAgIGlmIChuZWlnaGJvdXJBLnZhbHVlLnJpbmdzWzBdICE9PSBuZWlnaGJvdXJCLnZhbHVlLnJpbmdzWzBdKSB7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogUm90YXRlIGNpcmNsZVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIG5laWdoYm91ckEudmFsdWUucmluZ3MubGVuZ3RoICE9PSAwIHx8XG4gICAgICAgICAgICAgICAgbmVpZ2hib3VyQi52YWx1ZS5yaW5ncy5sZW5ndGggIT09IDBcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGFuZ2xlQSA9IG5laWdoYm91ckEucG9zaXRpb24uZ2V0Um90YXRlQXdheUZyb21BbmdsZShcbiAgICAgICAgICAgICAgICAgIHZlcnRleEEucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICB2ZXJ0ZXhCLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgTWF0aEhlbHBlci50b1JhZCgxMjApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBsZXQgYW5nbGVCID0gbmVpZ2hib3VyQi5wb3NpdGlvbi5nZXRSb3RhdGVBd2F5RnJvbUFuZ2xlKFxuICAgICAgICAgICAgICAgICAgdmVydGV4QS5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgIHZlcnRleEIucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICBNYXRoSGVscGVyLnRvUmFkKDEyMClcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVTdWJ0cmVlKFxuICAgICAgICAgICAgICAgICAgbmVpZ2hib3VyQS5pZCxcbiAgICAgICAgICAgICAgICAgIHZlcnRleEIuaWQsXG4gICAgICAgICAgICAgICAgICBhbmdsZUEsXG4gICAgICAgICAgICAgICAgICB2ZXJ0ZXhCLnBvc2l0aW9uXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVN1YnRyZWUoXG4gICAgICAgICAgICAgICAgICBuZWlnaGJvdXJCLmlkLFxuICAgICAgICAgICAgICAgICAgdmVydGV4Qi5pZCxcbiAgICAgICAgICAgICAgICAgIGFuZ2xlQixcbiAgICAgICAgICAgICAgICAgIHZlcnRleEIucG9zaXRpb25cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgbGV0IG5ld1RvdGFsT3ZlcmxhcFNjb3JlID0gdGhpcy5nZXRPdmVybGFwU2NvcmUoKS50b3RhbDtcblxuICAgICAgICAgICAgICAgIGlmIChuZXdUb3RhbE92ZXJsYXBTY29yZSA+IHRoaXMudG90YWxPdmVybGFwU2NvcmUpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRlU3VidHJlZShcbiAgICAgICAgICAgICAgICAgICAgbmVpZ2hib3VyQS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdmVydGV4Qi5pZCxcbiAgICAgICAgICAgICAgICAgICAgLWFuZ2xlQSxcbiAgICAgICAgICAgICAgICAgICAgdmVydGV4Qi5wb3NpdGlvblxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRlU3VidHJlZShcbiAgICAgICAgICAgICAgICAgICAgbmVpZ2hib3VyQi5pZCxcbiAgICAgICAgICAgICAgICAgICAgdmVydGV4Qi5pZCxcbiAgICAgICAgICAgICAgICAgICAgLWFuZ2xlQixcbiAgICAgICAgICAgICAgICAgICAgdmVydGV4Qi5wb3NpdGlvblxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhpcy50b3RhbE92ZXJsYXBTY29yZSA9IG5ld1RvdGFsT3ZlcmxhcFNjb3JlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvdmVybGFwU2NvcmUgPSB0aGlzLmdldE92ZXJsYXBTY29yZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVzb2x2ZVNlY29uZGFyeU92ZXJsYXBzKG92ZXJsYXBTY29yZS5zY29yZXMpO1xuXG4gICAgaWYgKHRoaXMub3B0cy5pc29tZXJpYykge1xuICAgICAgdGhpcy5hbm5vdGF0ZVN0ZXJlb2NoZW1pc3RyeSgpO1xuICAgIH1cblxuICAgIC8vIEluaXRpYWxpemUgcHNldWRvIGVsZW1lbnRzIG9yIHNob3J0Y3V0c1xuICAgIGlmICh0aGlzLm9wdHMuY29tcGFjdERyYXdpbmcgJiYgdGhpcy5vcHRzLmF0b21WaXN1YWxpemF0aW9uID09PSBcImRlZmF1bHRcIikge1xuICAgICAgdGhpcy5pbml0UHNldWRvRWxlbWVudHMoKTtcbiAgICB9XG5cbiAgICB0aGlzLnJvdGF0ZURyYXdpbmcoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyByaW5ncyBhbmQgcmluZ2JvbmRzIGZvciB0aGUgY3VycmVudCBtb2xlY3VsZS5cbiAgICovXG4gIGluaXRSaW5ncygpIHtcbiAgICBsZXQgb3BlbkJvbmRzID0gbmV3IE1hcCgpO1xuXG4gICAgLy8gQ2xvc2UgdGhlIG9wZW4gcmluZyBib25kcyAoc3Bhbm5pbmcgdHJlZSAtPiBncmFwaClcbiAgICBmb3IgKHZhciBpID0gdGhpcy5ncmFwaC52ZXJ0aWNlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgbGV0IHZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbaV07XG5cbiAgICAgIGlmICh2ZXJ0ZXgudmFsdWUucmluZ2JvbmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2ZXJ0ZXgudmFsdWUucmluZ2JvbmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCByaW5nYm9uZElkID0gdmVydGV4LnZhbHVlLnJpbmdib25kc1tqXS5pZDtcbiAgICAgICAgbGV0IHJpbmdib25kQm9uZCA9IHZlcnRleC52YWx1ZS5yaW5nYm9uZHNbal0uYm9uZDtcblxuICAgICAgICAvLyBJZiB0aGUgb3RoZXIgcmluZ2JvbmQgaWQgaGFzIG5vdCBiZWVuIGRpc2NvdmVyZWQsXG4gICAgICAgIC8vIGFkZCBpdCB0byB0aGUgb3BlbiBib25kcyBtYXAgYW5kIGNvbnRpbnVlLlxuICAgICAgICAvLyBpZiB0aGUgb3RoZXIgcmluZ2JvbmQgaWQgaGFzIGFscmVhZHkgYmVlbiBkaXNjb3ZlcmVkLFxuICAgICAgICAvLyBjcmVhdGUgYSBib25kIGJldHdlZW4gdGhlIHR3byBhdG9tcy5cbiAgICAgICAgaWYgKCFvcGVuQm9uZHMuaGFzKHJpbmdib25kSWQpKSB7XG4gICAgICAgICAgb3BlbkJvbmRzLnNldChyaW5nYm9uZElkLCBbdmVydGV4LmlkLCByaW5nYm9uZEJvbmRdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgc291cmNlVmVydGV4SWQgPSB2ZXJ0ZXguaWQ7XG4gICAgICAgICAgbGV0IHRhcmdldFZlcnRleElkID0gb3BlbkJvbmRzLmdldChyaW5nYm9uZElkKVswXTtcbiAgICAgICAgICBsZXQgdGFyZ2V0UmluZ2JvbmRCb25kID0gb3BlbkJvbmRzLmdldChyaW5nYm9uZElkKVsxXTtcbiAgICAgICAgICBsZXQgZWRnZSA9IG5ldyBFZGdlKHNvdXJjZVZlcnRleElkLCB0YXJnZXRWZXJ0ZXhJZCwgMSk7XG4gICAgICAgICAgZWRnZS5zZXRCb25kVHlwZSh0YXJnZXRSaW5nYm9uZEJvbmQgfHwgcmluZ2JvbmRCb25kIHx8IFwiLVwiKTtcbiAgICAgICAgICBsZXQgZWRnZUlkID0gdGhpcy5ncmFwaC5hZGRFZGdlKGVkZ2UpO1xuICAgICAgICAgIGxldCB0YXJnZXRWZXJ0ZXggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW3RhcmdldFZlcnRleElkXTtcblxuICAgICAgICAgIHZlcnRleC5hZGRSaW5nYm9uZENoaWxkKHRhcmdldFZlcnRleElkLCBqKTtcbiAgICAgICAgICB2ZXJ0ZXgudmFsdWUuYWRkTmVpZ2hib3VyaW5nRWxlbWVudCh0YXJnZXRWZXJ0ZXgudmFsdWUuZWxlbWVudCk7XG4gICAgICAgICAgdGFyZ2V0VmVydGV4LmFkZFJpbmdib25kQ2hpbGQoc291cmNlVmVydGV4SWQsIGopO1xuICAgICAgICAgIHRhcmdldFZlcnRleC52YWx1ZS5hZGROZWlnaGJvdXJpbmdFbGVtZW50KHZlcnRleC52YWx1ZS5lbGVtZW50KTtcbiAgICAgICAgICB2ZXJ0ZXguZWRnZXMucHVzaChlZGdlSWQpO1xuICAgICAgICAgIHRhcmdldFZlcnRleC5lZGdlcy5wdXNoKGVkZ2VJZCk7XG5cbiAgICAgICAgICBvcGVuQm9uZHMuZGVsZXRlKHJpbmdib25kSWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSByaW5ncyBpbiB0aGUgZ3JhcGggKHRoZSBTU1NSKVxuICAgIGxldCByaW5ncyA9IFNTU1IuZ2V0UmluZ3ModGhpcy5ncmFwaCwgdGhpcy5vcHRzLmV4cGVyaW1lbnRhbFNTU1IpO1xuXG4gICAgaWYgKHJpbmdzID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHJpbmdWZXJ0aWNlcyA9IFsuLi5yaW5nc1tpXV07XG4gICAgICBsZXQgcmluZ0lkID0gdGhpcy5hZGRSaW5nKG5ldyBSaW5nKHJpbmdWZXJ0aWNlcykpO1xuXG4gICAgICAvLyBBZGQgdGhlIHJpbmcgdG8gdGhlIGF0b21zXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJpbmdWZXJ0aWNlcy5sZW5ndGg7IGorKykge1xuICAgICAgICB0aGlzLmdyYXBoLnZlcnRpY2VzW3JpbmdWZXJ0aWNlc1tqXV0udmFsdWUucmluZ3MucHVzaChyaW5nSWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZpbmQgY29ubmVjdGlvbiBiZXR3ZWVuIHJpbmdzXG4gICAgLy8gQ2hlY2sgZm9yIGNvbW1vbiB2ZXJ0aWNlcyBhbmQgY3JlYXRlIHJpbmcgY29ubmVjdGlvbnMuIFRoaXMgaXMgYSBiaXRcbiAgICAvLyB1Z2x5LCBidXQgdGhlIHJpbmdjb3VudCBpcyBhbHdheXMgZmFpcmx5IGxvdyAoPCAxMDApXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJpbmdzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgZm9yICh2YXIgaiA9IGkgKyAxOyBqIDwgdGhpcy5yaW5ncy5sZW5ndGg7IGorKykge1xuICAgICAgICBsZXQgYSA9IHRoaXMucmluZ3NbaV07XG4gICAgICAgIGxldCBiID0gdGhpcy5yaW5nc1tqXTtcbiAgICAgICAgbGV0IHJpbmdDb25uZWN0aW9uID0gbmV3IFJpbmdDb25uZWN0aW9uKGEsIGIpO1xuXG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyB2ZXJ0aWNlcyBpbiB0aGUgcmluZyBjb25uZWN0aW9uLCB0aGVuIHRoZXJlXG4gICAgICAgIC8vIGlzIG5vIHJpbmcgY29ubmVjdGlvblxuICAgICAgICBpZiAocmluZ0Nvbm5lY3Rpb24udmVydGljZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICB0aGlzLmFkZFJpbmdDb25uZWN0aW9uKHJpbmdDb25uZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBuZWlnaGJvdXJzIHRvIHRoZSByaW5nc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHJpbmcgPSB0aGlzLnJpbmdzW2ldO1xuICAgICAgcmluZy5uZWlnaGJvdXJzID0gUmluZ0Nvbm5lY3Rpb24uZ2V0TmVpZ2hib3VycyhcbiAgICAgICAgdGhpcy5yaW5nQ29ubmVjdGlvbnMsXG4gICAgICAgIHJpbmcuaWRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQW5jaG9yIHRoZSByaW5nIHRvIG9uZSBvZiBpdCdzIG1lbWJlcnMsIHNvIHRoYXQgdGhlIHJpbmcgY2VudGVyIHdpbGwgYWx3YXlzXG4gICAgLy8gYmUgdGllZCB0byBhIHNpbmdsZSB2ZXJ0ZXggd2hlbiBkb2luZyByZXBvc2l0aW9uaW5nc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHJpbmcgPSB0aGlzLnJpbmdzW2ldO1xuICAgICAgdGhpcy5ncmFwaC52ZXJ0aWNlc1tyaW5nLm1lbWJlcnNbMF1dLnZhbHVlLmFkZEFuY2hvcmVkUmluZyhyaW5nLmlkKTtcbiAgICB9XG5cbiAgICAvLyBCYWNrdXAgdGhlIHJpbmcgaW5mb3JtYXRpb24gdG8gcmVzdG9yZSBhZnRlciBwbGFjaW5nIHRoZSBicmlkZ2VkIHJpbmcuXG4gICAgLy8gVGhpcyBpcyBuZWVkZWQgaW4gb3JkZXIgdG8gaWRlbnRpZnkgYXJvbWF0aWMgcmluZ3MgYW5kIHN0dWZmIGxpa2UgdGhpcyBpblxuICAgIC8vIHJpbmdzIHRoYXQgYXJlIG1lbWJlciBvZiB0aGUgc3VwZXJyaW5nLlxuICAgIHRoaXMuYmFja3VwUmluZ0luZm9ybWF0aW9uKCk7XG5cbiAgICAvLyBSZXBsYWNlIHJpbmdzIGNvbnRhaW5lZCBieSBhIGxhcmdlciBicmlkZ2VkIHJpbmcgd2l0aCBhIGJyaWRnZWQgcmluZ1xuICAgIHdoaWxlICh0aGlzLnJpbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBpZCA9IC0xO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCByaW5nID0gdGhpcy5yaW5nc1tpXTtcblxuICAgICAgICBpZiAodGhpcy5pc1BhcnRPZkJyaWRnZWRSaW5nKHJpbmcuaWQpICYmICFyaW5nLmlzQnJpZGdlZCkge1xuICAgICAgICAgIGlkID0gcmluZy5pZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaWQgPT09IC0xKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBsZXQgcmluZyA9IHRoaXMuZ2V0UmluZyhpZCk7XG5cbiAgICAgIGxldCBpbnZvbHZlZFJpbmdzID0gdGhpcy5nZXRCcmlkZ2VkUmluZ1JpbmdzKHJpbmcuaWQpO1xuXG4gICAgICB0aGlzLmJyaWRnZWRSaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuY3JlYXRlQnJpZGdlZFJpbmcoaW52b2x2ZWRSaW5ncywgcmluZy5tZW1iZXJzWzBdKTtcblxuICAgICAgLy8gUmVtb3ZlIHRoZSByaW5nc1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnZvbHZlZFJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlUmluZyhpbnZvbHZlZFJpbmdzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpbml0SHlkcm9nZW5zKCkge1xuICAgIC8vIERvIG5vdCBkcmF3IGh5ZHJvZ2VucyBleGNlcHQgd2hlbiB0aGV5IGFyZSBjb25uZWN0ZWQgdG8gYSBzdGVyZW9jZW50ZXIgY29ubmVjdGVkIHRvIHR3byBvciBtb3JlIHJpbmdzLlxuICAgIGlmICghdGhpcy5vcHRzLmV4cGxpY2l0SHlkcm9nZW5zKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbaV07XG5cbiAgICAgICAgaWYgKHZlcnRleC52YWx1ZS5lbGVtZW50ICE9PSBcIkhcIikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSHlkcm9nZW5zIHNob3VsZCBoYXZlIG9ubHkgb25lIG5laWdoYm91ciwgc28ganVzdCB0YWtlIHRoZSBmaXJzdFxuICAgICAgICAvLyBBbHNvIHNldCBoYXNIeWRyb2dlbiB0cnVlIG9uIGNvbm5lY3RlZCBhdG9tXG4gICAgICAgIGxldCBuZWlnaGJvdXIgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW3ZlcnRleC5uZWlnaGJvdXJzWzBdXTtcbiAgICAgICAgbmVpZ2hib3VyLnZhbHVlLmhhc0h5ZHJvZ2VuID0gdHJ1ZTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgIW5laWdoYm91ci52YWx1ZS5pc1N0ZXJlb0NlbnRlciB8fFxuICAgICAgICAgIChuZWlnaGJvdXIudmFsdWUucmluZ3MubGVuZ3RoIDwgMiAmJiAhbmVpZ2hib3VyLnZhbHVlLmJyaWRnZWRSaW5nKSB8fFxuICAgICAgICAgIChuZWlnaGJvdXIudmFsdWUuYnJpZGdlZFJpbmcgJiZcbiAgICAgICAgICAgIG5laWdoYm91ci52YWx1ZS5vcmlnaW5hbFJpbmdzLmxlbmd0aCA8IDIpXG4gICAgICAgICkge1xuICAgICAgICAgIHZlcnRleC52YWx1ZS5pc0RyYXduID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbGwgcmluZ3MgY29ubmVjdGVkIGJ5IGJyaWRnZWQgYm9uZHMgc3RhcnRpbmcgZnJvbSB0aGUgcmluZyB3aXRoIHRoZSBzdXBwbGllZCByaW5nIGlkLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gcmluZ0lkIEEgcmluZyBpZC5cbiAgICogQHJldHVybnMge051bWJlcltdfSBBbiBhcnJheSBjb250YWluaW5nIGFsbCByaW5nIGlkcyBvZiByaW5ncyBwYXJ0IG9mIGEgYnJpZGdlZCByaW5nIHN5c3RlbS5cbiAgICovXG4gIGdldEJyaWRnZWRSaW5nUmluZ3MocmluZ0lkKSB7XG4gICAgbGV0IGludm9sdmVkUmluZ3MgPSBBcnJheSgpO1xuICAgIGxldCB0aGF0ID0gdGhpcztcblxuICAgIGxldCByZWN1cnNlID0gZnVuY3Rpb24gKHIpIHtcbiAgICAgIGxldCByaW5nID0gdGhhdC5nZXRSaW5nKHIpO1xuXG4gICAgICBpbnZvbHZlZFJpbmdzLnB1c2gocik7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmluZy5uZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBuID0gcmluZy5uZWlnaGJvdXJzW2ldO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBpbnZvbHZlZFJpbmdzLmluZGV4T2YobikgPT09IC0xICYmXG4gICAgICAgICAgbiAhPT0gciAmJlxuICAgICAgICAgIFJpbmdDb25uZWN0aW9uLmlzQnJpZGdlKFxuICAgICAgICAgICAgdGhhdC5yaW5nQ29ubmVjdGlvbnMsXG4gICAgICAgICAgICB0aGF0LmdyYXBoLnZlcnRpY2VzLFxuICAgICAgICAgICAgcixcbiAgICAgICAgICAgIG5cbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHJlY3Vyc2Uobik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmVjdXJzZShyaW5nSWQpO1xuXG4gICAgcmV0dXJuIEFycmF5SGVscGVyLnVuaXF1ZShpbnZvbHZlZFJpbmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciBvciBub3QgYSByaW5nIGlzIHBhcnQgb2YgYSBicmlkZ2VkIHJpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByaW5nSWQgQSByaW5nIGlkLlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhlIHN1cHBsaWVkIHJpbmcgKGJ5IGlkKSBpcyBwYXJ0IG9mIGEgYnJpZGdlZCByaW5nIHN5c3RlbS5cbiAgICovXG4gIGlzUGFydE9mQnJpZGdlZFJpbmcocmluZ0lkKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJpbmdDb25uZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnJpbmdDb25uZWN0aW9uc1tpXS5jb250YWluc1JpbmcocmluZ0lkKSAmJlxuICAgICAgICB0aGlzLnJpbmdDb25uZWN0aW9uc1tpXS5pc0JyaWRnZSh0aGlzLmdyYXBoLnZlcnRpY2VzKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgYnJpZGdlZCByaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcltdfSByaW5nSWRzIEFuIGFycmF5IG9mIGlkcyBvZiByaW5ncyBpbnZvbHZlZCBpbiB0aGUgYnJpZGdlZCByaW5nLlxuICAgKiBAcGFyYW0ge051bWJlcn0gc291cmNlVmVydGV4SWQgVGhlIHZlcnRleCBpZCB0byBzdGFydCB0aGUgYnJpZGdlZCByaW5nIGRpc2NvdmVyeSBmcm9tLlxuICAgKiBAcmV0dXJucyB7UmluZ30gVGhlIGJyaWRnZWQgcmluZy5cbiAgICovXG4gIGNyZWF0ZUJyaWRnZWRSaW5nKHJpbmdJZHMsIHNvdXJjZVZlcnRleElkKSB7XG4gICAgbGV0IHJpbmdNZW1iZXJzID0gbmV3IFNldCgpO1xuICAgIGxldCB2ZXJ0aWNlcyA9IG5ldyBTZXQoKTtcbiAgICBsZXQgbmVpZ2hib3VycyA9IG5ldyBTZXQoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmluZ0lkcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHJpbmcgPSB0aGlzLmdldFJpbmcocmluZ0lkc1tpXSk7XG4gICAgICByaW5nLmlzUGFydE9mQnJpZGdlZCA9IHRydWU7XG5cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmluZy5tZW1iZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZlcnRpY2VzLmFkZChyaW5nLm1lbWJlcnNbal0pO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJpbmcubmVpZ2hib3Vycy5sZW5ndGg7IGorKykge1xuICAgICAgICBsZXQgaWQgPSByaW5nLm5laWdoYm91cnNbal07XG5cbiAgICAgICAgaWYgKHJpbmdJZHMuaW5kZXhPZihpZCkgPT09IC0xKSB7XG4gICAgICAgICAgbmVpZ2hib3Vycy5hZGQocmluZy5uZWlnaGJvdXJzW2pdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEEgdmVydGV4IGlzIHBhcnQgb2YgdGhlIGJyaWRnZWQgcmluZyBpZiBpdCBvbmx5IGJlbG9uZ3MgdG9cbiAgICAvLyBvbmUgb2YgdGhlIHJpbmdzIChvciB0byBhbm90aGVyIHJpbmdcbiAgICAvLyB3aGljaCBpcyBub3QgcGFydCBvZiB0aGUgYnJpZGdlZCByaW5nKS5cbiAgICBsZXQgbGVmdG92ZXJzID0gbmV3IFNldCgpO1xuXG4gICAgZm9yIChsZXQgaWQgb2YgdmVydGljZXMpIHtcbiAgICAgIGxldCB2ZXJ0ZXggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2lkXTtcbiAgICAgIGxldCBpbnRlcnNlY3Rpb24gPSBBcnJheUhlbHBlci5pbnRlcnNlY3Rpb24ocmluZ0lkcywgdmVydGV4LnZhbHVlLnJpbmdzKTtcblxuICAgICAgaWYgKHZlcnRleC52YWx1ZS5yaW5ncy5sZW5ndGggPT09IDEgfHwgaW50ZXJzZWN0aW9uLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByaW5nTWVtYmVycy5hZGQodmVydGV4LmlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxlZnRvdmVycy5hZGQodmVydGV4LmlkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBWZXJ0aWNlcyBjYW4gYWxzbyBiZSBwYXJ0IG9mIG11bHRpcGxlIHJpbmdzIGFuZCBsYXkgb24gdGhlIGJyaWRnZWQgcmluZyxcbiAgICAvLyBob3dldmVyLCB0aGV5IGhhdmUgdG8gaGF2ZSBhdCBsZWFzdCB0d28gbmVpZ2hib3VycyB0aGF0IGFyZSBub3QgcGFydCBvZlxuICAgIC8vIHR3byByaW5nc1xuICAgIGxldCB0bXAgPSBBcnJheSgpO1xuICAgIGxldCBpbnNpZGVSaW5nID0gQXJyYXkoKTtcblxuICAgIGZvciAobGV0IGlkIG9mIGxlZnRvdmVycykge1xuICAgICAgbGV0IHZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbaWRdO1xuICAgICAgbGV0IG9uUmluZyA9IGZhbHNlO1xuXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHZlcnRleC5lZGdlcy5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAodGhpcy5lZGdlUmluZ0NvdW50KHZlcnRleC5lZGdlc1tqXSkgPT09IDEpIHtcbiAgICAgICAgICBvblJpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChvblJpbmcpIHtcbiAgICAgICAgdmVydGV4LnZhbHVlLmlzQnJpZGdlTm9kZSA9IHRydWU7XG4gICAgICAgIHJpbmdNZW1iZXJzLmFkZCh2ZXJ0ZXguaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmVydGV4LnZhbHVlLmlzQnJpZGdlID0gdHJ1ZTtcbiAgICAgICAgcmluZ01lbWJlcnMuYWRkKHZlcnRleC5pZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHRoZSByaW5nXG4gICAgbGV0IHJpbmcgPSBuZXcgUmluZyhbLi4ucmluZ01lbWJlcnNdKTtcbiAgICB0aGlzLmFkZFJpbmcocmluZyk7XG5cbiAgICByaW5nLmlzQnJpZGdlZCA9IHRydWU7XG4gICAgcmluZy5uZWlnaGJvdXJzID0gWy4uLm5laWdoYm91cnNdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByaW5nSWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByaW5nLnJpbmdzLnB1c2godGhpcy5nZXRSaW5nKHJpbmdJZHNbaV0pLmNsb25lKCkpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmluZy5tZW1iZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmdyYXBoLnZlcnRpY2VzW3JpbmcubWVtYmVyc1tpXV0udmFsdWUuYnJpZGdlZFJpbmcgPSByaW5nLmlkO1xuICAgIH1cblxuICAgIC8vIEF0b21zIGluc2lkZSB0aGUgcmluZyBhcmUgbm8gbG9uZ2VyIHBhcnQgb2YgYSByaW5nIGJ1dCBhcmUgbm93XG4gICAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoZSBicmlkZ2VkIHJpbmdcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluc2lkZVJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB2ZXJ0ZXggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2luc2lkZVJpbmdbaV1dO1xuICAgICAgdmVydGV4LnZhbHVlLnJpbmdzID0gQXJyYXkoKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgZm9ybWVyIHJpbmdzIGZyb20gbWVtYmVycyBvZiB0aGUgYnJpZGdlZCByaW5nIGFuZCBhZGQgdGhlIGJyaWRnZWQgcmluZ1xuICAgIGZvciAobGV0IGlkIG9mIHJpbmdNZW1iZXJzKSB7XG4gICAgICBsZXQgdmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tpZF07XG4gICAgICB2ZXJ0ZXgudmFsdWUucmluZ3MgPSBBcnJheUhlbHBlci5yZW1vdmVBbGwodmVydGV4LnZhbHVlLnJpbmdzLCByaW5nSWRzKTtcbiAgICAgIHZlcnRleC52YWx1ZS5yaW5ncy5wdXNoKHJpbmcuaWQpO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBhbGwgdGhlIHJpbmcgY29ubmVjdGlvbnMgbm8gbG9uZ2VyIHVzZWRcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJpbmdJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAodmFyIGogPSBpICsgMTsgaiA8IHJpbmdJZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdGhpcy5yZW1vdmVSaW5nQ29ubmVjdGlvbnNCZXR3ZWVuKHJpbmdJZHNbaV0sIHJpbmdJZHNbal0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgcmluZyBjb25uZWN0aW9ucyBhbmQgYWRkIHRoaXMgcmluZyB0byB0aGUgbmVpZ2hib3VycyBuZWlnaGJvdXJzXG4gICAgZm9yIChsZXQgaWQgb2YgbmVpZ2hib3Vycykge1xuICAgICAgbGV0IGNvbm5lY3Rpb25zID0gdGhpcy5nZXRSaW5nQ29ubmVjdGlvbnMoaWQsIHJpbmdJZHMpO1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbm5lY3Rpb25zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHRoaXMuZ2V0UmluZ0Nvbm5lY3Rpb24oY29ubmVjdGlvbnNbal0pLnVwZGF0ZU90aGVyKHJpbmcuaWQsIGlkKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5nZXRSaW5nKGlkKS5uZWlnaGJvdXJzLnB1c2gocmluZy5pZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJpbmc7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IHR3byB2ZXJ0aWNlcyBhcmUgaW4gdGhlIHNhbWUgcmluZy5cbiAgICpcbiAgICogQHBhcmFtIHtWZXJ0ZXh9IHZlcnRleEEgQSB2ZXJ0ZXguXG4gICAqIEBwYXJhbSB7VmVydGV4fSB2ZXJ0ZXhCIEEgdmVydGV4LlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhlIHR3byB2ZXJ0aWNlcyBhcmUgaW4gdGhlIHNhbWUgcmluZy5cbiAgICovXG4gIGFyZVZlcnRpY2VzSW5TYW1lUmluZyh2ZXJ0ZXhBLCB2ZXJ0ZXhCKSB7XG4gICAgLy8gVGhpcyBpcyBhIGxpdHRsZSBiaXQgbGlnaHRlciAod2l0aG91dCB0aGUgYXJyYXkgYW5kIHB1c2gpIHRoYW5cbiAgICAvLyBnZXRDb21tb25SaW5ncygpLmxlbmd0aCA+IDBcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleEEudmFsdWUucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmVydGV4Qi52YWx1ZS5yaW5ncy5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAodmVydGV4QS52YWx1ZS5yaW5nc1tpXSA9PT0gdmVydGV4Qi52YWx1ZS5yaW5nc1tqXSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2YgcmluZyBpZHMgc2hhcmVkIGJ5IGJvdGggdmVydGljZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7VmVydGV4fSB2ZXJ0ZXhBIEEgdmVydGV4LlxuICAgKiBAcGFyYW0ge1ZlcnRleH0gdmVydGV4QiBBIHZlcnRleC5cbiAgICogQHJldHVybnMge051bWJlcltdfSBBbiBhcnJheSBvZiBpZHMgb2YgcmluZ3Mgc2hhcmVkIGJ5IHRoZSB0d28gdmVydGljZXMuXG4gICAqL1xuICBnZXRDb21tb25SaW5ncyh2ZXJ0ZXhBLCB2ZXJ0ZXhCKSB7XG4gICAgbGV0IGNvbW1vblJpbmdzID0gQXJyYXkoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGV4QS52YWx1ZS5yaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2ZXJ0ZXhCLnZhbHVlLnJpbmdzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmICh2ZXJ0ZXhBLnZhbHVlLnJpbmdzW2ldID09IHZlcnRleEIudmFsdWUucmluZ3Nbal0pIHtcbiAgICAgICAgICBjb21tb25SaW5ncy5wdXNoKHZlcnRleEEudmFsdWUucmluZ3NbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbW1vblJpbmdzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGFyb21hdGljIG9yIGxhcmdlc3QgcmluZyBzaGFyZWQgYnkgdGhlIHR3byB2ZXJ0aWNlcy5cbiAgICpcbiAgICogQHBhcmFtIHtWZXJ0ZXh9IHZlcnRleEEgQSB2ZXJ0ZXguXG4gICAqIEBwYXJhbSB7VmVydGV4fSB2ZXJ0ZXhCIEEgdmVydGV4LlxuICAgKiBAcmV0dXJucyB7KFJpbmd8bnVsbCl9IElmIGFuIGFyb21hdGljIGNvbW1vbiByaW5nIGV4aXN0cywgdGhhdCByaW5nLCBlbHNlIHRoZSBsYXJnZXN0IChub24tYXJvbWF0aWMpIHJpbmcsIGVsc2UgbnVsbC5cbiAgICovXG4gIGdldExhcmdlc3RPckFyb21hdGljQ29tbW9uUmluZyh2ZXJ0ZXhBLCB2ZXJ0ZXhCKSB7XG4gICAgbGV0IGNvbW1vblJpbmdzID0gdGhpcy5nZXRDb21tb25SaW5ncyh2ZXJ0ZXhBLCB2ZXJ0ZXhCKTtcbiAgICBsZXQgbWF4U2l6ZSA9IDA7XG4gICAgbGV0IGxhcmdlc3RDb21tb25SaW5nID0gbnVsbDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tbW9uUmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCByaW5nID0gdGhpcy5nZXRSaW5nKGNvbW1vblJpbmdzW2ldKTtcbiAgICAgIGxldCBzaXplID0gcmluZy5nZXRTaXplKCk7XG5cbiAgICAgIGlmIChyaW5nLmlzQmVuemVuZUxpa2UodGhpcy5ncmFwaC52ZXJ0aWNlcykpIHtcbiAgICAgICAgcmV0dXJuIHJpbmc7XG4gICAgICB9IGVsc2UgaWYgKHNpemUgPiBtYXhTaXplKSB7XG4gICAgICAgIG1heFNpemUgPSBzaXplO1xuICAgICAgICBsYXJnZXN0Q29tbW9uUmluZyA9IHJpbmc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhcmdlc3RDb21tb25SaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2YgdmVydGljZXMgcG9zaXRpb25lZCBhdCBhIHNwZWNpZmllZCBsb2NhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtWZWN0b3IyfSBwb3NpdGlvbiBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIGZvciB2ZXJ0aWNlcy5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1cyBUaGUgcmFkaXVzIHdpdGhpbiB0byBzZWFyY2guXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBleGNsdWRlVmVydGV4SWQgQSB2ZXJ0ZXggaWQgdG8gYmUgZXhjbHVkZWQgZnJvbSB0aGUgc2VhcmNoIHJlc3VsdHMuXG4gICAqIEByZXR1cm5zIHtOdW1iZXJbXX0gQW4gYXJyYXkgY29udGFpbmluZyB2ZXJ0ZXggaWRzIGluIGEgZ2l2ZW4gbG9jYXRpb24uXG4gICAqL1xuICBnZXRWZXJ0aWNlc0F0KHBvc2l0aW9uLCByYWRpdXMsIGV4Y2x1ZGVWZXJ0ZXhJZCkge1xuICAgIGxldCBsb2NhbHMgPSBBcnJheSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgdmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tpXTtcblxuICAgICAgaWYgKHZlcnRleC5pZCA9PT0gZXhjbHVkZVZlcnRleElkIHx8ICF2ZXJ0ZXgucG9zaXRpb25lZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgbGV0IGRpc3RhbmNlID0gcG9zaXRpb24uZGlzdGFuY2VTcSh2ZXJ0ZXgucG9zaXRpb24pO1xuXG4gICAgICBpZiAoZGlzdGFuY2UgPD0gcmFkaXVzICogcmFkaXVzKSB7XG4gICAgICAgIGxvY2Fscy5wdXNoKHZlcnRleC5pZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGxvY2FscztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjbG9zZXN0IHZlcnRleCAoY29ubmVjdGVkIGFzIHdlbGwgYXMgdW5jb25uZWN0ZWQpLlxuICAgKlxuICAgKiBAcGFyYW0ge1ZlcnRleH0gdmVydGV4IFRoZSB2ZXJ0ZXggb2Ygd2hpY2ggdG8gZmluZCB0aGUgY2xvc2VzdCBvdGhlciB2ZXJ0ZXguXG4gICAqIEByZXR1cm5zIHtWZXJ0ZXh9IFRoZSBjbG9zZXN0IHZlcnRleC5cbiAgICovXG4gIGdldENsb3Nlc3RWZXJ0ZXgodmVydGV4KSB7XG4gICAgbGV0IG1pbkRpc3QgPSA5OTk5OTtcbiAgICBsZXQgbWluVmVydGV4ID0gbnVsbDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaC52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHYgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2ldO1xuXG4gICAgICBpZiAodi5pZCA9PT0gdmVydGV4LmlkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBsZXQgZGlzdFNxID0gdmVydGV4LnBvc2l0aW9uLmRpc3RhbmNlU3Eodi5wb3NpdGlvbik7XG5cbiAgICAgIGlmIChkaXN0U3EgPCBtaW5EaXN0KSB7XG4gICAgICAgIG1pbkRpc3QgPSBkaXN0U3E7XG4gICAgICAgIG1pblZlcnRleCA9IHY7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1pblZlcnRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSByaW5nIHRvIHRoaXMgcmVwcmVzZW50YXRpb24gb2YgYSBtb2xlY3VsZS5cbiAgICpcbiAgICogQHBhcmFtIHtSaW5nfSByaW5nIEEgbmV3IHJpbmcuXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSByaW5nIGlkIG9mIHRoZSBuZXcgcmluZy5cbiAgICovXG4gIGFkZFJpbmcocmluZykge1xuICAgIHJpbmcuaWQgPSB0aGlzLnJpbmdJZENvdW50ZXIrKztcbiAgICB0aGlzLnJpbmdzLnB1c2gocmluZyk7XG5cbiAgICByZXR1cm4gcmluZy5pZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgcmluZyBmcm9tIHRoZSBhcnJheSBvZiByaW5ncyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgbW9sZWN1bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByaW5nSWQgQSByaW5nIGlkLlxuICAgKi9cbiAgcmVtb3ZlUmluZyhyaW5nSWQpIHtcbiAgICB0aGlzLnJpbmdzID0gdGhpcy5yaW5ncy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLmlkICE9PSByaW5nSWQ7XG4gICAgfSk7XG5cbiAgICAvLyBBbHNvIHJlbW92ZSByaW5nIGNvbm5lY3Rpb25zIGludm9sdmluZyB0aGlzIHJpbmdcbiAgICB0aGlzLnJpbmdDb25uZWN0aW9ucyA9IHRoaXMucmluZ0Nvbm5lY3Rpb25zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uZmlyc3RSaW5nSWQgIT09IHJpbmdJZCAmJiBpdGVtLnNlY29uZFJpbmdJZCAhPT0gcmluZ0lkO1xuICAgIH0pO1xuXG4gICAgLy8gUmVtb3ZlIHRoZSByaW5nIGFzIG5laWdoYm91ciBvZiBvdGhlciByaW5nc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHIgPSB0aGlzLnJpbmdzW2ldO1xuICAgICAgci5uZWlnaGJvdXJzID0gci5uZWlnaGJvdXJzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gcmluZ0lkO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSByaW5nIG9iamVjdCBmcm9tIHRoZSBhcnJheSBvZiByaW5ncyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgbW9sZWN1bGUgYnkgaXRzIGlkLiBUaGUgcmluZyBpZCBpcyBub3QgZXF1YWwgdG8gdGhlIGluZGV4LCBzaW5jZSByaW5ncyBjYW4gYmUgYWRkZWQgYW5kIHJlbW92ZWQgd2hlbiBwcm9jZXNzaW5nIGJyaWRnZWQgcmluZ3MuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByaW5nSWQgQSByaW5nIGlkLlxuICAgKiBAcmV0dXJucyB7UmluZ30gQSByaW5nIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBtb2xlY3VsZS5cbiAgICovXG4gIGdldFJpbmcocmluZ0lkKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5yaW5nc1tpXS5pZCA9PSByaW5nSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmluZ3NbaV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHJpbmcgY29ubmVjdGlvbiB0byB0aGlzIHJlcHJlc2VudGF0aW9uIG9mIGEgbW9sZWN1bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7UmluZ0Nvbm5lY3Rpb259IHJpbmdDb25uZWN0aW9uIEEgbmV3IHJpbmdDb25uZWN0aW9uLlxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgcmluZyBjb25uZWN0aW9uIGlkIG9mIHRoZSBuZXcgcmluZyBjb25uZWN0aW9uLlxuICAgKi9cbiAgYWRkUmluZ0Nvbm5lY3Rpb24ocmluZ0Nvbm5lY3Rpb24pIHtcbiAgICByaW5nQ29ubmVjdGlvbi5pZCA9IHRoaXMucmluZ0Nvbm5lY3Rpb25JZENvdW50ZXIrKztcbiAgICB0aGlzLnJpbmdDb25uZWN0aW9ucy5wdXNoKHJpbmdDb25uZWN0aW9uKTtcblxuICAgIHJldHVybiByaW5nQ29ubmVjdGlvbi5pZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgcmluZyBjb25uZWN0aW9uIGZyb20gdGhlIGFycmF5IG9mIHJpbmdzIGNvbm5lY3Rpb25zIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBtb2xlY3VsZS5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJpbmdDb25uZWN0aW9uSWQgQSByaW5nIGNvbm5lY3Rpb24gaWQuXG4gICAqL1xuICByZW1vdmVSaW5nQ29ubmVjdGlvbihyaW5nQ29ubmVjdGlvbklkKSB7XG4gICAgdGhpcy5yaW5nQ29ubmVjdGlvbnMgPSB0aGlzLnJpbmdDb25uZWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLmlkICE9PSByaW5nQ29ubmVjdGlvbklkO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIHJpbmcgY29ubmVjdGlvbnMgYmV0d2VlbiB0d28gdmVydGljZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJ0ZXhJZEEgQSB2ZXJ0ZXggaWQuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJ0ZXhJZEIgQSB2ZXJ0ZXggaWQuXG4gICAqL1xuICByZW1vdmVSaW5nQ29ubmVjdGlvbnNCZXR3ZWVuKHZlcnRleElkQSwgdmVydGV4SWRCKSB7XG4gICAgbGV0IHRvUmVtb3ZlID0gQXJyYXkoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmluZ0Nvbm5lY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcmluZ0Nvbm5lY3Rpb24gPSB0aGlzLnJpbmdDb25uZWN0aW9uc1tpXTtcblxuICAgICAgaWYgKFxuICAgICAgICAocmluZ0Nvbm5lY3Rpb24uZmlyc3RSaW5nSWQgPT09IHZlcnRleElkQSAmJlxuICAgICAgICAgIHJpbmdDb25uZWN0aW9uLnNlY29uZFJpbmdJZCA9PT0gdmVydGV4SWRCKSB8fFxuICAgICAgICAocmluZ0Nvbm5lY3Rpb24uZmlyc3RSaW5nSWQgPT09IHZlcnRleElkQiAmJlxuICAgICAgICAgIHJpbmdDb25uZWN0aW9uLnNlY29uZFJpbmdJZCA9PT0gdmVydGV4SWRBKVxuICAgICAgKSB7XG4gICAgICAgIHRvUmVtb3ZlLnB1c2gocmluZ0Nvbm5lY3Rpb24uaWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9SZW1vdmUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMucmVtb3ZlUmluZ0Nvbm5lY3Rpb24odG9SZW1vdmVbaV0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSByaW5nIGNvbm5lY3Rpb24gd2l0aCBhIGdpdmVuIGlkLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gaWRcbiAgICogQHJldHVybnMge1JpbmdDb25uZWN0aW9ufSBUaGUgcmluZyBjb25uZWN0aW9uIHdpdGggdGhlIHNwZWNpZmllZCBpZC5cbiAgICovXG4gIGdldFJpbmdDb25uZWN0aW9uKGlkKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJpbmdDb25uZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMucmluZ0Nvbm5lY3Rpb25zW2ldLmlkID09IGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJpbmdDb25uZWN0aW9uc1tpXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSByaW5nIGNvbm5lY3Rpb25zIGJldHdlZW4gYSByaW5nIGFuZCBhIHNldCBvZiByaW5ncy5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJpbmdJZCBBIHJpbmcgaWQuXG4gICAqIEBwYXJhbSB7TnVtYmVyW119IHJpbmdJZHMgQW4gYXJyYXkgb2YgcmluZyBpZHMuXG4gICAqIEByZXR1cm5zIHtOdW1iZXJbXX0gQW4gYXJyYXkgb2YgcmluZyBjb25uZWN0aW9uIGlkcy5cbiAgICovXG4gIGdldFJpbmdDb25uZWN0aW9ucyhyaW5nSWQsIHJpbmdJZHMpIHtcbiAgICBsZXQgcmluZ0Nvbm5lY3Rpb25zID0gQXJyYXkoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yaW5nQ29ubmVjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCByYyA9IHRoaXMucmluZ0Nvbm5lY3Rpb25zW2ldO1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJpbmdJZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IGlkID0gcmluZ0lkc1tqXTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgKHJjLmZpcnN0UmluZ0lkID09PSByaW5nSWQgJiYgcmMuc2Vjb25kUmluZ0lkID09PSBpZCkgfHxcbiAgICAgICAgICAocmMuZmlyc3RSaW5nSWQgPT09IGlkICYmIHJjLnNlY29uZFJpbmdJZCA9PT0gcmluZ0lkKVxuICAgICAgICApIHtcbiAgICAgICAgICByaW5nQ29ubmVjdGlvbnMucHVzaChyYy5pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmluZ0Nvbm5lY3Rpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG92ZXJsYXAgc2NvcmUgb2YgdGhlIGN1cnJlbnQgbW9sZWN1bGUgYmFzZWQgb24gaXRzIHBvc2l0aW9uZWQgdmVydGljZXMuIFRoZSBoaWdoZXIgdGhlIHNjb3JlLCB0aGUgbW9yZSBvdmVybGFwcyBvY2N1ciBpbiB0aGUgc3RydWN0dXJlIGRyYXdpbmcuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHRvdGFsIG92ZXJsYXAgc2NvcmUgYW5kIHRoZSBvdmVybGFwIHNjb3JlIG9mIGVhY2ggdmVydGV4IHNvcnRlZCBieSBzY29yZSAoaGlnaGVyIHRvIGxvd2VyKS4gRXhhbXBsZTogeyB0b3RhbDogOTksIHNjb3JlczogWyB7IGlkOiAwLCBzY29yZTogMjIgfSwgLi4uIF0gIH1cbiAgICovXG4gIGdldE92ZXJsYXBTY29yZSgpIHtcbiAgICBsZXQgdG90YWwgPSAwLjA7XG4gICAgbGV0IG92ZXJsYXBTY29yZXMgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaC52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgb3ZlcmxhcFNjb3Jlc1tpXSA9IDA7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaiA9IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoO1xuICAgICAgd2hpbGUgKC0taiA+IGkpIHtcbiAgICAgICAgbGV0IGEgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2ldO1xuICAgICAgICBsZXQgYiA9IHRoaXMuZ3JhcGgudmVydGljZXNbal07XG5cbiAgICAgICAgaWYgKCFhLnZhbHVlLmlzRHJhd24gfHwgIWIudmFsdWUuaXNEcmF3bikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRpc3QgPSBWZWN0b3IyLnN1YnRyYWN0KGEucG9zaXRpb24sIGIucG9zaXRpb24pLmxlbmd0aFNxKCk7XG5cbiAgICAgICAgaWYgKGRpc3QgPCB0aGlzLm9wdHMuYm9uZExlbmd0aFNxKSB7XG4gICAgICAgICAgbGV0IHdlaWdodGVkID1cbiAgICAgICAgICAgICh0aGlzLm9wdHMuYm9uZExlbmd0aCAtIE1hdGguc3FydChkaXN0KSkgLyB0aGlzLm9wdHMuYm9uZExlbmd0aDtcbiAgICAgICAgICB0b3RhbCArPSB3ZWlnaHRlZDtcbiAgICAgICAgICBvdmVybGFwU2NvcmVzW2ldICs9IHdlaWdodGVkO1xuICAgICAgICAgIG92ZXJsYXBTY29yZXNbal0gKz0gd2VpZ2h0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgc29ydGFibGUgPSBBcnJheSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzb3J0YWJsZS5wdXNoKHtcbiAgICAgICAgaWQ6IGksXG4gICAgICAgIHNjb3JlOiBvdmVybGFwU2NvcmVzW2ldLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc29ydGFibGUuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGIuc2NvcmUgLSBhLnNjb3JlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsOiB0b3RhbCxcbiAgICAgIHNjb3Jlczogc29ydGFibGUsXG4gICAgICB2ZXJ0ZXhTY29yZXM6IG92ZXJsYXBTY29yZXMsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIGRyYXdpbmcgYSBkb3VibGUgYm9uZCwgY2hvb3NlIHRoZSBzaWRlIHRvIHBsYWNlIHRoZSBkb3VibGUgYm9uZC4gRS5nLiBhIGRvdWJsZSBib25kIHNob3VsZCBhbHdheXMgYmVlbiBkcmF3biBpbnNpZGUgYSByaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge1ZlcnRleH0gdmVydGV4QSBBIHZlcnRleC5cbiAgICogQHBhcmFtIHtWZXJ0ZXh9IHZlcnRleEIgQSB2ZXJ0ZXguXG4gICAqIEBwYXJhbSB7VmVjdG9yMltdfSBzaWRlcyBBbiBhcnJheSBjb250YWluaW5nIHRoZSB0d28gbm9ybWFscyBvZiB0aGUgbGluZSBzcGFubmVkIGJ5IHRoZSB0d28gcHJvdmlkZWQgdmVydGljZXMuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBpbmZvcm1hdGlvbjoge1xuICAgICAgICAgIHRvdGFsU2lkZUNvdW50OiBDb3VudHMgdGhlIHNpZGVzIG9mIGVhY2ggdmVydGV4IGluIHRoZSBtb2xlY3VsZSwgaXMgYW4gYXJyYXkgWyBhLCBiIF0sXG4gICAgICAgICAgdG90YWxQb3NpdGlvbjogU2FtZSBhcyBwb3NpdGlvbiwgYnV0IGJhc2VkIG9uIGVudGlyZSBtb2xlY3VsZSxcbiAgICAgICAgICBzaWRlQ291bnQ6IENvdW50cyB0aGUgc2lkZXMgb2YgZWFjaCBuZWlnaGJvdXIsIGlzIGFuIGFycmF5IFsgYSwgYiBdLFxuICAgICAgICAgIHBvc2l0aW9uOiB3aGljaCBzaWRlIHRvIHBvc2l0aW9uIHRoZSBzZWNvbmQgYm9uZCwgaXMgMCBvciAxLCByZXByZXNlbnRzIHRoZSBpbmRleCBpbiB0aGUgbm9ybWFsIGFycmF5LiBUaGlzIGlzIGJhc2VkIG9uIG9ubHkgdGhlIG5laWdoYm91cnNcbiAgICAgICAgICBhbkNvdW50OiB0aGUgbnVtYmVyIG9mIG5laWdoYm91cnMgb2YgdmVydGV4QSxcbiAgICAgICAgICBibkNvdW50OiB0aGUgbnVtYmVyIG9mIG5laWdoYm91cnMgb2YgdmVydGV4QlxuICAgICAgfVxuICAgKi9cbiAgY2hvb3NlU2lkZSh2ZXJ0ZXhBLCB2ZXJ0ZXhCLCBzaWRlcykge1xuICAgIC8vIENoZWNrIHdoaWNoIHNpZGUgaGFzIG1vcmUgdmVydGljZXNcbiAgICAvLyBHZXQgYWxsIHRoZSB2ZXJ0aWNlcyBjb25uZWN0ZWQgdG8gdGhlIGJvdGggZW5kc1xuICAgIGxldCBhbiA9IHZlcnRleEEuZ2V0TmVpZ2hib3Vycyh2ZXJ0ZXhCLmlkKTtcbiAgICBsZXQgYm4gPSB2ZXJ0ZXhCLmdldE5laWdoYm91cnModmVydGV4QS5pZCk7XG4gICAgbGV0IGFuQ291bnQgPSBhbi5sZW5ndGg7XG4gICAgbGV0IGJuQ291bnQgPSBibi5sZW5ndGg7XG5cbiAgICAvLyBBbGwgdmVydGljZXMgY29ubmVjdGVkIHRvIHRoZSBlZGdlIHZlcnRleEEgdG8gdmVydGV4QlxuICAgIGxldCB0biA9IEFycmF5SGVscGVyLm1lcmdlKGFuLCBibik7XG5cbiAgICAvLyBPbmx5IGNvbnNpZGVyaW5nIHRoZSBjb25uZWN0ZWQgdmVydGljZXNcbiAgICBsZXQgc2lkZUNvdW50ID0gWzAsIDBdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0bi5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHYgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW3RuW2ldXS5wb3NpdGlvbjtcblxuICAgICAgaWYgKHYuc2FtZVNpZGVBcyh2ZXJ0ZXhBLnBvc2l0aW9uLCB2ZXJ0ZXhCLnBvc2l0aW9uLCBzaWRlc1swXSkpIHtcbiAgICAgICAgc2lkZUNvdW50WzBdKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaWRlQ291bnRbMV0rKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDb25zaWRlcmluZyBhbGwgdmVydGljZXMgaW4gdGhlIGdyYXBoLCB0aGlzIGlzIHRvIHJlc29sdmUgdGllc1xuICAgIC8vIGZyb20gdGhlIGFib3ZlIHNpZGUgY291bnRzXG4gICAgbGV0IHRvdGFsU2lkZUNvdW50ID0gWzAsIDBdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgdiA9IHRoaXMuZ3JhcGgudmVydGljZXNbaV0ucG9zaXRpb247XG5cbiAgICAgIGlmICh2LnNhbWVTaWRlQXModmVydGV4QS5wb3NpdGlvbiwgdmVydGV4Qi5wb3NpdGlvbiwgc2lkZXNbMF0pKSB7XG4gICAgICAgIHRvdGFsU2lkZUNvdW50WzBdKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b3RhbFNpZGVDb3VudFsxXSsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0b3RhbFNpZGVDb3VudDogdG90YWxTaWRlQ291bnQsXG4gICAgICB0b3RhbFBvc2l0aW9uOiB0b3RhbFNpZGVDb3VudFswXSA+IHRvdGFsU2lkZUNvdW50WzFdID8gMCA6IDEsXG4gICAgICBzaWRlQ291bnQ6IHNpZGVDb3VudCxcbiAgICAgIHBvc2l0aW9uOiBzaWRlQ291bnRbMF0gPiBzaWRlQ291bnRbMV0gPyAwIDogMSxcbiAgICAgIGFuQ291bnQ6IGFuQ291bnQsXG4gICAgICBibkNvdW50OiBibkNvdW50LFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY2VudGVyIGZvciBhIHJpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7UmluZ30gcmluZyBBIHJpbmcuXG4gICAqL1xuICBzZXRSaW5nQ2VudGVyKHJpbmcpIHtcbiAgICBsZXQgcmluZ1NpemUgPSByaW5nLmdldFNpemUoKTtcbiAgICBsZXQgdG90YWwgPSBuZXcgVmVjdG9yMigwLCAwKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmluZ1NpemU7IGkrKykge1xuICAgICAgdG90YWwuYWRkKHRoaXMuZ3JhcGgudmVydGljZXNbcmluZy5tZW1iZXJzW2ldXS5wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgcmluZy5jZW50ZXIgPSB0b3RhbC5kaXZpZGUocmluZ1NpemUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNlbnRlciBvZiBhIHJpbmcgY29udGFpbmVkIHdpdGhpbiBhIGJyaWRnZWQgcmluZyBhbmQgY29udGFpbmluZyBhIGdpdmVuIHZlcnRleC5cbiAgICpcbiAgICogQHBhcmFtIHtSaW5nfSByaW5nIEEgYnJpZGdlZCByaW5nLlxuICAgKiBAcGFyYW0ge1ZlcnRleH0gdmVydGV4IEEgdmVydGV4LlxuICAgKiBAcmV0dXJucyB7VmVjdG9yMn0gVGhlIGNlbnRlciBvZiB0aGUgc3VicmluZyB0aGF0IGNvbnRhaW5pbmcgdGhlIHZlcnRleC5cbiAgICovXG4gIGdldFN1YnJpbmdDZW50ZXIocmluZywgdmVydGV4KSB7XG4gICAgbGV0IHJpbmdzID0gdmVydGV4LnZhbHVlLm9yaWdpbmFsUmluZ3M7XG4gICAgbGV0IGNlbnRlciA9IHJpbmcuY2VudGVyO1xuICAgIGxldCBzbWFsbGVzdCA9IE51bWJlci5NQVhfVkFMVUU7XG5cbiAgICAvLyBBbHdheXMgZ2V0IHRoZSBzbWFsbGVzdCByaW5nLlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmluZy5yaW5ncy5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmluZ3NbaV0gPT09IHJpbmcucmluZ3Nbal0uaWQpIHtcbiAgICAgICAgICBpZiAocmluZy5yaW5nc1tqXS5nZXRTaXplKCkgPCBzbWFsbGVzdCkge1xuICAgICAgICAgICAgY2VudGVyID0gcmluZy5yaW5nc1tqXS5jZW50ZXI7XG4gICAgICAgICAgICBzbWFsbGVzdCA9IHJpbmcucmluZ3Nbal0uZ2V0U2l6ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjZW50ZXI7XG4gIH1cblxuICAvKipcbiAgICogRHJhdyB0aGUgYWN0dWFsIGVkZ2VzIGFzIGJvbmRzIHRvIHRoZSBjYW52YXMuXG4gICAqXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gZGVidWcgQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdG8gZHJhdyBkZWJ1ZyBoZWxwZXJzLlxuICAgKi9cbiAgZHJhd0VkZ2VzKGRlYnVnKSB7XG4gICAgbGV0IHRoYXQgPSB0aGlzO1xuICAgIGxldCBkcmF3biA9IEFycmF5KHRoaXMuZ3JhcGguZWRnZXMubGVuZ3RoKTtcbiAgICBkcmF3bi5maWxsKGZhbHNlKTtcblxuICAgIHRoaXMuZ3JhcGgudHJhdmVyc2VCRigwLCBmdW5jdGlvbiAodmVydGV4KSB7XG4gICAgICBsZXQgZWRnZXMgPSB0aGF0LmdyYXBoLmdldEVkZ2VzKHZlcnRleC5pZCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVkZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBlZGdlSWQgPSBlZGdlc1tpXTtcbiAgICAgICAgaWYgKCFkcmF3bltlZGdlSWRdKSB7XG4gICAgICAgICAgZHJhd25bZWRnZUlkXSA9IHRydWU7XG4gICAgICAgICAgdGhhdC5kcmF3RWRnZShlZGdlSWQsIGRlYnVnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRHJhdyByaW5nIGZvciBpbXBsaWNpdGx5IGRlZmluZWQgYXJvbWF0aWMgcmluZ3NcbiAgICBpZiAoIXRoaXMuYnJpZGdlZFJpbmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcmluZyA9IHRoaXMucmluZ3NbaV07XG5cbiAgICAgICAgaWYgKHRoaXMuaXNSaW5nQXJvbWF0aWMocmluZykpIHtcbiAgICAgICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuZHJhd0Fyb21hdGljaXR5UmluZyhyaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IHRoZSBhbiBlZGdlIGFzIGEgYm9uZHMgdG8gdGhlIGNhbnZhcy5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVkZ2VJZCBBbiBlZGdlIGlkLlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGRlYnVnIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRvIGRyYXcgZGVidWcgaGVscGVycy5cbiAgICovXG4gIGRyYXdFZGdlKGVkZ2VJZCwgZGVidWcpIHtcbiAgICBsZXQgdGhhdCA9IHRoaXM7XG4gICAgbGV0IGVkZ2UgPSB0aGlzLmdyYXBoLmVkZ2VzW2VkZ2VJZF07XG4gICAgbGV0IHZlcnRleEEgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2VkZ2Uuc291cmNlSWRdO1xuICAgIGxldCB2ZXJ0ZXhCID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tlZGdlLnRhcmdldElkXTtcbiAgICBsZXQgZWxlbWVudEEgPSB2ZXJ0ZXhBLnZhbHVlLmVsZW1lbnQ7XG4gICAgbGV0IGVsZW1lbnRCID0gdmVydGV4Qi52YWx1ZS5lbGVtZW50O1xuXG4gICAgaWYgKFxuICAgICAgKCF2ZXJ0ZXhBLnZhbHVlLmlzRHJhd24gfHwgIXZlcnRleEIudmFsdWUuaXNEcmF3bikgJiZcbiAgICAgIHRoaXMub3B0cy5hdG9tVmlzdWFsaXphdGlvbiA9PT0gXCJkZWZhdWx0XCJcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgYSA9IHZlcnRleEEucG9zaXRpb247XG4gICAgbGV0IGIgPSB2ZXJ0ZXhCLnBvc2l0aW9uO1xuICAgIGxldCBub3JtYWxzID0gdGhpcy5nZXRFZGdlTm9ybWFscyhlZGdlKTtcblxuICAgIC8vIENyZWF0ZSBhIHBvaW50IG9uIGVhY2ggc2lkZSBvZiB0aGUgbGluZVxuICAgIGxldCBzaWRlcyA9IEFycmF5SGVscGVyLmNsb25lKG5vcm1hbHMpO1xuXG4gICAgc2lkZXNbMF0ubXVsdGlwbHlTY2FsYXIoMTApLmFkZChhKTtcbiAgICBzaWRlc1sxXS5tdWx0aXBseVNjYWxhcigxMCkuYWRkKGEpO1xuXG4gICAgaWYgKFxuICAgICAgZWRnZS5ib25kVHlwZSA9PT0gXCI9XCIgfHxcbiAgICAgIHRoaXMuZ2V0UmluZ2JvbmRUeXBlKHZlcnRleEEsIHZlcnRleEIpID09PSBcIj1cIiB8fFxuICAgICAgKGVkZ2UuaXNQYXJ0T2ZBcm9tYXRpY1JpbmcgJiYgdGhpcy5icmlkZ2VkUmluZylcbiAgICApIHtcbiAgICAgIC8vIEFsd2F5cyBkcmF3IGRvdWJsZSBib25kcyBpbnNpZGUgdGhlIHJpbmdcbiAgICAgIGxldCBpblJpbmcgPSB0aGlzLmFyZVZlcnRpY2VzSW5TYW1lUmluZyh2ZXJ0ZXhBLCB2ZXJ0ZXhCKTtcbiAgICAgIGxldCBzID0gdGhpcy5jaG9vc2VTaWRlKHZlcnRleEEsIHZlcnRleEIsIHNpZGVzKTtcblxuICAgICAgaWYgKGluUmluZykge1xuICAgICAgICAvLyBBbHdheXMgZHJhdyBkb3VibGUgYm9uZHMgaW5zaWRlIGEgcmluZ1xuICAgICAgICAvLyBpZiB0aGUgYm9uZCBpcyBzaGFyZWQgYnkgdHdvIHJpbmdzLCBpdCBpcyBkcmF3biBpbiB0aGUgbGFyZ2VyXG4gICAgICAgIC8vIHByb2JsZW06IHNtYWxsZXIgcmluZyBpcyBhcm9tYXRpYywgYm9uZCBpcyBzdGlsbCBkcmF3biBpbiBsYXJnZXIgLT4gZml4IHRoaXNcbiAgICAgICAgbGV0IGxjciA9IHRoaXMuZ2V0TGFyZ2VzdE9yQXJvbWF0aWNDb21tb25SaW5nKHZlcnRleEEsIHZlcnRleEIpO1xuICAgICAgICBsZXQgY2VudGVyID0gbGNyLmNlbnRlcjtcblxuICAgICAgICBub3JtYWxzWzBdLm11bHRpcGx5U2NhbGFyKHRoYXQub3B0cy5ib25kU3BhY2luZyk7XG4gICAgICAgIG5vcm1hbHNbMV0ubXVsdGlwbHlTY2FsYXIodGhhdC5vcHRzLmJvbmRTcGFjaW5nKTtcblxuICAgICAgICAvLyBDaG9vc2UgdGhlIG5vcm1hbCB0aGF0IGlzIG9uIHRoZSBzYW1lIHNpZGUgYXMgdGhlIGNlbnRlclxuICAgICAgICBsZXQgbGluZSA9IG51bGw7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNlbnRlci5zYW1lU2lkZUFzKFxuICAgICAgICAgICAgdmVydGV4QS5wb3NpdGlvbixcbiAgICAgICAgICAgIHZlcnRleEIucG9zaXRpb24sXG4gICAgICAgICAgICBWZWN0b3IyLmFkZChhLCBub3JtYWxzWzBdKVxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgbGluZSA9IG5ldyBMaW5lKFxuICAgICAgICAgICAgVmVjdG9yMi5hZGQoYSwgbm9ybWFsc1swXSksXG4gICAgICAgICAgICBWZWN0b3IyLmFkZChiLCBub3JtYWxzWzBdKSxcbiAgICAgICAgICAgIGVsZW1lbnRBLFxuICAgICAgICAgICAgZWxlbWVudEJcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpbmUgPSBuZXcgTGluZShcbiAgICAgICAgICAgIFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMV0pLFxuICAgICAgICAgICAgVmVjdG9yMi5hZGQoYiwgbm9ybWFsc1sxXSksXG4gICAgICAgICAgICBlbGVtZW50QSxcbiAgICAgICAgICAgIGVsZW1lbnRCXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpbmUuc2hvcnRlbihcbiAgICAgICAgICB0aGlzLm9wdHMuYm9uZExlbmd0aCAtXG4gICAgICAgICAgICB0aGlzLm9wdHMuc2hvcnRCb25kTGVuZ3RoICogdGhpcy5vcHRzLmJvbmRMZW5ndGhcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBUaGUgc2hvcnRlbmVkIGVkZ2VcbiAgICAgICAgaWYgKGVkZ2UuaXNQYXJ0T2ZBcm9tYXRpY1JpbmcpIHtcbiAgICAgICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuZHJhd0xpbmUobGluZSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdMaW5lKGxpbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIG5vcm1hbCBlZGdlXG4gICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3TGluZShuZXcgTGluZShhLCBiLCBlbGVtZW50QSwgZWxlbWVudEIpKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIGVkZ2UuY2VudGVyIHx8XG4gICAgICAgICh2ZXJ0ZXhBLmlzVGVybWluYWwoKSAmJiB2ZXJ0ZXhCLmlzVGVybWluYWwoKSlcbiAgICAgICkge1xuICAgICAgICBub3JtYWxzWzBdLm11bHRpcGx5U2NhbGFyKHRoYXQub3B0cy5oYWxmQm9uZFNwYWNpbmcpO1xuICAgICAgICBub3JtYWxzWzFdLm11bHRpcGx5U2NhbGFyKHRoYXQub3B0cy5oYWxmQm9uZFNwYWNpbmcpO1xuXG4gICAgICAgIGxldCBsaW5lQSA9IG5ldyBMaW5lKFxuICAgICAgICAgIFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMF0pLFxuICAgICAgICAgIFZlY3RvcjIuYWRkKGIsIG5vcm1hbHNbMF0pLFxuICAgICAgICAgIGVsZW1lbnRBLFxuICAgICAgICAgIGVsZW1lbnRCXG4gICAgICAgICk7XG4gICAgICAgIGxldCBsaW5lQiA9IG5ldyBMaW5lKFxuICAgICAgICAgIFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMV0pLFxuICAgICAgICAgIFZlY3RvcjIuYWRkKGIsIG5vcm1hbHNbMV0pLFxuICAgICAgICAgIGVsZW1lbnRBLFxuICAgICAgICAgIGVsZW1lbnRCXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdMaW5lKGxpbmVBKTtcbiAgICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdMaW5lKGxpbmVCKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIChzLmFuQ291bnQgPT0gMCAmJiBzLmJuQ291bnQgPiAxKSB8fFxuICAgICAgICAocy5ibkNvdW50ID09IDAgJiYgcy5hbkNvdW50ID4gMSlcbiAgICAgICkge1xuICAgICAgICAvLyBCb3RoIGxpbmVzIGFyZSB0aGUgc2FtZSBsZW5ndGggaGVyZVxuICAgICAgICAvLyBBZGQgdGhlIHNwYWNpbmcgdG8gdGhlIGVkZ2VzICh3aGljaCBhcmUgb2YgdW5pdCBsZW5ndGgpXG4gICAgICAgIG5vcm1hbHNbMF0ubXVsdGlwbHlTY2FsYXIodGhhdC5vcHRzLmhhbGZCb25kU3BhY2luZyk7XG4gICAgICAgIG5vcm1hbHNbMV0ubXVsdGlwbHlTY2FsYXIodGhhdC5vcHRzLmhhbGZCb25kU3BhY2luZyk7XG5cbiAgICAgICAgbGV0IGxpbmVBID0gbmV3IExpbmUoXG4gICAgICAgICAgVmVjdG9yMi5hZGQoYSwgbm9ybWFsc1swXSksXG4gICAgICAgICAgVmVjdG9yMi5hZGQoYiwgbm9ybWFsc1swXSksXG4gICAgICAgICAgZWxlbWVudEEsXG4gICAgICAgICAgZWxlbWVudEJcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGxpbmVCID0gbmV3IExpbmUoXG4gICAgICAgICAgVmVjdG9yMi5hZGQoYSwgbm9ybWFsc1sxXSksXG4gICAgICAgICAgVmVjdG9yMi5hZGQoYiwgbm9ybWFsc1sxXSksXG4gICAgICAgICAgZWxlbWVudEEsXG4gICAgICAgICAgZWxlbWVudEJcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuZHJhd0xpbmUobGluZUEpO1xuICAgICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuZHJhd0xpbmUobGluZUIpO1xuICAgICAgfSBlbHNlIGlmIChzLnNpZGVDb3VudFswXSA+IHMuc2lkZUNvdW50WzFdKSB7XG4gICAgICAgIG5vcm1hbHNbMF0ubXVsdGlwbHlTY2FsYXIodGhhdC5vcHRzLmJvbmRTcGFjaW5nKTtcbiAgICAgICAgbm9ybWFsc1sxXS5tdWx0aXBseVNjYWxhcih0aGF0Lm9wdHMuYm9uZFNwYWNpbmcpO1xuXG4gICAgICAgIGxldCBsaW5lID0gbmV3IExpbmUoXG4gICAgICAgICAgVmVjdG9yMi5hZGQoYSwgbm9ybWFsc1swXSksXG4gICAgICAgICAgVmVjdG9yMi5hZGQoYiwgbm9ybWFsc1swXSksXG4gICAgICAgICAgZWxlbWVudEEsXG4gICAgICAgICAgZWxlbWVudEJcbiAgICAgICAgKTtcblxuICAgICAgICBsaW5lLnNob3J0ZW4oXG4gICAgICAgICAgdGhpcy5vcHRzLmJvbmRMZW5ndGggLVxuICAgICAgICAgICAgdGhpcy5vcHRzLnNob3J0Qm9uZExlbmd0aCAqIHRoaXMub3B0cy5ib25kTGVuZ3RoXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3TGluZShsaW5lKTtcbiAgICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdMaW5lKG5ldyBMaW5lKGEsIGIsIGVsZW1lbnRBLCBlbGVtZW50QikpO1xuICAgICAgfSBlbHNlIGlmIChzLnNpZGVDb3VudFswXSA8IHMuc2lkZUNvdW50WzFdKSB7XG4gICAgICAgIG5vcm1hbHNbMF0ubXVsdGlwbHlTY2FsYXIodGhhdC5vcHRzLmJvbmRTcGFjaW5nKTtcbiAgICAgICAgbm9ybWFsc1sxXS5tdWx0aXBseVNjYWxhcih0aGF0Lm9wdHMuYm9uZFNwYWNpbmcpO1xuXG4gICAgICAgIGxldCBsaW5lID0gbmV3IExpbmUoXG4gICAgICAgICAgVmVjdG9yMi5hZGQoYSwgbm9ybWFsc1sxXSksXG4gICAgICAgICAgVmVjdG9yMi5hZGQoYiwgbm9ybWFsc1sxXSksXG4gICAgICAgICAgZWxlbWVudEEsXG4gICAgICAgICAgZWxlbWVudEJcbiAgICAgICAgKTtcblxuICAgICAgICBsaW5lLnNob3J0ZW4oXG4gICAgICAgICAgdGhpcy5vcHRzLmJvbmRMZW5ndGggLVxuICAgICAgICAgICAgdGhpcy5vcHRzLnNob3J0Qm9uZExlbmd0aCAqIHRoaXMub3B0cy5ib25kTGVuZ3RoXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3TGluZShsaW5lKTtcbiAgICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdMaW5lKG5ldyBMaW5lKGEsIGIsIGVsZW1lbnRBLCBlbGVtZW50QikpO1xuICAgICAgfSBlbHNlIGlmIChzLnRvdGFsU2lkZUNvdW50WzBdID4gcy50b3RhbFNpZGVDb3VudFsxXSkge1xuICAgICAgICBub3JtYWxzWzBdLm11bHRpcGx5U2NhbGFyKHRoYXQub3B0cy5ib25kU3BhY2luZyk7XG4gICAgICAgIG5vcm1hbHNbMV0ubXVsdGlwbHlTY2FsYXIodGhhdC5vcHRzLmJvbmRTcGFjaW5nKTtcblxuICAgICAgICBsZXQgbGluZSA9IG5ldyBMaW5lKFxuICAgICAgICAgIFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMF0pLFxuICAgICAgICAgIFZlY3RvcjIuYWRkKGIsIG5vcm1hbHNbMF0pLFxuICAgICAgICAgIGVsZW1lbnRBLFxuICAgICAgICAgIGVsZW1lbnRCXG4gICAgICAgICk7XG5cbiAgICAgICAgbGluZS5zaG9ydGVuKFxuICAgICAgICAgIHRoaXMub3B0cy5ib25kTGVuZ3RoIC1cbiAgICAgICAgICAgIHRoaXMub3B0cy5zaG9ydEJvbmRMZW5ndGggKiB0aGlzLm9wdHMuYm9uZExlbmd0aFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuZHJhd0xpbmUobGluZSk7XG4gICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3TGluZShuZXcgTGluZShhLCBiLCBlbGVtZW50QSwgZWxlbWVudEIpKTtcbiAgICAgIH0gZWxzZSBpZiAocy50b3RhbFNpZGVDb3VudFswXSA8PSBzLnRvdGFsU2lkZUNvdW50WzFdKSB7XG4gICAgICAgIG5vcm1hbHNbMF0ubXVsdGlwbHlTY2FsYXIodGhhdC5vcHRzLmJvbmRTcGFjaW5nKTtcbiAgICAgICAgbm9ybWFsc1sxXS5tdWx0aXBseVNjYWxhcih0aGF0Lm9wdHMuYm9uZFNwYWNpbmcpO1xuXG4gICAgICAgIGxldCBsaW5lID0gbmV3IExpbmUoXG4gICAgICAgICAgVmVjdG9yMi5hZGQoYSwgbm9ybWFsc1sxXSksXG4gICAgICAgICAgVmVjdG9yMi5hZGQoYiwgbm9ybWFsc1sxXSksXG4gICAgICAgICAgZWxlbWVudEEsXG4gICAgICAgICAgZWxlbWVudEJcbiAgICAgICAgKTtcblxuICAgICAgICBsaW5lLnNob3J0ZW4oXG4gICAgICAgICAgdGhpcy5vcHRzLmJvbmRMZW5ndGggLVxuICAgICAgICAgICAgdGhpcy5vcHRzLnNob3J0Qm9uZExlbmd0aCAqIHRoaXMub3B0cy5ib25kTGVuZ3RoXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3TGluZShsaW5lKTtcbiAgICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdMaW5lKG5ldyBMaW5lKGEsIGIsIGVsZW1lbnRBLCBlbGVtZW50QikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGVkZ2UuYm9uZFR5cGUgPT09IFwiI1wiKSB7XG4gICAgICBub3JtYWxzWzBdLm11bHRpcGx5U2NhbGFyKHRoYXQub3B0cy5ib25kU3BhY2luZyAvIDEuNSk7XG4gICAgICBub3JtYWxzWzFdLm11bHRpcGx5U2NhbGFyKHRoYXQub3B0cy5ib25kU3BhY2luZyAvIDEuNSk7XG5cbiAgICAgIGxldCBsaW5lQSA9IG5ldyBMaW5lKFxuICAgICAgICBWZWN0b3IyLmFkZChhLCBub3JtYWxzWzBdKSxcbiAgICAgICAgVmVjdG9yMi5hZGQoYiwgbm9ybWFsc1swXSksXG4gICAgICAgIGVsZW1lbnRBLFxuICAgICAgICBlbGVtZW50QlxuICAgICAgKTtcbiAgICAgIGxldCBsaW5lQiA9IG5ldyBMaW5lKFxuICAgICAgICBWZWN0b3IyLmFkZChhLCBub3JtYWxzWzFdKSxcbiAgICAgICAgVmVjdG9yMi5hZGQoYiwgbm9ybWFsc1sxXSksXG4gICAgICAgIGVsZW1lbnRBLFxuICAgICAgICBlbGVtZW50QlxuICAgICAgKTtcblxuICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdMaW5lKGxpbmVBKTtcbiAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3TGluZShsaW5lQik7XG5cbiAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3TGluZShuZXcgTGluZShhLCBiLCBlbGVtZW50QSwgZWxlbWVudEIpKTtcbiAgICB9IGVsc2UgaWYgKGVkZ2UuYm9uZFR5cGUgPT09IFwiLlwiKSB7XG4gICAgICAvLyBUT0RPOiBTb21ldGhpbmcuLi4gbWF5YmUuLi4gdmVyc2lvbiAyP1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgaXNDaGlyYWxDZW50ZXJBID0gdmVydGV4QS52YWx1ZS5pc1N0ZXJlb0NlbnRlcjtcbiAgICAgIGxldCBpc0NoaXJhbENlbnRlckIgPSB2ZXJ0ZXhCLnZhbHVlLmlzU3RlcmVvQ2VudGVyO1xuXG4gICAgICBpZiAoZWRnZS53ZWRnZSA9PT0gXCJ1cFwiKSB7XG4gICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3V2VkZ2UoXG4gICAgICAgICAgbmV3IExpbmUoYSwgYiwgZWxlbWVudEEsIGVsZW1lbnRCLCBpc0NoaXJhbENlbnRlckEsIGlzQ2hpcmFsQ2VudGVyQilcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoZWRnZS53ZWRnZSA9PT0gXCJkb3duXCIpIHtcbiAgICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdEYXNoZWRXZWRnZShcbiAgICAgICAgICBuZXcgTGluZShhLCBiLCBlbGVtZW50QSwgZWxlbWVudEIsIGlzQ2hpcmFsQ2VudGVyQSwgaXNDaGlyYWxDZW50ZXJCKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdMaW5lKFxuICAgICAgICAgIG5ldyBMaW5lKGEsIGIsIGVsZW1lbnRBLCBlbGVtZW50QiwgaXNDaGlyYWxDZW50ZXJBLCBpc0NoaXJhbENlbnRlckIpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRlYnVnKSB7XG4gICAgICBsZXQgbWlkcG9pbnQgPSBWZWN0b3IyLm1pZHBvaW50KGEsIGIpO1xuICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdEZWJ1Z1RleHQobWlkcG9pbnQueCwgbWlkcG9pbnQueSwgXCJlOiBcIiArIGVkZ2VJZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSB2ZXJ0aWNlcyByZXByZXNlbnRpbmcgYXRvbXMgdG8gdGhlIGNhbnZhcy5cbiAgICpcbiAgICogQHBhcmFtIHtCb29sZWFufSBkZWJ1ZyBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0byBkcmF3IGRlYnVnIG1lc3NhZ2VzIHRvIHRoZSBjYW52YXMuXG4gICAqL1xuICBkcmF3VmVydGljZXMoZGVidWcpIHtcbiAgICB2YXIgaSA9IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaC52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbaV07XG4gICAgICBsZXQgYXRvbSA9IHZlcnRleC52YWx1ZTtcbiAgICAgIGxldCBjaGFyZ2UgPSAwO1xuICAgICAgbGV0IGlzb3RvcGUgPSAwO1xuICAgICAgbGV0IGJvbmRDb3VudCA9IHZlcnRleC52YWx1ZS5ib25kQ291bnQ7XG4gICAgICBsZXQgZWxlbWVudCA9IGF0b20uZWxlbWVudDtcbiAgICAgIGxldCBoeWRyb2dlbnMgPSBBdG9tLm1heEJvbmRzW2VsZW1lbnRdIC0gYm9uZENvdW50O1xuICAgICAgbGV0IGRpciA9IHZlcnRleC5nZXRUZXh0RGlyZWN0aW9uKHRoaXMuZ3JhcGgudmVydGljZXMpO1xuICAgICAgbGV0IGlzVGVybWluYWwgPVxuICAgICAgICB0aGlzLm9wdHMudGVybWluYWxDYXJib25zIHx8XG4gICAgICAgIGVsZW1lbnQgIT09IFwiQ1wiIHx8XG4gICAgICAgIGF0b20uaGFzQXR0YWNoZWRQc2V1ZG9FbGVtZW50c1xuICAgICAgICAgID8gdmVydGV4LmlzVGVybWluYWwoKVxuICAgICAgICAgIDogZmFsc2U7XG4gICAgICBsZXQgaXNDYXJib24gPSBhdG9tLmVsZW1lbnQgPT09IFwiQ1wiO1xuICAgICAgLy8gVGhpcyBpcyBhIEhBQ0sgdG8gcmVtb3ZlIGFsbCBoeWRyb2dlbnMgZnJvbSBuaXRyb2dlbnMgaW4gYXJvbWF0aWMgcmluZ3MsIGFzIHRoaXNcbiAgICAgIC8vIHNob3VsZCBiZSB0aGUgbW9zdCBjb21tb24gc3RhdGUuIFRoaXMgaGFzIHRvIGJlIGZpeGVkIGJ5IGtla3VsaXphdGlvblxuICAgICAgaWYgKGF0b20uZWxlbWVudCA9PT0gXCJOXCIgJiYgYXRvbS5pc1BhcnRPZkFyb21hdGljUmluZykge1xuICAgICAgICBoeWRyb2dlbnMgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXRvbS5icmFja2V0KSB7XG4gICAgICAgIGh5ZHJvZ2VucyA9IGF0b20uYnJhY2tldC5oY291bnQ7XG4gICAgICAgIGNoYXJnZSA9IGF0b20uYnJhY2tldC5jaGFyZ2U7XG4gICAgICAgIGlzb3RvcGUgPSBhdG9tLmJyYWNrZXQuaXNvdG9wZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub3B0cy5hdG9tVmlzdWFsaXphdGlvbiA9PT0gXCJhbGxiYWxsc1wiKSB7XG4gICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3QmFsbChcbiAgICAgICAgICB2ZXJ0ZXgucG9zaXRpb24ueCxcbiAgICAgICAgICB2ZXJ0ZXgucG9zaXRpb24ueSxcbiAgICAgICAgICBlbGVtZW50XG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAoYXRvbS5pc0RyYXduICYmXG4gICAgICAgICAgKCFpc0NhcmJvbiB8fFxuICAgICAgICAgICAgYXRvbS5kcmF3RXhwbGljaXQgfHxcbiAgICAgICAgICAgIGlzVGVybWluYWwgfHxcbiAgICAgICAgICAgIGF0b20uaGFzQXR0YWNoZWRQc2V1ZG9FbGVtZW50cykpIHx8XG4gICAgICAgIHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoID09PSAxXG4gICAgICApIHtcbiAgICAgICAgaWYgKHRoaXMub3B0cy5hdG9tVmlzdWFsaXphdGlvbiA9PT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuZHJhd1RleHQoXG4gICAgICAgICAgICB2ZXJ0ZXgucG9zaXRpb24ueCxcbiAgICAgICAgICAgIHZlcnRleC5wb3NpdGlvbi55LFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIGh5ZHJvZ2VucyxcbiAgICAgICAgICAgIGRpcixcbiAgICAgICAgICAgIGlzVGVybWluYWwsXG4gICAgICAgICAgICBjaGFyZ2UsXG4gICAgICAgICAgICBpc290b3BlLFxuICAgICAgICAgICAgdGhpcy5ncmFwaC52ZXJ0aWNlcy5sZW5ndGgsXG4gICAgICAgICAgICBhdG9tLmdldEF0dGFjaGVkUHNldWRvRWxlbWVudHMoKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRzLmF0b21WaXN1YWxpemF0aW9uID09PSBcImJhbGxzXCIpIHtcbiAgICAgICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuZHJhd0JhbGwoXG4gICAgICAgICAgICB2ZXJ0ZXgucG9zaXRpb24ueCxcbiAgICAgICAgICAgIHZlcnRleC5wb3NpdGlvbi55LFxuICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHZlcnRleC5nZXROZWlnaGJvdXJDb3VudCgpID09PSAyICYmXG4gICAgICAgIHZlcnRleC5mb3JjZVBvc2l0aW9uZWQgPT0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgY2FyYm9uIHdoaWNoIGJvbmRzIGFyZSBpbiBhIHN0cmFpZ2h0IGxpbmUsIGRyYXcgYSBkb3RcbiAgICAgICAgbGV0IGEgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW3ZlcnRleC5uZWlnaGJvdXJzWzBdXS5wb3NpdGlvbjtcbiAgICAgICAgbGV0IGIgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW3ZlcnRleC5uZWlnaGJvdXJzWzFdXS5wb3NpdGlvbjtcbiAgICAgICAgbGV0IGFuZ2xlID0gVmVjdG9yMi50aHJlZVBvaW50YW5nbGUodmVydGV4LnBvc2l0aW9uLCBhLCBiKTtcblxuICAgICAgICBpZiAoTWF0aC5hYnMoTWF0aC5QSSAtIGFuZ2xlKSA8IDAuMSkge1xuICAgICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3UG9pbnQoXG4gICAgICAgICAgICB2ZXJ0ZXgucG9zaXRpb24ueCxcbiAgICAgICAgICAgIHZlcnRleC5wb3NpdGlvbi55LFxuICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IFwidjogXCIgKyB2ZXJ0ZXguaWQgKyBcIiBcIiArIEFycmF5SGVscGVyLnByaW50KGF0b20ucmluZ2JvbmRzKTtcbiAgICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdEZWJ1Z1RleHQoXG4gICAgICAgICAgdmVydGV4LnBvc2l0aW9uLngsXG4gICAgICAgICAgdmVydGV4LnBvc2l0aW9uLnksXG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3RGVidWdUZXh0KHZlcnRleC5wb3NpdGlvbi54LCB2ZXJ0ZXgucG9zaXRpb24ueSwgdmVydGV4LnZhbHVlLmNoaXJhbGl0eSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRHJhdyB0aGUgcmluZyBjZW50ZXJzIGZvciBkZWJ1ZyBwdXJwb3Nlc1xuICAgIGlmICh0aGlzLm9wdHMuZGVidWcpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY2VudGVyID0gdGhpcy5yaW5nc1tpXS5jZW50ZXI7XG4gICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3RGVidWdQb2ludChcbiAgICAgICAgICBjZW50ZXIueCxcbiAgICAgICAgICBjZW50ZXIueSxcbiAgICAgICAgICBcInI6IFwiICsgdGhpcy5yaW5nc1tpXS5pZFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQb3NpdGlvbiB0aGUgdmVydGljZXMgYWNjb3JkaW5nIHRvIHRoZWlyIGJvbmRzIGFuZCBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgcG9zaXRpb24oKSB7XG4gICAgbGV0IHN0YXJ0VmVydGV4ID0gbnVsbDtcblxuICAgIC8vIEFsd2F5cyBzdGFydCBkcmF3aW5nIGF0IGEgYnJpZGdlZCByaW5nIGlmIHRoZXJlIGlzIG9uZVxuICAgIC8vIElmIG5vdCwgc3RhcnQgd2l0aCBhIHJpbmdcbiAgICAvLyBlbHNlLCBzdGFydCB3aXRoIDBcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmdyYXBoLnZlcnRpY2VzW2ldLnZhbHVlLmJyaWRnZWRSaW5nICE9PSBudWxsKSB7XG4gICAgICAgIHN0YXJ0VmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tpXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5yaW5nc1tpXS5pc0JyaWRnZWQpIHtcbiAgICAgICAgc3RhcnRWZXJ0ZXggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW3RoaXMucmluZ3NbaV0ubWVtYmVyc1swXV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmluZ3MubGVuZ3RoID4gMCAmJiBzdGFydFZlcnRleCA9PT0gbnVsbCkge1xuICAgICAgc3RhcnRWZXJ0ZXggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW3RoaXMucmluZ3NbMF0ubWVtYmVyc1swXV07XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0VmVydGV4ID09PSBudWxsKSB7XG4gICAgICBzdGFydFZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbMF07XG4gICAgfVxuXG4gICAgdGhpcy5jcmVhdGVOZXh0Qm9uZChzdGFydFZlcnRleCwgbnVsbCwgMC4wKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9yZXMgdGhlIGN1cnJlbnQgaW5mb3JtYXRpb24gYXNzb2NpYXRlZCB3aXRoIHJpbmdzLlxuICAgKi9cbiAgYmFja3VwUmluZ0luZm9ybWF0aW9uKCkge1xuICAgIHRoaXMub3JpZ2luYWxSaW5ncyA9IEFycmF5KCk7XG4gICAgdGhpcy5vcmlnaW5hbFJpbmdDb25uZWN0aW9ucyA9IEFycmF5KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMub3JpZ2luYWxSaW5ncy5wdXNoKHRoaXMucmluZ3NbaV0pO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yaW5nQ29ubmVjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMub3JpZ2luYWxSaW5nQ29ubmVjdGlvbnMucHVzaCh0aGlzLnJpbmdDb25uZWN0aW9uc1tpXSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmdyYXBoLnZlcnRpY2VzW2ldLnZhbHVlLmJhY2t1cFJpbmdzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RvcmVzIHRoZSBtb3N0IHJlY2VudGx5IGJhY2tlZCB1cCBpbmZvcm1hdGlvbiBhc3NvY2lhdGVkIHdpdGggcmluZ3MuXG4gICAqL1xuICByZXN0b3JlUmluZ0luZm9ybWF0aW9uKCkge1xuICAgIC8vIEdldCB0aGUgc3VicmluZyBjZW50ZXJzIGZyb20gdGhlIGJyaWRnZWQgcmluZ3NcbiAgICBsZXQgYnJpZGdlZFJpbmdzID0gdGhpcy5nZXRCcmlkZ2VkUmluZ3MoKTtcblxuICAgIHRoaXMucmluZ3MgPSBBcnJheSgpO1xuICAgIHRoaXMucmluZ0Nvbm5lY3Rpb25zID0gQXJyYXkoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnJpZGdlZFJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgYnJpZGdlZFJpbmcgPSBicmlkZ2VkUmluZ3NbaV07XG5cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYnJpZGdlZFJpbmcucmluZ3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IHJpbmcgPSBicmlkZ2VkUmluZy5yaW5nc1tqXTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFJpbmdzW3JpbmcuaWRdLmNlbnRlciA9IHJpbmcuY2VudGVyO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vcmlnaW5hbFJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnJpbmdzLnB1c2godGhpcy5vcmlnaW5hbFJpbmdzW2ldKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3JpZ2luYWxSaW5nQ29ubmVjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMucmluZ0Nvbm5lY3Rpb25zLnB1c2godGhpcy5vcmlnaW5hbFJpbmdDb25uZWN0aW9uc1tpXSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmdyYXBoLnZlcnRpY2VzW2ldLnZhbHVlLnJlc3RvcmVSaW5ncygpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE86IFRoaXMgbmVlZHMgc29tZSBjbGVhbmluZyB1cFxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IHJpbmcsIHRoYXQgaXMsIHBvc2l0aW9uZXMgYWxsIHRoZSB2ZXJ0aWNlcyBpbnNpZGUgYSByaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge1Jpbmd9IHJpbmcgVGhlIHJpbmcgdG8gcG9zaXRpb24uXG4gICAqIEBwYXJhbSB7KFZlY3RvcjJ8bnVsbCl9IFtjZW50ZXI9bnVsbF0gVGhlIGNlbnRlciBvZiB0aGUgcmluZyB0byBiZSBjcmVhdGVkLlxuICAgKiBAcGFyYW0geyhWZXJ0ZXh8bnVsbCl9IFtzdGFydFZlcnRleD1udWxsXSBUaGUgZmlyc3QgdmVydGV4IHRvIGJlIHBvc2l0aW9uZWQgaW5zaWRlIHRoZSByaW5nLlxuICAgKiBAcGFyYW0geyhWZXJ0ZXh8bnVsbCl9IFtwcmV2aW91c1ZlcnRleD1udWxsXSBUaGUgbGFzdCB2ZXJ0ZXggdGhhdCB3YXMgcG9zaXRpb25lZC5cbiAgICogQHBhcmFtIHtCb29sZWFufSBbcHJldmlvdXNWZXJ0ZXg9ZmFsc2VdIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoaXMgcmluZyB3YXMgZm9yY2UgcG9zaXRpb25lZCBhbHJlYWR5IC0gdGhpcyBpcyBuZWVkZWQgYWZ0ZXIgZm9yY2UgbGF5b3V0aW5nIGEgcmluZywgaW4gb3JkZXIgdG8gZHJhdyByaW5ncyBjb25uZWN0ZWQgdG8gaXQuXG4gICAqL1xuICBjcmVhdGVSaW5nKHJpbmcsIGNlbnRlciA9IG51bGwsIHN0YXJ0VmVydGV4ID0gbnVsbCwgcHJldmlvdXNWZXJ0ZXggPSBudWxsKSB7XG4gICAgaWYgKHJpbmcucG9zaXRpb25lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNlbnRlciA9IGNlbnRlciA/IGNlbnRlciA6IG5ldyBWZWN0b3IyKDAsIDApO1xuXG4gICAgbGV0IG9yZGVyZWROZWlnaGJvdXJzID0gcmluZy5nZXRPcmRlcmVkTmVpZ2hib3Vycyh0aGlzLnJpbmdDb25uZWN0aW9ucyk7XG4gICAgbGV0IHN0YXJ0aW5nQW5nbGUgPSBzdGFydFZlcnRleFxuICAgICAgPyBWZWN0b3IyLnN1YnRyYWN0KHN0YXJ0VmVydGV4LnBvc2l0aW9uLCBjZW50ZXIpLmFuZ2xlKClcbiAgICAgIDogMDtcblxuICAgIGxldCByYWRpdXMgPSBNYXRoSGVscGVyLnBvbHlDaXJjdW1yYWRpdXMoXG4gICAgICB0aGlzLm9wdHMuYm9uZExlbmd0aCxcbiAgICAgIHJpbmcuZ2V0U2l6ZSgpXG4gICAgKTtcbiAgICBsZXQgYW5nbGUgPSBNYXRoSGVscGVyLmNlbnRyYWxBbmdsZShyaW5nLmdldFNpemUoKSk7XG5cbiAgICByaW5nLmNlbnRyYWxBbmdsZSA9IGFuZ2xlO1xuXG4gICAgbGV0IGEgPSBzdGFydGluZ0FuZ2xlO1xuICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICBsZXQgc3RhcnRWZXJ0ZXhJZCA9IHN0YXJ0VmVydGV4ID8gc3RhcnRWZXJ0ZXguaWQgOiBudWxsO1xuXG4gICAgaWYgKHJpbmcubWVtYmVycy5pbmRleE9mKHN0YXJ0VmVydGV4SWQpID09PSAtMSkge1xuICAgICAgaWYgKHN0YXJ0VmVydGV4KSB7XG4gICAgICAgIHN0YXJ0VmVydGV4LnBvc2l0aW9uZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgc3RhcnRWZXJ0ZXhJZCA9IHJpbmcubWVtYmVyc1swXTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgcmluZyBpcyBicmlkZ2VkLCB0aGVuIGRyYXcgdGhlIHZlcnRpY2VzIGluc2lkZSB0aGUgcmluZ1xuICAgIC8vIHVzaW5nIGEgZm9yY2UgYmFzZWQgYXBwcm9hY2hcbiAgICBpZiAocmluZy5pc0JyaWRnZWQpIHtcbiAgICAgIHRoaXMuZ3JhcGgua2tMYXlvdXQoXG4gICAgICAgIHJpbmcubWVtYmVycy5zbGljZSgpLFxuICAgICAgICBjZW50ZXIsXG4gICAgICAgIHN0YXJ0VmVydGV4LmlkLFxuICAgICAgICByaW5nLFxuICAgICAgICB0aGlzLm9wdHMuYm9uZExlbmd0aCxcbiAgICAgICAgdGhpcy5vcHRzLmtrVGhyZXNob2xkLFxuICAgICAgICB0aGlzLm9wdHMua2tJbm5lclRocmVzaG9sZCxcbiAgICAgICAgdGhpcy5vcHRzLmtrTWF4SXRlcmF0aW9uLFxuICAgICAgICB0aGlzLm9wdHMua2tNYXhJbm5lckl0ZXJhdGlvbixcbiAgICAgICAgdGhpcy5vcHRzLmtrTWF4RW5lcmd5XG4gICAgICApO1xuICAgICAgcmluZy5wb3NpdGlvbmVkID0gdHJ1ZTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBjZW50ZXIgb2YgdGhlIGJyaWRnZWQgcmluZ1xuICAgICAgdGhpcy5zZXRSaW5nQ2VudGVyKHJpbmcpO1xuICAgICAgY2VudGVyID0gcmluZy5jZW50ZXI7XG5cbiAgICAgIC8vIFNldHRpbmcgdGhlIGNlbnRlcnMgZm9yIHRoZSBzdWJyaW5nc1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByaW5nLnJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuc2V0UmluZ0NlbnRlcihyaW5nLnJpbmdzW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmluZy5lYWNoTWVtYmVyKFxuICAgICAgICB0aGlzLmdyYXBoLnZlcnRpY2VzLFxuICAgICAgICBmdW5jdGlvbiAodikge1xuICAgICAgICAgIGxldCB2ZXJ0ZXggPSB0aGF0LmdyYXBoLnZlcnRpY2VzW3ZdO1xuXG4gICAgICAgICAgaWYgKCF2ZXJ0ZXgucG9zaXRpb25lZCkge1xuICAgICAgICAgICAgdmVydGV4LnNldFBvc2l0aW9uKFxuICAgICAgICAgICAgICBjZW50ZXIueCArIE1hdGguY29zKGEpICogcmFkaXVzLFxuICAgICAgICAgICAgICBjZW50ZXIueSArIE1hdGguc2luKGEpICogcmFkaXVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGEgKz0gYW5nbGU7XG5cbiAgICAgICAgICBpZiAoIXJpbmcuaXNCcmlkZ2VkIHx8IHJpbmcucmluZ3MubGVuZ3RoIDwgMykge1xuICAgICAgICAgICAgdmVydGV4LmFuZ2xlID0gYTtcbiAgICAgICAgICAgIHZlcnRleC5wb3NpdGlvbmVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN0YXJ0VmVydGV4SWQsXG4gICAgICAgIHByZXZpb3VzVmVydGV4ID8gcHJldmlvdXNWZXJ0ZXguaWQgOiBudWxsXG4gICAgICApO1xuICAgIH1cblxuICAgIHJpbmcucG9zaXRpb25lZCA9IHRydWU7XG4gICAgcmluZy5jZW50ZXIgPSBjZW50ZXI7XG5cbiAgICAvLyBEcmF3IG5laWdoYm91cnMgaW4gZGVjcmVhc2luZyBvcmRlciBvZiBjb25uZWN0aXZpdHlcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9yZGVyZWROZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbmVpZ2hib3VyID0gdGhpcy5nZXRSaW5nKG9yZGVyZWROZWlnaGJvdXJzW2ldLm5laWdoYm91cik7XG5cbiAgICAgIGlmIChuZWlnaGJvdXIucG9zaXRpb25lZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHZlcnRpY2VzID0gUmluZ0Nvbm5lY3Rpb24uZ2V0VmVydGljZXMoXG4gICAgICAgIHRoaXMucmluZ0Nvbm5lY3Rpb25zLFxuICAgICAgICByaW5nLmlkLFxuICAgICAgICBuZWlnaGJvdXIuaWRcbiAgICAgICk7XG5cbiAgICAgIGlmICh2ZXJ0aWNlcy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgLy8gVGhpcyByaW5nIGlzIGEgZnVzZWQgcmluZ1xuICAgICAgICByaW5nLmlzRnVzZWQgPSB0cnVlO1xuICAgICAgICBuZWlnaGJvdXIuaXNGdXNlZCA9IHRydWU7XG5cbiAgICAgICAgbGV0IHZlcnRleEEgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW3ZlcnRpY2VzWzBdXTtcbiAgICAgICAgbGV0IHZlcnRleEIgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW3ZlcnRpY2VzWzFdXTtcblxuICAgICAgICAvLyBHZXQgbWlkZGxlIGJldHdlZW4gdmVydGV4IEEgYW5kIEJcbiAgICAgICAgbGV0IG1pZHBvaW50ID0gVmVjdG9yMi5taWRwb2ludCh2ZXJ0ZXhBLnBvc2l0aW9uLCB2ZXJ0ZXhCLnBvc2l0aW9uKTtcblxuICAgICAgICAvLyBHZXQgdGhlIG5vcm1hbHMgdG8gdGhlIGxpbmUgYmV0d2VlbiBBIGFuZCBCXG4gICAgICAgIGxldCBub3JtYWxzID0gVmVjdG9yMi5ub3JtYWxzKHZlcnRleEEucG9zaXRpb24sIHZlcnRleEIucG9zaXRpb24pO1xuXG4gICAgICAgIC8vIE5vcm1hbGl6ZSB0aGUgbm9ybWFsc1xuICAgICAgICBub3JtYWxzWzBdLm5vcm1hbGl6ZSgpO1xuICAgICAgICBub3JtYWxzWzFdLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgIC8vIFNldCBsZW5ndGggZnJvbSBtaWRkbGUgb2Ygc2lkZSB0byBjZW50ZXIgKHRoZSBhcG90aGVtKVxuICAgICAgICBsZXQgciA9IE1hdGhIZWxwZXIucG9seUNpcmN1bXJhZGl1cyhcbiAgICAgICAgICB0aGlzLm9wdHMuYm9uZExlbmd0aCxcbiAgICAgICAgICBuZWlnaGJvdXIuZ2V0U2l6ZSgpXG4gICAgICAgICk7XG4gICAgICAgIGxldCBhcG90aGVtID0gTWF0aEhlbHBlci5hcG90aGVtKHIsIG5laWdoYm91ci5nZXRTaXplKCkpO1xuXG4gICAgICAgIG5vcm1hbHNbMF0ubXVsdGlwbHlTY2FsYXIoYXBvdGhlbSkuYWRkKG1pZHBvaW50KTtcbiAgICAgICAgbm9ybWFsc1sxXS5tdWx0aXBseVNjYWxhcihhcG90aGVtKS5hZGQobWlkcG9pbnQpO1xuXG4gICAgICAgIC8vIFBpY2sgdGhlIG5vcm1hbCB3aGljaCByZXN1bHRzIGluIGEgbGFyZ2VyIGRpc3RhbmNlIHRvIHRoZSBwcmV2aW91cyBjZW50ZXJcbiAgICAgICAgLy8gQWxzbyBjaGVjayB3aGV0aGVyIGl0J3MgaW5zaWRlIGFub3RoZXIgcmluZ1xuICAgICAgICBsZXQgbmV4dENlbnRlciA9IG5vcm1hbHNbMF07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBWZWN0b3IyLnN1YnRyYWN0KGNlbnRlciwgbm9ybWFsc1sxXSkubGVuZ3RoU3EoKSA+XG4gICAgICAgICAgVmVjdG9yMi5zdWJ0cmFjdChjZW50ZXIsIG5vcm1hbHNbMF0pLmxlbmd0aFNxKClcbiAgICAgICAgKSB7XG4gICAgICAgICAgbmV4dENlbnRlciA9IG5vcm1hbHNbMV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgdGhlIHZlcnRleCAoQSBvciBCKSB3aGljaCBpcyBpbiBjbG9jay13aXNlIGRpcmVjdGlvbiBvZiB0aGUgb3RoZXJcbiAgICAgICAgbGV0IHBvc0EgPSBWZWN0b3IyLnN1YnRyYWN0KHZlcnRleEEucG9zaXRpb24sIG5leHRDZW50ZXIpO1xuICAgICAgICBsZXQgcG9zQiA9IFZlY3RvcjIuc3VidHJhY3QodmVydGV4Qi5wb3NpdGlvbiwgbmV4dENlbnRlcik7XG5cbiAgICAgICAgaWYgKHBvc0EuY2xvY2t3aXNlKHBvc0IpID09PSAtMSkge1xuICAgICAgICAgIGlmICghbmVpZ2hib3VyLnBvc2l0aW9uZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUmluZyhuZWlnaGJvdXIsIG5leHRDZW50ZXIsIHZlcnRleEEsIHZlcnRleEIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIW5laWdoYm91ci5wb3NpdGlvbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJpbmcobmVpZ2hib3VyLCBuZXh0Q2VudGVyLCB2ZXJ0ZXhCLCB2ZXJ0ZXhBKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodmVydGljZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIFRoaXMgcmluZyBpcyBhIHNwaXJvXG4gICAgICAgIHJpbmcuaXNTcGlybyA9IHRydWU7XG4gICAgICAgIG5laWdoYm91ci5pc1NwaXJvID0gdHJ1ZTtcblxuICAgICAgICBsZXQgdmVydGV4QSA9IHRoaXMuZ3JhcGgudmVydGljZXNbdmVydGljZXNbMF1dO1xuXG4gICAgICAgIC8vIEdldCB0aGUgdmVjdG9yIHBvaW50aW5nIGZyb20gdGhlIHNoYXJlZCB2ZXJ0ZXggdG8gdGhlIG5ldyBjZW50cG9zaXRpb25lclxuICAgICAgICBsZXQgbmV4dENlbnRlciA9IFZlY3RvcjIuc3VidHJhY3QoY2VudGVyLCB2ZXJ0ZXhBLnBvc2l0aW9uKTtcblxuICAgICAgICBuZXh0Q2VudGVyLmludmVydCgpO1xuICAgICAgICBuZXh0Q2VudGVyLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgIC8vIEdldCB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgdmVydGV4IHRvIHRoZSBjZW50ZXJcbiAgICAgICAgbGV0IHIgPSBNYXRoSGVscGVyLnBvbHlDaXJjdW1yYWRpdXMoXG4gICAgICAgICAgdGhpcy5vcHRzLmJvbmRMZW5ndGgsXG4gICAgICAgICAgbmVpZ2hib3VyLmdldFNpemUoKVxuICAgICAgICApO1xuXG4gICAgICAgIG5leHRDZW50ZXIubXVsdGlwbHlTY2FsYXIocik7XG4gICAgICAgIG5leHRDZW50ZXIuYWRkKHZlcnRleEEucG9zaXRpb24pO1xuXG4gICAgICAgIGlmICghbmVpZ2hib3VyLnBvc2l0aW9uZWQpIHtcbiAgICAgICAgICB0aGlzLmNyZWF0ZVJpbmcobmVpZ2hib3VyLCBuZXh0Q2VudGVyLCB2ZXJ0ZXhBKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5leHQsIGRyYXcgYXRvbXMgdGhhdCBhcmUgbm90IHBhcnQgb2YgYSByaW5nIHRoYXQgYXJlIGRpcmVjdGx5IGF0dGFjaGVkIHRvIHRoaXMgcmluZ1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmluZy5tZW1iZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcmluZ01lbWJlciA9IHRoaXMuZ3JhcGgudmVydGljZXNbcmluZy5tZW1iZXJzW2ldXTtcbiAgICAgIGxldCByaW5nTWVtYmVyTmVpZ2hib3VycyA9IHJpbmdNZW1iZXIubmVpZ2hib3VycztcblxuICAgICAgLy8gSWYgdGhlcmUgYXJlIG11bHRpcGxlLCB0aGUgb3ZsZXJhcCB3aWxsIGJlIHJlc29sdmVkIGluIHRoZSBhcHByb3ByaWF0ZSBzdGVwXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJpbmdNZW1iZXJOZWlnaGJvdXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCB2ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tyaW5nTWVtYmVyTmVpZ2hib3Vyc1tqXV07XG5cbiAgICAgICAgaWYgKHYucG9zaXRpb25lZCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdi52YWx1ZS5pc0Nvbm5lY3RlZFRvUmluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuY3JlYXRlTmV4dEJvbmQodiwgcmluZ01lbWJlciwgMC4wKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUm90YXRlIGFuIGVudGlyZSBzdWJ0cmVlIGJ5IGFuIGFuZ2xlIGFyb3VuZCBhIGNlbnRlci5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlcnRleElkIEEgdmVydGV4IGlkICh0aGUgcm9vdCBvZiB0aGUgc3ViLXRyZWUpLlxuICAgKiBAcGFyYW0ge051bWJlcn0gcGFyZW50VmVydGV4SWQgQSB2ZXJ0ZXggaWQgaW4gdGhlIHByZXZpb3VzIGRpcmVjdGlvbiBvZiB0aGUgc3VidHJlZSB0aGF0IGlzIHRvIHJvdGF0ZS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IGFuZ2xlIEFuIGFuZ2xlIGluIHJhbmRpYW5zLlxuICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IGNlbnRlciBUaGUgcm90YXRpb25hbCBjZW50ZXIuXG4gICAqL1xuICByb3RhdGVTdWJ0cmVlKHZlcnRleElkLCBwYXJlbnRWZXJ0ZXhJZCwgYW5nbGUsIGNlbnRlcikge1xuICAgIGxldCB0aGF0ID0gdGhpcztcblxuICAgIHRoaXMuZ3JhcGgudHJhdmVyc2VUcmVlKHZlcnRleElkLCBwYXJlbnRWZXJ0ZXhJZCwgZnVuY3Rpb24gKHZlcnRleCkge1xuICAgICAgdmVydGV4LnBvc2l0aW9uLnJvdGF0ZUFyb3VuZChhbmdsZSwgY2VudGVyKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXgudmFsdWUuYW5jaG9yZWRSaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcmluZyA9IHRoYXQucmluZ3NbdmVydGV4LnZhbHVlLmFuY2hvcmVkUmluZ3NbaV1dO1xuXG4gICAgICAgIGlmIChyaW5nKSB7XG4gICAgICAgICAgcmluZy5jZW50ZXIucm90YXRlQXJvdW5kKGFuZ2xlLCBjZW50ZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgb3ZlcmxhcCBzY29yZSBvZiBhIHN1YnRyZWUuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJ0ZXhJZCBBIHZlcnRleCBpZCAodGhlIHJvb3Qgb2YgdGhlIHN1Yi10cmVlKS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBhcmVudFZlcnRleElkIEEgdmVydGV4IGlkIGluIHRoZSBwcmV2aW91cyBkaXJlY3Rpb24gb2YgdGhlIHN1YnRyZWUuXG4gICAqIEBwYXJhbSB7TnVtYmVyW119IHZlcnRleE92ZXJsYXBTY29yZXMgQW4gYXJyYXkgY29udGFpbmluZyB0aGUgdmVydGV4IG92ZXJsYXAgc2NvcmVzIGluZGV4ZWQgYnkgdmVydGV4IGlkLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgdG90YWwgb3ZlcmxhcCBzY29yZSBhbmQgdGhlIGNlbnRlciBvZiBtYXNzIG9mIHRoZSBzdWJ0cmVlIHdlaWdodGVkIGJ5IG92ZXJsYXAgc2NvcmUgeyB2YWx1ZTogMC4yLCBjZW50ZXI6IG5ldyBWZWN0b3IyKCkgfS5cbiAgICovXG4gIGdldFN1YnRyZWVPdmVybGFwU2NvcmUodmVydGV4SWQsIHBhcmVudFZlcnRleElkLCB2ZXJ0ZXhPdmVybGFwU2NvcmVzKSB7XG4gICAgbGV0IHRoYXQgPSB0aGlzO1xuICAgIGxldCBzY29yZSA9IDA7XG4gICAgbGV0IGNlbnRlciA9IG5ldyBWZWN0b3IyKDAsIDApO1xuICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICB0aGlzLmdyYXBoLnRyYXZlcnNlVHJlZSh2ZXJ0ZXhJZCwgcGFyZW50VmVydGV4SWQsIGZ1bmN0aW9uICh2ZXJ0ZXgpIHtcbiAgICAgIGlmICghdmVydGV4LnZhbHVlLmlzRHJhd24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsZXQgcyA9IHZlcnRleE92ZXJsYXBTY29yZXNbdmVydGV4LmlkXTtcbiAgICAgIGlmIChzID4gdGhhdC5vcHRzLm92ZXJsYXBTZW5zaXRpdml0eSkge1xuICAgICAgICBzY29yZSArPSBzO1xuICAgICAgICBjb3VudCsrO1xuICAgICAgfVxuXG4gICAgICBsZXQgcG9zaXRpb24gPSB0aGF0LmdyYXBoLnZlcnRpY2VzW3ZlcnRleC5pZF0ucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgIHBvc2l0aW9uLm11bHRpcGx5U2NhbGFyKHMpO1xuICAgICAgY2VudGVyLmFkZChwb3NpdGlvbik7XG4gICAgfSk7XG5cbiAgICBjZW50ZXIuZGl2aWRlKHNjb3JlKTtcblxuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogc2NvcmUgLyBjb3VudCxcbiAgICAgIGNlbnRlcjogY2VudGVyLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCAocG9zaXRpb25lZCB2ZXJ0aWNlcyBzbyBmYXIpIGNlbnRlciBvZiBtYXNzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7VmVjdG9yMn0gVGhlIGN1cnJlbnQgY2VudGVyIG9mIG1hc3MuXG4gICAqL1xuICBnZXRDdXJyZW50Q2VudGVyT2ZNYXNzKCkge1xuICAgIGxldCB0b3RhbCA9IG5ldyBWZWN0b3IyKDAsIDApO1xuICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB2ZXJ0ZXggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2ldO1xuXG4gICAgICBpZiAodmVydGV4LnBvc2l0aW9uZWQpIHtcbiAgICAgICAgdG90YWwuYWRkKHZlcnRleC5wb3NpdGlvbik7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRvdGFsLmRpdmlkZShjb3VudCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCAocG9zaXRpb25lZCB2ZXJ0aWNlcyBzbyBmYXIpIGNlbnRlciBvZiBtYXNzIGluIHRoZSBuZWlnaGJvdXJob29kIG9mIGEgZ2l2ZW4gcG9zaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjIFRoZSBwb2ludCBhdCB3aGljaCB0byBsb29rIGZvciBuZWlnaGJvdXJzLlxuICAgKiBAcGFyYW0ge051bWJlcn0gW3I9Y3VycmVudEJvbmRMZW5ndGgqMi4wXSBUaGUgcmFkaXVzIG9mIHZlcnRpY2VzIHRvIGluY2x1ZGUuXG4gICAqIEByZXR1cm5zIHtWZWN0b3IyfSBUaGUgY3VycmVudCBjZW50ZXIgb2YgbWFzcy5cbiAgICovXG4gIGdldEN1cnJlbnRDZW50ZXJPZk1hc3NJbk5laWdib3VyaG9vZCh2ZWMsIHIgPSB0aGlzLm9wdHMuYm9uZExlbmd0aCAqIDIuMCkge1xuICAgIGxldCB0b3RhbCA9IG5ldyBWZWN0b3IyKDAsIDApO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgbGV0IHJTcSA9IHIgKiByO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgdmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tpXTtcblxuICAgICAgaWYgKHZlcnRleC5wb3NpdGlvbmVkICYmIHZlYy5kaXN0YW5jZVNxKHZlcnRleC5wb3NpdGlvbikgPCByU3EpIHtcbiAgICAgICAgdG90YWwuYWRkKHZlcnRleC5wb3NpdGlvbik7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRvdGFsLmRpdmlkZShjb3VudCk7XG4gIH1cblxuICAvKipcbiAgICogUmVzb2x2ZSBwcmltYXJ5IChleGFjdCkgb3ZlcmxhcHMsIHN1Y2ggYXMgdHdvIHZlcnRpY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGUgc2FtZSByaW5nIHZlcnRleC5cbiAgICovXG4gIHJlc29sdmVQcmltYXJ5T3ZlcmxhcHMoKSB7XG4gICAgbGV0IG92ZXJsYXBzID0gQXJyYXkoKTtcbiAgICBsZXQgZG9uZSA9IEFycmF5KHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoKTtcblxuICAgIC8vIExvb2tpbmcgZm9yIG92ZXJsYXBzIGNyZWF0ZWQgYnkgdHdvIGJvbmRzIGNvbWluZyBvdXQgb2YgYSByaW5nIGF0b20sIHdoaWNoIGJvdGggcG9pbnQgc3RyYWlnaHRcbiAgICAvLyBhd2F5IGZyb20gdGhlIHJpbmcgYW5kIGFyZSB0aHVzIHBlcmZlY3RseSBvdmVybGFwcGluZy5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCByaW5nID0gdGhpcy5yaW5nc1tpXTtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByaW5nLm1lbWJlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IHZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbcmluZy5tZW1iZXJzW2pdXTtcblxuICAgICAgICBpZiAoZG9uZVt2ZXJ0ZXguaWRdKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBkb25lW3ZlcnRleC5pZF0gPSB0cnVlO1xuXG4gICAgICAgIGxldCBub25SaW5nTmVpZ2hib3VycyA9IHRoaXMuZ2V0Tm9uUmluZ05laWdoYm91cnModmVydGV4LmlkKTtcblxuICAgICAgICBpZiAobm9uUmluZ05laWdoYm91cnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIC8vIExvb2sgZm9yIHJpbmdzIHdoZXJlIHRoZXJlIGFyZSBhdG9tcyB3aXRoIHR3byBib25kcyBvdXRzaWRlIHRoZSByaW5nIChvdmVybGFwcylcbiAgICAgICAgICBsZXQgcmluZ3MgPSBBcnJheSgpO1xuXG4gICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB2ZXJ0ZXgudmFsdWUucmluZ3MubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgIHJpbmdzLnB1c2godmVydGV4LnZhbHVlLnJpbmdzW2tdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBvdmVybGFwcy5wdXNoKHtcbiAgICAgICAgICAgIGNvbW1vbjogdmVydGV4LFxuICAgICAgICAgICAgcmluZ3M6IHJpbmdzLFxuICAgICAgICAgICAgdmVydGljZXM6IG5vblJpbmdOZWlnaGJvdXJzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIG5vblJpbmdOZWlnaGJvdXJzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgIHZlcnRleC52YWx1ZS5yaW5ncy5sZW5ndGggPT09IDJcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gTG9vayBmb3IgYm9uZHMgY29taW5nIG91dCBvZiBqb2luZWQgcmluZ3MgdG8gYWRqdXN0IHRoZSBhbmdsZSwgYW4gZXhhbXBsZSBpczogQzE9Q0MoPUNDPUMxKVtDQF0xMlNDQ04xQ0MxPUNDPUNDPUMyMVxuICAgICAgICAgIC8vIHdoZXJlIHRoZSBhbmdsZSBoYXMgdG8gYmUgYWRqdXN0ZWQgdG8gYWNjb3VudCBmb3IgZnVzZWQgcmluZ1xuICAgICAgICAgIGxldCByaW5ncyA9IEFycmF5KCk7XG5cbiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHZlcnRleC52YWx1ZS5yaW5ncy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgcmluZ3MucHVzaCh2ZXJ0ZXgudmFsdWUucmluZ3Nba10pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG92ZXJsYXBzLnB1c2goe1xuICAgICAgICAgICAgY29tbW9uOiB2ZXJ0ZXgsXG4gICAgICAgICAgICByaW5nczogcmluZ3MsXG4gICAgICAgICAgICB2ZXJ0aWNlczogbm9uUmluZ05laWdoYm91cnMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG92ZXJsYXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgb3ZlcmxhcCA9IG92ZXJsYXBzW2ldO1xuXG4gICAgICBpZiAob3ZlcmxhcC52ZXJ0aWNlcy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgbGV0IGEgPSBvdmVybGFwLnZlcnRpY2VzWzBdO1xuICAgICAgICBsZXQgYiA9IG92ZXJsYXAudmVydGljZXNbMV07XG5cbiAgICAgICAgaWYgKCFhLnZhbHVlLmlzRHJhd24gfHwgIWIudmFsdWUuaXNEcmF3bikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGFuZ2xlID1cbiAgICAgICAgICAoMiAqIE1hdGguUEkgLSB0aGlzLmdldFJpbmcob3ZlcmxhcC5yaW5nc1swXSkuZ2V0QW5nbGUoKSkgLyA2LjA7XG5cbiAgICAgICAgdGhpcy5yb3RhdGVTdWJ0cmVlKFxuICAgICAgICAgIGEuaWQsXG4gICAgICAgICAgb3ZlcmxhcC5jb21tb24uaWQsXG4gICAgICAgICAgYW5nbGUsXG4gICAgICAgICAgb3ZlcmxhcC5jb21tb24ucG9zaXRpb25cbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5yb3RhdGVTdWJ0cmVlKFxuICAgICAgICAgIGIuaWQsXG4gICAgICAgICAgb3ZlcmxhcC5jb21tb24uaWQsXG4gICAgICAgICAgLWFuZ2xlLFxuICAgICAgICAgIG92ZXJsYXAuY29tbW9uLnBvc2l0aW9uXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gRGVjaWRlIHdoaWNoIHdheSB0byByb3RhdGUgdGhlIHZlcnRpY2VzIGRlcGVuZGluZyBvbiB0aGUgZWZmZWN0IGl0IGhhcyBvbiB0aGUgb3ZlcmxhcCBzY29yZVxuICAgICAgICBsZXQgb3ZlcmxhcFNjb3JlID0gdGhpcy5nZXRPdmVybGFwU2NvcmUoKTtcbiAgICAgICAgbGV0IHN1YlRyZWVPdmVybGFwQSA9IHRoaXMuZ2V0U3VidHJlZU92ZXJsYXBTY29yZShcbiAgICAgICAgICBhLmlkLFxuICAgICAgICAgIG92ZXJsYXAuY29tbW9uLmlkLFxuICAgICAgICAgIG92ZXJsYXBTY29yZS52ZXJ0ZXhTY29yZXNcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IHN1YlRyZWVPdmVybGFwQiA9IHRoaXMuZ2V0U3VidHJlZU92ZXJsYXBTY29yZShcbiAgICAgICAgICBiLmlkLFxuICAgICAgICAgIG92ZXJsYXAuY29tbW9uLmlkLFxuICAgICAgICAgIG92ZXJsYXBTY29yZS52ZXJ0ZXhTY29yZXNcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IHRvdGFsID0gc3ViVHJlZU92ZXJsYXBBLnZhbHVlICsgc3ViVHJlZU92ZXJsYXBCLnZhbHVlO1xuXG4gICAgICAgIHRoaXMucm90YXRlU3VidHJlZShcbiAgICAgICAgICBhLmlkLFxuICAgICAgICAgIG92ZXJsYXAuY29tbW9uLmlkLFxuICAgICAgICAgIC0yLjAgKiBhbmdsZSxcbiAgICAgICAgICBvdmVybGFwLmNvbW1vbi5wb3NpdGlvblxuICAgICAgICApO1xuICAgICAgICB0aGlzLnJvdGF0ZVN1YnRyZWUoXG4gICAgICAgICAgYi5pZCxcbiAgICAgICAgICBvdmVybGFwLmNvbW1vbi5pZCxcbiAgICAgICAgICAyLjAgKiBhbmdsZSxcbiAgICAgICAgICBvdmVybGFwLmNvbW1vbi5wb3NpdGlvblxuICAgICAgICApO1xuXG4gICAgICAgIG92ZXJsYXBTY29yZSA9IHRoaXMuZ2V0T3ZlcmxhcFNjb3JlKCk7XG4gICAgICAgIHN1YlRyZWVPdmVybGFwQSA9IHRoaXMuZ2V0U3VidHJlZU92ZXJsYXBTY29yZShcbiAgICAgICAgICBhLmlkLFxuICAgICAgICAgIG92ZXJsYXAuY29tbW9uLmlkLFxuICAgICAgICAgIG92ZXJsYXBTY29yZS52ZXJ0ZXhTY29yZXNcbiAgICAgICAgKTtcbiAgICAgICAgc3ViVHJlZU92ZXJsYXBCID0gdGhpcy5nZXRTdWJ0cmVlT3ZlcmxhcFNjb3JlKFxuICAgICAgICAgIGIuaWQsXG4gICAgICAgICAgb3ZlcmxhcC5jb21tb24uaWQsXG4gICAgICAgICAgb3ZlcmxhcFNjb3JlLnZlcnRleFNjb3Jlc1xuICAgICAgICApO1xuXG4gICAgICAgIGlmIChzdWJUcmVlT3ZlcmxhcEEudmFsdWUgKyBzdWJUcmVlT3ZlcmxhcEIudmFsdWUgPiB0b3RhbCkge1xuICAgICAgICAgIHRoaXMucm90YXRlU3VidHJlZShcbiAgICAgICAgICAgIGEuaWQsXG4gICAgICAgICAgICBvdmVybGFwLmNvbW1vbi5pZCxcbiAgICAgICAgICAgIDIuMCAqIGFuZ2xlLFxuICAgICAgICAgICAgb3ZlcmxhcC5jb21tb24ucG9zaXRpb25cbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMucm90YXRlU3VidHJlZShcbiAgICAgICAgICAgIGIuaWQsXG4gICAgICAgICAgICBvdmVybGFwLmNvbW1vbi5pZCxcbiAgICAgICAgICAgIC0yLjAgKiBhbmdsZSxcbiAgICAgICAgICAgIG92ZXJsYXAuY29tbW9uLnBvc2l0aW9uXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChvdmVybGFwLnZlcnRpY2VzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBpZiAob3ZlcmxhcC5yaW5ncy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgZm9yIG1vcmUgb3ZlcmxhcCByZXNvbHV0aW9uXG4gICAgICAgICAgLy8gY29uc29sZS5sb2cob3ZlcmxhcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVzb2x2ZSBzZWNvbmRhcnkgb3ZlcmxhcHMuIFRob3NlIG92ZXJsYXBzIGFyZSBkdWUgdG8gdGhlIHN0cnVjdHVyZSB0dXJuaW5nIGJhY2sgb24gaXRzZWxmLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdFtdfSBzY29yZXMgQW4gYXJyYXkgb2Ygb2JqZWN0cyBzb3J0ZWQgZGVzY2VuZGluZyBieSBzY29yZS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjb3Jlc1tdLmlkIEEgdmVydGV4IGlkLlxuICAgKiBAcGFyYW0ge051bWJlcn0gc2NvcmVzW10uc2NvcmUgVGhlIG92ZXJsYXAgc2NvcmUgYXNzb2NpYXRlZCB3aXRoIHRoZSB2ZXJ0ZXggaWQuXG4gICAqL1xuICByZXNvbHZlU2Vjb25kYXJ5T3ZlcmxhcHMoc2NvcmVzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzY29yZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChzY29yZXNbaV0uc2NvcmUgPiB0aGlzLm9wdHMub3ZlcmxhcFNlbnNpdGl2aXR5KSB7XG4gICAgICAgIGxldCB2ZXJ0ZXggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW3Njb3Jlc1tpXS5pZF07XG5cbiAgICAgICAgaWYgKHZlcnRleC5pc1Rlcm1pbmFsKCkpIHtcbiAgICAgICAgICBsZXQgY2xvc2VzdCA9IHRoaXMuZ2V0Q2xvc2VzdFZlcnRleCh2ZXJ0ZXgpO1xuXG4gICAgICAgICAgaWYgKGNsb3Nlc3QpIHtcbiAgICAgICAgICAgIC8vIElmIG9uZSBvZiB0aGUgdmVydGljZXMgaXMgdGhlIGZpcnN0IG9uZSwgdGhlIHByZXZpb3VzIHZlcnRleCBpcyBub3QgdGhlIGNlbnRyYWwgdmVydGV4IGJ1dCB0aGUgZHVtbXlcbiAgICAgICAgICAgIC8vIHNvIHRha2UgdGhlIG5leHQgcmF0aGVyIHRoYW4gdGhlIHByZXZpb3VzLCB3aGljaCBpcyB2ZXJ0ZXggMVxuICAgICAgICAgICAgbGV0IGNsb3Nlc3RQb3NpdGlvbiA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChjbG9zZXN0LmlzVGVybWluYWwoKSkge1xuICAgICAgICAgICAgICBjbG9zZXN0UG9zaXRpb24gPVxuICAgICAgICAgICAgICAgIGNsb3Nlc3QuaWQgPT09IDBcbiAgICAgICAgICAgICAgICAgID8gdGhpcy5ncmFwaC52ZXJ0aWNlc1sxXS5wb3NpdGlvblxuICAgICAgICAgICAgICAgICAgOiBjbG9zZXN0LnByZXZpb3VzUG9zaXRpb247XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjbG9zZXN0UG9zaXRpb24gPVxuICAgICAgICAgICAgICAgIGNsb3Nlc3QuaWQgPT09IDBcbiAgICAgICAgICAgICAgICAgID8gdGhpcy5ncmFwaC52ZXJ0aWNlc1sxXS5wb3NpdGlvblxuICAgICAgICAgICAgICAgICAgOiBjbG9zZXN0LnBvc2l0aW9uO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdmVydGV4UHJldmlvdXNQb3NpdGlvbiA9XG4gICAgICAgICAgICAgIHZlcnRleC5pZCA9PT0gMFxuICAgICAgICAgICAgICAgID8gdGhpcy5ncmFwaC52ZXJ0aWNlc1sxXS5wb3NpdGlvblxuICAgICAgICAgICAgICAgIDogdmVydGV4LnByZXZpb3VzUG9zaXRpb247XG5cbiAgICAgICAgICAgIHZlcnRleC5wb3NpdGlvbi5yb3RhdGVBd2F5RnJvbShcbiAgICAgICAgICAgICAgY2xvc2VzdFBvc2l0aW9uLFxuICAgICAgICAgICAgICB2ZXJ0ZXhQcmV2aW91c1Bvc2l0aW9uLFxuICAgICAgICAgICAgICBNYXRoSGVscGVyLnRvUmFkKDIwKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsYXN0IG5vbi1udWxsIG9yIDAgYW5nbGUgdmVydGV4LlxuICAgKiBAcGFyYW0ge051bWJlcn0gdmVydGV4SWQgQSB2ZXJ0ZXggaWQuXG4gICAqIEByZXR1cm5zIHtWZXJ0ZXh9IFRoZSBsYXN0IHZlcnRleCB3aXRoIGFuIGFuZ2xlIHRoYXQgd2FzIG5vdCAwIG9yIG51bGwuXG4gICAqL1xuICBnZXRMYXN0VmVydGV4V2l0aEFuZ2xlKHZlcnRleElkKSB7XG4gICAgbGV0IGFuZ2xlID0gMDtcbiAgICBsZXQgdmVydGV4ID0gbnVsbDtcblxuICAgIHdoaWxlICghYW5nbGUgJiYgdmVydGV4SWQpIHtcbiAgICAgIHZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbdmVydGV4SWRdO1xuICAgICAgYW5nbGUgPSB2ZXJ0ZXguYW5nbGU7XG4gICAgICB2ZXJ0ZXhJZCA9IHZlcnRleC5wYXJlbnRWZXJ0ZXhJZDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmVydGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFBvc2l0aW9uZXMgdGhlIG5leHQgdmVydGV4IHRodXMgY3JlYXRpbmcgYSBib25kLlxuICAgKlxuICAgKiBAcGFyYW0ge1ZlcnRleH0gdmVydGV4IEEgdmVydGV4LlxuICAgKiBAcGFyYW0ge1ZlcnRleH0gW3ByZXZpb3VzVmVydGV4PW51bGxdIFRoZSBwcmV2aW91cyB2ZXJ0ZXggd2hpY2ggaGFzIGJlZW4gcG9zaXRpb25lZC5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFthbmdsZT0wLjBdIFRoZSAoZ2xvYmFsKSBhbmdsZSBvZiB0aGUgdmVydGV4LlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcmlnaW5TaG9ydGVzdD1mYWxzZV0gV2hldGhlciB0aGUgb3JpZ2luIGlzIHRoZSBzaG9ydGVzdCBzdWJ0cmVlIGluIHRoZSBicmFuY2guXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NraXBQb3NpdGlvbmluZz1mYWxzZV0gV2hldGhlciBvciBub3QgdG8gc2tpcCBwb3NpdGlvbmluZyBhbmQganVzdCBjaGVjayB0aGUgbmVpZ2hib3Vycy5cbiAgICovXG4gIGNyZWF0ZU5leHRCb25kKFxuICAgIHZlcnRleCxcbiAgICBwcmV2aW91c1ZlcnRleCA9IG51bGwsXG4gICAgYW5nbGUgPSAwLjAsXG4gICAgb3JpZ2luU2hvcnRlc3QgPSBmYWxzZSxcbiAgICBza2lwUG9zaXRpb25pbmcgPSBmYWxzZVxuICApIHtcbiAgICBpZiAodmVydGV4LnBvc2l0aW9uZWQgJiYgIXNraXBQb3NpdGlvbmluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBkb3VibGUgYm9uZCBjb25maWcgd2FzIHNldCBvbiB0aGlzIHZlcnRleCwgZG8gbm90IGNoZWNrIGxhdGVyXG4gICAgbGV0IGRvdWJsZUJvbmRDb25maWdTZXQgPSBmYWxzZTtcblxuICAgIC8vIEtlZXBpbmcgdHJhY2sgb2YgY29uZmlndXJhdGlvbnMgYXJvdW5kIGRvdWJsZSBib25kc1xuICAgIGlmIChwcmV2aW91c1ZlcnRleCkge1xuICAgICAgbGV0IGVkZ2UgPSB0aGlzLmdyYXBoLmdldEVkZ2UodmVydGV4LmlkLCBwcmV2aW91c1ZlcnRleC5pZCk7XG5cbiAgICAgIGlmIChcbiAgICAgICAgKGVkZ2UuYm9uZFR5cGUgPT09IFwiL1wiIHx8IGVkZ2UuYm9uZFR5cGUgPT09IFwiXFxcXFwiKSAmJlxuICAgICAgICArK3RoaXMuZG91YmxlQm9uZENvbmZpZ0NvdW50ICUgMiA9PT0gMVxuICAgICAgKSB7XG4gICAgICAgIGlmICh0aGlzLmRvdWJsZUJvbmRDb25maWcgPT09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLmRvdWJsZUJvbmRDb25maWcgPSBlZGdlLmJvbmRUeXBlO1xuICAgICAgICAgIGRvdWJsZUJvbmRDb25maWdTZXQgPSB0cnVlO1xuXG4gICAgICAgICAgLy8gU3dpdGNoIGlmIHRoZSBib25kIGlzIGEgYnJhbmNoIGJvbmQgYW5kIHByZXZpb3VzIHZlcnRleCBpcyB0aGUgZmlyc3RcbiAgICAgICAgICAvLyBUT0RPOiBXaHkgaXMgaXQgZGlmZmVyZW50IHdpdGggdGhlIGZpcnN0IHZlcnRleD9cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBwcmV2aW91c1ZlcnRleC5wYXJlbnRWZXJ0ZXhJZCA9PT0gbnVsbCAmJlxuICAgICAgICAgICAgdmVydGV4LnZhbHVlLmJyYW5jaEJvbmRcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRvdWJsZUJvbmRDb25maWcgPT09IFwiL1wiKSB7XG4gICAgICAgICAgICAgIHRoaXMuZG91YmxlQm9uZENvbmZpZyA9IFwiXFxcXFwiO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRvdWJsZUJvbmRDb25maWcgPT09IFwiXFxcXFwiKSB7XG4gICAgICAgICAgICAgIHRoaXMuZG91YmxlQm9uZENvbmZpZyA9IFwiL1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRoZSBjdXJyZW50IG5vZGUgaXMgdGhlIG1lbWJlciBvZiBvbmUgcmluZywgdGhlbiBwb2ludCBzdHJhaWdodCBhd2F5XG4gICAgLy8gZnJvbSB0aGUgY2VudGVyIG9mIHRoZSByaW5nLiBIb3dldmVyLCBpZiB0aGUgY3VycmVudCBub2RlIGlzIGEgbWVtYmVyIG9mXG4gICAgLy8gdHdvIHJpbmdzLCBwb2ludCBhd2F5IGZyb20gdGhlIG1pZGRsZSBvZiB0aGUgY2VudGVycyBvZiB0aGUgdHdvIHJpbmdzXG4gICAgaWYgKCFza2lwUG9zaXRpb25pbmcpIHtcbiAgICAgIGlmICghcHJldmlvdXNWZXJ0ZXgpIHtcbiAgICAgICAgLy8gQWRkIGEgKGR1bW15KSBwcmV2aW91cyBwb3NpdGlvbiBpZiB0aGVyZSBpcyBubyBwcmV2aW91cyB2ZXJ0ZXggZGVmaW5lZFxuICAgICAgICAvLyBTaW5jZSB0aGUgZmlyc3QgdmVydGV4IGlzIGF0ICgwLCAwKSwgY3JlYXRlIGEgdmVjdG9yIGF0IChib25kTGVuZ3RoLCAwKVxuICAgICAgICAvLyBhbmQgcm90YXRlIGl0IGJ5IDkwwrBcblxuICAgICAgICBsZXQgZHVtbXkgPSBuZXcgVmVjdG9yMih0aGlzLm9wdHMuYm9uZExlbmd0aCwgMCk7XG4gICAgICAgIGR1bW15LnJvdGF0ZShNYXRoSGVscGVyLnRvUmFkKC02MCkpO1xuXG4gICAgICAgIHZlcnRleC5wcmV2aW91c1Bvc2l0aW9uID0gZHVtbXk7XG4gICAgICAgIHZlcnRleC5zZXRQb3NpdGlvbih0aGlzLm9wdHMuYm9uZExlbmd0aCwgMCk7XG4gICAgICAgIHZlcnRleC5hbmdsZSA9IE1hdGhIZWxwZXIudG9SYWQoLTYwKTtcblxuICAgICAgICAvLyBEbyBub3QgcG9zaXRpb24gdGhlIHZlcnRleCBpZiBpdCBiZWxvbmdzIHRvIGEgYnJpZGdlZCByaW5nIHRoYXQgaXMgcG9zaXRpb25lZCB1c2luZyBhIGxheW91dCBhbGdvcml0aG0uXG4gICAgICAgIGlmICh2ZXJ0ZXgudmFsdWUuYnJpZGdlZFJpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICB2ZXJ0ZXgucG9zaXRpb25lZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocHJldmlvdXNWZXJ0ZXgudmFsdWUucmluZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgbmVpZ2hib3VycyA9IHByZXZpb3VzVmVydGV4Lm5laWdoYm91cnM7XG4gICAgICAgIGxldCBqb2luZWRWZXJ0ZXggPSBudWxsO1xuICAgICAgICBsZXQgcG9zID0gbmV3IFZlY3RvcjIoMC4wLCAwLjApO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBwcmV2aW91c1ZlcnRleC52YWx1ZS5icmlkZ2VkUmluZyA9PT0gbnVsbCAmJlxuICAgICAgICAgIHByZXZpb3VzVmVydGV4LnZhbHVlLnJpbmdzLmxlbmd0aCA+IDFcbiAgICAgICAgKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbmVpZ2hib3VyID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzW2ldXTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgQXJyYXlIZWxwZXIuY29udGFpbnNBbGwoXG4gICAgICAgICAgICAgICAgbmVpZ2hib3VyLnZhbHVlLnJpbmdzLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzVmVydGV4LnZhbHVlLnJpbmdzXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBqb2luZWRWZXJ0ZXggPSBuZWlnaGJvdXI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqb2luZWRWZXJ0ZXggPT09IG51bGwpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB2ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzW2ldXTtcblxuICAgICAgICAgICAgaWYgKHYucG9zaXRpb25lZCAmJiB0aGlzLmFyZVZlcnRpY2VzSW5TYW1lUmluZyh2LCBwcmV2aW91c1ZlcnRleCkpIHtcbiAgICAgICAgICAgICAgcG9zLmFkZChWZWN0b3IyLnN1YnRyYWN0KHYucG9zaXRpb24sIHByZXZpb3VzVmVydGV4LnBvc2l0aW9uKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcG9zXG4gICAgICAgICAgICAuaW52ZXJ0KClcbiAgICAgICAgICAgIC5ub3JtYWxpemUoKVxuICAgICAgICAgICAgLm11bHRpcGx5U2NhbGFyKHRoaXMub3B0cy5ib25kTGVuZ3RoKVxuICAgICAgICAgICAgLmFkZChwcmV2aW91c1ZlcnRleC5wb3NpdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcG9zID0gam9pbmVkVmVydGV4LnBvc2l0aW9uXG4gICAgICAgICAgICAuY2xvbmUoKVxuICAgICAgICAgICAgLnJvdGF0ZUFyb3VuZChNYXRoLlBJLCBwcmV2aW91c1ZlcnRleC5wb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICB2ZXJ0ZXgucHJldmlvdXNQb3NpdGlvbiA9IHByZXZpb3VzVmVydGV4LnBvc2l0aW9uO1xuICAgICAgICB2ZXJ0ZXguc2V0UG9zaXRpb25Gcm9tVmVjdG9yKHBvcyk7XG4gICAgICAgIHZlcnRleC5wb3NpdGlvbmVkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIHRoZSBwcmV2aW91cyB2ZXJ0ZXggd2FzIG5vdCBwYXJ0IG9mIGEgcmluZywgZHJhdyBhIGJvbmQgYmFzZWRcbiAgICAgICAgLy8gb24gdGhlIGdsb2JhbCBhbmdsZSBvZiB0aGUgcHJldmlvdXMgYm9uZFxuICAgICAgICBsZXQgdiA9IG5ldyBWZWN0b3IyKHRoaXMub3B0cy5ib25kTGVuZ3RoLCAwKTtcblxuICAgICAgICB2LnJvdGF0ZShhbmdsZSk7XG4gICAgICAgIHYuYWRkKHByZXZpb3VzVmVydGV4LnBvc2l0aW9uKTtcblxuICAgICAgICB2ZXJ0ZXguc2V0UG9zaXRpb25Gcm9tVmVjdG9yKHYpO1xuICAgICAgICB2ZXJ0ZXgucHJldmlvdXNQb3NpdGlvbiA9IHByZXZpb3VzVmVydGV4LnBvc2l0aW9uO1xuICAgICAgICB2ZXJ0ZXgucG9zaXRpb25lZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gR28gdG8gbmV4dCB2ZXJ0ZXhcbiAgICAvLyBJZiB0d28gcmluZ3MgYXJlIGNvbm5lY3RlZCBieSBhIGJvbmQgLi4uXG4gICAgaWYgKHZlcnRleC52YWx1ZS5icmlkZ2VkUmluZyAhPT0gbnVsbCkge1xuICAgICAgbGV0IG5leHRSaW5nID0gdGhpcy5nZXRSaW5nKHZlcnRleC52YWx1ZS5icmlkZ2VkUmluZyk7XG5cbiAgICAgIGlmICghbmV4dFJpbmcucG9zaXRpb25lZCkge1xuICAgICAgICBsZXQgbmV4dENlbnRlciA9IFZlY3RvcjIuc3VidHJhY3QoXG4gICAgICAgICAgdmVydGV4LnByZXZpb3VzUG9zaXRpb24sXG4gICAgICAgICAgdmVydGV4LnBvc2l0aW9uXG4gICAgICAgICk7XG5cbiAgICAgICAgbmV4dENlbnRlci5pbnZlcnQoKTtcbiAgICAgICAgbmV4dENlbnRlci5ub3JtYWxpemUoKTtcblxuICAgICAgICBsZXQgciA9IE1hdGhIZWxwZXIucG9seUNpcmN1bXJhZGl1cyhcbiAgICAgICAgICB0aGlzLm9wdHMuYm9uZExlbmd0aCxcbiAgICAgICAgICBuZXh0UmluZy5tZW1iZXJzLmxlbmd0aFxuICAgICAgICApO1xuICAgICAgICBuZXh0Q2VudGVyLm11bHRpcGx5U2NhbGFyKHIpO1xuICAgICAgICBuZXh0Q2VudGVyLmFkZCh2ZXJ0ZXgucG9zaXRpb24pO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlUmluZyhuZXh0UmluZywgbmV4dENlbnRlciwgdmVydGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZlcnRleC52YWx1ZS5yaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgbmV4dFJpbmcgPSB0aGlzLmdldFJpbmcodmVydGV4LnZhbHVlLnJpbmdzWzBdKTtcblxuICAgICAgaWYgKCFuZXh0UmluZy5wb3NpdGlvbmVkKSB7XG4gICAgICAgIGxldCBuZXh0Q2VudGVyID0gVmVjdG9yMi5zdWJ0cmFjdChcbiAgICAgICAgICB2ZXJ0ZXgucHJldmlvdXNQb3NpdGlvbixcbiAgICAgICAgICB2ZXJ0ZXgucG9zaXRpb25cbiAgICAgICAgKTtcblxuICAgICAgICBuZXh0Q2VudGVyLmludmVydCgpO1xuICAgICAgICBuZXh0Q2VudGVyLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgIGxldCByID0gTWF0aEhlbHBlci5wb2x5Q2lyY3VtcmFkaXVzKFxuICAgICAgICAgIHRoaXMub3B0cy5ib25kTGVuZ3RoLFxuICAgICAgICAgIG5leHRSaW5nLmdldFNpemUoKVxuICAgICAgICApO1xuXG4gICAgICAgIG5leHRDZW50ZXIubXVsdGlwbHlTY2FsYXIocik7XG4gICAgICAgIG5leHRDZW50ZXIuYWRkKHZlcnRleC5wb3NpdGlvbik7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVSaW5nKG5leHRSaW5nLCBuZXh0Q2VudGVyLCB2ZXJ0ZXgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEcmF3IHRoZSBub24tcmluZyB2ZXJ0aWNlcyBjb25uZWN0ZWQgdG8gdGhpcyBvbmVcbiAgICAgIGxldCBpc1N0ZXJlb0NlbnRlciA9IHZlcnRleC52YWx1ZS5pc1N0ZXJlb0NlbnRlcjtcbiAgICAgIGxldCB0bXBOZWlnaGJvdXJzID0gdmVydGV4LmdldE5laWdoYm91cnMoKTtcbiAgICAgIGxldCBuZWlnaGJvdXJzID0gQXJyYXkoKTtcblxuICAgICAgLy8gUmVtb3ZlIG5laWdoYm91cnMgdGhhdCBhcmUgbm90IGRyYXduXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRtcE5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuZ3JhcGgudmVydGljZXNbdG1wTmVpZ2hib3Vyc1tpXV0udmFsdWUuaXNEcmF3bikge1xuICAgICAgICAgIG5laWdoYm91cnMucHVzaCh0bXBOZWlnaGJvdXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgdGhlIHByZXZpb3VzIHZlcnRleCAod2hpY2ggaGFzIGFscmVhZHkgYmVlbiBkcmF3bilcbiAgICAgIGlmIChwcmV2aW91c1ZlcnRleCkge1xuICAgICAgICBuZWlnaGJvdXJzID0gQXJyYXlIZWxwZXIucmVtb3ZlKG5laWdoYm91cnMsIHByZXZpb3VzVmVydGV4LmlkKTtcbiAgICAgIH1cblxuICAgICAgbGV0IHByZXZpb3VzQW5nbGUgPSB2ZXJ0ZXguZ2V0QW5nbGUoKTtcblxuICAgICAgaWYgKG5laWdoYm91cnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGxldCBuZXh0VmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzBdXTtcblxuICAgICAgICAvLyBNYWtlIGEgc2luZ2xlIGNoYWluIGFsd2F5cyBjaXMgZXhjZXB0IHdoZW4gdGhlcmUncyBhIHRyaWJibGUgKHllcywgdGhpcyBpcyBhIFN0YXIgVHJlayByZWZlcmVuY2UpIGJvbmRcbiAgICAgICAgLy8gb3IgaWYgdGhlcmUgYXJlIHN1Y2Nlc3NpdmUgZG91YmxlIGJvbmRzLiBBZGRlZCBhIHJpbmcgY2hlY2sgYmVjYXVzZSBpZiB0aGVyZSBpcyBhbiBhcm9tYXRpYyByaW5nIHRoZSByaW5nIGJvbmQgaW5zaWRlIHRoZSByaW5nIGNvdW50cyBhcyBhIGRvdWJsZSBib25kIGFuZCBsZWFkcyB0byA9LT0gYmVpbmcgc3RyYWlnaHQuXG4gICAgICAgIGlmIChcbiAgICAgICAgICB2ZXJ0ZXgudmFsdWUuYm9uZFR5cGUgPT09IFwiI1wiIHx8XG4gICAgICAgICAgKHByZXZpb3VzVmVydGV4ICYmIHByZXZpb3VzVmVydGV4LnZhbHVlLmJvbmRUeXBlID09PSBcIiNcIikgfHxcbiAgICAgICAgICAodmVydGV4LnZhbHVlLmJvbmRUeXBlID09PSBcIj1cIiAmJlxuICAgICAgICAgICAgcHJldmlvdXNWZXJ0ZXggJiZcbiAgICAgICAgICAgIHByZXZpb3VzVmVydGV4LnZhbHVlLnJpbmdzLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgcHJldmlvdXNWZXJ0ZXgudmFsdWUuYm9uZFR5cGUgPT09IFwiPVwiICYmXG4gICAgICAgICAgICB2ZXJ0ZXgudmFsdWUuYnJhbmNoQm9uZCAhPT0gXCItXCIpXG4gICAgICAgICkge1xuICAgICAgICAgIHZlcnRleC52YWx1ZS5kcmF3RXhwbGljaXQgPSBmYWxzZTtcblxuICAgICAgICAgIGlmIChwcmV2aW91c1ZlcnRleCkge1xuICAgICAgICAgICAgbGV0IHN0cmFpZ2h0RWRnZTEgPSB0aGlzLmdyYXBoLmdldEVkZ2UoXG4gICAgICAgICAgICAgIHZlcnRleC5pZCxcbiAgICAgICAgICAgICAgcHJldmlvdXNWZXJ0ZXguaWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBzdHJhaWdodEVkZ2UxLmNlbnRlciA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGV0IHN0cmFpZ2h0RWRnZTIgPSB0aGlzLmdyYXBoLmdldEVkZ2UodmVydGV4LmlkLCBuZXh0VmVydGV4LmlkKTtcbiAgICAgICAgICBzdHJhaWdodEVkZ2UyLmNlbnRlciA9IHRydWU7XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB2ZXJ0ZXgudmFsdWUuYm9uZFR5cGUgPT09IFwiI1wiIHx8XG4gICAgICAgICAgICAocHJldmlvdXNWZXJ0ZXggJiYgcHJldmlvdXNWZXJ0ZXgudmFsdWUuYm9uZFR5cGUgPT09IFwiI1wiKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgbmV4dFZlcnRleC5hbmdsZSA9IDAuMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0VmVydGV4LmRyYXdFeHBsaWNpdCA9IHRydWU7XG5cbiAgICAgICAgICB0aGlzLmNyZWF0ZU5leHRCb25kKFxuICAgICAgICAgICAgbmV4dFZlcnRleCxcbiAgICAgICAgICAgIHZlcnRleCxcbiAgICAgICAgICAgIHByZXZpb3VzQW5nbGUgKyBuZXh0VmVydGV4LmFuZ2xlXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91c1ZlcnRleCAmJiBwcmV2aW91c1ZlcnRleC52YWx1ZS5yaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8gSWYgY29taW5nIG91dCBvZiBhIHJpbmcsIGFsd2F5cyBkcmF3IGF3YXkgZnJvbSB0aGUgY2VudGVyIG9mIG1hc3NcbiAgICAgICAgICBsZXQgcHJvcG9zZWRBbmdsZUEgPSBNYXRoSGVscGVyLnRvUmFkKDYwKTtcbiAgICAgICAgICBsZXQgcHJvcG9zZWRBbmdsZUIgPSAtcHJvcG9zZWRBbmdsZUE7XG5cbiAgICAgICAgICBsZXQgcHJvcG9zZWRWZWN0b3JBID0gbmV3IFZlY3RvcjIodGhpcy5vcHRzLmJvbmRMZW5ndGgsIDApO1xuICAgICAgICAgIGxldCBwcm9wb3NlZFZlY3RvckIgPSBuZXcgVmVjdG9yMih0aGlzLm9wdHMuYm9uZExlbmd0aCwgMCk7XG5cbiAgICAgICAgICBwcm9wb3NlZFZlY3RvckEucm90YXRlKHByb3Bvc2VkQW5nbGVBKS5hZGQodmVydGV4LnBvc2l0aW9uKTtcbiAgICAgICAgICBwcm9wb3NlZFZlY3RvckIucm90YXRlKHByb3Bvc2VkQW5nbGVCKS5hZGQodmVydGV4LnBvc2l0aW9uKTtcblxuICAgICAgICAgIC8vIGxldCBjZW50ZXJPZk1hc3MgPSB0aGlzLmdldEN1cnJlbnRDZW50ZXJPZk1hc3NJbk5laWdib3VyaG9vZCh2ZXJ0ZXgucG9zaXRpb24sIDEwMCk7XG4gICAgICAgICAgbGV0IGNlbnRlck9mTWFzcyA9IHRoaXMuZ2V0Q3VycmVudENlbnRlck9mTWFzcygpO1xuICAgICAgICAgIGxldCBkaXN0YW5jZUEgPSBwcm9wb3NlZFZlY3RvckEuZGlzdGFuY2VTcShjZW50ZXJPZk1hc3MpO1xuICAgICAgICAgIGxldCBkaXN0YW5jZUIgPSBwcm9wb3NlZFZlY3RvckIuZGlzdGFuY2VTcShjZW50ZXJPZk1hc3MpO1xuXG4gICAgICAgICAgbmV4dFZlcnRleC5hbmdsZSA9XG4gICAgICAgICAgICBkaXN0YW5jZUEgPCBkaXN0YW5jZUIgPyBwcm9wb3NlZEFuZ2xlQiA6IHByb3Bvc2VkQW5nbGVBO1xuXG4gICAgICAgICAgdGhpcy5jcmVhdGVOZXh0Qm9uZChcbiAgICAgICAgICAgIG5leHRWZXJ0ZXgsXG4gICAgICAgICAgICB2ZXJ0ZXgsXG4gICAgICAgICAgICBwcmV2aW91c0FuZ2xlICsgbmV4dFZlcnRleC5hbmdsZVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IGEgPSB2ZXJ0ZXguYW5nbGU7XG4gICAgICAgICAgLy8gVGFrZSB0aGUgbWluIGFuZCBtYXggaWYgdGhlIHByZXZpb3VzIGFuZ2xlIHdhcyBpbiBhIDQtbmVpZ2hib3VyaG9vZCAoOTDCsCBhbmdsZXMpXG4gICAgICAgICAgLy8gVE9ETzogSWYgYSBpcyBudWxsIG9yIHplcm8sIGl0IHNob3VsZCBiZSBjaGVja2VkIHdoZXRoZXIgb3Igbm90IHRoaXMgb25lIHNob3VsZCBnbyBjaXMgb3IgdHJhbnMsIHRoYXQgaXMsXG4gICAgICAgICAgLy8gICAgICAgaXQgc2hvdWxkIGdvIGludG8gdGhlIG9wb3NpdGUgZGlyZWN0aW9uIG9mIHRoZSBsYXN0IG5vbi1udWxsIG9yIDAgcHJldmlvdXMgdmVydGV4IC8gYW5nbGUuXG4gICAgICAgICAgaWYgKHByZXZpb3VzVmVydGV4ICYmIHByZXZpb3VzVmVydGV4Lm5laWdoYm91cnMubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgaWYgKGEgPiAwKSB7XG4gICAgICAgICAgICAgIGEgPSBNYXRoLm1pbigxLjA0NzIsIGEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhIDwgMCkge1xuICAgICAgICAgICAgICBhID0gTWF0aC5tYXgoLTEuMDQ3MiwgYSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhID0gMS4wNDcyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoIWEpIHtcbiAgICAgICAgICAgIGxldCB2ID0gdGhpcy5nZXRMYXN0VmVydGV4V2l0aEFuZ2xlKHZlcnRleC5pZCk7XG4gICAgICAgICAgICBhID0gdi5hbmdsZTtcblxuICAgICAgICAgICAgaWYgKCFhKSB7XG4gICAgICAgICAgICAgIGEgPSAxLjA0NzI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSGFuZGxlIGNvbmZpZ3VyYXRpb24gYXJvdW5kIGRvdWJsZSBib25kc1xuICAgICAgICAgIGlmIChwcmV2aW91c1ZlcnRleCAmJiAhZG91YmxlQm9uZENvbmZpZ1NldCkge1xuICAgICAgICAgICAgbGV0IGJvbmRUeXBlID0gdGhpcy5ncmFwaC5nZXRFZGdlKFxuICAgICAgICAgICAgICB2ZXJ0ZXguaWQsXG4gICAgICAgICAgICAgIG5leHRWZXJ0ZXguaWRcbiAgICAgICAgICAgICkuYm9uZFR5cGU7XG5cbiAgICAgICAgICAgIGlmIChib25kVHlwZSA9PT0gXCIvXCIpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuZG91YmxlQm9uZENvbmZpZyA9PT0gXCIvXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBOb3RoaW5nIHRvIGRvIHNpbmNlIGl0IHdpbGwgYmUgdHJhbnMgcGVyIGRlZmF1bHRcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRvdWJsZUJvbmRDb25maWcgPT09IFwiXFxcXFwiKSB7XG4gICAgICAgICAgICAgICAgYSA9IC1hO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRoaXMuZG91YmxlQm9uZENvbmZpZyA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJvbmRUeXBlID09PSBcIlxcXFxcIikge1xuICAgICAgICAgICAgICBpZiAodGhpcy5kb3VibGVCb25kQ29uZmlnID09PSBcIi9cIikge1xuICAgICAgICAgICAgICAgIGEgPSAtYTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRvdWJsZUJvbmRDb25maWcgPT09IFwiXFxcXFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gTm90aGluZyB0byBkbyBzaW5jZSBpdCB3aWxsIGJlIHRyYW5zIHBlciBkZWZhdWx0XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhpcy5kb3VibGVCb25kQ29uZmlnID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob3JpZ2luU2hvcnRlc3QpIHtcbiAgICAgICAgICAgIG5leHRWZXJ0ZXguYW5nbGUgPSBhO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0VmVydGV4LmFuZ2xlID0gLWE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5jcmVhdGVOZXh0Qm9uZChcbiAgICAgICAgICAgIG5leHRWZXJ0ZXgsXG4gICAgICAgICAgICB2ZXJ0ZXgsXG4gICAgICAgICAgICBwcmV2aW91c0FuZ2xlICsgbmV4dFZlcnRleC5hbmdsZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobmVpZ2hib3Vycy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgLy8gSWYgdGhlIHByZXZpb3VzIHZlcnRleCBjb21lcyBvdXQgb2YgYSByaW5nLCBpdCBkb2Vzbid0IGhhdmUgYW4gYW5nbGUgc2V0XG4gICAgICAgIGxldCBhID0gdmVydGV4LmFuZ2xlO1xuXG4gICAgICAgIGlmICghYSkge1xuICAgICAgICAgIGEgPSAxLjA0NzI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3IgdGhlIGxvbmdlciBzdWJ0cmVlIC0gYWx3YXlzIGdvIHdpdGggY2lzIGZvciB0aGUgbG9uZ2VyIHN1YnRyZWVcbiAgICAgICAgbGV0IHN1YlRyZWVEZXB0aEEgPSB0aGlzLmdyYXBoLmdldFRyZWVEZXB0aChuZWlnaGJvdXJzWzBdLCB2ZXJ0ZXguaWQpO1xuICAgICAgICBsZXQgc3ViVHJlZURlcHRoQiA9IHRoaXMuZ3JhcGguZ2V0VHJlZURlcHRoKG5laWdoYm91cnNbMV0sIHZlcnRleC5pZCk7XG5cbiAgICAgICAgbGV0IGwgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbMF1dO1xuICAgICAgICBsZXQgciA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1sxXV07XG5cbiAgICAgICAgbC52YWx1ZS5zdWJ0cmVlRGVwdGggPSBzdWJUcmVlRGVwdGhBO1xuICAgICAgICByLnZhbHVlLnN1YnRyZWVEZXB0aCA9IHN1YlRyZWVEZXB0aEI7XG5cbiAgICAgICAgLy8gQWxzbyBnZXQgdGhlIHN1YnRyZWUgZm9yIHRoZSBwcmV2aW91cyBkaXJlY3Rpb24gKHRoaXMgaXMgaW1wb3J0YW50IHdoZW5cbiAgICAgICAgLy8gdGhlIHByZXZpb3VzIHZlcnRleCBpcyB0aGUgc2hvcnRlc3QgcGF0aClcbiAgICAgICAgbGV0IHN1YlRyZWVEZXB0aEMgPSB0aGlzLmdyYXBoLmdldFRyZWVEZXB0aChcbiAgICAgICAgICBwcmV2aW91c1ZlcnRleCA/IHByZXZpb3VzVmVydGV4LmlkIDogbnVsbCxcbiAgICAgICAgICB2ZXJ0ZXguaWRcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHByZXZpb3VzVmVydGV4KSB7XG4gICAgICAgICAgcHJldmlvdXNWZXJ0ZXgudmFsdWUuc3VidHJlZURlcHRoID0gc3ViVHJlZURlcHRoQztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjaXMgPSAwO1xuICAgICAgICBsZXQgdHJhbnMgPSAxO1xuXG4gICAgICAgIC8vIENhcmJvbnMgZ28gYWx3YXlzIGNpc1xuICAgICAgICBpZiAoXG4gICAgICAgICAgci52YWx1ZS5lbGVtZW50ID09PSBcIkNcIiAmJlxuICAgICAgICAgIGwudmFsdWUuZWxlbWVudCAhPT0gXCJDXCIgJiZcbiAgICAgICAgICBzdWJUcmVlRGVwdGhCID4gMSAmJlxuICAgICAgICAgIHN1YlRyZWVEZXB0aEEgPCA1XG4gICAgICAgICkge1xuICAgICAgICAgIGNpcyA9IDE7XG4gICAgICAgICAgdHJhbnMgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHIudmFsdWUuZWxlbWVudCAhPT0gXCJDXCIgJiZcbiAgICAgICAgICBsLnZhbHVlLmVsZW1lbnQgPT09IFwiQ1wiICYmXG4gICAgICAgICAgc3ViVHJlZURlcHRoQSA+IDEgJiZcbiAgICAgICAgICBzdWJUcmVlRGVwdGhCIDwgNVxuICAgICAgICApIHtcbiAgICAgICAgICBjaXMgPSAwO1xuICAgICAgICAgIHRyYW5zID0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChzdWJUcmVlRGVwdGhCID4gc3ViVHJlZURlcHRoQSkge1xuICAgICAgICAgIGNpcyA9IDE7XG4gICAgICAgICAgdHJhbnMgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNpc1ZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1tjaXNdXTtcbiAgICAgICAgbGV0IHRyYW5zVmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzW3RyYW5zXV07XG5cbiAgICAgICAgbGV0IGVkZ2VDaXMgPSB0aGlzLmdyYXBoLmdldEVkZ2UodmVydGV4LmlkLCBjaXNWZXJ0ZXguaWQpO1xuICAgICAgICBsZXQgZWRnZVRyYW5zID0gdGhpcy5ncmFwaC5nZXRFZGdlKHZlcnRleC5pZCwgdHJhbnNWZXJ0ZXguaWQpO1xuXG4gICAgICAgIC8vIElmIHRoZSBvcmlnaW4gdHJlZSBpcyB0aGUgc2hvcnRlc3QsIG1ha2UgdGhlbSB0aGUgbWFpbiBjaGFpblxuICAgICAgICBsZXQgb3JpZ2luU2hvcnRlc3QgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN1YlRyZWVEZXB0aEMgPCBzdWJUcmVlRGVwdGhBICYmIHN1YlRyZWVEZXB0aEMgPCBzdWJUcmVlRGVwdGhCKSB7XG4gICAgICAgICAgb3JpZ2luU2hvcnRlc3QgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJhbnNWZXJ0ZXguYW5nbGUgPSBhO1xuICAgICAgICBjaXNWZXJ0ZXguYW5nbGUgPSAtYTtcblxuICAgICAgICBpZiAodGhpcy5kb3VibGVCb25kQ29uZmlnID09PSBcIlxcXFxcIikge1xuICAgICAgICAgIGlmICh0cmFuc1ZlcnRleC52YWx1ZS5icmFuY2hCb25kID09PSBcIlxcXFxcIikge1xuICAgICAgICAgICAgdHJhbnNWZXJ0ZXguYW5nbGUgPSAtYTtcbiAgICAgICAgICAgIGNpc1ZlcnRleC5hbmdsZSA9IGE7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZG91YmxlQm9uZENvbmZpZyA9PT0gXCIvXCIpIHtcbiAgICAgICAgICBpZiAodHJhbnNWZXJ0ZXgudmFsdWUuYnJhbmNoQm9uZCA9PT0gXCIvXCIpIHtcbiAgICAgICAgICAgIHRyYW5zVmVydGV4LmFuZ2xlID0gLWE7XG4gICAgICAgICAgICBjaXNWZXJ0ZXguYW5nbGUgPSBhO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3JlYXRlTmV4dEJvbmQoXG4gICAgICAgICAgdHJhbnNWZXJ0ZXgsXG4gICAgICAgICAgdmVydGV4LFxuICAgICAgICAgIHByZXZpb3VzQW5nbGUgKyB0cmFuc1ZlcnRleC5hbmdsZSxcbiAgICAgICAgICBvcmlnaW5TaG9ydGVzdFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmNyZWF0ZU5leHRCb25kKFxuICAgICAgICAgIGNpc1ZlcnRleCxcbiAgICAgICAgICB2ZXJ0ZXgsXG4gICAgICAgICAgcHJldmlvdXNBbmdsZSArIGNpc1ZlcnRleC5hbmdsZSxcbiAgICAgICAgICBvcmlnaW5TaG9ydGVzdFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChuZWlnaGJvdXJzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAvLyBUaGUgdmVydGV4IHdpdGggdGhlIGxvbmdlc3Qgc3ViLXRyZWUgc2hvdWxkIGFsd2F5cyBnbyBzdHJhaWdodFxuICAgICAgICBsZXQgZDEgPSB0aGlzLmdyYXBoLmdldFRyZWVEZXB0aChuZWlnaGJvdXJzWzBdLCB2ZXJ0ZXguaWQpO1xuICAgICAgICBsZXQgZDIgPSB0aGlzLmdyYXBoLmdldFRyZWVEZXB0aChuZWlnaGJvdXJzWzFdLCB2ZXJ0ZXguaWQpO1xuICAgICAgICBsZXQgZDMgPSB0aGlzLmdyYXBoLmdldFRyZWVEZXB0aChuZWlnaGJvdXJzWzJdLCB2ZXJ0ZXguaWQpO1xuXG4gICAgICAgIGxldCBzID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzBdXTtcbiAgICAgICAgbGV0IGwgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbMV1dO1xuICAgICAgICBsZXQgciA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1syXV07XG5cbiAgICAgICAgcy52YWx1ZS5zdWJ0cmVlRGVwdGggPSBkMTtcbiAgICAgICAgbC52YWx1ZS5zdWJ0cmVlRGVwdGggPSBkMjtcbiAgICAgICAgci52YWx1ZS5zdWJ0cmVlRGVwdGggPSBkMztcblxuICAgICAgICBpZiAoZDIgPiBkMSAmJiBkMiA+IGQzKSB7XG4gICAgICAgICAgcyA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1sxXV07XG4gICAgICAgICAgbCA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1swXV07XG4gICAgICAgICAgciA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1syXV07XG4gICAgICAgIH0gZWxzZSBpZiAoZDMgPiBkMSAmJiBkMyA+IGQyKSB7XG4gICAgICAgICAgcyA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1syXV07XG4gICAgICAgICAgbCA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1swXV07XG4gICAgICAgICAgciA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1sxXV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgYSBjcm9zcyBpZiBtb3JlIHRoYW4gb25lIHN1YnRyZWUgaXMgb2YgbGVuZ3RoID4gMVxuICAgICAgICAvLyBvciB0aGUgdmVydGV4IGlzIGNvbm5lY3RlZCB0byBhIHJpbmdcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHByZXZpb3VzVmVydGV4ICYmXG4gICAgICAgICAgcHJldmlvdXNWZXJ0ZXgudmFsdWUucmluZ3MubGVuZ3RoIDwgMSAmJlxuICAgICAgICAgIHMudmFsdWUucmluZ3MubGVuZ3RoIDwgMSAmJlxuICAgICAgICAgIGwudmFsdWUucmluZ3MubGVuZ3RoIDwgMSAmJlxuICAgICAgICAgIHIudmFsdWUucmluZ3MubGVuZ3RoIDwgMSAmJlxuICAgICAgICAgIHRoaXMuZ3JhcGguZ2V0VHJlZURlcHRoKGwuaWQsIHZlcnRleC5pZCkgPT09IDEgJiZcbiAgICAgICAgICB0aGlzLmdyYXBoLmdldFRyZWVEZXB0aChyLmlkLCB2ZXJ0ZXguaWQpID09PSAxICYmXG4gICAgICAgICAgdGhpcy5ncmFwaC5nZXRUcmVlRGVwdGgocy5pZCwgdmVydGV4LmlkKSA+IDFcbiAgICAgICAgKSB7XG4gICAgICAgICAgcy5hbmdsZSA9IC12ZXJ0ZXguYW5nbGU7XG4gICAgICAgICAgaWYgKHZlcnRleC5hbmdsZSA+PSAwKSB7XG4gICAgICAgICAgICBsLmFuZ2xlID0gTWF0aEhlbHBlci50b1JhZCgzMCk7XG4gICAgICAgICAgICByLmFuZ2xlID0gTWF0aEhlbHBlci50b1JhZCg5MCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGwuYW5nbGUgPSAtTWF0aEhlbHBlci50b1JhZCgzMCk7XG4gICAgICAgICAgICByLmFuZ2xlID0gLU1hdGhIZWxwZXIudG9SYWQoOTApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuY3JlYXRlTmV4dEJvbmQocywgdmVydGV4LCBwcmV2aW91c0FuZ2xlICsgcy5hbmdsZSk7XG4gICAgICAgICAgdGhpcy5jcmVhdGVOZXh0Qm9uZChsLCB2ZXJ0ZXgsIHByZXZpb3VzQW5nbGUgKyBsLmFuZ2xlKTtcbiAgICAgICAgICB0aGlzLmNyZWF0ZU5leHRCb25kKHIsIHZlcnRleCwgcHJldmlvdXNBbmdsZSArIHIuYW5nbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMuYW5nbGUgPSAwLjA7XG4gICAgICAgICAgbC5hbmdsZSA9IE1hdGhIZWxwZXIudG9SYWQoOTApO1xuICAgICAgICAgIHIuYW5nbGUgPSAtTWF0aEhlbHBlci50b1JhZCg5MCk7XG5cbiAgICAgICAgICB0aGlzLmNyZWF0ZU5leHRCb25kKHMsIHZlcnRleCwgcHJldmlvdXNBbmdsZSArIHMuYW5nbGUpO1xuICAgICAgICAgIHRoaXMuY3JlYXRlTmV4dEJvbmQobCwgdmVydGV4LCBwcmV2aW91c0FuZ2xlICsgbC5hbmdsZSk7XG4gICAgICAgICAgdGhpcy5jcmVhdGVOZXh0Qm9uZChyLCB2ZXJ0ZXgsIHByZXZpb3VzQW5nbGUgKyByLmFuZ2xlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChuZWlnaGJvdXJzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAvLyBUaGUgdmVydGV4IHdpdGggdGhlIGxvbmdlc3Qgc3ViLXRyZWUgc2hvdWxkIGFsd2F5cyBnbyB0byB0aGUgcmVmbGVjdGVkIG9wcG9zaWRlIGRpcmVjdGlvblxuICAgICAgICBsZXQgZDEgPSB0aGlzLmdyYXBoLmdldFRyZWVEZXB0aChuZWlnaGJvdXJzWzBdLCB2ZXJ0ZXguaWQpO1xuICAgICAgICBsZXQgZDIgPSB0aGlzLmdyYXBoLmdldFRyZWVEZXB0aChuZWlnaGJvdXJzWzFdLCB2ZXJ0ZXguaWQpO1xuICAgICAgICBsZXQgZDMgPSB0aGlzLmdyYXBoLmdldFRyZWVEZXB0aChuZWlnaGJvdXJzWzJdLCB2ZXJ0ZXguaWQpO1xuICAgICAgICBsZXQgZDQgPSB0aGlzLmdyYXBoLmdldFRyZWVEZXB0aChuZWlnaGJvdXJzWzNdLCB2ZXJ0ZXguaWQpO1xuXG4gICAgICAgIGxldCB3ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzBdXTtcbiAgICAgICAgbGV0IHggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbMV1dO1xuICAgICAgICBsZXQgeSA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1syXV07XG4gICAgICAgIGxldCB6ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzNdXTtcblxuICAgICAgICB3LnZhbHVlLnN1YnRyZWVEZXB0aCA9IGQxO1xuICAgICAgICB4LnZhbHVlLnN1YnRyZWVEZXB0aCA9IGQyO1xuICAgICAgICB5LnZhbHVlLnN1YnRyZWVEZXB0aCA9IGQzO1xuICAgICAgICB6LnZhbHVlLnN1YnRyZWVEZXB0aCA9IGQ0O1xuXG4gICAgICAgIGlmIChkMiA+IGQxICYmIGQyID4gZDMgJiYgZDIgPiBkNCkge1xuICAgICAgICAgIHcgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbMV1dO1xuICAgICAgICAgIHggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbMF1dO1xuICAgICAgICAgIHkgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbMl1dO1xuICAgICAgICAgIHogPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbM11dO1xuICAgICAgICB9IGVsc2UgaWYgKGQzID4gZDEgJiYgZDMgPiBkMiAmJiBkMyA+IGQ0KSB7XG4gICAgICAgICAgdyA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1syXV07XG4gICAgICAgICAgeCA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1swXV07XG4gICAgICAgICAgeSA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1sxXV07XG4gICAgICAgICAgeiA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1szXV07XG4gICAgICAgIH0gZWxzZSBpZiAoZDQgPiBkMSAmJiBkNCA+IGQyICYmIGQ0ID4gZDMpIHtcbiAgICAgICAgICB3ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzNdXTtcbiAgICAgICAgICB4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzBdXTtcbiAgICAgICAgICB5ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzFdXTtcbiAgICAgICAgICB6ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzJdXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHcuYW5nbGUgPSAtTWF0aEhlbHBlci50b1JhZCgzNik7XG4gICAgICAgIHguYW5nbGUgPSBNYXRoSGVscGVyLnRvUmFkKDM2KTtcbiAgICAgICAgeS5hbmdsZSA9IC1NYXRoSGVscGVyLnRvUmFkKDEwOCk7XG4gICAgICAgIHouYW5nbGUgPSBNYXRoSGVscGVyLnRvUmFkKDEwOCk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVOZXh0Qm9uZCh3LCB2ZXJ0ZXgsIHByZXZpb3VzQW5nbGUgKyB3LmFuZ2xlKTtcbiAgICAgICAgdGhpcy5jcmVhdGVOZXh0Qm9uZCh4LCB2ZXJ0ZXgsIHByZXZpb3VzQW5nbGUgKyB4LmFuZ2xlKTtcbiAgICAgICAgdGhpcy5jcmVhdGVOZXh0Qm9uZCh5LCB2ZXJ0ZXgsIHByZXZpb3VzQW5nbGUgKyB5LmFuZ2xlKTtcbiAgICAgICAgdGhpcy5jcmVhdGVOZXh0Qm9uZCh6LCB2ZXJ0ZXgsIHByZXZpb3VzQW5nbGUgKyB6LmFuZ2xlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdmV0ZXggc2hhcmluZyB0aGUgZWRnZSB0aGF0IGlzIHRoZSBjb21tb24gYm9uZCBvZiB0d28gcmluZ3MuXG4gICAqXG4gICAqIEBwYXJhbSB7VmVydGV4fSB2ZXJ0ZXggQSB2ZXJ0ZXguXG4gICAqIEByZXR1cm5zIHsoTnVtYmVyfG51bGwpfSBUaGUgaWQgb2YgYSB2ZXJ0ZXggc2hhcmluZyB0aGUgZWRnZSB0aGF0IGlzIHRoZSBjb21tb24gYm9uZCBvZiB0d28gcmluZ3Mgd2l0aCB0aGUgdmVydGV4IHByb3ZpZGVkIG9yIG51bGwsIGlmIG5vbmUuXG4gICAqL1xuICBnZXRDb21tb25SaW5nYm9uZE5laWdoYm91cih2ZXJ0ZXgpIHtcbiAgICBsZXQgbmVpZ2hib3VycyA9IHZlcnRleC5uZWlnaGJvdXJzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbmVpZ2hib3VyID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzW2ldXTtcblxuICAgICAgaWYgKEFycmF5SGVscGVyLmNvbnRhaW5zQWxsKG5laWdoYm91ci52YWx1ZS5yaW5ncywgdmVydGV4LnZhbHVlLnJpbmdzKSkge1xuICAgICAgICByZXR1cm4gbmVpZ2hib3VyO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdmVjdG9yIGlzIGluc2lkZSBhbnkgcmluZy5cbiAgICpcbiAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWMgQSB2ZWN0b3IuXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgcG9pbnQgKHZlY3RvcikgaXMgaW5zaWRlIGFueSBvZiB0aGUgcmluZ3MgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IG1vbGVjdWxlLlxuICAgKi9cbiAgaXNQb2ludEluUmluZyh2ZWMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCByaW5nID0gdGhpcy5yaW5nc1tpXTtcblxuICAgICAgaWYgKCFyaW5nLnBvc2l0aW9uZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGxldCByYWRpdXMgPSBNYXRoSGVscGVyLnBvbHlDaXJjdW1yYWRpdXMoXG4gICAgICAgIHRoaXMub3B0cy5ib25kTGVuZ3RoLFxuICAgICAgICByaW5nLmdldFNpemUoKVxuICAgICAgKTtcbiAgICAgIGxldCByYWRpdXNTcSA9IHJhZGl1cyAqIHJhZGl1cztcblxuICAgICAgaWYgKHZlYy5kaXN0YW5jZVNxKHJpbmcuY2VudGVyKSA8IHJhZGl1c1NxKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIG9yIG5vdCBhbiBlZGdlIGlzIHBhcnQgb2YgYSByaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge0VkZ2V9IGVkZ2UgQW4gZWRnZS5cbiAgICogQHJldHVybnMge0Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoZSBlZGdlIGlzIHBhcnQgb2YgYSByaW5nLlxuICAgKi9cbiAgaXNFZGdlSW5SaW5nKGVkZ2UpIHtcbiAgICBsZXQgc291cmNlID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tlZGdlLnNvdXJjZUlkXTtcbiAgICBsZXQgdGFyZ2V0ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tlZGdlLnRhcmdldElkXTtcblxuICAgIHJldHVybiB0aGlzLmFyZVZlcnRpY2VzSW5TYW1lUmluZyhzb3VyY2UsIHRhcmdldCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciBvciBub3QgYW4gZWRnZSBpcyByb3RhdGFibGUuXG4gICAqXG4gICAqIEBwYXJhbSB7RWRnZX0gZWRnZSBBbiBlZGdlLlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhlIGVkZ2UgaXMgcm90YXRhYmxlLlxuICAgKi9cbiAgaXNFZGdlUm90YXRhYmxlKGVkZ2UpIHtcbiAgICBsZXQgdmVydGV4QSA9IHRoaXMuZ3JhcGgudmVydGljZXNbZWRnZS5zb3VyY2VJZF07XG4gICAgbGV0IHZlcnRleEIgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2VkZ2UudGFyZ2V0SWRdO1xuXG4gICAgLy8gT25seSBzaW5nbGUgYm9uZHMgYXJlIHJvdGF0YWJsZVxuICAgIGlmIChlZGdlLmJvbmRUeXBlICE9PSBcIi1cIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIERvIG5vdCByb3RhdGUgZWRnZXMgdGhhdCBoYXZlIGEgZnVydGhlciBzaW5nbGUgYm9uZCB0byBlYWNoIHNpZGUgLSBkbyB0aGF0IVxuICAgIC8vIElmIHRoZSBib25kIGlzIHRlcm1pbmFsLCBpdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgdG8gcm90YXRlIGl0XG4gICAgLy8gaWYgKHZlcnRleEEuZ2V0TmVpZ2hib3VyQ291bnQoKSArIHZlcnRleEIuZ2V0TmVpZ2hib3VyQ291bnQoKSA8IDUpIHtcbiAgICAvLyAgIHJldHVybiBmYWxzZTtcbiAgICAvLyB9XG5cbiAgICBpZiAodmVydGV4QS5pc1Rlcm1pbmFsKCkgfHwgdmVydGV4Qi5pc1Rlcm1pbmFsKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBSaW5nYm9uZHMgYXJlIG5vdCByb3RhdGFibGVcbiAgICBpZiAoXG4gICAgICB2ZXJ0ZXhBLnZhbHVlLnJpbmdzLmxlbmd0aCA+IDAgJiZcbiAgICAgIHZlcnRleEIudmFsdWUucmluZ3MubGVuZ3RoID4gMCAmJlxuICAgICAgdGhpcy5hcmVWZXJ0aWNlc0luU2FtZVJpbmcodmVydGV4QSwgdmVydGV4QilcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIG9yIG5vdCBhIHJpbmcgaXMgYW4gaW1wbGljaXRseSBkZWZpbmVkIGFyb21hdGljIHJpbmcgKGxvd2VyIGNhc2Ugc21pbGVzKS5cbiAgICpcbiAgICogQHBhcmFtIHtSaW5nfSByaW5nIEEgcmluZy5cbiAgICogQHJldHVybnMge0Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IGEgcmluZyBpcyBpbXBsaWNpdGx5IGRlZmluZWQgYXMgYXJvbWF0aWMuXG4gICAqL1xuICBpc1JpbmdBcm9tYXRpYyhyaW5nKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByaW5nLm1lbWJlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB2ZXJ0ZXggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW3JpbmcubWVtYmVyc1tpXV07XG5cbiAgICAgIGlmICghdmVydGV4LnZhbHVlLmlzUGFydE9mQXJvbWF0aWNSaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG5vcm1hbHMgb2YgYW4gZWRnZS5cbiAgICpcbiAgICogQHBhcmFtIHtFZGdlfSBlZGdlIEFuIGVkZ2UuXG4gICAqIEByZXR1cm5zIHtWZWN0b3IyW119IEFuIGFycmF5IGNvbnRhaW5pbmcgdHdvIHZlY3RvcnMsIHJlcHJlc2VudGluZyB0aGUgbm9ybWFscy5cbiAgICovXG4gIGdldEVkZ2VOb3JtYWxzKGVkZ2UpIHtcbiAgICBsZXQgdjEgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2VkZ2Uuc291cmNlSWRdLnBvc2l0aW9uO1xuICAgIGxldCB2MiA9IHRoaXMuZ3JhcGgudmVydGljZXNbZWRnZS50YXJnZXRJZF0ucG9zaXRpb247XG5cbiAgICAvLyBHZXQgdGhlIG5vcm1hbGl6ZWQgbm9ybWFscyBmb3IgdGhlIGVkZ2VcbiAgICBsZXQgbm9ybWFscyA9IFZlY3RvcjIudW5pdHModjEsIHYyKTtcblxuICAgIHJldHVybiBub3JtYWxzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2YgdmVydGljZXMgdGhhdCBhcmUgbmVpZ2hib3VyaW5nIGEgdmVydGl4IGJ1dCBhcmUgbm90IG1lbWJlcnMgb2YgYSByaW5nIChpbmNsdWRpbmcgYnJpZGdlcykuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJ0ZXhJZCBBIHZlcnRleCBpZC5cbiAgICogQHJldHVybnMge1ZlcnRleFtdfSBBbiBhcnJheSBvZiB2ZXJ0aWNlcy5cbiAgICovXG4gIGdldE5vblJpbmdOZWlnaGJvdXJzKHZlcnRleElkKSB7XG4gICAgbGV0IG5ybmVpZ2hib3VycyA9IEFycmF5KCk7XG4gICAgbGV0IHZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbdmVydGV4SWRdO1xuICAgIGxldCBuZWlnaGJvdXJzID0gdmVydGV4Lm5laWdoYm91cnM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBuZWlnaGJvdXIgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbaV1dO1xuICAgICAgbGV0IG5JbnRlcnNlY3Rpb25zID0gQXJyYXlIZWxwZXIuaW50ZXJzZWN0aW9uKFxuICAgICAgICB2ZXJ0ZXgudmFsdWUucmluZ3MsXG4gICAgICAgIG5laWdoYm91ci52YWx1ZS5yaW5nc1xuICAgICAgKS5sZW5ndGg7XG5cbiAgICAgIGlmIChuSW50ZXJzZWN0aW9ucyA9PT0gMCAmJiBuZWlnaGJvdXIudmFsdWUuaXNCcmlkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgbnJuZWlnaGJvdXJzLnB1c2gobmVpZ2hib3VyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnJuZWlnaGJvdXJzO1xuICB9XG5cbiAgLyoqXG4gICAqIEFubm90YWVkIHN0ZXJlb2NoZW1pc3RyeSBpbmZvcm1hdGlvbiBmb3IgdmlzdWFsaXphdGlvbi5cbiAgICovXG4gIGFubm90YXRlU3RlcmVvY2hlbWlzdHJ5KCkge1xuICAgIGxldCBtYXhEZXB0aCA9IDEwO1xuXG4gICAgLy8gRm9yIGVhY2ggc3RlcmVvLWNlbnRlclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaC52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbaV07XG5cbiAgICAgIGlmICghdmVydGV4LnZhbHVlLmlzU3RlcmVvQ2VudGVyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBsZXQgbmVpZ2hib3VycyA9IHZlcnRleC5nZXROZWlnaGJvdXJzKCk7XG4gICAgICBsZXQgbk5laWdoYm91cnMgPSBuZWlnaGJvdXJzLmxlbmd0aDtcbiAgICAgIGxldCBwcmlvcml0aWVzID0gQXJyYXkobk5laWdoYm91cnMpO1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5OZWlnaGJvdXJzOyBqKyspIHtcbiAgICAgICAgbGV0IHZpc2l0ZWQgPSBuZXcgVWludDhBcnJheSh0aGlzLmdyYXBoLnZlcnRpY2VzLmxlbmd0aCk7XG4gICAgICAgIGxldCBwcmlvcml0eSA9IEFycmF5KEFycmF5KCkpO1xuICAgICAgICB2aXNpdGVkW3ZlcnRleC5pZF0gPSAxO1xuXG4gICAgICAgIHRoaXMudmlzaXRTdGVyZW9jaGVtaXN0cnkoXG4gICAgICAgICAgbmVpZ2hib3Vyc1tqXSxcbiAgICAgICAgICB2ZXJ0ZXguaWQsXG4gICAgICAgICAgdmlzaXRlZCxcbiAgICAgICAgICBwcmlvcml0eSxcbiAgICAgICAgICBtYXhEZXB0aCxcbiAgICAgICAgICAwXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gU29ydCBlYWNoIGxldmVsIGFjY29yZGluZyB0byBhdG9taWMgbnVtYmVyXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcHJpb3JpdHkubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICBwcmlvcml0eVtrXS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYiAtIGE7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcmlvcml0aWVzW2pdID0gW2osIHByaW9yaXR5XTtcbiAgICAgIH1cblxuICAgICAgbGV0IG1heExldmVscyA9IDA7XG4gICAgICBsZXQgbWF4RW50cmllcyA9IDA7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHByaW9yaXRpZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHByaW9yaXRpZXNbal1bMV0ubGVuZ3RoID4gbWF4TGV2ZWxzKSB7XG4gICAgICAgICAgbWF4TGV2ZWxzID0gcHJpb3JpdGllc1tqXVsxXS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHByaW9yaXRpZXNbal1bMV0ubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICBpZiAocHJpb3JpdGllc1tqXVsxXVtrXS5sZW5ndGggPiBtYXhFbnRyaWVzKSB7XG4gICAgICAgICAgICBtYXhFbnRyaWVzID0gcHJpb3JpdGllc1tqXVsxXVtrXS5sZW5ndGg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcHJpb3JpdGllcy5sZW5ndGg7IGorKykge1xuICAgICAgICBsZXQgZGlmZiA9IG1heExldmVscyAtIHByaW9yaXRpZXNbal1bMV0ubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGRpZmY7IGsrKykge1xuICAgICAgICAgIHByaW9yaXRpZXNbal1bMV0ucHVzaChbXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCcmVhayB0aWVzIGJ5IHRoZSBwb3NpdGlvbiBpbiB0aGUgU01JTEVTIHN0cmluZyBhcyBwZXIgc3BlY2lmaWNhdGlvblxuICAgICAgICBwcmlvcml0aWVzW2pdWzFdLnB1c2goW25laWdoYm91cnNbal1dKTtcblxuICAgICAgICAvLyBNYWtlIGFsbCBzYW1lIGxlbmd0aC4gRmlsbCB3aXRoIHplcm9lcy5cbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBwcmlvcml0aWVzW2pdWzFdLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgbGV0IGRpZmYgPSBtYXhFbnRyaWVzIC0gcHJpb3JpdGllc1tqXVsxXVtrXS5sZW5ndGg7XG5cbiAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IGRpZmY7IGwrKykge1xuICAgICAgICAgICAgcHJpb3JpdGllc1tqXVsxXVtrXS5wdXNoKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBwcmlvcml0aWVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhWzFdLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBhWzFdW2pdLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICBpZiAoYVsxXVtqXVtrXSA+IGJbMV1bal1ba10pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhWzFdW2pdW2tdIDwgYlsxXVtqXVtrXSkge1xuICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgb3JkZXIgPSBuZXcgVWludDhBcnJheShuTmVpZ2hib3Vycyk7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5OZWlnaGJvdXJzOyBqKyspIHtcbiAgICAgICAgb3JkZXJbal0gPSBwcmlvcml0aWVzW2pdWzBdO1xuICAgICAgICB2ZXJ0ZXgudmFsdWUucHJpb3JpdHkgPSBqO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayB0aGUgYW5nbGVzIGJldHdlZW4gZWxlbWVudHMgMCBhbmQgMSwgYW5kIDAgYW5kIDIgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhleSBhcmVcbiAgICAgIC8vIGRyYXduIGN3IG9yIGNjd1xuICAgICAgLy8gVE9ETzogT0MoQ2wpPVtDQF09QyhDKUYgY3VycmVudGx5IGZhaWxzIGhlcmUsIGhvd2V2ZXIgdGhpcyBpcywgSU1ITywgbm90IGEgdmFsaWQgU01JTEVTLlxuICAgICAgbGV0IHBvc0EgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbb3JkZXJbMF1dXS5wb3NpdGlvbjtcbiAgICAgIGxldCBwb3NCID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzW29yZGVyWzFdXV0ucG9zaXRpb247XG4gICAgICBsZXQgcG9zQyA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1tvcmRlclsyXV1dLnBvc2l0aW9uO1xuXG4gICAgICBsZXQgY3dBID0gcG9zQS5yZWxhdGl2ZUNsb2Nrd2lzZShwb3NCLCB2ZXJ0ZXgucG9zaXRpb24pO1xuICAgICAgbGV0IGN3QiA9IHBvc0EucmVsYXRpdmVDbG9ja3dpc2UocG9zQywgdmVydGV4LnBvc2l0aW9uKTtcblxuICAgICAgLy8gSWYgdGhlIHNlY29uZCBwcmlvcml0eSBpcyBjbG9ja3dpc2UgZnJvbSB0aGUgZmlyc3QsIHRoZSBsaWdhbmRzIGFyZSBkcmF3biBjbG9ja3dpc2UsIHNpbmNlXG4gICAgICAvLyBUaGUgaHlkcm9nZW4gY2FuIGJlIGRyYXduIG9uIGVpdGhlciBzaWRlXG4gICAgICBsZXQgaXNDdyA9IGN3QSA9PT0gLTE7XG5cbiAgICAgIGxldCByb3RhdGlvbiA9IHZlcnRleC52YWx1ZS5icmFja2V0LmNoaXJhbGl0eSA9PT0gXCJAXCIgPyAtMSA6IDE7XG4gICAgICBsZXQgcnMgPVxuICAgICAgICBNYXRoSGVscGVyLnBhcml0eU9mUGVybXV0YXRpb24ob3JkZXIpICogcm90YXRpb24gPT09IDEgPyBcIlJcIiA6IFwiU1wiO1xuXG4gICAgICAvLyBGbGlwIHRoZSBoeWRyb2dlbiBkaXJlY3Rpb24gd2hlbiB0aGUgZHJhd2luZyBkb2Vzbid0IG1hdGNoIHRoZSBjaGlyYWxpdHkuXG4gICAgICBsZXQgd2VkZ2VBID0gXCJkb3duXCI7XG4gICAgICBsZXQgd2VkZ2VCID0gXCJ1cFwiO1xuICAgICAgaWYgKChpc0N3ICYmIHJzICE9PSBcIlJcIikgfHwgKCFpc0N3ICYmIHJzICE9PSBcIlNcIikpIHtcbiAgICAgICAgdmVydGV4LnZhbHVlLmh5ZHJvZ2VuRGlyZWN0aW9uID0gXCJ1cFwiO1xuICAgICAgICB3ZWRnZUEgPSBcInVwXCI7XG4gICAgICAgIHdlZGdlQiA9IFwiZG93blwiO1xuICAgICAgfVxuXG4gICAgICBpZiAodmVydGV4LnZhbHVlLmhhc0h5ZHJvZ2VuKSB7XG4gICAgICAgIHRoaXMuZ3JhcGguZ2V0RWRnZShcbiAgICAgICAgICB2ZXJ0ZXguaWQsXG4gICAgICAgICAgbmVpZ2hib3Vyc1tvcmRlcltvcmRlci5sZW5ndGggLSAxXV1cbiAgICAgICAgKS53ZWRnZSA9IHdlZGdlQTtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHRoZSBzaG9ydGVzdCBzdWJ0cmVlIHRvIGZsaXAgdXAgLyBkb3duLiBJZ25vcmUgbG93ZXN0IHByaW9yaXR5XG4gICAgICAvLyBUaGUgcnVsZXMgYXJlIGZvbGxvd2luZzpcbiAgICAgIC8vIDEuIERvIG5vdCBkcmF3IHdlZGdlIGJldHdlZW4gdHdvIHN0ZXJlb2NlbnRlcnNcbiAgICAgIC8vIDIuIEhldGVyb2F0b21zXG4gICAgICAvLyAzLiBEcmF3IG91dHNpZGUgcmluZ1xuICAgICAgLy8gNC4gU2hvcnRlc3Qgc3VidHJlZVxuXG4gICAgICBsZXQgd2VkZ2VPcmRlciA9IG5ldyBBcnJheShuZWlnaGJvdXJzLmxlbmd0aCAtIDEpO1xuICAgICAgbGV0IHNob3dIeWRyb2dlbiA9XG4gICAgICAgIHZlcnRleC52YWx1ZS5yaW5ncy5sZW5ndGggPiAxICYmIHZlcnRleC52YWx1ZS5oYXNIeWRyb2dlbjtcbiAgICAgIGxldCBvZmZzZXQgPSB2ZXJ0ZXgudmFsdWUuaGFzSHlkcm9nZW4gPyAxIDogMDtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvcmRlci5sZW5ndGggLSBvZmZzZXQ7IGorKykge1xuICAgICAgICB3ZWRnZU9yZGVyW2pdID0gbmV3IFVpbnQzMkFycmF5KDIpO1xuICAgICAgICBsZXQgbmVpZ2hib3VyID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzW29yZGVyW2pdXV07XG4gICAgICAgIHdlZGdlT3JkZXJbal1bMF0gKz0gbmVpZ2hib3VyLnZhbHVlLmlzU3RlcmVvQ2VudGVyID8gMCA6IDEwMDAwMDtcbiAgICAgICAgLy8gd2VkZ2VPcmRlcltqXVswXSArPSBuZWlnaGJvdXIudmFsdWUucmluZ3MubGVuZ3RoID4gMCA/IDAgOiAxMDAwMDtcbiAgICAgICAgLy8gT25seSBhZGQgaWYgaW4gc2FtZSByaW5nLCB1bmxpa2UgYWJvdmVcbiAgICAgICAgd2VkZ2VPcmRlcltqXVswXSArPSB0aGlzLmFyZVZlcnRpY2VzSW5TYW1lUmluZyhuZWlnaGJvdXIsIHZlcnRleClcbiAgICAgICAgICA/IDBcbiAgICAgICAgICA6IDEwMDAwO1xuICAgICAgICB3ZWRnZU9yZGVyW2pdWzBdICs9IG5laWdoYm91ci52YWx1ZS5pc0hldGVyb0F0b20oKSA/IDEwMDAgOiAwO1xuICAgICAgICB3ZWRnZU9yZGVyW2pdWzBdIC09IG5laWdoYm91ci52YWx1ZS5zdWJ0cmVlRGVwdGggPT09IDAgPyAxMDAwIDogMDtcbiAgICAgICAgd2VkZ2VPcmRlcltqXVswXSArPSAxMDAwIC0gbmVpZ2hib3VyLnZhbHVlLnN1YnRyZWVEZXB0aDtcbiAgICAgICAgd2VkZ2VPcmRlcltqXVsxXSA9IG5laWdoYm91cnNbb3JkZXJbal1dO1xuICAgICAgfVxuXG4gICAgICB3ZWRnZU9yZGVyLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgaWYgKGFbMF0gPiBiWzBdKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9IGVsc2UgaWYgKGFbMF0gPCBiWzBdKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9KTtcblxuICAgICAgLy8gSWYgYWxsIG5laWdoYm91cnMgYXJlIGluIGEgcmluZywgZG8gbm90IGRyYXcgd2VkZ2UsIHRoZSBoeWRyb2dlbiB3aWxsIGJlIGRyYXduLlxuICAgICAgaWYgKCFzaG93SHlkcm9nZW4pIHtcbiAgICAgICAgbGV0IHdlZGdlSWQgPSB3ZWRnZU9yZGVyWzBdWzFdO1xuXG4gICAgICAgIGlmICh2ZXJ0ZXgudmFsdWUuaGFzSHlkcm9nZW4pIHtcbiAgICAgICAgICB0aGlzLmdyYXBoLmdldEVkZ2UodmVydGV4LmlkLCB3ZWRnZUlkKS53ZWRnZSA9IHdlZGdlQjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgd2VkZ2UgPSB3ZWRnZUI7XG5cbiAgICAgICAgICBmb3IgKHZhciBqID0gb3JkZXIubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgICAgIGlmICh3ZWRnZSA9PT0gd2VkZ2VBKSB7XG4gICAgICAgICAgICAgIHdlZGdlID0gd2VkZ2VCO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgd2VkZ2UgPSB3ZWRnZUE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmVpZ2hib3Vyc1tvcmRlcltqXV0gPT09IHdlZGdlSWQpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5ncmFwaC5nZXRFZGdlKHZlcnRleC5pZCwgd2VkZ2VJZCkud2VkZ2UgPSB3ZWRnZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2ZXJ0ZXgudmFsdWUuY2hpcmFsaXR5ID0gcnM7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJ0ZXhJZCBUaGUgaWQgb2YgYSB2ZXJ0ZXguXG4gICAqIEBwYXJhbSB7KE51bWJlcnxudWxsKX0gcHJldmlvdXNWZXJ0ZXhJZCBUaGUgaWQgb2YgdGhlIHBhcmVudCB2ZXJ0ZXggb2YgdGhlIHZlcnRleC5cbiAgICogQHBhcmFtIHtVaW50OEFycmF5fSB2aXNpdGVkIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIHZpc2l0ZWQgZmxhZyBmb3IgYWxsIHZlcnRpY2VzIGluIHRoZSBncmFwaC5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJpb3JpdHkgQW4gYXJyYXkgb2YgYXJyYXlzIHN0b3JpbmcgdGhlIGF0b21pYyBudW1iZXJzIGZvciBlYWNoIGxldmVsLlxuICAgKiBAcGFyYW0ge051bWJlcn0gbWF4RGVwdGggVGhlIG1heGltdW0gZGVwdGguXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkZXB0aCBUaGUgY3VycmVudCBkZXB0aC5cbiAgICovXG4gIHZpc2l0U3RlcmVvY2hlbWlzdHJ5KFxuICAgIHZlcnRleElkLFxuICAgIHByZXZpb3VzVmVydGV4SWQsXG4gICAgdmlzaXRlZCxcbiAgICBwcmlvcml0eSxcbiAgICBtYXhEZXB0aCxcbiAgICBkZXB0aCxcbiAgICBwYXJlbnRBdG9taWNOdW1iZXIgPSAwXG4gICkge1xuICAgIHZpc2l0ZWRbdmVydGV4SWRdID0gMTtcbiAgICBsZXQgdmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1t2ZXJ0ZXhJZF07XG4gICAgbGV0IGF0b21pY051bWJlciA9IHZlcnRleC52YWx1ZS5nZXRBdG9taWNOdW1iZXIoKTtcblxuICAgIGlmIChwcmlvcml0eS5sZW5ndGggPD0gZGVwdGgpIHtcbiAgICAgIHByaW9yaXR5LnB1c2goQXJyYXkoKSk7XG4gICAgfVxuXG4gICAgZm9yIChcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIGkgPCB0aGlzLmdyYXBoLmdldEVkZ2UodmVydGV4SWQsIHByZXZpb3VzVmVydGV4SWQpLndlaWdodDtcbiAgICAgIGkrK1xuICAgICkge1xuICAgICAgcHJpb3JpdHlbZGVwdGhdLnB1c2gocGFyZW50QXRvbWljTnVtYmVyICogMTAwMCArIGF0b21pY051bWJlcik7XG4gICAgfVxuXG4gICAgbGV0IG5laWdoYm91cnMgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW3ZlcnRleElkXS5uZWlnaGJvdXJzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodmlzaXRlZFtuZWlnaGJvdXJzW2ldXSAhPT0gMSAmJiBkZXB0aCA8IG1heERlcHRoIC0gMSkge1xuICAgICAgICB0aGlzLnZpc2l0U3RlcmVvY2hlbWlzdHJ5KFxuICAgICAgICAgIG5laWdoYm91cnNbaV0sXG4gICAgICAgICAgdmVydGV4SWQsXG4gICAgICAgICAgdmlzaXRlZC5zbGljZSgpLFxuICAgICAgICAgIHByaW9yaXR5LFxuICAgICAgICAgIG1heERlcHRoLFxuICAgICAgICAgIGRlcHRoICsgMSxcbiAgICAgICAgICBhdG9taWNOdW1iZXJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBWYWxlbmNlcyBhcmUgZmlsbGVkIHdpdGggaHlkcm9nZW5zIGFuZCBwYXNzZWQgdG8gdGhlIG5leHQgbGV2ZWwuXG4gICAgaWYgKGRlcHRoIDwgbWF4RGVwdGggLSAxKSB7XG4gICAgICBsZXQgYm9uZHMgPSAwO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYm9uZHMgKz0gdGhpcy5ncmFwaC5nZXRFZGdlKHZlcnRleElkLCBuZWlnaGJvdXJzW2ldKS53ZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGV4LnZhbHVlLmdldE1heEJvbmRzKCkgLSBib25kczsgaSsrKSB7XG4gICAgICAgIGlmIChwcmlvcml0eS5sZW5ndGggPD0gZGVwdGggKyAxKSB7XG4gICAgICAgICAgcHJpb3JpdHkucHVzaChBcnJheSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaW9yaXR5W2RlcHRoICsgMV0ucHVzaChhdG9taWNOdW1iZXIgKiAxMDAwICsgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgcHNldWRvLWVsZW1lbnRzIChzdWNoIGFzIEV0LCBNZSwgQWMsIEJ6LCAuLi4pIGF0IHRoZSBwb3NpdGlvbiBvZiB0aGUgY2FyYm9uIHNldHNcbiAgICogdGhlIGludm9sdmVkIGF0b21zIG5vdCB0byBiZSBkaXNwbGF5ZWQuXG4gICAqL1xuICBpbml0UHNldWRvRWxlbWVudHMoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB2ZXJ0ZXggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2ldO1xuICAgICAgY29uc3QgbmVpZ2hib3VySWRzID0gdmVydGV4Lm5laWdoYm91cnM7XG4gICAgICBsZXQgbmVpZ2hib3VycyA9IEFycmF5KG5laWdoYm91cklkcy5sZW5ndGgpO1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5laWdoYm91cklkcy5sZW5ndGg7IGorKykge1xuICAgICAgICBuZWlnaGJvdXJzW2pdID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJJZHNbal1dO1xuICAgICAgfVxuXG4gICAgICAvLyBJZ25vcmUgYXRvbXMgdGhhdCBoYXZlIGxlc3MgdGhhbiAzIG5laWdoYm91cnMsIGV4Y2VwdCBpZlxuICAgICAgLy8gdGhlIHZlcnRleCBpcyBjb25uZWN0ZWQgdG8gYSByaW5nIGFuZCBoYXMgdHdvIG5laWdoYm91cnNcbiAgICAgIGlmICh2ZXJ0ZXguZ2V0TmVpZ2hib3VyQ291bnQoKSA8IDMgfHwgdmVydGV4LnZhbHVlLnJpbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE86IFRoaXMgZXhjZXB0aW9ucyBzaG91bGQgYmUgaGFuZGxlZCBtb3JlIGVsZWdhbnRseSAodmlhIGNvbmZpZyBmaWxlPylcblxuICAgICAgLy8gSWdub3JlIHBob3NwaGF0ZXMgKGVzcGVjaWFsbHkgZm9yIHRyaXBob3NwaGF0ZXMpXG4gICAgICBpZiAodmVydGV4LnZhbHVlLmVsZW1lbnQgPT09IFwiUFwiKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBJZ25vcmUgYWxzbyBndWFuaWRpbmVcbiAgICAgIGlmIChcbiAgICAgICAgdmVydGV4LnZhbHVlLmVsZW1lbnQgPT09IFwiQ1wiICYmXG4gICAgICAgIG5laWdoYm91cnMubGVuZ3RoID09PSAzICYmXG4gICAgICAgIG5laWdoYm91cnNbMF0udmFsdWUuZWxlbWVudCA9PT0gXCJOXCIgJiZcbiAgICAgICAgbmVpZ2hib3Vyc1sxXS52YWx1ZS5lbGVtZW50ID09PSBcIk5cIiAmJlxuICAgICAgICBuZWlnaGJvdXJzWzJdLnZhbHVlLmVsZW1lbnQgPT09IFwiTlwiXG4gICAgICApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbnRpbnVlIGlmIHRoZXJlIGFyZSBsZXNzIHRoYW4gdHdvIGhldGVyb2F0b21zXG4gICAgICAvLyBvciBpZiBhIG5laWdoYm91ciBoYXMgbW9yZSB0aGFuIDEgbmVpZ2hib3VyXG4gICAgICBsZXQgaGV0ZXJvQXRvbUNvdW50ID0gMDtcbiAgICAgIGxldCBjdG4gPSAwO1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5laWdoYm91cnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IG5laWdoYm91ciA9IG5laWdoYm91cnNbal07XG4gICAgICAgIGxldCBuZWlnaGJvdXJpbmdFbGVtZW50ID0gbmVpZ2hib3VyLnZhbHVlLmVsZW1lbnQ7XG4gICAgICAgIGxldCBuZWlnaGJvdXJDb3VudCA9IG5laWdoYm91ci5nZXROZWlnaGJvdXJDb3VudCgpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZWlnaGJvdXJpbmdFbGVtZW50ICE9PSBcIkNcIiAmJlxuICAgICAgICAgIG5laWdoYm91cmluZ0VsZW1lbnQgIT09IFwiSFwiICYmXG4gICAgICAgICAgbmVpZ2hib3VyQ291bnQgPT09IDFcbiAgICAgICAgKSB7XG4gICAgICAgICAgaGV0ZXJvQXRvbUNvdW50Kys7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmVpZ2hib3VyQ291bnQgPiAxKSB7XG4gICAgICAgICAgY3RuKys7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGN0biA+IDEgfHwgaGV0ZXJvQXRvbUNvdW50IDwgMikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHRoZSBwcmV2aW91cyBhdG9tICh0aGUgb25lIHdoaWNoIGlzIG5vdCB0ZXJtaW5hbClcbiAgICAgIGxldCBwcmV2aW91cyA9IG51bGw7XG5cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGorKykge1xuICAgICAgICBsZXQgbmVpZ2hib3VyID0gbmVpZ2hib3Vyc1tqXTtcblxuICAgICAgICBpZiAobmVpZ2hib3VyLmdldE5laWdoYm91ckNvdW50KCkgPiAxKSB7XG4gICAgICAgICAgcHJldmlvdXMgPSBuZWlnaGJvdXI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuZWlnaGJvdXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBuZWlnaGJvdXIgPSBuZWlnaGJvdXJzW2pdO1xuXG4gICAgICAgIGlmIChuZWlnaGJvdXIuZ2V0TmVpZ2hib3VyQ291bnQoKSA+IDEpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5laWdoYm91ci52YWx1ZS5pc0RyYXduID0gZmFsc2U7XG5cbiAgICAgICAgbGV0IGh5ZHJvZ2VucyA9XG4gICAgICAgICAgQXRvbS5tYXhCb25kc1tuZWlnaGJvdXIudmFsdWUuZWxlbWVudF0gLSBuZWlnaGJvdXIudmFsdWUuYm9uZENvdW50O1xuICAgICAgICBsZXQgY2hhcmdlID0gXCJcIjtcblxuICAgICAgICBpZiAobmVpZ2hib3VyLnZhbHVlLmJyYWNrZXQpIHtcbiAgICAgICAgICBoeWRyb2dlbnMgPSBuZWlnaGJvdXIudmFsdWUuYnJhY2tldC5oY291bnQ7XG4gICAgICAgICAgY2hhcmdlID0gbmVpZ2hib3VyLnZhbHVlLmJyYWNrZXQuY2hhcmdlIHx8IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2ZXJ0ZXgudmFsdWUuYXR0YWNoUHNldWRvRWxlbWVudChcbiAgICAgICAgICBuZWlnaGJvdXIudmFsdWUuZWxlbWVudCxcbiAgICAgICAgICBwcmV2aW91cyA/IHByZXZpb3VzLnZhbHVlLmVsZW1lbnQgOiBudWxsLFxuICAgICAgICAgIGh5ZHJvZ2VucyxcbiAgICAgICAgICBjaGFyZ2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUaGUgc2Vjb25kIHBhc3NcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbaV07XG4gICAgICBjb25zdCBhdG9tID0gdmVydGV4LnZhbHVlO1xuICAgICAgY29uc3QgZWxlbWVudCA9IGF0b20uZWxlbWVudDtcblxuICAgICAgaWYgKGVsZW1lbnQgPT09IFwiQ1wiIHx8IGVsZW1lbnQgPT09IFwiSFwiIHx8ICFhdG9tLmlzRHJhd24pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5laWdoYm91cklkcyA9IHZlcnRleC5uZWlnaGJvdXJzO1xuICAgICAgbGV0IG5laWdoYm91cnMgPSBBcnJheShuZWlnaGJvdXJJZHMubGVuZ3RoKTtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuZWlnaGJvdXJJZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbmVpZ2hib3Vyc1tqXSA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3VySWRzW2pdXTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuZWlnaGJvdXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBuZWlnaGJvdXIgPSBuZWlnaGJvdXJzW2pdLnZhbHVlO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAhbmVpZ2hib3VyLmhhc0F0dGFjaGVkUHNldWRvRWxlbWVudHMgfHxcbiAgICAgICAgICBuZWlnaGJvdXIuZ2V0QXR0YWNoZWRQc2V1ZG9FbGVtZW50c0NvdW50KCkgIT09IDJcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwc2V1ZG9FbGVtZW50cyA9IG5laWdoYm91ci5nZXRBdHRhY2hlZFBzZXVkb0VsZW1lbnRzKCk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHBzZXVkb0VsZW1lbnRzLmhhc093blByb3BlcnR5KFwiME9cIikgJiZcbiAgICAgICAgICBwc2V1ZG9FbGVtZW50cy5oYXNPd25Qcm9wZXJ0eShcIjNDXCIpXG4gICAgICAgICkge1xuICAgICAgICAgIG5laWdoYm91ci5pc0RyYXduID0gZmFsc2U7XG4gICAgICAgICAgdmVydGV4LnZhbHVlLmF0dGFjaFBzZXVkb0VsZW1lbnQoXCJBY1wiLCBcIlwiLCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufSIsIi8qKlxyXG4gKiBBIGNsYXNzIHJlcHJlc2VudGluZyBhbiBlZGdlLlxyXG4gKlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gaWQgVGhlIGlkIG9mIHRoaXMgZWRnZS5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHNvdXJjZUlkIFRoZSBpZCBvZiB0aGUgc291cmNlIHZlcnRleC5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHRhcmdldElkIFRoZSBpZCBvZiB0aGUgdGFyZ2V0IHZlcnRleC5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHdlaWdodCBUaGUgd2VpZ2h0IG9mIHRoaXMgZWRnZS4gVGhhdCBpcywgdGhlIGRlZ3JlZSBvZiB0aGUgYm9uZCAoc2luZ2xlIGJvbmQgPSAxLCBkb3VibGUgYm9uZCA9IDIsIGV0YykuXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbYm9uZFR5cGU9Jy0nXSBUaGUgYm9uZCB0eXBlIG9mIHRoaXMgZWRnZS5cclxuICogQHByb3BlcnR5IHtCb29sZWFufSBbaXNQYXJ0T2ZBcm9tYXRpY1Jpbmc9ZmFsc2VdIFdoZXRoZXIgb3Igbm90IHRoaXMgZWRnZSBpcyBwYXJ0IG9mIGFuIGFyb21hdGljIHJpbmcuXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2NlbnRlcj1mYWxzZV0gV2hldGhlciBvciBub3QgdGhlIGJvbmQgaXMgY2VudGVyZWQuIEZvciBleGFtcGxlLCB0aGlzIGFmZmVjdHMgc3RyYWlnaHQgZG91YmxlIGJvbmRzLlxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gW3dlZGdlPScnXSBXZWRnZSBkaXJlY3Rpb24uIEVpdGhlciAnJywgJ3VwJyBvciAnZG93bidcclxuICovXHJcbmV4cG9ydCBjbGFzcyBFZGdlIHtcclxuICBpZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XHJcbiAgc291cmNlSWQ6IG51bWJlcjtcclxuICB0YXJnZXRJZDogbnVtYmVyO1xyXG4gIHdlaWdodDogbnVtYmVyO1xyXG4gIGJvbmRUeXBlOiBzdHJpbmcgPSBcIi1cIjtcclxuICBpc1BhcnRPZkFyb21hdGljUmluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIGNlbnRlcjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHdlZGdlOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgY29uc3RydWN0b3IgZm9yIHRoZSBjbGFzcyBFZGdlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHNvdXJjZUlkIEEgdmVydGV4IGlkLlxyXG4gICAqIEBwYXJhbSB0YXJnZXRJZCBBIHZlcnRleCBpZC5cclxuICAgKiBAcGFyYW0gd2VpZ2h0IFRoZSB3ZWlnaHQgb2YgdGhlIGVkZ2UgKGRlZmF1bHQgaXMgMSkuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc291cmNlSWQ6IG51bWJlciwgdGFyZ2V0SWQ6IG51bWJlciwgd2VpZ2h0OiBudW1iZXIgPSAxKSB7XHJcbiAgICB0aGlzLnNvdXJjZUlkID0gc291cmNlSWQ7XHJcbiAgICB0aGlzLnRhcmdldElkID0gdGFyZ2V0SWQ7XHJcbiAgICB0aGlzLndlaWdodCA9IHdlaWdodDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCB0aGUgYm9uZCB0eXBlIG9mIHRoaXMgZWRnZS4gVGhpcyBhbHNvIHNldHMgdGhlIGVkZ2Ugd2VpZ2h0LlxyXG4gICAqIEBwYXJhbSBib25kVHlwZSBUaGUgdHlwZSBvZiBib25kLlxyXG4gICAqL1xyXG4gIHNldEJvbmRUeXBlKGJvbmRUeXBlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHRoaXMuYm9uZFR5cGUgPSBib25kVHlwZTtcclxuICAgIHRoaXMud2VpZ2h0ID0gRWRnZS5ib25kc1tib25kVHlwZV07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBbiBvYmplY3QgbWFwcGluZyB0aGUgYm9uZCB0eXBlIHRvIHRoZSBudW1iZXIgb2YgYm9uZHMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyBUaGUgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG1hcC5cclxuICAgKi9cclxuICBzdGF0aWMgZ2V0IGJvbmRzKCk6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgXCItXCI6IDEsXHJcbiAgICAgIFwiL1wiOiAxLFxyXG4gICAgICBcIlxcXFxcIjogMSxcclxuICAgICAgXCI9XCI6IDIsXHJcbiAgICAgIFwiI1wiOiAzLFxyXG4gICAgICAkOiA0LFxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IGZvcm11bGFUb0NvbW1vbk5hbWU6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgQzJINE8yOiBcImFjZXRpYyBhY2lkXCIsXHJcbiAgQzNINk86IFwiYWNldG9uZVwiLFxyXG4gIEMySDNOOiBcImFjZXRvbml0cmlsZVwiLFxyXG4gIEM2SDY6IFwiYmVuemVuZVwiLFxyXG4gIENDbDQ6IFwiY2FyYm9uIHRldHJhY2hsb3JpZGVcIixcclxuICBDNkg1Q2w6IFwiY2hsb3JvYmVuemVuZVwiLFxyXG4gIENIQ2wzOiBcImNobG9yb2Zvcm1cIixcclxuICBDNkgxMjogXCJjeWNsb2hleGFuZVwiLFxyXG4gIEMySDRDbDI6IFwiMSwyLWRpY2hsb3JvZXRoYW5lXCIsXHJcbiAgQzRIMTBPMzogXCJkaWV0aHlsZW5lIGdseWNvbFwiLFxyXG4gIEM2SDE0TzM6IFwiZGlnbHltZVwiLFxyXG4gIEM0SDEwTzI6IFwiRE1FXCIsXHJcbiAgQzNIN05POiBcIkRNRlwiLFxyXG4gIEMySDZPUzogXCJETVNPXCIsXHJcbiAgQzJINk86IFwiZXRoYW5vbFwiLFxyXG4gIEMySDZPMjogXCJldGh5bGVuZSBnbHljb2xcIixcclxuICBDM0g4TzM6IFwiZ2x5Y2VyaW5cIixcclxuICBDN0gxNjogXCJoZXB0YW5lXCIsXHJcbiAgQzZIMThOM09QOiBcIkhNUEFcIixcclxuICBDNkgxOE4zUDogXCJITVBUXCIsXHJcbiAgQzZIMTQ6IFwiaGV4YW5lXCIsXHJcbiAgQ0g0TzogXCJtZXRoYW5vbFwiLFxyXG4gIEM1SDEyTzogXCJNVEJFXCIsXHJcbiAgQ0gyQ2wyOiBcIm1ldGh5bGVuZSBjaGxvcmlkZVwiLFxyXG4gIENINUg5Tk86IFwiTk1QXCIsXHJcbiAgQ0gzTk8yOiBcIm5pdHJvbWV0aGFuZVwiLFxyXG4gIEM1SDEyOiBcInBlbnRhbmVcIixcclxuICBDNUg1TjogXCJweXJpZGluZVwiLFxyXG4gIEM3SDg6IFwidG9sdWVuZVwiLFxyXG4gIEM2SDE1TjogXCJ0cmlldGh5bCBhbWluZVwiLFxyXG59O1xyXG4iLCJpbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4vVmVjdG9yMlwiO1xyXG5pbXBvcnQgeyBjb252ZXJ0SW1hZ2UgfSBmcm9tIFwiLi9QaXhlbHNUb1N2Z1wiO1xyXG5cclxuLy8gRGVjbGFyZSByZXF1aXJlIGZvciBpbXBvcnRpbmcgQ29tbW9uSlMgbW9kdWxlXHJcbmRlY2xhcmUgZnVuY3Rpb24gcmVxdWlyZShtb2R1bGVOYW1lOiBzdHJpbmcpOiBhbnk7XHJcblxyXG5jb25zdCBjaHJvbWEgPSByZXF1aXJlKFwiY2hyb21hLWpzXCIpO1xyXG5cclxudHlwZSBDb2xvck1hcFR5cGUgPSBzdHJpbmdbXSB8IG51bGw7XHJcblxyXG5leHBvcnQgY2xhc3MgR2F1c3NEcmF3ZXIge1xyXG4gIHByaXZhdGUgcG9pbnRzOiBWZWN0b3IyW107XHJcbiAgcHJpdmF0ZSB3ZWlnaHRzOiBudW1iZXJbXTtcclxuICBwcml2YXRlIHdpZHRoOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBoZWlnaHQ6IG51bWJlcjtcclxuICBwcml2YXRlIHNpZ21hOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBpbnRlcnZhbDogbnVtYmVyO1xyXG4gIHByaXZhdGUgY29sb3JtYXA6IHN0cmluZ1tdO1xyXG4gIHByaXZhdGUgb3BhY2l0eTogbnVtYmVyO1xyXG4gIHByaXZhdGUgbm9ybWFsaXplZDogYm9vbGVhbjtcclxuICBwcml2YXRlIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgcHJpdmF0ZSBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgY2xhc3MgR3JhcGguXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1ZlY3RvcjJbXX0gcG9pbnRzIFRoZSBjZW50cmVzIG9mIHRoZSBnYXVzc2lhbnMuXHJcbiAgICogQHBhcmFtIHtudW1iZXJbXX0gd2VpZ2h0cyBUaGUgd2VpZ2h0cyAvIGFtcGxpdHVkZXMgZm9yIGVhY2ggZ2F1c3NpYW4uXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwb2ludHM6IFZlY3RvcjJbXSxcclxuICAgIHdlaWdodHM6IG51bWJlcltdLFxyXG4gICAgd2lkdGg6IG51bWJlcixcclxuICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgc2lnbWE6IG51bWJlciA9IDAuMyxcclxuICAgIGludGVydmFsOiBudW1iZXIgPSAwLFxyXG4gICAgY29sb3JtYXA6IENvbG9yTWFwVHlwZSA9IG51bGwsXHJcbiAgICBvcGFjaXR5OiBudW1iZXIgPSAxLjAsXHJcbiAgICBub3JtYWxpemVkOiBib29sZWFuID0gZmFsc2VcclxuICApIHtcclxuICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xyXG4gICAgdGhpcy53ZWlnaHRzID0gd2VpZ2h0cztcclxuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgdGhpcy5zaWdtYSA9IHNpZ21hO1xyXG4gICAgdGhpcy5pbnRlcnZhbCA9IGludGVydmFsO1xyXG4gICAgdGhpcy5vcGFjaXR5ID0gb3BhY2l0eTtcclxuICAgIHRoaXMubm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQ7XHJcblxyXG4gICAgaWYgKGNvbG9ybWFwID09PSBudWxsKSB7XHJcbiAgICAgIGNvbnN0IHBpeWcxMTogc3RyaW5nW10gPSBbXHJcbiAgICAgICAgXCIjYzUxYjdkXCIsXHJcbiAgICAgICAgXCIjZGU3N2FlXCIsXHJcbiAgICAgICAgXCIjZjFiNmRhXCIsXHJcbiAgICAgICAgXCIjZmRlMGVmXCIsXHJcbiAgICAgICAgXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgXCIjZTZmNWQwXCIsXHJcbiAgICAgICAgXCIjYjhlMTg2XCIsXHJcbiAgICAgICAgXCIjN2ZiYzQxXCIsXHJcbiAgICAgICAgXCIjNGQ5MjIxXCIsXHJcbiAgICAgIF07XHJcbiAgICAgIGNvbG9ybWFwID0gcGl5ZzExO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jb2xvcm1hcCA9IGNvbG9ybWFwO1xyXG5cclxuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgIGNvbnN0IGN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIGlmICghY3R4KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBnZXQgMkQgY29udGV4dFwiKTtcclxuICAgIH1cclxuICAgIHRoaXMuY29udGV4dCA9IGN0eDtcclxuICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy53aWR0aDtcclxuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldEZyb21BcnJheShcclxuICAgIGFycl9wb2ludHM6IFtudW1iZXIsIG51bWJlcl1bXSxcclxuICAgIGFycl93ZWlnaHRzOiBudW1iZXJbXVxyXG4gICk6IHZvaWQge1xyXG4gICAgdGhpcy5wb2ludHMgPSBbXTtcclxuICAgIGFycl9wb2ludHMuZm9yRWFjaCgoYSkgPT4ge1xyXG4gICAgICB0aGlzLnBvaW50cy5wdXNoKG5ldyBWZWN0b3IyKGFbMF0sIGFbMV0pKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMud2VpZ2h0cyA9IFtdO1xyXG4gICAgYXJyX3dlaWdodHMuZm9yRWFjaCgodykgPT4ge1xyXG4gICAgICB0aGlzLndlaWdodHMucHVzaCh3KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29tcHV0ZSBhbmQgZHJhdyB0aGUgZ2F1c3NpYW5zLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkcmF3KCk6IHZvaWQge1xyXG4gICAgY29uc3QgbTogbnVtYmVyW11bXSA9IEFycmF5KHRoaXMud2lkdGgpXHJcbiAgICAgIC5maWxsKDApXHJcbiAgICAgIC5tYXAoKCkgPT4gQXJyYXkodGhpcy5oZWlnaHQpLmZpbGwoMCkpO1xyXG5cclxuICAgIC8vIEl0IGxvb2tzIGxpa2UgaW4gc29tZSBjb21tb24ganMgZW5naW5lcywgbXVsdGlwbGljYXRpb24gYnkgYVxyXG4gICAgLy8gZnJhY3Rpb24gaXMgZmFzdGVyIHRoYW4gZGl2aXNpb24gLi4uXHJcbiAgICBjb25zdCBkaXZpc29yOiBudW1iZXIgPSAxLjAgLyAoMiAqIHRoaXMuc2lnbWEgKiogMik7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCB2ID0gdGhpcy5wb2ludHNbaV07XHJcbiAgICAgIGNvbnN0IGEgPSB0aGlzLndlaWdodHNbaV07XHJcblxyXG4gICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xyXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5oZWlnaHQ7IHkrKykge1xyXG4gICAgICAgICAgLy8gbGV0IHZfeCA9ICh4IC0gdi54KSAqKiAyIC8gKDIgKiB0aGlzLnNpZ21hICoqIDIpO1xyXG4gICAgICAgICAgLy8gbGV0IHZfeSA9ICh5IC0gdi55KSAqKiAyIC8gKDIgKiB0aGlzLnNpZ21hICoqIDIpO1xyXG4gICAgICAgICAgY29uc3Qgdl94eSA9ICgoeCAtIHYueCkgKiogMiArICh5IC0gdi55KSAqKiAyKSAqIGRpdmlzb3I7XHJcbiAgICAgICAgICBjb25zdCB2YWwgPSBhICogTWF0aC5leHAoLXZfeHkpO1xyXG5cclxuICAgICAgICAgIG1beF1beV0gKz0gdmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBhYnNfbWF4ID0gMS4wO1xyXG5cclxuICAgIGlmICghdGhpcy5ub3JtYWxpemVkKSB7XHJcbiAgICAgIGxldCBtYXggPSAtTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XHJcbiAgICAgIGxldCBtaW4gPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcclxuXHJcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7XHJcbiAgICAgICAgICBpZiAobVt4XVt5XSA8IG1pbikge1xyXG4gICAgICAgICAgICBtaW4gPSBtW3hdW3ldO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChtW3hdW3ldID4gbWF4KSB7XHJcbiAgICAgICAgICAgIG1heCA9IG1beF1beV07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBhYnNfbWF4ID0gTWF0aC5tYXgoTWF0aC5hYnMobWluKSwgTWF0aC5hYnMobWF4KSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2NhbGUgPSBjaHJvbWEuc2NhbGUodGhpcy5jb2xvcm1hcCkuZG9tYWluKFstMS4wLCAxLjBdKTtcclxuXHJcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xyXG4gICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuaGVpZ2h0OyB5KyspIHtcclxuICAgICAgICBpZiAoIXRoaXMubm9ybWFsaXplZCkge1xyXG4gICAgICAgICAgbVt4XVt5XSA9IG1beF1beV0gLyBhYnNfbWF4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJ2YWwgIT09IDApIHtcclxuICAgICAgICAgIG1beF1beV0gPSBNYXRoLnJvdW5kKG1beF1beV0gLyB0aGlzLmludGVydmFsKSAqIHRoaXMuaW50ZXJ2YWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBbciwgZywgYl0gPSBzY2FsZShtW3hdW3ldKS5yZ2IoKTtcclxuICAgICAgICB0aGlzLnNldFBpeGVsKG5ldyBWZWN0b3IyKHgsIHkpLCByLCBnLCBiKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBjYW52YXMgYXMgYW4gSFRNTCBpbWFnZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7KGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50KSA9PiB2b2lkfSBjYWxsYmFja1xyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRJbWFnZShjYWxsYmFjaz86IChpbWFnZTogSFRNTEltYWdlRWxlbWVudCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgdGhpcy5jb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcblxyXG4gICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICBjYWxsYmFjayhpbWFnZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uIChlcnI6IEVycm9yRXZlbnQpIHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0gYXMgT25FcnJvckV2ZW50SGFuZGxlcjtcclxuXHJcbiAgICBpbWFnZS5zcmMgPSB0aGlzLmNhbnZhcy50b0RhdGFVUkwoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgY2FudmFzIGFzIGFuIFNWRyBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIFNWRyByZXByZXNlbnRhdGlvbiBvZiB0aGUgY2FudmFzXHJcbiAgICovXHJcbiAgcHVibGljIGdldFNWRygpOiBTVkdFbGVtZW50IHwgbnVsbCB7XHJcbiAgICByZXR1cm4gY29udmVydEltYWdlKFxyXG4gICAgICB0aGlzLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCB0aGUgY29sb3VyIGF0IGEgc3BlY2lmaWMgcG9pbnQgb24gdGhlIGNhbnZhcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjIFRoZSBwaXhlbCBwb3NpdGlvbiBvbiB0aGUgY2FudmFzLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByIFRoZSByZWQgY29sb3VyLWNvbXBvbmVudC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gZyBUaGUgZ3JlZW4gY29sb3VyLWNvbXBvbmVudC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gYiBUaGUgYmx1ZSBjb2xvdXItY29tcG9uZW50LlxyXG4gICAqL1xyXG4gIHByaXZhdGUgc2V0UGl4ZWwodmVjOiBWZWN0b3IyLCByOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID1cclxuICAgICAgXCJyZ2JhKFwiICsgciArIFwiLFwiICsgZyArIFwiLFwiICsgYiArIFwiLFwiICsgdGhpcy5vcGFjaXR5ICsgXCIpXCI7XHJcbiAgICB0aGlzLmNvbnRleHQuZmlsbFJlY3QodmVjLngsIHZlYy55LCAxLCAxKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgTWF0aEhlbHBlciB9IGZyb20gXCIuL01hdGhIZWxwZXJcIlxyXG5pbXBvcnQgeyBWZXJ0ZXggfSBmcm9tIFwiLi9WZXJ0ZXhcIlxyXG5pbXBvcnQgeyBBdG9tLCB0eXBlIElCcmFja2V0IH0gZnJvbSBcIi4vQXRvbVwiXHJcbmltcG9ydCB7IEVkZ2UgfSBmcm9tIFwiLi9FZGdlXCJcclxuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuL1ZlY3RvcjJcIjtcclxuaW1wb3J0IHsgUmluZyB9IGZyb20gXCIuL1JpbmdcIjtcclxuaW1wb3J0IHR5cGUgeyBQYXJzZVRyZWVOb2RlLCBBZGphY2VuY3lNYXRyaXgsIERpc3RhbmNlTWF0cml4LCBBZGphY2VuY3lMaXN0LCBCcmlkZ2UgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5cclxuLyoqXHJcbiAqIEEgY2xhc3MgcmVwcmVzZW50aW5nIHRoZSBtb2xlY3VsYXIgZ3JhcGguXHJcbiAqXHJcbiAqIEBwcm9wZXJ0eSB7VmVydGV4W119IHZlcnRpY2VzIFRoZSB2ZXJ0aWNlcyBvZiB0aGUgZ3JhcGguXHJcbiAqIEBwcm9wZXJ0eSB7RWRnZVtdfSBlZGdlcyBUaGUgZWRnZXMgb2YgdGhpcyBncmFwaC5cclxuICogQHByb3BlcnR5IHtOdW1iZXJbXX0gYXRvbUlkeFRvVmVydGV4SWQgQSBtYXAgbWFwcGluZyBhdG9tIGluZGljZXMgdG8gdmVydGV4IGlkcy5cclxuICogQHByb3BlcnR5IHtPYmplY3R9IHZlcnRleElkc1RvRWRnZUlkIEEgbWFwIG1hcHBpbmcgdmVydGV4IGlkcyB0byB0aGUgZWRnZSBiZXR3ZWVuIHRoZSB0d28gdmVydGljZXMuIFRoZSBrZXkgaXMgZGVmaW5lZCBhcyB2ZXJ0ZXhBSWQgKyAnXycgKyB2ZXJ0ZXhCSWQuXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaXNvbWVyaWMgQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhlIFNNSUxFUyBhc3NvY2lhdGVkIHdpdGggdGhpcyBncmFwaCBpcyBpc29tZXJpYy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBHcmFwaCB7XHJcbiAgcHVibGljIHZlcnRpY2VzOiBWZXJ0ZXhbXTtcclxuICBwdWJsaWMgZWRnZXM6IEVkZ2VbXTtcclxuICBwdWJsaWMgYXRvbUlkeFRvVmVydGV4SWQ6IG51bWJlcltdO1xyXG4gIHB1YmxpYyB2ZXJ0ZXhJZHNUb0VkZ2VJZDogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcclxuICBwdWJsaWMgaXNvbWVyaWM6IGJvb2xlYW47XHJcblxyXG4gIHByaXZhdGUgX2F0b21JZHg6IG51bWJlcjtcclxuICBwcml2YXRlIF90aW1lOiBudW1iZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgY2xhc3MgR3JhcGguXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyc2VUcmVlIEEgU01JTEVTIHBhcnNlIHRyZWUuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbaXNvbWVyaWM9ZmFsc2VdIEEgYm9vbGVhbiBzcGVjaWZ5aW5nIHdoZXRoZXIgb3Igbm90IHRoZSBTTUlMRVMgaXMgaXNvbWVyaWMuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IocGFyc2VUcmVlOiBQYXJzZVRyZWVOb2RlLCBpc29tZXJpYzogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICB0aGlzLnZlcnRpY2VzID0gQXJyYXkoKTtcclxuICAgIHRoaXMuZWRnZXMgPSBBcnJheSgpO1xyXG4gICAgdGhpcy5hdG9tSWR4VG9WZXJ0ZXhJZCA9IEFycmF5KCk7XHJcbiAgICB0aGlzLnZlcnRleElkc1RvRWRnZUlkID0ge307XHJcbiAgICB0aGlzLmlzb21lcmljID0gaXNvbWVyaWM7XHJcblxyXG4gICAgLy8gVXNlZCB0byBhc3NpZ24gaW5kaWNlcyB0byB0aGUgaGVhdnkgYXRvbXMuXHJcbiAgICB0aGlzLl9hdG9tSWR4ID0gMDtcclxuXHJcbiAgICAvLyBVc2VkIGZvciB0aGUgYnJpZGdlIGRldGVjdGlvbiBhbGdvcml0aG1cclxuICAgIHRoaXMuX3RpbWUgPSAwO1xyXG4gICAgdGhpcy5faW5pdChwYXJzZVRyZWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUFJJVkFURSBGVU5DVElPTi4gSW5pdGlhbGl6aW5nIHRoZSBncmFwaCBmcm9tIHRoZSBwYXJzZSB0cmVlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG5vZGUgVGhlIGN1cnJlbnQgbm9kZSBpbiB0aGUgcGFyc2UgdHJlZS5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gb3JkZXIgVGhlIG9yZGVyIG9mIHRoZSBub2RlIGluIHRoZSBicmFuY2guXHJcbiAgICogQHBhcmFtIHs/TnVtYmVyfSBwYXJlbnRWZXJ0ZXhJZCBUaGUgaWQgb2YgdGhlIHByZXZpb3VzIHZlcnRleC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzQnJhbmNoIFdoZXRoZXIgb3Igbm90IHRoZSBib25kIGxlYWRpbmcgdG8gdGhpcyB2ZXJ0ZXggaXMgYSBicmFuY2ggYm9uZC4gQnJhbmNoZXMgYXJlIHJlcHJlc2VudGVkIGJ5IHBhcmVudGhlc2VzIGluIHNtaWxlcyAoZS5nLiBDQyhPKUMpLlxyXG4gICAqL1xyXG4gIHByaXZhdGUgX2luaXQobm9kZTogUGFyc2VUcmVlTm9kZSwgb3JkZXI6IG51bWJlciA9IDAsIHBhcmVudFZlcnRleElkOiBudW1iZXIgfCBudWxsID0gbnVsbCwgaXNCcmFuY2g6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgLy8gQ3JlYXRlIGEgbmV3IHZlcnRleCBvYmplY3RcclxuICAgIGNvbnN0IGVsZW1lbnQgPSB0eXBlb2Ygbm9kZS5hdG9tID09PSAnc3RyaW5nJyA/IG5vZGUuYXRvbSA6IG5vZGUuYXRvbS5lbGVtZW50O1xyXG4gICAgbGV0IGF0b20gPSBuZXcgQXRvbShlbGVtZW50LCBub2RlLmJvbmQpO1xyXG5cclxuICAgIGlmIChlbGVtZW50ICE9PSAnSCcgfHwgKCFub2RlLmhhc05leHQgJiYgcGFyZW50VmVydGV4SWQgPT09IG51bGwpKSB7XHJcbiAgICAgIGF0b20uaWR4ID0gdGhpcy5fYXRvbUlkeDtcclxuICAgICAgdGhpcy5fYXRvbUlkeCsrO1xyXG4gICAgfVxyXG5cclxuICAgIGF0b20uYnJhbmNoQm9uZCA9IG5vZGUuYnJhbmNoQm9uZCA/PyBudWxsO1xyXG4gICAgYXRvbS5yaW5nYm9uZHMgPSBub2RlLnJpbmdib25kcztcclxuICAgIGF0b20uYnJhY2tldCA9IHR5cGVvZiBub2RlLmF0b20gPT09ICdvYmplY3QnICYmIG5vZGUuYXRvbS5lbGVtZW50ID8gKG5vZGUuYXRvbSBhcyBJQnJhY2tldCkgOiBudWxsO1xyXG4gICAgYXRvbS5jbGFzcyA9IHR5cGVvZiBub2RlLmF0b20gPT09ICdvYmplY3QnID8gbm9kZS5hdG9tLmNsYXNzIDogdW5kZWZpbmVkO1xyXG5cclxuICAgIGxldCB2ZXJ0ZXggPSBuZXcgVmVydGV4KGF0b20pO1xyXG4gICAgbGV0IHBhcmVudFZlcnRleCA9IHBhcmVudFZlcnRleElkICE9PSBudWxsID8gdGhpcy52ZXJ0aWNlc1twYXJlbnRWZXJ0ZXhJZF0gOiBudWxsO1xyXG5cclxuICAgIHRoaXMuYWRkVmVydGV4KHZlcnRleCk7XHJcblxyXG4gICAgaWYgKGF0b20uaWR4ICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuYXRvbUlkeFRvVmVydGV4SWQucHVzaCh2ZXJ0ZXguaWQhKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgdGhlIGlkIG9mIHRoaXMgbm9kZSB0byB0aGUgcGFyZW50IGFzIGNoaWxkXHJcbiAgICBpZiAocGFyZW50VmVydGV4SWQgIT09IG51bGwgJiYgcGFyZW50VmVydGV4KSB7XHJcbiAgICAgIGNvbnN0IHZlcnRleElkID0gdmVydGV4LmlkITsgLy8gaWQgaXMgc2V0IGJ5IGFkZFZlcnRleFxyXG4gICAgICB2ZXJ0ZXguc2V0UGFyZW50VmVydGV4SWQocGFyZW50VmVydGV4SWQpO1xyXG4gICAgICB2ZXJ0ZXgudmFsdWUuYWRkTmVpZ2hib3VyaW5nRWxlbWVudChwYXJlbnRWZXJ0ZXgudmFsdWUuZWxlbWVudCk7XHJcbiAgICAgIHBhcmVudFZlcnRleC5hZGRDaGlsZCh2ZXJ0ZXhJZCk7XHJcbiAgICAgIHBhcmVudFZlcnRleC52YWx1ZS5hZGROZWlnaGJvdXJpbmdFbGVtZW50KGF0b20uZWxlbWVudCk7XHJcblxyXG4gICAgICAvLyBJbiBhZGRpdGlvbiBjcmVhdGUgYSBzcGFubmluZ1RyZWVDaGlsZHJlbiBwcm9wZXJ0eSwgd2hpY2ggbGF0ZXIgd2lsbFxyXG4gICAgICAvLyBub3QgY29udGFpbiB0aGUgY2hpbGRyZW4gYWRkZWQgdGhyb3VnaCByaW5nYm9uZHNcclxuICAgICAgcGFyZW50VmVydGV4LnNwYW5uaW5nVHJlZUNoaWxkcmVuLnB1c2godmVydGV4SWQpO1xyXG5cclxuICAgICAgLy8gQWRkIGVkZ2UgYmV0d2VlbiB0aGlzIG5vZGUgYW5kIGl0cyBwYXJlbnRcclxuICAgICAgbGV0IGVkZ2UgPSBuZXcgRWRnZShwYXJlbnRWZXJ0ZXhJZCwgdmVydGV4SWQsIDEpO1xyXG5cclxuICAgICAgaWYgKGlzQnJhbmNoKSB7XHJcbiAgICAgICAgZWRnZS5zZXRCb25kVHlwZSh2ZXJ0ZXgudmFsdWUuYnJhbmNoQm9uZCB8fCAnLScpO1xyXG4gICAgICAgIGVkZ2Uuc2V0Qm9uZFR5cGUodmVydGV4LnZhbHVlLmJyYW5jaEJvbmQgfHwgJy0nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlZGdlLnNldEJvbmRUeXBlKHBhcmVudFZlcnRleC52YWx1ZS5ib25kVHlwZSB8fCAnLScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgZWRnZUlkID0gdGhpcy5hZGRFZGdlKGVkZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBvZmZzZXQgPSAodHlwZW9mIG5vZGUucmluZ2JvbmRDb3VudCA9PT0gJ251bWJlcicgPyBub2RlLnJpbmdib25kQ291bnQgOiAwKSArIDE7XHJcblxyXG4gICAgaWYgKGF0b20uYnJhY2tldCAmJiBhdG9tLmJyYWNrZXQuaGNvdW50KSB7XHJcbiAgICAgIG9mZnNldCArPSBhdG9tLmJyYWNrZXQuaGNvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzdGVyZW9IeWRyb2dlbnMgPSAwO1xyXG4gICAgaWYgKGF0b20uYnJhY2tldCAmJiB0eXBlb2YgYXRvbS5icmFja2V0ID09PSAnb2JqZWN0JyAmJiAnY2hpcmFsaXR5JyBpbiBhdG9tLmJyYWNrZXQgJiYgYXRvbS5icmFja2V0LmNoaXJhbGl0eSkge1xyXG4gICAgICBhdG9tLmlzU3RlcmVvQ2VudGVyID0gdHJ1ZTtcclxuICAgICAgc3RlcmVvSHlkcm9nZW5zID0gYXRvbS5icmFja2V0Lmhjb3VudCA/PyAwO1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ZXJlb0h5ZHJvZ2VuczsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy5faW5pdCh7XHJcbiAgICAgICAgICBhdG9tOiAnSCcsXHJcbiAgICAgICAgICBpc0JyYWNrZXQ6ICdmYWxzZScsXHJcbiAgICAgICAgICBicmFuY2hlczogQXJyYXkoKSxcclxuICAgICAgICAgIGJyYW5jaENvdW50OiAwLFxyXG4gICAgICAgICAgcmluZ2JvbmRzOiBBcnJheSgpLFxyXG4gICAgICAgICAgcmluZ2JvbmRDb3VudDogZmFsc2UsXHJcbiAgICAgICAgICBuZXh0OiBudWxsLFxyXG4gICAgICAgICAgaGFzTmV4dDogZmFsc2UsXHJcbiAgICAgICAgICBib25kOiAnLSdcclxuICAgICAgICB9LCBpLCB2ZXJ0ZXguaWQsIHRydWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmJyYW5jaENvdW50OyBpKyspIHtcclxuICAgICAgdGhpcy5faW5pdChub2RlLmJyYW5jaGVzW2ldLCBpICsgb2Zmc2V0LCB2ZXJ0ZXguaWQsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChub2RlLmhhc05leHQgJiYgbm9kZS5uZXh0KSB7XHJcbiAgICAgIHRoaXMuX2luaXQobm9kZS5uZXh0LCBub2RlLmJyYW5jaENvdW50ICsgb2Zmc2V0LCB2ZXJ0ZXguaWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2xlYXJzIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhpcyBncmFwaCAoZWRnZXMgYW5kIHZlcnRpY2VzKS5cclxuICAgKi9cclxuICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7XHJcbiAgICB0aGlzLnZlcnRpY2VzID0gQXJyYXkoKTtcclxuICAgIHRoaXMuZWRnZXMgPSBBcnJheSgpO1xyXG4gICAgdGhpcy52ZXJ0ZXhJZHNUb0VkZ2VJZCA9IHt9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGEgdmVydGV4IHRvIHRoZSBncmFwaC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7VmVydGV4fSB2ZXJ0ZXggQSBuZXcgdmVydGV4LlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSB2ZXJ0ZXggaWQgb2YgdGhlIG5ldyB2ZXJ0ZXguXHJcbiAgICovXHJcbiAgcHVibGljIGFkZFZlcnRleCh2ZXJ0ZXg6IFZlcnRleCk6IG51bWJlciB7XHJcbiAgICB2ZXJ0ZXguaWQgPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDtcclxuICAgIHRoaXMudmVydGljZXMucHVzaCh2ZXJ0ZXgpO1xyXG5cclxuICAgIHJldHVybiB2ZXJ0ZXguaWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgYW4gZWRnZSB0byB0aGUgZ3JhcGguXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0VkZ2V9IGVkZ2UgQSBuZXcgZWRnZS5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgZWRnZSBpZCBvZiB0aGUgbmV3IGVkZ2UuXHJcbiAgICovXHJcbiAgcHVibGljIGFkZEVkZ2UoZWRnZTogRWRnZSk6IG51bWJlciB7XHJcbiAgICBsZXQgc291cmNlID0gdGhpcy52ZXJ0aWNlc1tlZGdlLnNvdXJjZUlkXTtcclxuICAgIGxldCB0YXJnZXQgPSB0aGlzLnZlcnRpY2VzW2VkZ2UudGFyZ2V0SWRdO1xyXG5cclxuICAgIGVkZ2UuaWQgPSB0aGlzLmVkZ2VzLmxlbmd0aDtcclxuICAgIHRoaXMuZWRnZXMucHVzaChlZGdlKTtcclxuXHJcbiAgICB0aGlzLnZlcnRleElkc1RvRWRnZUlkW2VkZ2Uuc291cmNlSWQgKyAnXycgKyBlZGdlLnRhcmdldElkXSA9IGVkZ2UuaWQ7XHJcbiAgICB0aGlzLnZlcnRleElkc1RvRWRnZUlkW2VkZ2UudGFyZ2V0SWQgKyAnXycgKyBlZGdlLnNvdXJjZUlkXSA9IGVkZ2UuaWQ7XHJcbiAgICBlZGdlLmlzUGFydE9mQXJvbWF0aWNSaW5nID0gc291cmNlLnZhbHVlLmlzUGFydE9mQXJvbWF0aWNSaW5nICYmIHRhcmdldC52YWx1ZS5pc1BhcnRPZkFyb21hdGljUmluZztcclxuXHJcbiAgICBzb3VyY2UudmFsdWUuYm9uZENvdW50ICs9IGVkZ2Uud2VpZ2h0O1xyXG4gICAgdGFyZ2V0LnZhbHVlLmJvbmRDb3VudCArPSBlZGdlLndlaWdodDtcclxuXHJcbiAgICBzb3VyY2UuZWRnZXMucHVzaChlZGdlLmlkKTtcclxuICAgIHRhcmdldC5lZGdlcy5wdXNoKGVkZ2UuaWQpO1xyXG5cclxuICAgIHJldHVybiBlZGdlLmlkO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgZWRnZSBiZXR3ZWVuIHR3byBnaXZlbiB2ZXJ0aWNlcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJ0ZXhJZEEgQSB2ZXJ0ZXggaWQuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlcnRleElkQiBBIHZlcnRleCBpZC5cclxuICAgKiBAcmV0dXJucyB7KEVkZ2V8bnVsbCl9IFRoZSBlZGdlIG9yLCBpZiBubyBlZGdlIGNhbiBiZSBmb3VuZCwgbnVsbC5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0RWRnZSh2ZXJ0ZXhJZEE6IG51bWJlciwgdmVydGV4SWRCOiBudW1iZXIpOiBFZGdlIHwgbnVsbCB7XHJcbiAgICBsZXQgZWRnZUlkID0gdGhpcy52ZXJ0ZXhJZHNUb0VkZ2VJZFt2ZXJ0ZXhJZEEgKyAnXycgKyB2ZXJ0ZXhJZEJdO1xyXG5cclxuICAgIHJldHVybiBlZGdlSWQgPT09IHVuZGVmaW5lZCA/IG51bGwgOiB0aGlzLmVkZ2VzW2VkZ2VJZF07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBpZHMgb2YgZWRnZXMgY29ubmVjdGVkIHRvIGEgdmVydGV4LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlcnRleElkIEEgdmVydGV4IGlkLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJbXX0gQW4gYXJyYXkgY29udGFpbmluZyB0aGUgaWRzIG9mIGVkZ2VzIGNvbm5lY3RlZCB0byB0aGUgdmVydGV4LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRFZGdlcyh2ZXJ0ZXhJZDogbnVtYmVyKTogbnVtYmVyW10ge1xyXG4gICAgbGV0IGVkZ2VJZHMgPSBBcnJheSgpO1xyXG4gICAgbGV0IHZlcnRleCA9IHRoaXMudmVydGljZXNbdmVydGV4SWRdO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGV4Lm5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgZWRnZUlkcy5wdXNoKHRoaXMudmVydGV4SWRzVG9FZGdlSWRbdmVydGV4SWQgKyAnXycgKyB2ZXJ0ZXgubmVpZ2hib3Vyc1tpXV0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBlZGdlSWRzO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIHdoZXRoZXIgb3Igbm90IHR3byB2ZXJ0aWNlcyBhcmUgY29ubmVjdGVkIGJ5IGFuIGVkZ2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0gdmVydGV4SWRBIEEgdmVydGV4IGlkLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJ0ZXhJZEIgQSB2ZXJ0ZXggaWQuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHR3byB2ZXJ0aWNlcyBhcmUgY29ubmVjdGVkIGJ5IGFuIGVkZ2UuXHJcbiAgICovXHJcbiAgcHVibGljIGhhc0VkZ2UodmVydGV4SWRBOiBudW1iZXIsIHZlcnRleElkQjogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy52ZXJ0ZXhJZHNUb0VkZ2VJZFt2ZXJ0ZXhJZEEgKyAnXycgKyB2ZXJ0ZXhJZEJdICE9PSB1bmRlZmluZWRcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgdmVydGV4IGlkcyBvZiB0aGlzIGdyYXBoLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge051bWJlcltdfSBBbiBhcnJheSBjb250YWluaW5nIGFsbCB2ZXJ0ZXggaWRzIG9mIHRoaXMgZ3JhcGguXHJcbiAgICovXHJcbiAgcHVibGljIGdldFZlcnRleExpc3QoKTogbnVtYmVyW10ge1xyXG4gICAgbGV0IGFycjogbnVtYmVyW10gPSBBcnJheSh0aGlzLnZlcnRpY2VzLmxlbmd0aCk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGFycltpXSA9IHRoaXMudmVydGljZXNbaV0uaWQhO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhcnI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgc291cmNlLCB0YXJnZXQgYXJyYXlzIG9mIHRoaXMgZ3JhcGhzIGVkZ2VzLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge0FycmF5W119IEFuIGFycmF5IGNvbnRhaW5pbmcgc291cmNlLCB0YXJnZXQgYXJyYXlzIG9mIHRoaXMgZ3JhcGhzIGVkZ2VzLiBFeGFtcGxlOiBbIFsgMiwgNSBdLCBbIDYsIDkgXSBdLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRFZGdlTGlzdCgpOiBudW1iZXJbXVtdIHtcclxuICAgIGxldCBhcnIgPSBBcnJheSh0aGlzLmVkZ2VzLmxlbmd0aCk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmVkZ2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGFycltpXSA9IFt0aGlzLmVkZ2VzW2ldLnNvdXJjZUlkLCB0aGlzLmVkZ2VzW2ldLnRhcmdldElkXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXJyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBhZGphY2VuY3kgbWF0cml4IG9mIHRoZSBncmFwaC5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtBcnJheVtdfSBUaGUgYWRqYW5jZW5jeSBtYXRyaXggb2YgdGhlIG1vbGVjdWxhciBncmFwaC5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0QWRqYWNlbmN5TWF0cml4KCk6IEFkamFjZW5jeU1hdHJpeCB7XHJcbiAgICBsZXQgbGVuZ3RoID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7XHJcbiAgICBsZXQgYWRqYWNlbmN5TWF0cml4ID0gQXJyYXkobGVuZ3RoKTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGFkamFjZW5jeU1hdHJpeFtpXSA9IG5ldyBBcnJheShsZW5ndGgpO1xyXG4gICAgICBhZGphY2VuY3lNYXRyaXhbaV0uZmlsbCgwKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZWRnZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGV0IGVkZ2UgPSB0aGlzLmVkZ2VzW2ldO1xyXG5cclxuICAgICAgYWRqYWNlbmN5TWF0cml4W2VkZ2Uuc291cmNlSWRdW2VkZ2UudGFyZ2V0SWRdID0gMTtcclxuICAgICAgYWRqYWNlbmN5TWF0cml4W2VkZ2UudGFyZ2V0SWRdW2VkZ2Uuc291cmNlSWRdID0gMTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYWRqYWNlbmN5TWF0cml4O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBhZGphY2VuY3kgbWF0cml4IG9mIHRoZSBncmFwaCB3aXRoIGFsbCBicmlkZ2VzIHJlbW92ZWQgKHRodXMgdGhlIGNvbXBvbmVudHMpLiBUaHVzIHRoZSByZW1haW5pbmcgdmVydGljZXMgYXJlIGFsbCBwYXJ0IG9mIHJpbmcgc3lzdGVtcy5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtBcnJheVtdfSBUaGUgYWRqYW5jZW5jeSBtYXRyaXggb2YgdGhlIG1vbGVjdWxhciBncmFwaCB3aXRoIGFsbCBicmlkZ2VzIHJlbW92ZWQuXHJcbiAgICovXHJcbiAgcHVibGljIGdldENvbXBvbmVudHNBZGphY2VuY3lNYXRyaXgoKTogQWRqYWNlbmN5TWF0cml4IHtcclxuICAgIGxldCBsZW5ndGggPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDtcclxuICAgIGxldCBhZGphY2VuY3lNYXRyaXggPSBBcnJheShsZW5ndGgpO1xyXG4gICAgbGV0IGJyaWRnZXMgPSB0aGlzLmdldEJyaWRnZXMoKTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGFkamFjZW5jeU1hdHJpeFtpXSA9IG5ldyBBcnJheShsZW5ndGgpO1xyXG4gICAgICBhZGphY2VuY3lNYXRyaXhbaV0uZmlsbCgwKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZWRnZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGV0IGVkZ2UgPSB0aGlzLmVkZ2VzW2ldO1xyXG5cclxuICAgICAgYWRqYWNlbmN5TWF0cml4W2VkZ2Uuc291cmNlSWRdW2VkZ2UudGFyZ2V0SWRdID0gMTtcclxuICAgICAgYWRqYWNlbmN5TWF0cml4W2VkZ2UudGFyZ2V0SWRdW2VkZ2Uuc291cmNlSWRdID0gMTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJyaWRnZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgYWRqYWNlbmN5TWF0cml4W2JyaWRnZXNbaV1bMF1dW2JyaWRnZXNbaV1bMV1dID0gMDtcclxuICAgICAgYWRqYWNlbmN5TWF0cml4W2JyaWRnZXNbaV1bMV1dW2JyaWRnZXNbaV1bMF1dID0gMDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYWRqYWNlbmN5TWF0cml4O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBhZGphY2VuY3kgbWF0cml4IG9mIGEgc3ViZ3JhcGguXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcltdfSB2ZXJ0ZXhJZHMgQW4gYXJyYXkgY29udGFpbmluZyB0aGUgdmVydGV4IGlkcyBjb250YWluZWQgd2l0aGluIHRoZSBzdWJncmFwaC5cclxuICAgKiBAcmV0dXJucyB7QXJyYXlbXX0gVGhlIGFkamFuY2VuY3kgbWF0cml4IG9mIHRoZSBzdWJncmFwaC5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0U3ViZ3JhcGhBZGphY2VuY3lNYXRyaXgodmVydGV4SWRzOiBudW1iZXJbXSk6IEFkamFjZW5jeU1hdHJpeCB7XHJcbiAgICBsZXQgbGVuZ3RoID0gdmVydGV4SWRzLmxlbmd0aDtcclxuICAgIGxldCBhZGphY2VuY3lNYXRyaXggPSBBcnJheShsZW5ndGgpO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgYWRqYWNlbmN5TWF0cml4W2ldID0gbmV3IEFycmF5KGxlbmd0aCk7XHJcbiAgICAgIGFkamFjZW5jeU1hdHJpeFtpXS5maWxsKDApO1xyXG5cclxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW5ndGg7IGorKykge1xyXG4gICAgICAgIGlmIChpID09PSBqKSB7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmhhc0VkZ2UodmVydGV4SWRzW2ldLCB2ZXJ0ZXhJZHNbal0pKSB7XHJcbiAgICAgICAgICBhZGphY2VuY3lNYXRyaXhbaV1bal0gPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhZGphY2VuY3lNYXRyaXg7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIGRpc3RhbmNlIG1hdHJpeCBvZiB0aGUgZ3JhcGguXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7QXJyYXlbXX0gVGhlIGRpc3RhbmNlIG1hdHJpeCBvZiB0aGUgZ3JhcGguXHJcbiAgICovXHJcbiAgcHVibGljIGdldERpc3RhbmNlTWF0cml4KCk6IERpc3RhbmNlTWF0cml4IHtcclxuICAgIGxldCBsZW5ndGggPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDtcclxuICAgIGxldCBhZGphID0gdGhpcy5nZXRBZGphY2VuY3lNYXRyaXgoKTtcclxuICAgIGxldCBkaXN0ID0gQXJyYXkobGVuZ3RoKTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGRpc3RbaV0gPSBBcnJheShsZW5ndGgpO1xyXG4gICAgICBkaXN0W2ldLmZpbGwoSW5maW5pdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW5ndGg7IGorKykge1xyXG4gICAgICAgIGlmIChhZGphW2ldW2pdID09PSAxKSB7XHJcbiAgICAgICAgICBkaXN0W2ldW2pdID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IGxlbmd0aDsgaysrKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICBpZiAoZGlzdFtpXVtqXSA+IGRpc3RbaV1ba10gKyBkaXN0W2tdW2pdKSB7XHJcbiAgICAgICAgICAgIGRpc3RbaV1bal0gPSBkaXN0W2ldW2tdICsgZGlzdFtrXVtqXVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkaXN0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBkaXN0YW5jZSBtYXRyaXggb2YgYSBzdWJncmFwaC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyW119IHZlcnRleElkcyBBbiBhcnJheSBjb250YWluaW5nIHRoZSB2ZXJ0ZXggaWRzIGNvbnRhaW5lZCB3aXRoaW4gdGhlIHN1YmdyYXBoLlxyXG4gICAqIEByZXR1cm5zIHtBcnJheVtdfSBUaGUgZGlzdGFuY2UgbWF0cml4IG9mIHRoZSBzdWJncmFwaC5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0U3ViZ3JhcGhEaXN0YW5jZU1hdHJpeCh2ZXJ0ZXhJZHM6IG51bWJlcltdKTogRGlzdGFuY2VNYXRyaXgge1xyXG4gICAgbGV0IGxlbmd0aCA9IHZlcnRleElkcy5sZW5ndGg7XHJcbiAgICBsZXQgYWRqYSA9IHRoaXMuZ2V0U3ViZ3JhcGhBZGphY2VuY3lNYXRyaXgodmVydGV4SWRzKTtcclxuICAgIGxldCBkaXN0ID0gQXJyYXkobGVuZ3RoKTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGRpc3RbaV0gPSBBcnJheShsZW5ndGgpO1xyXG4gICAgICBkaXN0W2ldLmZpbGwoSW5maW5pdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW5ndGg7IGorKykge1xyXG4gICAgICAgIGlmIChhZGphW2ldW2pdID09PSAxKSB7XHJcbiAgICAgICAgICBkaXN0W2ldW2pdID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IGxlbmd0aDsgaysrKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICBpZiAoZGlzdFtpXVtqXSA+IGRpc3RbaV1ba10gKyBkaXN0W2tdW2pdKSB7XHJcbiAgICAgICAgICAgIGRpc3RbaV1bal0gPSBkaXN0W2ldW2tdICsgZGlzdFtrXVtqXVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkaXN0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBhZGphY2VuY3kgbGlzdCBvZiB0aGUgZ3JhcGguXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7QXJyYXlbXX0gVGhlIGFkamFuY2VuY3kgbGlzdCBvZiB0aGUgZ3JhcGguXHJcbiAgICovXHJcbiAgcHVibGljIGdldEFkamFjZW5jeUxpc3QoKTogQWRqYWNlbmN5TGlzdCB7XHJcbiAgICBsZXQgbGVuZ3RoID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7XHJcbiAgICBsZXQgYWRqYWNlbmN5TGlzdCA9IEFycmF5KGxlbmd0aCk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICBhZGphY2VuY3lMaXN0W2ldID0gW107XHJcblxyXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgaWYgKGkgPT09IGopIHtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaGFzRWRnZSh0aGlzLnZlcnRpY2VzW2ldLmlkISwgdGhpcy52ZXJ0aWNlc1tqXS5pZCEpKSB7XHJcbiAgICAgICAgICBhZGphY2VuY3lMaXN0W2ldLnB1c2goaik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFkamFjZW5jeUxpc3Q7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIGFkamFjZW5jeSBsaXN0IG9mIGEgc3ViZ3JhcGguXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcltdfSB2ZXJ0ZXhJZHMgQW4gYXJyYXkgY29udGFpbmluZyB0aGUgdmVydGV4IGlkcyBjb250YWluZWQgd2l0aGluIHRoZSBzdWJncmFwaC5cclxuICAgKiBAcmV0dXJucyB7QXJyYXlbXX0gVGhlIGFkamFuY2VuY3kgbGlzdCBvZiB0aGUgc3ViZ3JhcGguXHJcbiAgICovXHJcbiAgcHVibGljIGdldFN1YmdyYXBoQWRqYWNlbmN5TGlzdCh2ZXJ0ZXhJZHM6IG51bWJlcltdKTogQWRqYWNlbmN5TGlzdCB7XHJcbiAgICBsZXQgbGVuZ3RoID0gdmVydGV4SWRzLmxlbmd0aDtcclxuICAgIGxldCBhZGphY2VuY3lMaXN0ID0gQXJyYXkobGVuZ3RoKTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGFkamFjZW5jeUxpc3RbaV0gPSBBcnJheSgpO1xyXG5cclxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW5ndGg7IGorKykge1xyXG4gICAgICAgIGlmIChpID09PSBqKSB7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmhhc0VkZ2UodmVydGV4SWRzW2ldLCB2ZXJ0ZXhJZHNbal0pKSB7XHJcbiAgICAgICAgICBhZGphY2VuY3lMaXN0W2ldLnB1c2goaik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFkamFjZW5jeUxpc3Q7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGVkZ2UgaWRzIG9mIGJyaWRnZXMuIEEgYnJpZGdlIHNwbGl0cyB0aGUgZ3JhcGggaW50byBtdWx0aXBsZSBjb21wb25lbnRzIHdoZW4gcmVtb3ZlZC5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJbXX0gQW4gYXJyYXkgY29udGFpbmluZyB0aGUgZWRnZSBpZHMgb2YgdGhlIGJyaWRnZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGBgYHR5cGVzY3JpcHRcclxuICAgKiBjb25zdCBncmFwaCA9IG5ldyBHcmFwaChwYXJzZVRyZWUpO1xyXG4gICAqIGNvbnN0IGJyaWRnZXMgPSBncmFwaC5nZXRCcmlkZ2VzKCk7XHJcbiAgICogY29uc29sZS5sb2coYEZvdW5kICR7YnJpZGdlcy5sZW5ndGh9IHJvdGF0YWJsZSBib25kc2ApO1xyXG4gICAqIGBgYFxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRCcmlkZ2VzKCk6IEJyaWRnZVtdIHtcclxuICAgIGxldCBsZW5ndGggPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDtcclxuICAgIGxldCB2aXNpdGVkID0gbmV3IEFycmF5KGxlbmd0aCk7XHJcbiAgICBsZXQgZGlzYyA9IG5ldyBBcnJheShsZW5ndGgpO1xyXG4gICAgbGV0IGxvdyA9IG5ldyBBcnJheShsZW5ndGgpO1xyXG4gICAgbGV0IHBhcmVudCA9IG5ldyBBcnJheShsZW5ndGgpO1xyXG4gICAgbGV0IGFkaiA9IHRoaXMuZ2V0QWRqYWNlbmN5TGlzdCgpO1xyXG4gICAgbGV0IG91dEJyaWRnZXMgPSBBcnJheSgpO1xyXG5cclxuICAgIHZpc2l0ZWQuZmlsbChmYWxzZSk7XHJcbiAgICBwYXJlbnQuZmlsbChudWxsKTtcclxuICAgIHRoaXMuX3RpbWUgPSAwO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKCF2aXNpdGVkW2ldKSB7XHJcbiAgICAgICAgdGhpcy5fYnJpZGdlRGZzKGksIHZpc2l0ZWQsIGRpc2MsIGxvdywgcGFyZW50LCBhZGosIG91dEJyaWRnZXMpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG91dEJyaWRnZXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUcmF2ZXJzZXMgdGhlIGdyYXBoIGluIGJyZWFkdGgtZmlyc3Qgb3JkZXIuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRWZXJ0ZXhJZCBUaGUgaWQgb2YgdGhlIHN0YXJ0aW5nIHZlcnRleC5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGV2ZXJ5IHZlcnRleC5cclxuICAgKi9cclxuICBwdWJsaWMgdHJhdmVyc2VCRihzdGFydFZlcnRleElkOiBudW1iZXIsIGNhbGxiYWNrOiAodmVydGV4OiBWZXJ0ZXgpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgIGxldCBsZW5ndGggPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDtcclxuICAgIGxldCB2aXNpdGVkID0gbmV3IEFycmF5KGxlbmd0aCk7XHJcblxyXG4gICAgdmlzaXRlZC5maWxsKGZhbHNlKTtcclxuXHJcbiAgICB2YXIgcXVldWUgPSBbc3RhcnRWZXJ0ZXhJZF07XHJcblxyXG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgLy8gSmF2YVNjcmlwdHMgc2hpZnQoKSBpcyBPKG4pIC4uLiBiYWQgSmF2YVNjcmlwdCwgYmFkIVxyXG4gICAgICBsZXQgdSA9IHF1ZXVlLnNoaWZ0KCkhO1xyXG4gICAgICBsZXQgdmVydGV4ID0gdGhpcy52ZXJ0aWNlc1t1XTtcclxuXHJcbiAgICAgIGNhbGxiYWNrKHZlcnRleCk7XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleC5uZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IHYgPSB2ZXJ0ZXgubmVpZ2hib3Vyc1tpXVxyXG4gICAgICAgIGlmICghdmlzaXRlZFt2XSkge1xyXG4gICAgICAgICAgdmlzaXRlZFt2XSA9IHRydWU7XHJcbiAgICAgICAgICBxdWV1ZS5wdXNoKHYpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBkZXB0aCBvZiBhIHN1YnRyZWUgaW4gdGhlIGRpcmVjdGlvbiBvcHBvc2l0ZSB0byB0aGUgdmVydGV4IHNwZWNpZmllZCBhcyB0aGUgcGFyZW50IHZlcnRleC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJ0ZXhJZCBBIHZlcnRleCBpZC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gcGFyZW50VmVydGV4SWQgVGhlIGlkIG9mIGEgbmVpZ2hib3VyaW5nIHZlcnRleC5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgZGVwdGggb2YgdGhlIHN1Yi10cmVlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRUcmVlRGVwdGgodmVydGV4SWQ6IG51bWJlciB8IG51bGwsIHBhcmVudFZlcnRleElkOiBudW1iZXIgfCBudWxsKTogbnVtYmVyIHtcclxuICAgIGlmICh2ZXJ0ZXhJZCA9PT0gbnVsbCB8fCBwYXJlbnRWZXJ0ZXhJZCA9PT0gbnVsbCkge1xyXG4gICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbmVpZ2hib3VycyA9IHRoaXMudmVydGljZXNbdmVydGV4SWRdLmdldFNwYW5uaW5nVHJlZU5laWdoYm91cnMocGFyZW50VmVydGV4SWQpO1xyXG4gICAgbGV0IG1heCA9IDA7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxldCBjaGlsZElkID0gbmVpZ2hib3Vyc1tpXTtcclxuICAgICAgbGV0IGQgPSB0aGlzLmdldFRyZWVEZXB0aChjaGlsZElkLCB2ZXJ0ZXhJZCk7XHJcblxyXG4gICAgICBpZiAoZCA+IG1heCkge1xyXG4gICAgICAgIG1heCA9IGQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbWF4ICsgMTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRyYXZlcnNlIGEgc3ViLXRyZWUgaW4gdGhlIGdyYXBoLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlcnRleElkIEEgdmVydGV4IGlkLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwYXJlbnRWZXJ0ZXhJZCBBIG5laWdoYm91cmluZyB2ZXJ0ZXguXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdpdGggZWFjaCB2aXNpdGVkIGFzIGFuIGFyZ3VtZW50LlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbbWF4RGVwdGg9OTk5OTk5XSBUaGUgbWF4aW11bSBkZXB0aCBvZiB0aGUgcmVjdXJzaW9uLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2lnbm9yZUZpcnN0PWZhbHNlXSBXaGV0aGVyIG9yIG5vdCB0byBpZ25vcmUgdGhlIHN0YXJ0aW5nIHZlcnRleCBzdXBwbGllZCBhcyB2ZXJ0ZXhJZCBpbiB0aGUgY2FsbGJhY2suXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtkZXB0aD0xXSBUaGUgY3VycmVudCBkZXB0aCBpbiB0aGUgdHJlZS5cclxuICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IFt2aXNpdGVkPW51bGxdIEFuIGFycmF5IGhvbGRpbmcgYSBmbGFnIG9uIHdoZXRoZXIgb3Igbm90IGEgbm9kZSBoYXMgYmVlbiB2aXNpdGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0cmF2ZXJzZVRyZWUodmVydGV4SWQ6IG51bWJlciwgcGFyZW50VmVydGV4SWQ6IG51bWJlciB8IG51bGwsIGNhbGxiYWNrOiAodmVydGV4OiBWZXJ0ZXgpID0+IHZvaWQsIG1heERlcHRoOiBudW1iZXIgPSA5OTk5OTksIGlnbm9yZUZpcnN0OiBib29sZWFuID0gZmFsc2UsIGRlcHRoOiBudW1iZXIgPSAxLCB2aXNpdGVkOiBVaW50OEFycmF5IHwgbnVsbCA9IG51bGwpOiB2b2lkIHtcclxuICAgIGlmICh2aXNpdGVkID09PSBudWxsKSB7XHJcbiAgICAgIHZpc2l0ZWQgPSBuZXcgVWludDhBcnJheSh0aGlzLnZlcnRpY2VzLmxlbmd0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRlcHRoID4gbWF4RGVwdGggKyAxIHx8IHZpc2l0ZWRbdmVydGV4SWRdID09PSAxKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2aXNpdGVkW3ZlcnRleElkXSA9IDE7XHJcblxyXG4gICAgbGV0IHZlcnRleCA9IHRoaXMudmVydGljZXNbdmVydGV4SWRdO1xyXG4gICAgbGV0IG5laWdoYm91cnMgPSB2ZXJ0ZXguZ2V0TmVpZ2hib3VycyhwYXJlbnRWZXJ0ZXhJZCk7XHJcblxyXG4gICAgaWYgKCFpZ25vcmVGaXJzdCB8fCBkZXB0aCA+IDEpIHtcclxuICAgICAgY2FsbGJhY2sodmVydGV4KTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdGhpcy50cmF2ZXJzZVRyZWUobmVpZ2hib3Vyc1tpXSwgdmVydGV4SWQsIGNhbGxiYWNrLCBtYXhEZXB0aCwgaWdub3JlRmlyc3QsIGRlcHRoICsgMSwgdmlzaXRlZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQb3NpdGlvbmVzIHRoZSAoc3ViKWdyYXBoIHVzaW5nIEthbWFkYSBhbmQgS2F3YWlzIGFsZ29yaXRobSBmb3IgZHJhd2luZyBnZW5lcmFsIHVuZGlyZWN0ZWQgZ3JhcGhzLiBodHRwczovL3BkZnMuc2VtYW50aWNzY2hvbGFyLm9yZy9iOGQzL2JjYTUwY2NjNTczYzVjYjk5ZjdkMjAxZThhY2NlNjYxOGYwNC5wZGZcclxuICAgKiBUaGVyZSBhcmUgdW5kb2N1bWVudGVkIGxheW91dCBwYXJhbWV0ZXJzLiBUaGV5IGFyZSB1bmRvY3VtZW50ZWQgZm9yIGEgcmVhc29uLCBzbyBiZSB2ZXJ5IGNhcmVmdWwuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcltdfSB2ZXJ0ZXhJZHMgQW4gYXJyYXkgY29udGFpbmluZyB2ZXJ0ZXhJZHMgdG8gYmUgcGxhY2VkIHVzaW5nIHRoZSBmb3JjZSBiYXNlZCBsYXlvdXQuXHJcbiAgICogQHBhcmFtIHtWZWN0b3IyfSBjZW50ZXIgVGhlIGNlbnRlciBvZiB0aGUgbGF5b3V0LlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydFZlcnRleElkIEEgdmVydGV4IGlkLiBTaG91bGQgYmUgdGhlIHN0YXJ0aW5nIHZlcnRleCAtIGUuZy4gdGhlIGZpcnN0IHRvIGJlIHBvc2l0aW9uZWQgYW5kIGNvbm5lY3RlZCB0byBhIHByZXZpb3VzbHkgcGxhY2UgdmVydGV4LlxyXG4gICAqIEBwYXJhbSB7UmluZ30gcmluZyBUaGUgYnJpZGdlZCByaW5nIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGZvcmNlLWJhc2VkIGxheW91dC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gYm9uZExlbmd0aCBUaGUgbGVuZ3RoIG9mIGJvbmRzIGluIHRoZSBsYXlvdXQuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHRocmVzaG9sZCBUaGUgZW5lcmd5IHRocmVzaG9sZCBmb3IgdGhlIG91dGVyIGxvb3AuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGlubmVyVGhyZXNob2xkIFRoZSBlbmVyZ3kgdGhyZXNob2xkIGZvciB0aGUgaW5uZXIgbG9vcC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gbWF4SXRlcmF0aW9uIE1heGltdW0gaXRlcmF0aW9ucyBmb3IgdGhlIG91dGVyIGxvb3AuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG1heElubmVySXRlcmF0aW9uIE1heGltdW0gaXRlcmF0aW9ucyBmb3IgdGhlIGlubmVyIGxvb3AuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG1heEVuZXJneSBNYXhpbXVtIGVuZXJneSB2YWx1ZS5cclxuICAgKi9cclxuICBwdWJsaWMga2tMYXlvdXQodmVydGV4SWRzOiBudW1iZXJbXSwgY2VudGVyOiBWZWN0b3IyLCBzdGFydFZlcnRleElkOiBudW1iZXIsIHJpbmc6IFJpbmcsIGJvbmRMZW5ndGg6IG51bWJlcixcclxuICAgIHRocmVzaG9sZDogbnVtYmVyID0gMC4xLCBpbm5lclRocmVzaG9sZDogbnVtYmVyID0gMC4xLCBtYXhJdGVyYXRpb246IG51bWJlciA9IDIwMDAsXHJcbiAgICBtYXhJbm5lckl0ZXJhdGlvbjogbnVtYmVyID0gNTAsIG1heEVuZXJneTogbnVtYmVyID0gMWU5KTogdm9pZCB7XHJcblxyXG4gICAgbGV0IGVkZ2VTdHJlbmd0aCA9IGJvbmRMZW5ndGg7XHJcblxyXG4gICAgLy8gQWRkIHZlcnRpY2VzIHRoYXQgYXJlIGRpcmVjdGx5IGNvbm5lY3RlZCB0byB0aGUgcmluZ1xyXG4gICAgdmFyIGkgPSB2ZXJ0ZXhJZHMubGVuZ3RoO1xyXG4gICAgd2hpbGUgKGktLSkge1xyXG4gICAgICBsZXQgdmVydGV4ID0gdGhpcy52ZXJ0aWNlc1t2ZXJ0ZXhJZHNbaV1dO1xyXG4gICAgICB2YXIgaiA9IHZlcnRleC5uZWlnaGJvdXJzLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbWF0RGlzdCA9IHRoaXMuZ2V0U3ViZ3JhcGhEaXN0YW5jZU1hdHJpeCh2ZXJ0ZXhJZHMpO1xyXG4gICAgbGV0IGxlbmd0aCA9IHZlcnRleElkcy5sZW5ndGg7XHJcblxyXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgcG9zaXRpb25zLiBQbGFjZSBhbGwgdmVydGljZXMgb24gYSByaW5nIGFyb3VuZCB0aGUgY2VudGVyXHJcbiAgICBsZXQgcmFkaXVzID0gTWF0aEhlbHBlci5wb2x5Q2lyY3VtcmFkaXVzKDUwMCwgbGVuZ3RoKTtcclxuICAgIGxldCBhbmdsZSA9IE1hdGhIZWxwZXIuY2VudHJhbEFuZ2xlKGxlbmd0aCk7XHJcbiAgICBsZXQgYSA9IDAuMDtcclxuICAgIGxldCBhcnJQb3NpdGlvblggPSBuZXcgRmxvYXQzMkFycmF5KGxlbmd0aCk7XHJcbiAgICBsZXQgYXJyUG9zaXRpb25ZID0gbmV3IEZsb2F0MzJBcnJheShsZW5ndGgpO1xyXG4gICAgbGV0IGFyclBvc2l0aW9uZWQgPSBBcnJheShsZW5ndGgpO1xyXG5cclxuICAgIGkgPSBsZW5ndGg7XHJcbiAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgIGxldCB2ZXJ0ZXggPSB0aGlzLnZlcnRpY2VzW3ZlcnRleElkc1tpXV07XHJcbiAgICAgIGlmICghdmVydGV4LnBvc2l0aW9uZWQpIHtcclxuICAgICAgICBhcnJQb3NpdGlvblhbaV0gPSBjZW50ZXIueCArIE1hdGguY29zKGEpICogcmFkaXVzO1xyXG4gICAgICAgIGFyclBvc2l0aW9uWVtpXSA9IGNlbnRlci55ICsgTWF0aC5zaW4oYSkgKiByYWRpdXM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXJyUG9zaXRpb25YW2ldID0gdmVydGV4LnBvc2l0aW9uLng7XHJcbiAgICAgICAgYXJyUG9zaXRpb25ZW2ldID0gdmVydGV4LnBvc2l0aW9uLnk7XHJcbiAgICAgIH1cclxuICAgICAgYXJyUG9zaXRpb25lZFtpXSA9IHZlcnRleC5wb3NpdGlvbmVkO1xyXG4gICAgICBhICs9IGFuZ2xlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWF0ZSB0aGUgbWF0cml4IGNvbnRhaW5pbmcgdGhlIGxlbmd0aHNcclxuICAgIGxldCBtYXRMZW5ndGggPSBBcnJheShsZW5ndGgpO1xyXG4gICAgaSA9IGxlbmd0aDtcclxuICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgbWF0TGVuZ3RoW2ldID0gbmV3IEFycmF5KGxlbmd0aCk7XHJcbiAgICAgIHZhciBqID0gbGVuZ3RoO1xyXG4gICAgICB3aGlsZSAoai0tKSB7XHJcbiAgICAgICAgbWF0TGVuZ3RoW2ldW2pdID0gYm9uZExlbmd0aCAqIG1hdERpc3RbaV1bal07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIG1hdHJpeCBjb250YWluaW5nIHRoZSBzcHJpbmcgc3RyZW5naHRzXHJcbiAgICBsZXQgbWF0U3RyZW5ndGggPSBBcnJheShsZW5ndGgpO1xyXG4gICAgaSA9IGxlbmd0aDtcclxuICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgbWF0U3RyZW5ndGhbaV0gPSBBcnJheShsZW5ndGgpO1xyXG4gICAgICB2YXIgaiA9IGxlbmd0aDtcclxuICAgICAgd2hpbGUgKGotLSkge1xyXG4gICAgICAgIG1hdFN0cmVuZ3RoW2ldW2pdID0gZWRnZVN0cmVuZ3RoICogTWF0aC5wb3cobWF0RGlzdFtpXVtqXSwgLTIuMCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIG1hdHJpeCBjb250YWluaW5nIHRoZSBlbmVyZ2llc1xyXG4gICAgbGV0IG1hdEVuZXJneSA9IEFycmF5KGxlbmd0aCk7XHJcbiAgICBsZXQgYXJyRW5lcmd5U3VtWCA9IG5ldyBGbG9hdDMyQXJyYXkobGVuZ3RoKTtcclxuICAgIGxldCBhcnJFbmVyZ3lTdW1ZID0gbmV3IEZsb2F0MzJBcnJheShsZW5ndGgpO1xyXG4gICAgaSA9IGxlbmd0aDtcclxuICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgbWF0RW5lcmd5W2ldID0gQXJyYXkobGVuZ3RoKTtcclxuICAgIH1cclxuXHJcbiAgICBpID0gbGVuZ3RoO1xyXG4gICAgbGV0IHV4LCB1eSwgZEV4LCBkRXksIHZ4LCB2eSwgZGVub207XHJcblxyXG4gICAgd2hpbGUgKGktLSkge1xyXG4gICAgICB1eCA9IGFyclBvc2l0aW9uWFtpXTtcclxuICAgICAgdXkgPSBhcnJQb3NpdGlvbllbaV07XHJcbiAgICAgIGRFeCA9IDAuMDtcclxuICAgICAgZEV5ID0gMC4wO1xyXG4gICAgICBsZXQgaiA9IGxlbmd0aDtcclxuICAgICAgd2hpbGUgKGotLSkge1xyXG4gICAgICAgIGlmIChpID09PSBqKSB7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdnggPSBhcnJQb3NpdGlvblhbal07XHJcbiAgICAgICAgdnkgPSBhcnJQb3NpdGlvbllbal07XHJcbiAgICAgICAgZGVub20gPSAxLjAgLyBNYXRoLnNxcnQoKHV4IC0gdngpICogKHV4IC0gdngpICsgKHV5IC0gdnkpICogKHV5IC0gdnkpKTtcclxuICAgICAgICBtYXRFbmVyZ3lbaV1bal0gPSBbXHJcbiAgICAgICAgICBtYXRTdHJlbmd0aFtpXVtqXSAqICgodXggLSB2eCkgLSBtYXRMZW5ndGhbaV1bal0gKiAodXggLSB2eCkgKiBkZW5vbSksXHJcbiAgICAgICAgICBtYXRTdHJlbmd0aFtpXVtqXSAqICgodXkgLSB2eSkgLSBtYXRMZW5ndGhbaV1bal0gKiAodXkgLSB2eSkgKiBkZW5vbSlcclxuICAgICAgICBdXHJcbiAgICAgICAgbWF0RW5lcmd5W2pdW2ldID0gbWF0RW5lcmd5W2ldW2pdO1xyXG4gICAgICAgIGRFeCArPSBtYXRFbmVyZ3lbaV1bal1bMF07XHJcbiAgICAgICAgZEV5ICs9IG1hdEVuZXJneVtpXVtqXVsxXTtcclxuICAgICAgfVxyXG4gICAgICBhcnJFbmVyZ3lTdW1YW2ldID0gZEV4O1xyXG4gICAgICBhcnJFbmVyZ3lTdW1ZW2ldID0gZEV5O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFV0aWxpdHkgZnVuY3Rpb25zLCBtYXliZSBpbmxpbmUgdGhlbSBsYXRlclxyXG4gICAgbGV0IGVuZXJneSA9IGZ1bmN0aW9uIChpbmRleDogbnVtYmVyKTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdIHtcclxuICAgICAgcmV0dXJuIFthcnJFbmVyZ3lTdW1YW2luZGV4XSAqIGFyckVuZXJneVN1bVhbaW5kZXhdICsgYXJyRW5lcmd5U3VtWVtpbmRleF0gKiBhcnJFbmVyZ3lTdW1ZW2luZGV4XSwgYXJyRW5lcmd5U3VtWFtpbmRleF0sIGFyckVuZXJneVN1bVlbaW5kZXhdXTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaGlnaGVzdEVuZXJneSA9IGZ1bmN0aW9uICgpOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSB7XHJcbiAgICAgIGxldCBtYXhFbmVyZ3kgPSAwLjA7XHJcbiAgICAgIGxldCBtYXhFbmVyZ3lJZCA9IDA7XHJcbiAgICAgIGxldCBtYXhERVggPSAwLjA7XHJcbiAgICAgIGxldCBtYXhERVkgPSAwLjBcclxuXHJcbiAgICAgIGkgPSBsZW5ndGg7XHJcbiAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICBsZXQgW2RlbHRhLCBkRVgsIGRFWV0gPSBlbmVyZ3koaSk7XHJcblxyXG4gICAgICAgIGlmIChkZWx0YSA+IG1heEVuZXJneSAmJiBhcnJQb3NpdGlvbmVkW2ldID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgbWF4RW5lcmd5ID0gZGVsdGE7XHJcbiAgICAgICAgICBtYXhFbmVyZ3lJZCA9IGk7XHJcbiAgICAgICAgICBtYXhERVggPSBkRVg7XHJcbiAgICAgICAgICBtYXhERVkgPSBkRVk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gW21heEVuZXJneUlkLCBtYXhFbmVyZ3ksIG1heERFWCwgbWF4REVZXTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgdXBkYXRlID0gZnVuY3Rpb24gKGluZGV4OiBudW1iZXIsIGRFWDogbnVtYmVyLCBkRVk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICBsZXQgZHh4ID0gMC4wO1xyXG4gICAgICBsZXQgZHl5ID0gMC4wO1xyXG4gICAgICBsZXQgZHh5ID0gMC4wO1xyXG4gICAgICBsZXQgdXggPSBhcnJQb3NpdGlvblhbaW5kZXhdO1xyXG4gICAgICBsZXQgdXkgPSBhcnJQb3NpdGlvbllbaW5kZXhdO1xyXG4gICAgICBsZXQgYXJyTCA9IG1hdExlbmd0aFtpbmRleF07XHJcbiAgICAgIGxldCBhcnJLID0gbWF0U3RyZW5ndGhbaW5kZXhdO1xyXG5cclxuICAgICAgaSA9IGxlbmd0aDtcclxuICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgIGlmIChpID09PSBpbmRleCkge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdnggPSBhcnJQb3NpdGlvblhbaV07XHJcbiAgICAgICAgbGV0IHZ5ID0gYXJyUG9zaXRpb25ZW2ldO1xyXG4gICAgICAgIGxldCBsID0gYXJyTFtpXTtcclxuICAgICAgICBsZXQgayA9IGFycktbaV07XHJcbiAgICAgICAgbGV0IG0gPSAodXggLSB2eCkgKiAodXggLSB2eCk7XHJcbiAgICAgICAgbGV0IGRlbm9tID0gMS4wIC8gTWF0aC5wb3cobSArICh1eSAtIHZ5KSAqICh1eSAtIHZ5KSwgMS41KTtcclxuXHJcbiAgICAgICAgZHh4ICs9IGsgKiAoMSAtIGwgKiAodXkgLSB2eSkgKiAodXkgLSB2eSkgKiBkZW5vbSk7XHJcbiAgICAgICAgZHl5ICs9IGsgKiAoMSAtIGwgKiBtICogZGVub20pO1xyXG4gICAgICAgIGR4eSArPSBrICogKGwgKiAodXggLSB2eCkgKiAodXkgLSB2eSkgKiBkZW5vbSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFByZXZlbnQgZGl2aXNpb24gYnkgemVyb1xyXG4gICAgICBpZiAoZHh4ID09PSAwKSB7XHJcbiAgICAgICAgZHh4ID0gMC4xO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZHl5ID09PSAwKSB7XHJcbiAgICAgICAgZHl5ID0gMC4xO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZHh5ID09PSAwKSB7XHJcbiAgICAgICAgZHh5ID0gMC4xO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgZHkgPSAoZEVYIC8gZHh4ICsgZEVZIC8gZHh5KTtcclxuICAgICAgZHkgLz0gKGR4eSAvIGR4eCAtIGR5eSAvIGR4eSk7IC8vIGhhZCB0byBzcGxpdCB0aGlzIG9udG8gdHdvIGxpbmVzIGJlY2F1c2UgdGhlIHN5bnRheCBoaWdobGlnaHRlciB3ZW50IGNyYXp5LlxyXG4gICAgICBsZXQgZHggPSAtKGR4eSAqIGR5ICsgZEVYKSAvIGR4eDtcclxuXHJcbiAgICAgIGFyclBvc2l0aW9uWFtpbmRleF0gKz0gZHg7XHJcbiAgICAgIGFyclBvc2l0aW9uWVtpbmRleF0gKz0gZHk7XHJcblxyXG4gICAgICAvLyBVcGRhdGUgdGhlIGVuZXJnaWVzXHJcbiAgICAgIGxldCBhcnJFID0gbWF0RW5lcmd5W2luZGV4XTtcclxuICAgICAgZEVYID0gMC4wO1xyXG4gICAgICBkRVkgPSAwLjA7XHJcblxyXG4gICAgICB1eCA9IGFyclBvc2l0aW9uWFtpbmRleF07XHJcbiAgICAgIHV5ID0gYXJyUG9zaXRpb25ZW2luZGV4XTtcclxuXHJcbiAgICAgIGxldCB2eCwgdnksIHByZXZFeCwgcHJldkV5LCBkZW5vbTtcclxuXHJcbiAgICAgIGkgPSBsZW5ndGg7XHJcbiAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICBpZiAoaW5kZXggPT09IGkpIHtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2eCA9IGFyclBvc2l0aW9uWFtpXTtcclxuICAgICAgICB2eSA9IGFyclBvc2l0aW9uWVtpXTtcclxuICAgICAgICAvLyBTdG9yZSBvbGQgZW5lcmdpZXNcclxuICAgICAgICBwcmV2RXggPSBhcnJFW2ldWzBdO1xyXG4gICAgICAgIHByZXZFeSA9IGFyckVbaV1bMV07XHJcbiAgICAgICAgZGVub20gPSAxLjAgLyBNYXRoLnNxcnQoKHV4IC0gdngpICogKHV4IC0gdngpICsgKHV5IC0gdnkpICogKHV5IC0gdnkpKTtcclxuICAgICAgICBkeCA9IGFycktbaV0gKiAoKHV4IC0gdngpIC0gYXJyTFtpXSAqICh1eCAtIHZ4KSAqIGRlbm9tKTtcclxuICAgICAgICBkeSA9IGFycktbaV0gKiAoKHV5IC0gdnkpIC0gYXJyTFtpXSAqICh1eSAtIHZ5KSAqIGRlbm9tKTtcclxuXHJcbiAgICAgICAgYXJyRVtpXSA9IFtkeCwgZHldO1xyXG4gICAgICAgIGRFWCArPSBkeDtcclxuICAgICAgICBkRVkgKz0gZHk7XHJcbiAgICAgICAgYXJyRW5lcmd5U3VtWFtpXSArPSBkeCAtIHByZXZFeDtcclxuICAgICAgICBhcnJFbmVyZ3lTdW1ZW2ldICs9IGR5IC0gcHJldkV5O1xyXG4gICAgICB9XHJcbiAgICAgIGFyckVuZXJneVN1bVhbaW5kZXhdID0gZEVYO1xyXG4gICAgICBhcnJFbmVyZ3lTdW1ZW2luZGV4XSA9IGRFWTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXR0aW5nIHVwIHZhcmlhYmxlcyBmb3IgdGhlIHdoaWxlIGxvb3BzXHJcbiAgICBsZXQgbWF4RW5lcmd5SWQgPSAwO1xyXG4gICAgbGV0IGRFWCA9IDAuMDtcclxuICAgIGxldCBkRVkgPSAwLjA7XHJcbiAgICBsZXQgZGVsdGEgPSAwLjA7XHJcbiAgICBsZXQgaXRlcmF0aW9uID0gMDtcclxuICAgIGxldCBpbm5lckl0ZXJhdGlvbiA9IDA7XHJcblxyXG4gICAgd2hpbGUgKG1heEVuZXJneSA+IHRocmVzaG9sZCAmJiBtYXhJdGVyYXRpb24gPiBpdGVyYXRpb24pIHtcclxuICAgICAgaXRlcmF0aW9uKys7XHJcbiAgICAgIFttYXhFbmVyZ3lJZCwgbWF4RW5lcmd5LCBkRVgsIGRFWV0gPSBoaWdoZXN0RW5lcmd5KCk7XHJcbiAgICAgIGRlbHRhID0gbWF4RW5lcmd5O1xyXG4gICAgICBpbm5lckl0ZXJhdGlvbiA9IDA7XHJcbiAgICAgIHdoaWxlIChkZWx0YSA+IGlubmVyVGhyZXNob2xkICYmIG1heElubmVySXRlcmF0aW9uID4gaW5uZXJJdGVyYXRpb24pIHtcclxuICAgICAgICBpbm5lckl0ZXJhdGlvbisrO1xyXG4gICAgICAgIHVwZGF0ZShtYXhFbmVyZ3lJZCwgZEVYLCBkRVkpO1xyXG4gICAgICAgIFtkZWx0YSwgZEVYLCBkRVldID0gZW5lcmd5KG1heEVuZXJneUlkKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGkgPSBsZW5ndGg7XHJcbiAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgIGxldCBpbmRleCA9IHZlcnRleElkc1tpXTtcclxuICAgICAgbGV0IHZlcnRleCA9IHRoaXMudmVydGljZXNbaW5kZXhdO1xyXG4gICAgICB2ZXJ0ZXgucG9zaXRpb24ueCA9IGFyclBvc2l0aW9uWFtpXTtcclxuICAgICAgdmVydGV4LnBvc2l0aW9uLnkgPSBhcnJQb3NpdGlvbllbaV07XHJcbiAgICAgIHZlcnRleC5wb3NpdGlvbmVkID0gdHJ1ZTtcclxuICAgICAgdmVydGV4LmZvcmNlUG9zaXRpb25lZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQUklWQVRFIEZVTkNUSU9OIHVzZWQgYnkgZ2V0QnJpZGdlcygpLlxyXG4gICAqL1xyXG4gIHByaXZhdGUgX2JyaWRnZURmcyh1OiBudW1iZXIsIHZpc2l0ZWQ6IGJvb2xlYW5bXSwgZGlzYzogbnVtYmVyW10sIGxvdzogbnVtYmVyW10sIHBhcmVudDogKG51bWJlciB8IG51bGwpW10sIGFkajogQWRqYWNlbmN5TGlzdCwgb3V0QnJpZGdlczogQnJpZGdlW10pOiB2b2lkIHtcclxuICAgIHZpc2l0ZWRbdV0gPSB0cnVlO1xyXG4gICAgZGlzY1t1XSA9IGxvd1t1XSA9ICsrdGhpcy5fdGltZTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFkalt1XS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgdiA9IGFkalt1XVtpXTtcclxuXHJcbiAgICAgIGlmICghdmlzaXRlZFt2XSkge1xyXG4gICAgICAgIHBhcmVudFt2XSA9IHU7XHJcblxyXG4gICAgICAgIHRoaXMuX2JyaWRnZURmcyh2LCB2aXNpdGVkLCBkaXNjLCBsb3csIHBhcmVudCwgYWRqLCBvdXRCcmlkZ2VzKTtcclxuXHJcbiAgICAgICAgbG93W3VdID0gTWF0aC5taW4obG93W3VdLCBsb3dbdl0pO1xyXG5cclxuICAgICAgICAvLyBJZiBsb3cgPiBkaXNjLCB3ZSBoYXZlIGEgYnJpZGdlXHJcbiAgICAgICAgaWYgKGxvd1t2XSA+IGRpc2NbdV0pIHtcclxuICAgICAgICAgIG91dEJyaWRnZXMucHVzaChbdSwgdl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh2ICE9PSBwYXJlbnRbdV0pIHtcclxuICAgICAgICBsb3dbdV0gPSBNYXRoLm1pbihsb3dbdV0sIGRpc2Nbdl0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBjb25uZWN0ZWQgY29tcG9uZW50cyBvZiB0aGUgZ3JhcGguXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0FycmF5W119IGFkamFjZW5jeU1hdHJpeCBBbiBhZGphY2VuY3kgbWF0cml4LlxyXG4gICAqIEByZXR1cm5zIHtTZXRbXX0gQ29ubmVjdGVkIGNvbXBvbmVudHMgYXMgc2V0cy5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldENvbm5lY3RlZENvbXBvbmVudHMoYWRqYWNlbmN5TWF0cml4OiBBZGphY2VuY3lNYXRyaXgpOiBudW1iZXJbXVtdIHtcclxuICAgIGxldCBsZW5ndGggPSBhZGphY2VuY3lNYXRyaXgubGVuZ3RoO1xyXG4gICAgbGV0IHZpc2l0ZWQgPSBuZXcgQXJyYXkobGVuZ3RoKTtcclxuICAgIGxldCBjb21wb25lbnRzID0gbmV3IEFycmF5KCk7XHJcbiAgICBsZXQgY291bnQgPSAwO1xyXG5cclxuICAgIHZpc2l0ZWQuZmlsbChmYWxzZSk7XHJcblxyXG4gICAgZm9yICh2YXIgdSA9IDA7IHUgPCBsZW5ndGg7IHUrKykge1xyXG4gICAgICBpZiAoIXZpc2l0ZWRbdV0pIHtcclxuICAgICAgICBsZXQgY29tcG9uZW50ID0gQXJyYXkoKTtcclxuICAgICAgICB2aXNpdGVkW3VdID0gdHJ1ZTtcclxuICAgICAgICBjb21wb25lbnQucHVzaCh1KTtcclxuICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgIEdyYXBoLl9jY0dldERmcyh1LCB2aXNpdGVkLCBhZGphY2VuY3lNYXRyaXgsIGNvbXBvbmVudCk7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudC5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICBjb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY29tcG9uZW50cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBjb25uZWN0ZWQgY29tcG9uZW50cyBmb3IgdGhlIGdyYXBoLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtBcnJheVtdfSBhZGphY2VuY3lNYXRyaXggQW4gYWRqYWNlbmN5IG1hdHJpeC5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGNvbm5lY3RlZCBjb21wb25lbnRzIG9mIHRoZSBzdXBwbGllZCBncmFwaC5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGdldENvbm5lY3RlZENvbXBvbmVudENvdW50KGFkamFjZW5jeU1hdHJpeDogQWRqYWNlbmN5TWF0cml4KTogbnVtYmVyIHtcclxuICAgIGxldCBsZW5ndGggPSBhZGphY2VuY3lNYXRyaXgubGVuZ3RoO1xyXG4gICAgbGV0IHZpc2l0ZWQgPSBuZXcgQXJyYXkobGVuZ3RoKTtcclxuICAgIGxldCBjb3VudCA9IDA7XHJcblxyXG4gICAgdmlzaXRlZC5maWxsKGZhbHNlKTtcclxuXHJcbiAgICBmb3IgKHZhciB1ID0gMDsgdSA8IGxlbmd0aDsgdSsrKSB7XHJcbiAgICAgIGlmICghdmlzaXRlZFt1XSkge1xyXG4gICAgICAgIHZpc2l0ZWRbdV0gPSB0cnVlO1xyXG4gICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgR3JhcGguX2NjQ291bnREZnModSwgdmlzaXRlZCwgYWRqYWNlbmN5TWF0cml4KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjb3VudDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFBSSVZBVEUgRlVOQ1RJT04gdXNlZCBieSBnZXRDb25uZWN0ZWRDb21wb25lbnRDb3VudCgpLlxyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhdGljIF9jY0NvdW50RGZzKHU6IG51bWJlciwgdmlzaXRlZDogYm9vbGVhbltdLCBhZGphY2VuY3lNYXRyaXg6IEFkamFjZW5jeU1hdHJpeCk6IHZvaWQge1xyXG4gICAgZm9yICh2YXIgdiA9IDA7IHYgPCBhZGphY2VuY3lNYXRyaXhbdV0ubGVuZ3RoOyB2KyspIHtcclxuICAgICAgbGV0IGMgPSBhZGphY2VuY3lNYXRyaXhbdV1bdl07XHJcblxyXG4gICAgICBpZiAoIWMgfHwgdmlzaXRlZFt2XSB8fCB1ID09PSB2KSB7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZpc2l0ZWRbdl0gPSB0cnVlO1xyXG4gICAgICBHcmFwaC5fY2NDb3VudERmcyh2LCB2aXNpdGVkLCBhZGphY2VuY3lNYXRyaXgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUFJJVkFURSBGVU5DVElPTiB1c2VkIGJ5IGdldENvbm5lY3RlZENvbXBvbmVudHMoKS5cclxuICAgKi9cclxuICBwcml2YXRlIHN0YXRpYyBfY2NHZXREZnModTogbnVtYmVyLCB2aXNpdGVkOiBib29sZWFuW10sIGFkamFjZW5jeU1hdHJpeDogQWRqYWNlbmN5TWF0cml4LCBjb21wb25lbnQ6IG51bWJlcltdKTogdm9pZCB7XHJcbiAgICBmb3IgKHZhciB2ID0gMDsgdiA8IGFkamFjZW5jeU1hdHJpeFt1XS5sZW5ndGg7IHYrKykge1xyXG4gICAgICBsZXQgYyA9IGFkamFjZW5jeU1hdHJpeFt1XVt2XTtcclxuXHJcbiAgICAgIGlmICghYyB8fCB2aXNpdGVkW3ZdIHx8IHUgPT09IHYpIHtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmlzaXRlZFt2XSA9IHRydWU7XHJcbiAgICAgIGNvbXBvbmVudC5wdXNoKHYpO1xyXG4gICAgICBHcmFwaC5fY2NHZXREZnModiwgdmlzaXRlZCwgYWRqYWNlbmN5TWF0cml4LCBjb21wb25lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxufSIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi9WZWN0b3IyXCI7XHJcblxyXG4vKipcclxuICogQSBjbGFzcyByZXByZXNlbnRpbmcgYSBsaW5lLlxyXG4gKlxyXG4gKiBAcHJvcGVydHkge1ZlY3RvcjJ9IGZyb20gVGhlIFZlY3RvcjIgZGVmaW5pbmcgdGhlIHN0YXJ0IG9mIHRoZSBsaW5lLlxyXG4gKiBAcHJvcGVydHkge1ZlY3RvcjJ9IHRvIFRoZSBWZWN0b3IyIGRlZmluaW5nIHRoZSBlbmQgb2YgdGhlIGxpbmUuXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBlbGVtZW50RnJvbSBUaGUgZWxlbWVudCBzeW1ib2wgYXNzb2NpYXRlZCB3aXRoIHRoZSBzdGFydCBvZiB0aGUgbGluZS5cclxuICogQHByb3BlcnR5IHtTdHJpbmd9IGVsZW1lbnRUbyBUaGUgZWxlbWVudCBzeW1ib2wgYXNzb2NpYXRlZCB3aXRoIHRoZSBlbmQgb2YgdGhlIGxpbmUuXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gY2hpcmFsRnJvbSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgc291cmNlIGF0b20gaXMgYSBjaGlyYWwgY2VudGVyLlxyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGNoaXJhbFRvIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3IgdG5vIHRoZSB0YXJnZXQgYXRvbSBpcyBhIGNoaXJhbCBjZW50ZXIuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTGluZSB7XHJcbiAgZnJvbTogVmVjdG9yMjtcclxuICB0bzogVmVjdG9yMjtcclxuICBlbGVtZW50RnJvbTogc3RyaW5nIHwgbnVsbDtcclxuICBlbGVtZW50VG86IHN0cmluZyB8IG51bGw7XHJcbiAgY2hpcmFsRnJvbTogYm9vbGVhbjtcclxuICBjaGlyYWxUbzogYm9vbGVhbjtcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgY2xhc3MgTGluZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7VmVjdG9yMn0gW2Zyb209bmV3IFZlY3RvcjIoMCwgMCldIEEgdmVjdG9yIG1hcmtpbmcgdGhlIGJlZ2lubmluZyBvZiB0aGUgbGluZS5cclxuICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IFt0bz1uZXcgVmVjdG9yMigwLCAwKV0gQSB2ZWN0b3IgbWFya2luZyB0aGUgZW5kIG9mIHRoZSBsaW5lLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZWxlbWVudEZyb209bnVsbF0gQSBvbmUtbGV0dGVyIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlbGVtZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgdmVjdG9yIG1hcmtpbmcgdGhlIGJlZ2lubmluZyBvZiB0aGUgbGluZS5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2VsZW1lbnRUbz1udWxsXSBBIG9uZS1sZXR0ZXIgcmVwcmVzZW50YXRpb24gb2YgdGhlIGVsZW1lbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSB2ZWN0b3IgbWFya2luZyB0aGUgZW5kIG9mIHRoZSBsaW5lLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NoaXJhbEZyb209ZmFsc2VdIFdoZXRoZXIgb3Igbm90IHRoZSBmcm9tIGF0b20gaXMgYSBjaGlyYWwgY2VudGVyLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NoaXJhbFRvPWZhbHNlXSBXaGV0aGVyIG9yIG5vdCB0aGUgdG8gYXRvbSBpcyBhIGNoaXJhbCBjZW50ZXIuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBmcm9tOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoMCwgMCksXHJcbiAgICB0bzogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKDAsIDApLFxyXG4gICAgZWxlbWVudEZyb206IHN0cmluZyB8IG51bGwgPSBudWxsLFxyXG4gICAgZWxlbWVudFRvOiBzdHJpbmcgfCBudWxsID0gbnVsbCxcclxuICAgIGNoaXJhbEZyb206IGJvb2xlYW4gPSBmYWxzZSxcclxuICAgIGNoaXJhbFRvOiBib29sZWFuID0gZmFsc2VcclxuICApIHtcclxuICAgIHRoaXMuZnJvbSA9IGZyb207XHJcbiAgICB0aGlzLnRvID0gdG87XHJcbiAgICB0aGlzLmVsZW1lbnRGcm9tID0gZWxlbWVudEZyb207XHJcbiAgICB0aGlzLmVsZW1lbnRUbyA9IGVsZW1lbnRUbztcclxuICAgIHRoaXMuY2hpcmFsRnJvbSA9IGNoaXJhbEZyb207XHJcbiAgICB0aGlzLmNoaXJhbFRvID0gY2hpcmFsVG87XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDbG9uZXMgdGhpcyBsaW5lIGFuZCByZXR1cm5zIHRoZSBjbG9uZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtMaW5lfSBBIGNsb25lIG9mIHRoaXMgbGluZS5cclxuICAgKi9cclxuICBjbG9uZSgpOiBMaW5lIHtcclxuICAgIHJldHVybiBuZXcgTGluZShcclxuICAgICAgdGhpcy5mcm9tLmNsb25lKCksXHJcbiAgICAgIHRoaXMudG8uY2xvbmUoKSxcclxuICAgICAgdGhpcy5lbGVtZW50RnJvbSxcclxuICAgICAgdGhpcy5lbGVtZW50VG9cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBsZW5ndGggb2YgdGhpcyBsaW5lLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIGxlbmd0aCBvZiB0aGlzIGxpbmUuXHJcbiAgICovXHJcbiAgZ2V0TGVuZ3RoKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gTWF0aC5zcXJ0KFxyXG4gICAgICBNYXRoLnBvdyh0aGlzLnRvLnggLSB0aGlzLmZyb20ueCwgMikgK1xyXG4gICAgICAgIE1hdGgucG93KHRoaXMudG8ueSAtIHRoaXMuZnJvbS55LCAyKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIGFuZ2xlIG9mIHRoZSBsaW5lIGluIHJlbGF0aW9uIHRvIHRoZSBjb29yZGluYXRlIHN5c3RlbSAodGhlIHgtYXhpcykuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYW5nbGUgaW4gcmFkaWFucy5cclxuICAgKi9cclxuICBnZXRBbmdsZSgpOiBudW1iZXIge1xyXG4gICAgLy8gR2V0IHRoZSBhbmdsZSBiZXR3ZWVuIHRoZSBsaW5lIGFuZCB0aGUgeC1heGlzXHJcbiAgICBsZXQgZGlmZjogVmVjdG9yMiA9IFZlY3RvcjIuc3VidHJhY3QoXHJcbiAgICAgIHRoaXMuZ2V0UmlnaHRWZWN0b3IoKSxcclxuICAgICAgdGhpcy5nZXRMZWZ0VmVjdG9yKClcclxuICAgICk7XHJcbiAgICByZXR1cm4gZGlmZi5hbmdsZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgcmlnaHQgdmVjdG9yICh0aGUgdmVjdG9yIHdpdGggdGhlIGxhcmdlciB4IHZhbHVlKS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtWZWN0b3IyfSBUaGUgcmlnaHQgdmVjdG9yLlxyXG4gICAqL1xyXG4gIGdldFJpZ2h0VmVjdG9yKCk6IFZlY3RvcjIge1xyXG4gICAgLy8gUmV0dXJuIHRoZSB2ZWN0b3Igd2l0aCB0aGUgbGFyZ2VyIHggdmFsdWUgKHRoZSByaWdodCBvbmUpXHJcbiAgICBpZiAodGhpcy5mcm9tLnggPCB0aGlzLnRvLngpIHtcclxuICAgICAgcmV0dXJuIHRoaXMudG87XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5mcm9tO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgbGVmdCB2ZWN0b3IgKHRoZSB2ZWN0b3Igd2l0aCB0aGUgc21hbGxlciB4IHZhbHVlKS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtWZWN0b3IyfSBUaGUgbGVmdCB2ZWN0b3IuXHJcbiAgICovXHJcbiAgZ2V0TGVmdFZlY3RvcigpOiBWZWN0b3IyIHtcclxuICAgIC8vIFJldHVybiB0aGUgdmVjdG9yIHdpdGggdGhlIHNtYWxsZXIgeCB2YWx1ZSAodGhlIGxlZnQgb25lKVxyXG4gICAgaWYgKHRoaXMuZnJvbS54IDwgdGhpcy50by54KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmZyb207XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy50bztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIGVsZW1lbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSByaWdodCB2ZWN0b3IgKHRoZSB2ZWN0b3Igd2l0aCB0aGUgbGFyZ2VyIHggdmFsdWUpLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gVGhlIGVsZW1lbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSByaWdodCB2ZWN0b3IuXHJcbiAgICovXHJcbiAgZ2V0UmlnaHRFbGVtZW50KCk6IHN0cmluZyB8IG51bGwge1xyXG4gICAgaWYgKHRoaXMuZnJvbS54IDwgdGhpcy50by54KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRUbztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRGcm9tO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgZWxlbWVudCBhc3NvY2lhdGVkIHdpdGggdGhlIGxlZnQgdmVjdG9yICh0aGUgdmVjdG9yIHdpdGggdGhlIHNtYWxsZXIgeCB2YWx1ZSkuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgZWxlbWVudCBhc3NvY2lhdGVkIHdpdGggdGhlIGxlZnQgdmVjdG9yLlxyXG4gICAqL1xyXG4gIGdldExlZnRFbGVtZW50KCk6IHN0cmluZyB8IG51bGwge1xyXG4gICAgaWYgKHRoaXMuZnJvbS54IDwgdGhpcy50by54KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRGcm9tO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudFRvO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgYXRvbSBhc3NvY2lhdGVkIHdpdGggdGhlIHJpZ2h0IHZlY3RvciAodGhlIHZlY3RvciB3aXRoIHRoZSBsYXJnZXIgeCB2YWx1ZSkgaXMgYSBjaGlyYWwgY2VudGVyLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBhdG9tIGFzc29jaWF0ZWQgd2l0aCB0aGUgcmlnaHQgdmVjdG9yIGlzIGEgY2hpcmFsIGNlbnRlci5cclxuICAgKi9cclxuICBnZXRSaWdodENoaXJhbCgpOiBib29sZWFuIHtcclxuICAgIGlmICh0aGlzLmZyb20ueCA8IHRoaXMudG8ueCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5jaGlyYWxUbztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmNoaXJhbEZyb207XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBhdG9tIGFzc29jaWF0ZWQgd2l0aCB0aGUgbGVmdCB2ZWN0b3IgKHRoZSB2ZWN0b3Igd2l0aCB0aGUgc21hbGxlciB4IHZhbHVlKSBpcyBhIGNoaXJhbCBjZW50ZXIuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGF0b20gIGFzc29jaWF0ZWQgd2l0aCB0aGUgbGVmdCB2ZWN0b3IgaXMgYSBjaGlyYWwgY2VudGVyLlxyXG4gICAqL1xyXG4gIGdldExlZnRDaGlyYWwoKTogYm9vbGVhbiB7XHJcbiAgICBpZiAodGhpcy5mcm9tLnggPCB0aGlzLnRvLngpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuY2hpcmFsRnJvbTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmNoaXJhbFRvO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSB2YWx1ZSBvZiB0aGUgcmlnaHQgdmVjdG9yLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHggdmFsdWUuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgdmFsdWUuXHJcbiAgICogQHJldHVybnMge0xpbmV9IFRoaXMgbGluZS5cclxuICAgKi9cclxuICBzZXRSaWdodFZlY3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcik6IExpbmUge1xyXG4gICAgaWYgKHRoaXMuZnJvbS54IDwgdGhpcy50by54KSB7XHJcbiAgICAgIHRoaXMudG8ueCA9IHg7XHJcbiAgICAgIHRoaXMudG8ueSA9IHk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmZyb20ueCA9IHg7XHJcbiAgICAgIHRoaXMuZnJvbS55ID0geTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCB0aGUgdmFsdWUgb2YgdGhlIGxlZnQgdmVjdG9yLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHggdmFsdWUuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgdmFsdWUuXHJcbiAgICogQHJldHVybnMge0xpbmV9IFRoaXMgbGluZS5cclxuICAgKi9cclxuICBzZXRMZWZ0VmVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKTogTGluZSB7XHJcbiAgICBpZiAodGhpcy5mcm9tLnggPCB0aGlzLnRvLngpIHtcclxuICAgICAgdGhpcy5mcm9tLnggPSB4O1xyXG4gICAgICB0aGlzLmZyb20ueSA9IHk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnRvLnggPSB4O1xyXG4gICAgICB0aGlzLnRvLnkgPSB5O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUm90YXRlcyB0aGlzIGxpbmUgdG8gYmUgYWxpZ25lZCB3aXRoIHRoZSB4LWF4aXMuIFRoZSBjZW50ZXIgb2Ygcm90YXRpb24gaXMgdGhlIGxlZnQgdmVjdG9yLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge0xpbmV9IFRoaXMgbGluZS5cclxuICAgKi9cclxuICByb3RhdGVUb1hBeGlzKCk6IExpbmUge1xyXG4gICAgbGV0IGxlZnQ6IFZlY3RvcjIgPSB0aGlzLmdldExlZnRWZWN0b3IoKTtcclxuICAgIHRoaXMuc2V0UmlnaHRWZWN0b3IobGVmdC54ICsgdGhpcy5nZXRMZW5ndGgoKSwgbGVmdC55KTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUm90YXRlIHRoZSBsaW5lIGJ5IGEgZ2l2ZW4gdmFsdWUgKGluIHJhZGlhbnMpLiBUaGUgY2VudGVyIG9mIHJvdGF0aW9uIGlzIHRoZSBsZWZ0IHZlY3Rvci5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aGV0YSBUaGUgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHJvdGF0ZSB0aGUgbGluZS5cclxuICAgKiBAcmV0dXJucyB7TGluZX0gVGhpcyBsaW5lLlxyXG4gICAqL1xyXG4gIHJvdGF0ZSh0aGV0YTogbnVtYmVyKTogTGluZSB7XHJcbiAgICBsZXQgbDogVmVjdG9yMiA9IHRoaXMuZ2V0TGVmdFZlY3RvcigpO1xyXG4gICAgbGV0IHI6IFZlY3RvcjIgPSB0aGlzLmdldFJpZ2h0VmVjdG9yKCk7XHJcbiAgICBsZXQgc2luVGhldGE6IG51bWJlciA9IE1hdGguc2luKHRoZXRhKTtcclxuICAgIGxldCBjb3NUaGV0YTogbnVtYmVyID0gTWF0aC5jb3ModGhldGEpO1xyXG5cclxuICAgIGxldCB4OiBudW1iZXIgPSBjb3NUaGV0YSAqIChyLnggLSBsLngpIC0gc2luVGhldGEgKiAoci55IC0gbC55KSArIGwueDtcclxuICAgIGxldCB5OiBudW1iZXIgPSBzaW5UaGV0YSAqIChyLnggLSBsLngpIC0gY29zVGhldGEgKiAoci55IC0gbC55KSArIGwueTtcclxuXHJcbiAgICB0aGlzLnNldFJpZ2h0VmVjdG9yKHgsIHkpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2hvcnRlbnMgdGhpcyBsaW5lIGZyb20gdGhlIFwiZnJvbVwiIGRpcmVjdGlvbiBieSBhIGdpdmVuIHZhbHVlIChpbiBwaXhlbHMpLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJ5IFRoZSBsZW5ndGggaW4gcGl4ZWxzIHRvIHNob3J0ZW4gdGhlIHZlY3RvciBieS5cclxuICAgKiBAcmV0dXJucyB7TGluZX0gVGhpcyBsaW5lLlxyXG4gICAqL1xyXG4gIHNob3J0ZW5Gcm9tKGJ5OiBudW1iZXIpOiBMaW5lIHtcclxuICAgIGxldCBmOiBWZWN0b3IyID0gVmVjdG9yMi5zdWJ0cmFjdCh0aGlzLnRvLCB0aGlzLmZyb20pO1xyXG5cclxuICAgIGYubm9ybWFsaXplKCk7XHJcbiAgICBmLm11bHRpcGx5U2NhbGFyKGJ5KTtcclxuXHJcbiAgICB0aGlzLmZyb20uYWRkKGYpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2hvcnRlbnMgdGhpcyBsaW5lIGZyb20gdGhlIFwidG9cIiBkaXJlY3Rpb24gYnkgYSBnaXZlbiB2YWx1ZSAoaW4gcGl4ZWxzKS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBieSBUaGUgbGVuZ3RoIGluIHBpeGVscyB0byBzaG9ydGVuIHRoZSB2ZWN0b3IgYnkuXHJcbiAgICogQHJldHVybnMge0xpbmV9IFRoaXMgbGluZS5cclxuICAgKi9cclxuICBzaG9ydGVuVG8oYnk6IG51bWJlcik6IExpbmUge1xyXG4gICAgbGV0IGY6IFZlY3RvcjIgPSBWZWN0b3IyLnN1YnRyYWN0KHRoaXMuZnJvbSwgdGhpcy50byk7XHJcblxyXG4gICAgZi5ub3JtYWxpemUoKTtcclxuICAgIGYubXVsdGlwbHlTY2FsYXIoYnkpO1xyXG5cclxuICAgIHRoaXMudG8uYWRkKGYpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2hvcnRlbiB0aGUgcmlnaHQgc2lkZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBieSBUaGUgbGVuZ3RoIGluIHBpeGVscyB0byBzaG9ydGVuIHRoZSB2ZWN0b3IgYnkuXHJcbiAgICogQHJldHVybnMge0xpbmV9IFJldHVybnMgaXRzZWxmLlxyXG4gICAqL1xyXG4gIHNob3J0ZW5SaWdodChieTogbnVtYmVyKTogTGluZSB7XHJcbiAgICBpZiAodGhpcy5mcm9tLnggPCB0aGlzLnRvLngpIHtcclxuICAgICAgdGhpcy5zaG9ydGVuVG8oYnkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zaG9ydGVuRnJvbShieSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTaG9ydGVuIHRoZSBsZWZ0IHNpZGUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0gYnkgVGhlIGxlbmd0aCBpbiBwaXhlbHMgdG8gc2hvcnRlbiB0aGUgdmVjdG9yIGJ5LlxyXG4gICAqIEByZXR1cm5zIHtMaW5lfSBSZXR1cm5zIGl0c2VsZi5cclxuICAgKi9cclxuICBzaG9ydGVuTGVmdChieTogbnVtYmVyKTogTGluZSB7XHJcbiAgICBpZiAodGhpcy5mcm9tLnggPCB0aGlzLnRvLngpIHtcclxuICAgICAgdGhpcy5zaG9ydGVuRnJvbShieSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNob3J0ZW5UbyhieSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTaG9ydGVucyB0aGlzIGxpbmUgZnJvbSBib3RoIGRpcmVjdGlvbnMgYnkgYSBnaXZlbiB2YWx1ZSAoaW4gcGl4ZWxzKS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBieSBUaGUgbGVuZ3RoIGluIHBpeGVscyB0byBzaG9ydGVuIHRoZSB2ZWN0b3IgYnkuXHJcbiAgICogQHJldHVybnMge0xpbmV9IFRoaXMgbGluZS5cclxuICAgKi9cclxuICBzaG9ydGVuKGJ5OiBudW1iZXIpOiBMaW5lIHtcclxuICAgIGxldCBmOiBWZWN0b3IyID0gVmVjdG9yMi5zdWJ0cmFjdCh0aGlzLmZyb20sIHRoaXMudG8pO1xyXG5cclxuICAgIGYubm9ybWFsaXplKCk7XHJcbiAgICBmLm11bHRpcGx5U2NhbGFyKGJ5IC8gMi4wKTtcclxuXHJcbiAgICB0aGlzLnRvLmFkZChmKTtcclxuICAgIHRoaXMuZnJvbS5zdWJ0cmFjdChmKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIEEgc3RhdGljIGNsYXNzIGNvbnRhaW5pbmcgaGVscGVyIGZ1bmN0aW9ucyBmb3IgbWF0aC1yZWxhdGVkIHRhc2tzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1hdGhIZWxwZXIge1xyXG4gIC8qKiBUaGUgZmFjdG9yIHRvIGNvbnZlcnQgZGVncmVlcyB0byByYWRpYW5zLiAqL1xyXG4gIHByaXZhdGUgc3RhdGljIGdldCByYWRGYWN0b3IoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLlBJIC8gMTgwLjA7XHJcbiAgfVxyXG5cclxuICAvKiogVGhlIGZhY3RvciB0byBjb252ZXJ0IHJhZGlhbnMgdG8gZGVncmVlcy4gKi9cclxuICBwcml2YXRlIHN0YXRpYyBnZXQgZGVnRmFjdG9yKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gMTgwLjAgLyBNYXRoLlBJO1xyXG4gIH1cclxuXHJcbiAgLyoqIFR3byB0aW1lcyBQSS4gKi9cclxuICBwdWJsaWMgc3RhdGljIGdldCB0d29QSSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIDIuMCAqIE1hdGguUEk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSb3VuZHMgYSB2YWx1ZSB0byBhIGdpdmVuIG51bWJlciBvZiBkZWNpbWFscy5cclxuICAgKlxyXG4gICAqIEBzdGF0aWNcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgQSBudW1iZXIuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlY2ltYWxzIFRoZSBudW1iZXIgb2YgZGVjaW1hbHMuXHJcbiAgICogQHJldHVybnMge251bWJlcn0gQSBudW1iZXIgcm91bmRlZCB0byBhIGdpdmVuIG51bWJlciBvZiBkZWNpbWFscy5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHJvdW5kKHZhbHVlOiBudW1iZXIsIGRlY2ltYWxzPzogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGRlY2ltYWxzID0gZGVjaW1hbHMgPz8gMTtcclxuICAgIHJldHVybiBOdW1iZXIoTWF0aC5yb3VuZChOdW1iZXIodmFsdWUgKyBcImVcIiArIGRlY2ltYWxzKSkgKyBcImUtXCIgKyBkZWNpbWFscyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBtZWFucyBvZiB0aGUgYW5nbGVzIGNvbnRhaW5lZCBpbiBhbiBhcnJheS4gSW4gcmFkaWFucy5cclxuICAgKlxyXG4gICAqIEBzdGF0aWNcclxuICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnIgQW4gYXJyYXkgY29udGFpbmluZyBhbmdsZXMgKGluIHJhZGlhbnMpLlxyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBtZWFuIGFuZ2xlIGluIHJhZGlhbnMuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBtZWFuQW5nbGUoYXJyOiBudW1iZXJbXSk6IG51bWJlciB7XHJcbiAgICBsZXQgc2luOiBudW1iZXIgPSAwLjA7XHJcbiAgICBsZXQgY29zOiBudW1iZXIgPSAwLjA7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgc2luICs9IE1hdGguc2luKGFycltpXSk7XHJcbiAgICAgIGNvcyArPSBNYXRoLmNvcyhhcnJbaV0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBNYXRoLmF0YW4yKHNpbiAvIGFyci5sZW5ndGgsIGNvcyAvIGFyci5sZW5ndGgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgaW5uZXIgYW5nbGUgb2YgYSBuLXNpZGVkIHJlZ3VsYXIgcG9seWdvbi5cclxuICAgKlxyXG4gICAqIEBzdGF0aWNcclxuICAgKiBAcGFyYW0ge251bWJlcn0gbiBOdW1iZXIgb2Ygc2lkZXMgb2YgYSByZWd1bGFyIHBvbHlnb24uXHJcbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIGlubmVyIGFuZ2xlIG9mIGEgZ2l2ZW4gcmVndWxhciBwb2x5Z29uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgaW5uZXJBbmdsZShuOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIE1hdGhIZWxwZXIudG9SYWQoKChuIC0gMikgKiAxODApIC8gbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBjaXJjdW1yYWRpdXMgb2YgYSBuLXNpZGVkIHJlZ3VsYXIgcG9seWdvbiB3aXRoIGEgZ2l2ZW4gc2lkZS1sZW5ndGguXHJcbiAgICpcclxuICAgKiBAc3RhdGljXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHMgVGhlIHNpZGUgbGVuZ3RoIG9mIHRoZSByZWd1bGFyIHBvbHlnb24uXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBzaWRlcy5cclxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgY2lyY3VtcmFkaXVzIG9mIHRoZSByZWd1bGFyIHBvbHlnb24uXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBwb2x5Q2lyY3VtcmFkaXVzKHM6IG51bWJlciwgbjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBzIC8gKDIgKiBNYXRoLnNpbihNYXRoLlBJIC8gbikpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgYXBvdGhlbSBvZiBhIHJlZ3VsYXIgbi1zaWRlZCBwb2x5Z29uIGJhc2VkIG9uIGl0cyByYWRpdXMuXHJcbiAgICpcclxuICAgKiBAc3RhdGljXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHIgVGhlIHJhZGl1cy5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVkZ2VzIG9mIHRoZSByZWd1bGFyIHBvbHlnb24uXHJcbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIGFwb3RoZW0gb2YgYSBuLXNpZGVkIHBvbHlnb24gYmFzZWQgb24gaXRzIHJhZGl1cy5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGFwb3RoZW0ocjogbnVtYmVyLCBuOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBhcG90aGVtIGZyb20gdGhlIHNpZGUgbGVuZ3RoIG9mIGEgcmVndWxhciBwb2x5Z29uLlxyXG4gICAqXHJcbiAgICogQHN0YXRpY1xyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzIFRoZSBzaWRlIGxlbmd0aC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHNpZGVzLlxyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBhcG90aGVtIGNhbGN1bGF0ZWQgZnJvbSB0aGUgc2lkZSBsZW5ndGguXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBhcG90aGVtRnJvbVNpZGVMZW5ndGgoczogbnVtYmVyLCBuOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgY29uc3QgcjogbnVtYmVyID0gTWF0aEhlbHBlci5wb2x5Q2lyY3VtcmFkaXVzKHMsIG4pO1xyXG4gICAgcmV0dXJuIE1hdGhIZWxwZXIuYXBvdGhlbShyLCBuKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBjZW50cmFsIGFuZ2xlIG9mIGEgbi1zaWRlZCByZWd1bGFyIHBvbHlnb24uIEluIHJhZGlhbnMuXHJcbiAgICpcclxuICAgKiBAc3RhdGljXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBzaWRlcyBvZiB0aGUgcmVndWxhciBwb2x5Z29uLlxyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBjZW50cmFsIGFuZ2xlIG9mIHRoZSBuLXNpZGVkIHBvbHlnb24gaW4gcmFkaWFucy5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGNlbnRyYWxBbmdsZShuOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIE1hdGhIZWxwZXIudG9SYWQoMzYwIC8gbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb252ZXJ0cyByYWRpYW5zIHRvIGRlZ3JlZXMuXHJcbiAgICpcclxuICAgKiBAc3RhdGljXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJhZCBBbiBhbmdsZSBpbiByYWRpYW5zLlxyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBhbmdsZSBpbiBkZWdyZWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgdG9EZWcocmFkOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHJhZCAqIE1hdGhIZWxwZXIuZGVnRmFjdG9yO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29udmVydHMgZGVncmVlcyB0byByYWRpYW5zLlxyXG4gICAqXHJcbiAgICogQHN0YXRpY1xyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWcgQW4gYW5nbGUgaW4gZGVncmVlcy5cclxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgYW5nbGUgaW4gcmFkaWFucy5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHRvUmFkKGRlZzogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBkZWcgKiBNYXRoSGVscGVyLnJhZEZhY3RvcjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIHBhcml0eSBvZiB0aGUgcGVybXV0YXRpb24gKDEgb3IgLTEpXHJcbiAgICogQHBhcmFtIHsoQXJyYXk8bnVtYmVyPnxVaW50OEFycmF5KX0gYXJyIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIHBlcm11dGF0aW9uLlxyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBwYXJpdHkgb2YgdGhlIHBlcm11dGF0aW9uICgxIG9yIC0xKSwgd2hlcmUgMSBtZWFucyBldmVuIGFuZCAtMSBtZWFucyBvZGQuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBwYXJpdHlPZlBlcm11dGF0aW9uKGFycjogQXJyYXk8bnVtYmVyPiB8IFVpbnQ4QXJyYXkpOiBudW1iZXIge1xyXG4gICAgY29uc3QgdmlzaXRlZCA9IG5ldyBVaW50OEFycmF5KGFyci5sZW5ndGgpO1xyXG4gICAgbGV0IGV2ZW5MZW5ndGhDeWNsZUNvdW50ID0gMDtcclxuXHJcbiAgICBjb25zdCB0cmF2ZXJzZUN5Y2xlID0gZnVuY3Rpb24gKFxyXG4gICAgICBpOiBudW1iZXIsXHJcbiAgICAgIGN5Y2xlTGVuZ3RoOiBudW1iZXIgPSAwXHJcbiAgICApOiBudW1iZXIge1xyXG4gICAgICBpZiAodmlzaXRlZFtpXSA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiBjeWNsZUxlbmd0aDtcclxuICAgICAgfVxyXG5cclxuICAgICAgY3ljbGVMZW5ndGgrKztcclxuICAgICAgdmlzaXRlZFtpXSA9IDE7XHJcbiAgICAgIHJldHVybiB0cmF2ZXJzZUN5Y2xlKGFycltpXSwgY3ljbGVMZW5ndGgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAodmlzaXRlZFtpXSA9PT0gMSkge1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBjeWNsZUxlbmd0aCA9IHRyYXZlcnNlQ3ljbGUoaSk7XHJcbiAgICAgIGV2ZW5MZW5ndGhDeWNsZUNvdW50ICs9IDEgLSAoY3ljbGVMZW5ndGggJSAyKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZXZlbkxlbmd0aEN5Y2xlQ291bnQgJSAyID8gLTEgOiAxO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgT3B0aW9ucyB7XHJcbiAgLyoqXHJcbiAgICogQSBoZWxwZXIgbWV0aG9kIHRvIGV4dGVuZCB0aGUgZGVmYXVsdCBvcHRpb25zIHdpdGggdXNlciBzdXBwbGllZCBvbmVzLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBleHRlbmQoLi4uYXJnczogYW55W10pOiBhbnkge1xyXG4gICAgbGV0IGV4dGVuZGVkID0ge30gYXMgUmVjb3JkPHN0cmluZywgYW55PjtcclxuICAgIGxldCBkZWVwID0gZmFsc2U7XHJcbiAgICBsZXQgaSA9IDA7XHJcbiAgICBsZXQgbGVuZ3RoID0gYXJncy5sZW5ndGg7XHJcblxyXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmdzWzBdKSA9PT0gXCJbb2JqZWN0IEJvb2xlYW5dXCIpIHtcclxuICAgICAgZGVlcCA9IGFyZ3NbMF07XHJcbiAgICAgIGkrKztcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbWVyZ2UgPSBmdW5jdGlvbiAob2JqOiBhbnkpIHtcclxuICAgICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcclxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIHtcclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgZGVlcCAmJlxyXG4gICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqW3Byb3BdKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZGVkW3Byb3BdID0gT3B0aW9ucy5leHRlbmQodHJ1ZSwgZXh0ZW5kZWRbcHJvcF0sIG9ialtwcm9wXSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBleHRlbmRlZFtwcm9wXSA9IG9ialtwcm9wXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgb2JqID0gYXJnc1tpXTtcclxuICAgICAgbWVyZ2Uob2JqKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZXh0ZW5kZWQ7XHJcbiAgfVxyXG59IiwiLyoqXHJcbiAqIFR5cGVTY3JpcHQgd3JhcHBlciBmb3IgdGhlIFBFRy5qcyBnZW5lcmF0ZWQgcGFyc2VyLlxyXG4gKlxyXG4gKiBUaGUgYWN0dWFsIHBhcnNlciBpbXBsZW1lbnRhdGlvbiBpcyBpbiBQYXJzZXIuanMgKGF1dG8tZ2VuZXJhdGVkKS5cclxuICogVGhpcyBmaWxlIHByb3ZpZGVzIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucy5cclxuICovXHJcblxyXG5pbXBvcnQgdHlwZSB7IFBhcnNlVHJlZU5vZGUgfSBmcm9tICcuL3R5cGVzJztcclxuXHJcbi8vIERlY2xhcmUgcmVxdWlyZSBmb3IgaW1wb3J0aW5nIENvbW1vbkpTIG1vZHVsZVxyXG5kZWNsYXJlIGZ1bmN0aW9uIHJlcXVpcmUobW9kdWxlTmFtZTogc3RyaW5nKTogYW55O1xyXG5cclxuLy8gSW1wb3J0IHRoZSBnZW5lcmF0ZWQgcGFyc2VyXHJcbmNvbnN0IFBhcnNlck1vZHVsZSA9IHJlcXVpcmUoJy4vUGFyc2VyLmpzJyk7XHJcblxyXG4vKipcclxuICogQ3VzdG9tIHN5bnRheCBlcnJvciBjbGFzcyBmb3IgU01JTEVTIHBhcnNpbmcgZXJyb3JzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFN5bnRheEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gIGV4cGVjdGVkOiBhbnk7XHJcbiAgZm91bmQ6IGFueTtcclxuICBsb2NhdGlvbjogYW55O1xyXG5cclxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIGV4cGVjdGVkOiBhbnksIGZvdW5kOiBhbnksIGxvY2F0aW9uOiBhbnkpIHtcclxuICAgIHN1cGVyKG1lc3NhZ2UpO1xyXG4gICAgdGhpcy5uYW1lID0gJ1N5bnRheEVycm9yJztcclxuICAgIHRoaXMuZXhwZWN0ZWQgPSBleHBlY3RlZDtcclxuICAgIHRoaXMuZm91bmQgPSBmb3VuZDtcclxuICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQYXJzZXMgYSBTTUlMRVMgc3RyaW5nIGludG8gYSBwYXJzZSB0cmVlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaW5wdXQgVGhlIFNNSUxFUyBzdHJpbmcgdG8gcGFyc2UuXHJcbiAqIEByZXR1cm5zIHtQYXJzZVRyZWVOb2RlfSBUaGUgcGFyc2VkIHRyZWUgc3RydWN0dXJlLlxyXG4gKiBAdGhyb3dzIHtTeW50YXhFcnJvcn0gSWYgdGhlIFNNSUxFUyBzdHJpbmcgaXMgaW52YWxpZC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgdHlwZXNjcmlwdFxyXG4gKiBpbXBvcnQgeyBwYXJzZSB9IGZyb20gJy4vUGFyc2VyJztcclxuICpcclxuICogY29uc3QgdHJlZSA9IHBhcnNlKCdjMWNjY2NjMScpOyAvLyBiZW56ZW5lXHJcbiAqIGNvbnNvbGUubG9nKHRyZWUuYXRvbSk7IC8vICdjJ1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShpbnB1dDogc3RyaW5nKTogUGFyc2VUcmVlTm9kZSB7XHJcbiAgcmV0dXJuIFBhcnNlck1vZHVsZS5wYXJzZShpbnB1dCk7XHJcbn1cclxuXHJcbi8vIFJlLWV4cG9ydCB0aGUgU3ludGF4RXJyb3IgZnJvbSB0aGUgbW9kdWxlXHJcbmV4cG9ydCBjb25zdCBQYXJzZVN5bnRheEVycm9yID0gUGFyc2VyTW9kdWxlLlN5bnRheEVycm9yO1xyXG4iLCIvLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9jb2RlcGVuLmlvL3Noc2hhdy9wZW4vWGJ4dk5qIGJ5XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEltYWdlKGltZzoge1xyXG4gIGRhdGE6IFVpbnQ4Q2xhbXBlZEFycmF5O1xyXG4gIHdpZHRoOiBudW1iZXI7XHJcbiAgaGVpZ2h0OiBudW1iZXI7XHJcbn0pOiBTVkdFbGVtZW50IHwgbnVsbCB7XHJcbiAgLyoqXHJcbiAgICogSXRlcmF0ZXMgb3ZlciBhbiBhcnJheSBvciBvYmplY3QgYW5kIGFwcGxpZXMgYSBmdW5jdGlvbiB0byBlYWNoIGl0ZW0uXHJcbiAgICogU3RvcHMgaXRlcmF0aW9uIGlmIHRoZSBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gb2JqIC0gVGhlIGFycmF5IG9yIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAgICogQHBhcmFtIGZuIC0gVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IHRvIGVhY2ggaXRlbS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBlYWNoKFxyXG4gICAgb2JqOiBhbnlbXSB8IHsgW2tleTogc3RyaW5nXTogYW55IH0sXHJcbiAgICBmbjogKGtleTogc3RyaW5nIHwgbnVtYmVyLCB2YWx1ZTogYW55KSA9PiBib29sZWFuIHwgdm9pZFxyXG4gICk6IHZvaWQge1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChmbi5jYWxsKG9ialtpXSwgaSwgb2JqW2ldKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgaWYgKGZuLmNhbGwob2JqW2tleV0sIGtleSwgb2JqW2tleV0pID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb252ZXJ0cyBhIGNvbG9yIGNvbXBvbmVudCB0byBhIHR3by1jaGFyYWN0ZXIgaGV4YWRlY2ltYWwgc3RyaW5nLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGMgLSBUaGUgY29sb3IgY29tcG9uZW50IHZhbHVlLlxyXG4gICAqIEByZXR1cm5zIEEgdHdvLWNoYXJhY3RlciBoZXhhZGVjaW1hbCBzdHJpbmcuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gY29tcG9uZW50VG9IZXgoYzogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGhleCA9IHBhcnNlSW50KGMpLnRvU3RyaW5nKDE2KTtcclxuICAgIHJldHVybiBoZXgubGVuZ3RoID09PSAxID8gXCIwXCIgKyBoZXggOiBoZXg7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb252ZXJ0cyBSR0JBIGNvbXBvbmVudHMgdG8gYSBjb2xvciBzdHJpbmcuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gciAtIFJlZCBjb21wb25lbnQuXHJcbiAgICogQHBhcmFtIGcgLSBHcmVlbiBjb21wb25lbnQuXHJcbiAgICogQHBhcmFtIGIgLSBCbHVlIGNvbXBvbmVudC5cclxuICAgKiBAcGFyYW0gYSAtIEFscGhhIGNvbXBvbmVudC5cclxuICAgKiBAcmV0dXJucyBBIGNvbG9yIHN0cmluZyBpbiBoZXggb3IgcmdiYSBmb3JtYXQsIG9yIGBmYWxzZWAgaWYgdHJhbnNwYXJlbnQuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZ2V0Q29sb3IoXHJcbiAgICByOiBzdHJpbmcsXHJcbiAgICBnOiBzdHJpbmcsXHJcbiAgICBiOiBzdHJpbmcsXHJcbiAgICBhOiBzdHJpbmdcclxuICApOiBzdHJpbmcgfCBmYWxzZSB7XHJcbiAgICBjb25zdCBhbHBoYSA9IHBhcnNlSW50KGEpO1xyXG4gICAgaWYgKGFscGhhID09PSB1bmRlZmluZWQgfHwgYWxwaGEgPT09IDI1NSkge1xyXG4gICAgICByZXR1cm4gXCIjXCIgKyBjb21wb25lbnRUb0hleChyKSArIGNvbXBvbmVudFRvSGV4KGcpICsgY29tcG9uZW50VG9IZXgoYik7XHJcbiAgICB9XHJcbiAgICBpZiAoYWxwaGEgPT09IDApIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGByZ2JhKCR7cn0sJHtnfSwke2J9LCR7YWxwaGEgLyAyNTV9KWA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZXMgYW4gU1ZHIHBhdGggZGF0YSBzdHJpbmcgZm9yIGEgaG9yaXpvbnRhbCBsaW5lLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHggLSBUaGUgc3RhcnRpbmcgeC1jb29yZGluYXRlLlxyXG4gICAqIEBwYXJhbSB5IC0gVGhlIHktY29vcmRpbmF0ZS5cclxuICAgKiBAcGFyYW0gdyAtIFRoZSB3aWR0aCBvZiB0aGUgbGluZS5cclxuICAgKiBAcmV0dXJucyBBbiBTVkcgcGF0aCBkYXRhIHN0cmluZy5cclxuICAgKi9cclxuICBmdW5jdGlvbiBtYWtlUGF0aERhdGEoeDogbnVtYmVyLCB5OiBudW1iZXIsIHc6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYE0ke3h9ICR7eX1oJHt3fWA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZXMgYW4gU1ZHIHBhdGggZWxlbWVudCBzdHJpbmcgZm9yIGEgZ2l2ZW4gY29sb3IgYW5kIHBhdGggZGF0YS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBjb2xvciAtIFRoZSBzdHJva2UgY29sb3Igb2YgdGhlIHBhdGguXHJcbiAgICogQHBhcmFtIGRhdGEgLSBUaGUgcGF0aCBkYXRhLlxyXG4gICAqIEByZXR1cm5zIEFuIFNWRyBwYXRoIGVsZW1lbnQgc3RyaW5nLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIG1ha2VQYXRoKGNvbG9yOiBzdHJpbmcsIGRhdGE6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYDxwYXRoIHN0cm9rZT1cIiR7Y29sb3J9XCIgZD1cIiR7ZGF0YX1cIiAvPlxcbmA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb252ZXJ0cyBhIG1hcCBvZiBjb2xvcnMgYW5kIHBpeGVsIHBvc2l0aW9ucyB0byBTVkcgcGF0aCBlbGVtZW50cy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBjb2xvcnMgLSBBIG1hcCBvZiBjb2xvciBzdHJpbmdzIHRvIGFycmF5cyBvZiBwaXhlbCBwb3NpdGlvbnMuXHJcbiAgICogQHJldHVybnMgQSBzdHJpbmcgY29udGFpbmluZyBTVkcgcGF0aCBlbGVtZW50cy5cclxuICAgKi9cclxuICBmdW5jdGlvbiBjb2xvcnNUb1BhdGhzKGNvbG9yczoge1xyXG4gICAgW2tleTogc3RyaW5nXTogW251bWJlciwgbnVtYmVyXVtdO1xyXG4gIH0pOiBzdHJpbmcge1xyXG4gICAgbGV0IG91dHB1dCA9IFwiXCI7XHJcblxyXG4gICAgZWFjaChjb2xvcnMsIGZ1bmN0aW9uIChjb2xvciwgdmFsdWVzKSB7XHJcbiAgICAgIGNvbnN0IG9yaWcgPSBjb2xvcjtcclxuICAgICAgY29uc3QgY29sb3JWYWx1ZSA9IGdldENvbG9yKFxyXG4gICAgICAgIC4uLihjb2xvci50b1N0cmluZygpLnNwbGl0KFwiLFwiKSBhcyBbc3RyaW5nLCBzdHJpbmcsIHN0cmluZywgc3RyaW5nXSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChjb2xvclZhbHVlID09PSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcGF0aHM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgIGxldCBjdXJQYXRoOiBbbnVtYmVyLCBudW1iZXJdIHwgdW5kZWZpbmVkO1xyXG4gICAgICBsZXQgdyA9IDE7XHJcblxyXG4gICAgICBlYWNoKHZhbHVlcywgZnVuY3Rpb24gKGluZGV4LCB2YWwpIHtcclxuICAgICAgICBpZiAoY3VyUGF0aCAmJiB2YWxbMV0gPT09IGN1clBhdGhbMV0gJiYgdmFsWzBdID09PSBjdXJQYXRoWzBdICsgdykge1xyXG4gICAgICAgICAgdysrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoY3VyUGF0aCkge1xyXG4gICAgICAgICAgICBwYXRocy5wdXNoKG1ha2VQYXRoRGF0YShjdXJQYXRoWzBdLCBjdXJQYXRoWzFdLCB3KSk7XHJcbiAgICAgICAgICAgIHcgPSAxO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY3VyUGF0aCA9IHZhbCBhcyBbbnVtYmVyLCBudW1iZXJdO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoY3VyUGF0aCkge1xyXG4gICAgICAgIHBhdGhzLnB1c2gobWFrZVBhdGhEYXRhKGN1clBhdGhbMF0sIGN1clBhdGhbMV0sIHcpKTsgLy8gRmluaXNoIHRoZSBsYXN0IHBhdGhcclxuICAgICAgfVxyXG4gICAgICBvdXRwdXQgKz0gbWFrZVBhdGgoY29sb3JWYWx1ZSwgcGF0aHMuam9pbihcIlwiKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gb3V0cHV0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXh0cmFjdHMgY29sb3JzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIHBpeGVsIHBvc2l0aW9ucyBmcm9tIGltYWdlIGRhdGEuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gaW1nIC0gVGhlIGltYWdlIGRhdGEuXHJcbiAgICogQHJldHVybnMgQSBtYXAgb2YgY29sb3Igc3RyaW5ncyB0byBhcnJheXMgb2YgcGl4ZWwgcG9zaXRpb25zLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGdldENvbG9ycyhpbWc6IHtcclxuICAgIGRhdGE6IFVpbnQ4Q2xhbXBlZEFycmF5O1xyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGhlaWdodDogbnVtYmVyO1xyXG4gIH0pOiB7IFtrZXk6IHN0cmluZ106IFtudW1iZXIsIG51bWJlcl1bXSB9IHtcclxuICAgIGNvbnN0IGNvbG9yczogeyBba2V5OiBzdHJpbmddOiBbbnVtYmVyLCBudW1iZXJdW10gfSA9IHt9O1xyXG4gICAgY29uc3QgeyBkYXRhLCB3aWR0aCB9ID0gaW1nO1xyXG4gICAgY29uc3QgbGVuID0gZGF0YS5sZW5ndGg7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xyXG4gICAgICBpZiAoZGF0YVtpICsgM10gPiAwKSB7XHJcbiAgICAgICAgY29uc3QgY29sb3IgPSBgJHtkYXRhW2ldfSwke2RhdGFbaSArIDFdfSwke2RhdGFbaSArIDJdfSwke2RhdGFbaSArIDNdfWA7XHJcbiAgICAgICAgaWYgKCFjb2xvcnNbY29sb3JdKSB7XHJcbiAgICAgICAgICBjb2xvcnNbY29sb3JdID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHggPSAoaSAvIDQpICUgd2lkdGg7XHJcbiAgICAgICAgY29uc3QgeSA9IE1hdGguZmxvb3IoaSAvIDQgLyB3aWR0aCk7XHJcbiAgICAgICAgY29sb3JzW2NvbG9yXS5wdXNoKFt4LCB5XSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY29sb3JzO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgY29sb3JzID0gZ2V0Q29sb3JzKGltZyk7XHJcbiAgY29uc3QgcGF0aHMgPSBjb2xvcnNUb1BhdGhzKGNvbG9ycyk7XHJcbiAgY29uc3Qgb3V0cHV0ID0gYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIC0wLjUgJHtpbWcud2lkdGh9ICR7aW1nLmhlaWdodH1cIiBzaGFwZS1yZW5kZXJpbmc9XCJjcmlzcEVkZ2VzXCI+PGcgc2hhcGUtcmVuZGVyaW5nPVwiY3Jpc3BFZGdlc1wiPiR7cGF0aHN9PC9nPjwvc3ZnPmA7XHJcblxyXG4gIGNvbnN0IGR1bW15RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkdW1teURpdi5pbm5lckhUTUwgPSBvdXRwdXQ7XHJcblxyXG4gIHJldHVybiBkdW1teURpdi5maXJzdENoaWxkIGFzIFNWR0VsZW1lbnQgfCBudWxsO1xyXG59XHJcbiIsImltcG9ydCAqIGFzIFBhcnNlciBmcm9tIFwiLi9QYXJzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBSZWFjdGlvbiB7XHJcbiAgcHJpdmF0ZSByZWFjdGFudHNTbWlsZXM6IHN0cmluZ1tdO1xyXG4gIHByaXZhdGUgcmVhZ2VudHNTbWlsZXM6IHN0cmluZ1tdO1xyXG4gIHByaXZhdGUgcHJvZHVjdHNTbWlsZXM6IHN0cmluZ1tdO1xyXG5cclxuICBwcml2YXRlIHJlYWN0YW50c1dlaWdodHM6IG51bWJlcltdO1xyXG4gIHByaXZhdGUgcmVhZ2VudHNXZWlnaHRzOiBudW1iZXJbXTtcclxuICBwcml2YXRlIHByb2R1Y3RzV2VpZ2h0czogbnVtYmVyW107XHJcblxyXG4gIHByaXZhdGUgcmVhY3RhbnRzOiBhbnlbXTsgLy8gQ2hlY2sgd2hhdCBQYXJzZXIucGFyc2UgcmV0dXJuc1xyXG4gIHByaXZhdGUgcmVhZ2VudHM6IGFueVtdO1xyXG4gIHByaXZhdGUgcHJvZHVjdHM6IGFueVtdO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgY29uc3RydWN0b3IgZm9yIHRoZSBjbGFzcyBSZWFjdGlvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFjdGlvblNtaWxlcyBBIHJlYWN0aW9uIFNNSUxFUy5cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihyZWFjdGlvblNtaWxlczogc3RyaW5nKSB7XHJcbiAgICB0aGlzLnJlYWN0YW50c1NtaWxlcyA9IFtdO1xyXG4gICAgdGhpcy5yZWFnZW50c1NtaWxlcyA9IFtdO1xyXG4gICAgdGhpcy5wcm9kdWN0c1NtaWxlcyA9IFtdO1xyXG5cclxuICAgIHRoaXMucmVhY3RhbnRzV2VpZ2h0cyA9IFtdO1xyXG4gICAgdGhpcy5yZWFnZW50c1dlaWdodHMgPSBbXTtcclxuICAgIHRoaXMucHJvZHVjdHNXZWlnaHRzID0gW107XHJcblxyXG4gICAgdGhpcy5yZWFjdGFudHMgPSBbXTtcclxuICAgIHRoaXMucmVhZ2VudHMgPSBbXTtcclxuICAgIHRoaXMucHJvZHVjdHMgPSBbXTtcclxuXHJcbiAgICBjb25zdCBwYXJ0czogc3RyaW5nW10gPSByZWFjdGlvblNtaWxlcy5zcGxpdChcIj5cIik7XHJcblxyXG4gICAgaWYgKHBhcnRzLmxlbmd0aCAhPT0gMykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgXCJJbnZhbGlkIHJlYWN0aW9uIFNNSUxFUy4gRGlkIHlvdSBhZGQgZmV3ZXIgdGhhbiBvciBtb3JlIHRoYW4gdHdvICc+Jz9cIlxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChwYXJ0c1swXSAhPT0gXCJcIikge1xyXG4gICAgICB0aGlzLnJlYWN0YW50c1NtaWxlcyA9IHBhcnRzWzBdLnNwbGl0KFwiLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocGFydHNbMV0gIT09IFwiXCIpIHtcclxuICAgICAgdGhpcy5yZWFnZW50c1NtaWxlcyA9IHBhcnRzWzFdLnNwbGl0KFwiLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocGFydHNbMl0gIT09IFwiXCIpIHtcclxuICAgICAgdGhpcy5wcm9kdWN0c1NtaWxlcyA9IHBhcnRzWzJdLnNwbGl0KFwiLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVhY3RhbnRzU21pbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHRoaXMucmVhY3RhbnRzLnB1c2goUGFyc2VyLnBhcnNlKHRoaXMucmVhY3RhbnRzU21pbGVzW2ldKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlYWdlbnRzU21pbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHRoaXMucmVhZ2VudHMucHVzaChQYXJzZXIucGFyc2UodGhpcy5yZWFnZW50c1NtaWxlc1tpXSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wcm9kdWN0c1NtaWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB0aGlzLnByb2R1Y3RzLnB1c2goUGFyc2VyLnBhcnNlKHRoaXMucHJvZHVjdHNTbWlsZXNbaV0pKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLy8gQHRzLW5vY2hlY2tcbmltcG9ydCB7IGZvcm11bGFUb0NvbW1vbk5hbWUgfSBmcm9tIFwiLi9Gb3JtdWxhVG9Db21tb25OYW1lXCI7XG5pbXBvcnQgeyBUaGVtZU1hbmFnZXIgfSBmcm9tIFwiLi9UaGVtZU1hbmFnZXJcIjtcbmltcG9ydCB7IE9wdGlvbnMgfSBmcm9tIFwiLi9PcHRpb25zXCI7XG5pbXBvcnQgeyBTdmdXcmFwcGVyIH0gZnJvbSBcIi4vU3ZnV3JhcHBlclwiO1xuaW1wb3J0IHsgU3ZnRHJhd2VyIH0gZnJvbSBcIi4vU3ZnRHJhd2VyXCI7XG5cbmV4cG9ydCBjbGFzcyBSZWFjdGlvbkRyYXdlciB7XG4gIC8qKlxuICAgKiBUaGUgY29uc3RydWN0b3IgZm9yIHRoZSBjbGFzcyBSZWFjdGlvbkRyYXdlci5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgcmVhY3Rpb24gZHJhd2luZyBzcGVjaXRpYyBvcHRpb25zLlxuICAgKiBAcGFyYW0ge09iamVjdH0gbW9sZWN1bGVPcHRpb25zIEFuIG9iamVjdCBjb250YWluaW5nIG1vbGVjdWxlIGRyYXdpbmcgc3BlY2lmaWMgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMsIG1vbGVjdWxlT3B0aW9ucykge1xuICAgIHRoaXMuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICBzY2FsZTogbW9sZWN1bGVPcHRpb25zLnNjYWxlID4gMC4wID8gbW9sZWN1bGVPcHRpb25zLnNjYWxlIDogMS4wLFxuICAgICAgZm9udFNpemU6IG1vbGVjdWxlT3B0aW9ucy5mb250U2l6ZUxhcmdlICogMC44LFxuICAgICAgZm9udEZhbWlseTogXCJBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmXCIsXG4gICAgICBzcGFjaW5nOiAxMCxcbiAgICAgIHBsdXM6IHtcbiAgICAgICAgc2l6ZTogOSxcbiAgICAgICAgdGhpY2tuZXNzOiAxLjAsXG4gICAgICB9LFxuICAgICAgYXJyb3c6IHtcbiAgICAgICAgbGVuZ3RoOiBtb2xlY3VsZU9wdGlvbnMuYm9uZExlbmd0aCAqIDQuMCxcbiAgICAgICAgaGVhZFNpemU6IDYuMCxcbiAgICAgICAgdGhpY2tuZXNzOiAxLjAsXG4gICAgICAgIG1hcmdpbjogMyxcbiAgICAgIH0sXG4gICAgICB3ZWlnaHRzOiB7XG4gICAgICAgIG5vcm1hbGl6ZTogZmFsc2UsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICB0aGlzLm9wdHMgPSBPcHRpb25zLmV4dGVuZCh0cnVlLCB0aGlzLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgIHRoaXMuZHJhd2VyID0gbmV3IFN2Z0RyYXdlcihtb2xlY3VsZU9wdGlvbnMpO1xuICAgIHRoaXMubW9sT3B0cyA9IHRoaXMuZHJhd2VyLm9wdHM7XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIHBhcnNlZCByZWFjdGlvbiBzbWlsZXMgZGF0YSB0byBhIGNhbnZhcyBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVhY3Rpb24gVGhlIHJlYWN0aW9uIG9iamVjdCByZXR1cm5lZCBieSB0aGUgcmVhY3Rpb24gc21pbGVzIHBhcnNlci5cbiAgICogQHBhcmFtIHsoU3RyaW5nfFNWR0VsZW1lbnQpfSB0YXJnZXQgVGhlIGlkIG9mIHRoZSBIVE1MIGNhbnZhcyBlbGVtZW50IHRoZSBzdHJ1Y3R1cmUgaXMgZHJhd24gdG8gLSBvciB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0aGVtZU5hbWU9J2RhcmsnIFRoZSBuYW1lIG9mIHRoZSB0aGVtZSB0byB1c2UuIEJ1aWx0LWluIHRoZW1lcyBhcmUgJ2xpZ2h0JyBhbmQgJ2RhcmsnLlxuICAgKiBAcGFyYW0gez9PYmplY3R9IHdlaWdodHM9bnVsbCBUaGUgd2VpZ2h0cyBmb3IgcmVhY3RhbnRzLCBhZ2VudHMsIGFuZCBwcm9kdWN0cy5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHRBYm92ZT0ne3JlYWdlbnRzfScgVGhlIHRleHQgYWJvdmUgdGhlIGFycm93LlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dEJlbG93PScnIFRoZSB0ZXh0IGJlbG93IHRoZSBhcnJvdy5cbiAgICogQHBhcmFtIHs/T2JqZWN0fSB3ZWlnaHRzPW51bGwgVGhlIHdlaWdodHMgZm9yIHJlYWN0YW50cywgYWdlbnRzLCBhbmQgcHJvZHVjdHMuXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaW5mb09ubHk9ZmFsc2UgT25seSBvdXRwdXQgaW5mbyBvbiB0aGUgbW9sZWN1bGUgd2l0aG91dCBkcmF3aW5nIGFueXRoaW5nIHRvIHRoZSBjYW52YXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtTVkdFbGVtZW50fSBUaGUgc3ZnIGVsZW1lbnRcbiAgICovXG4gIGRyYXcoXG4gICAgcmVhY3Rpb24sXG4gICAgdGFyZ2V0LFxuICAgIHRoZW1lTmFtZSA9IFwibGlnaHRcIixcbiAgICB3ZWlnaHRzID0gbnVsbCxcbiAgICB0ZXh0QWJvdmUgPSBcIntyZWFnZW50c31cIixcbiAgICB0ZXh0QmVsb3cgPSBcIlwiLFxuICAgIGluZm9Pbmx5ID0gZmFsc2VcbiAgKSB7XG4gICAgdGhpcy50aGVtZU1hbmFnZXIgPSBuZXcgVGhlbWVNYW5hZ2VyKHRoaXMubW9sT3B0cy50aGVtZXMsIHRoZW1lTmFtZSk7XG5cbiAgICAvLyBOb3JtYWxpemUgdGhlIHdlaWdodHMgb3ZlciB0aGUgcmVhY3Rpb24gbW9sZWN1bGVzXG4gICAgaWYgKHRoaXMub3B0cy53ZWlnaHRzLm5vcm1hbGl6ZSkge1xuICAgICAgbGV0IG1heCA9IC1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICAgIGxldCBtaW4gPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcblxuICAgICAgaWYgKHdlaWdodHMuaGFzT3duUHJvcGVydHkoXCJyZWFjdGFudHNcIikpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3ZWlnaHRzLnJlYWN0YW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgd2VpZ2h0cy5yZWFjdGFudHNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICh3ZWlnaHRzLnJlYWN0YW50c1tpXVtqXSA8IG1pbikge1xuICAgICAgICAgICAgICBtaW4gPSB3ZWlnaHRzLnJlYWN0YW50c1tpXVtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh3ZWlnaHRzLnJlYWN0YW50c1tpXVtqXSA+IG1heCkge1xuICAgICAgICAgICAgICBtYXggPSB3ZWlnaHRzLnJlYWN0YW50c1tpXVtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHdlaWdodHMuaGFzT3duUHJvcGVydHkoXCJyZWFnZW50c1wiKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdlaWdodHMucmVhZ2VudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHdlaWdodHMucmVhZ2VudHNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICh3ZWlnaHRzLnJlYWdlbnRzW2ldW2pdIDwgbWluKSB7XG4gICAgICAgICAgICAgIG1pbiA9IHdlaWdodHMucmVhZ2VudHNbaV1bal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod2VpZ2h0cy5yZWFnZW50c1tpXVtqXSA+IG1heCkge1xuICAgICAgICAgICAgICBtYXggPSB3ZWlnaHRzLnJlYWdlbnRzW2ldW2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAod2VpZ2h0cy5oYXNPd25Qcm9wZXJ0eShcInByb2R1Y3RzXCIpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2VpZ2h0cy5wcm9kdWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgd2VpZ2h0cy5wcm9kdWN0c1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKHdlaWdodHMucHJvZHVjdHNbaV1bal0gPCBtaW4pIHtcbiAgICAgICAgICAgICAgbWluID0gd2VpZ2h0cy5wcm9kdWN0c1tpXVtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh3ZWlnaHRzLnByb2R1Y3RzW2ldW2pdID4gbWF4KSB7XG4gICAgICAgICAgICAgIG1heCA9IHdlaWdodHMucHJvZHVjdHNbaV1bal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxldCBhYnNfbWF4ID0gTWF0aC5tYXgoTWF0aC5hYnMobWluKSwgTWF0aC5hYnMobWF4KSk7XG4gICAgICBpZiAoYWJzX21heCA9PT0gMC4wKSB7XG4gICAgICAgIGFic19tYXggPSAxO1xuICAgICAgfVxuXG4gICAgICBpZiAod2VpZ2h0cy5oYXNPd25Qcm9wZXJ0eShcInJlYWN0YW50c1wiKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdlaWdodHMucmVhY3RhbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB3ZWlnaHRzLnJlYWN0YW50c1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgd2VpZ2h0cy5yZWFjdGFudHNbaV1bal0gLz0gYWJzX21heDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHdlaWdodHMuaGFzT3duUHJvcGVydHkoXCJyZWFnZW50c1wiKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdlaWdodHMucmVhZ2VudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHdlaWdodHMucmVhZ2VudHNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHdlaWdodHMucmVhZ2VudHNbaV1bal0gLz0gYWJzX21heDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHdlaWdodHMuaGFzT3duUHJvcGVydHkoXCJwcm9kdWN0c1wiKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdlaWdodHMucHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHdlaWdodHMucHJvZHVjdHNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHdlaWdodHMucHJvZHVjdHNbaV1bal0gLz0gYWJzX21heDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgc3ZnID0gbnVsbDtcblxuICAgIGlmICh0YXJnZXQgPT09IG51bGwgfHwgdGFyZ2V0ID09PSBcInN2Z1wiKSB7XG4gICAgICBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJ4bWxuc1wiLCBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIpO1xuICAgICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgNTAwICsgXCJcIik7XG4gICAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJoZWlnaHRcIiwgNTAwICsgXCJcIik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcInN0cmluZ1wiIHx8IHRhcmdldCBpbnN0YW5jZW9mIFN0cmluZykge1xuICAgICAgc3ZnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3ZnID0gdGFyZ2V0O1xuICAgIH1cblxuICAgIHdoaWxlIChzdmcuZmlyc3RDaGlsZCkge1xuICAgICAgc3ZnLnJlbW92ZUNoaWxkKHN2Zy5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBsZXQgZWxlbWVudHMgPSBbXTtcblxuICAgIGxldCBtYXhIZWlnaHQgPSAwLjA7XG5cbiAgICAvLyBSZWFjdGFudHNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlYWN0aW9uLnJlYWN0YW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgIGVsZW1lbnRzLnB1c2goe1xuICAgICAgICAgIHdpZHRoOiB0aGlzLm9wdHMucGx1cy5zaXplICogdGhpcy5vcHRzLnNjYWxlLFxuICAgICAgICAgIGhlaWdodDogdGhpcy5vcHRzLnBsdXMuc2l6ZSAqIHRoaXMub3B0cy5zY2FsZSxcbiAgICAgICAgICBzdmc6IHRoaXMuZ2V0UGx1cygpLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgbGV0IHJlYWN0YW50V2VpZ2h0cyA9IG51bGw7XG4gICAgICBpZiAoXG4gICAgICAgIHdlaWdodHMgJiZcbiAgICAgICAgd2VpZ2h0cy5oYXNPd25Qcm9wZXJ0eShcInJlYWN0YW50c1wiKSAmJlxuICAgICAgICB3ZWlnaHRzLnJlYWN0YW50cy5sZW5ndGggPiBpXG4gICAgICApIHtcbiAgICAgICAgcmVhY3RhbnRXZWlnaHRzID0gd2VpZ2h0cy5yZWFjdGFudHNbaV07XG4gICAgICB9XG5cbiAgICAgIGxldCByZWFjdGFudFN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgICBcInN2Z1wiXG4gICAgICApO1xuXG4gICAgICB0aGlzLmRyYXdlci5kcmF3KFxuICAgICAgICByZWFjdGlvbi5yZWFjdGFudHNbaV0sXG4gICAgICAgIHJlYWN0YW50U3ZnLFxuICAgICAgICB0aGVtZU5hbWUsXG4gICAgICAgIHJlYWN0YW50V2VpZ2h0cyxcbiAgICAgICAgaW5mb09ubHksXG4gICAgICAgIFtdLFxuICAgICAgICB0aGlzLm9wdHMud2VpZ2h0cy5ub3JtYWxpemVcbiAgICAgICk7XG5cbiAgICAgIGxldCBlbGVtZW50ID0ge1xuICAgICAgICB3aWR0aDogcmVhY3RhbnRTdmcudmlld0JveC5iYXNlVmFsLndpZHRoICogdGhpcy5vcHRzLnNjYWxlLFxuICAgICAgICBoZWlnaHQ6IHJlYWN0YW50U3ZnLnZpZXdCb3guYmFzZVZhbC5oZWlnaHQgKiB0aGlzLm9wdHMuc2NhbGUsXG4gICAgICAgIHN2ZzogcmVhY3RhbnRTdmcsXG4gICAgICB9O1xuXG4gICAgICBlbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuXG4gICAgICBpZiAoZWxlbWVudC5oZWlnaHQgPiBtYXhIZWlnaHQpIHtcbiAgICAgICAgbWF4SGVpZ2h0ID0gZWxlbWVudC5oZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQXJyb3dcbiAgICBlbGVtZW50cy5wdXNoKHtcbiAgICAgIHdpZHRoOiB0aGlzLm9wdHMuYXJyb3cubGVuZ3RoICogdGhpcy5vcHRzLnNjYWxlLFxuICAgICAgaGVpZ2h0OiB0aGlzLm9wdHMuYXJyb3cuaGVhZFNpemUgKiAyLjAgKiB0aGlzLm9wdHMuc2NhbGUsXG4gICAgICBzdmc6IHRoaXMuZ2V0QXJyb3coKSxcbiAgICB9KTtcblxuICAgIC8vIFRleHQgYWJvdmUgdGhlIGFycm93IC8gcmVhZ2VudHNcbiAgICBsZXQgcmVhZ2VudHNUZXh0ID0gXCJcIjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlYWN0aW9uLnJlYWdlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgcmVhZ2VudHNUZXh0ICs9IFwiLCBcIjtcbiAgICAgIH1cblxuICAgICAgbGV0IHRleHQgPSB0aGlzLmRyYXdlci5nZXRNb2xlY3VsYXJGb3JtdWxhKHJlYWN0aW9uLnJlYWdlbnRzW2ldKTtcbiAgICAgIGlmICh0ZXh0IGluIGZvcm11bGFUb0NvbW1vbk5hbWUpIHtcbiAgICAgICAgdGV4dCA9IGZvcm11bGFUb0NvbW1vbk5hbWVbdGV4dF07XG4gICAgICB9XG5cbiAgICAgIHJlYWdlbnRzVGV4dCArPSBTdmdXcmFwcGVyLnJlcGxhY2VOdW1iZXJzV2l0aFN1YnNjcmlwdCh0ZXh0KTtcbiAgICB9XG5cbiAgICB0ZXh0QWJvdmUgPSB0ZXh0QWJvdmUucmVwbGFjZShcIntyZWFnZW50c31cIiwgcmVhZ2VudHNUZXh0KTtcblxuICAgIGNvbnN0IHRvcFRleHQgPSBTdmdXcmFwcGVyLndyaXRlVGV4dChcbiAgICAgIHRleHRBYm92ZSxcbiAgICAgIHRoaXMudGhlbWVNYW5hZ2VyLFxuICAgICAgdGhpcy5vcHRzLmZvbnRTaXplICogdGhpcy5vcHRzLnNjYWxlLFxuICAgICAgdGhpcy5vcHRzLmZvbnRGYW1pbHksXG4gICAgICB0aGlzLm9wdHMuYXJyb3cubGVuZ3RoICogdGhpcy5vcHRzLnNjYWxlXG4gICAgKTtcblxuICAgIGxldCBjZW50ZXJPZmZzZXRYID1cbiAgICAgICh0aGlzLm9wdHMuYXJyb3cubGVuZ3RoICogdGhpcy5vcHRzLnNjYWxlIC0gdG9wVGV4dC53aWR0aCkgLyAyLjA7XG5cbiAgICBlbGVtZW50cy5wdXNoKHtcbiAgICAgIHN2ZzogdG9wVGV4dC5zdmcsXG4gICAgICBoZWlnaHQ6IHRvcFRleHQuaGVpZ2h0LFxuICAgICAgd2lkdGg6IHRoaXMub3B0cy5hcnJvdy5sZW5ndGggKiB0aGlzLm9wdHMuc2NhbGUsXG4gICAgICBvZmZzZXRYOlxuICAgICAgICAtKHRoaXMub3B0cy5hcnJvdy5sZW5ndGggKiB0aGlzLm9wdHMuc2NhbGUgKyB0aGlzLm9wdHMuc3BhY2luZykgK1xuICAgICAgICBjZW50ZXJPZmZzZXRYLFxuICAgICAgb2Zmc2V0WTogLSh0b3BUZXh0LmhlaWdodCAvIDIuMCkgLSB0aGlzLm9wdHMuYXJyb3cubWFyZ2luLFxuICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICB9KTtcblxuICAgIC8vIFRleHQgYmVsb3cgYXJyb3dcbiAgICBjb25zdCBib3R0b21UZXh0ID0gU3ZnV3JhcHBlci53cml0ZVRleHQoXG4gICAgICB0ZXh0QmVsb3csXG4gICAgICB0aGlzLnRoZW1lTWFuYWdlcixcbiAgICAgIHRoaXMub3B0cy5mb250U2l6ZSAqIHRoaXMub3B0cy5zY2FsZSxcbiAgICAgIHRoaXMub3B0cy5mb250RmFtaWx5LFxuICAgICAgdGhpcy5vcHRzLmFycm93Lmxlbmd0aCAqIHRoaXMub3B0cy5zY2FsZVxuICAgICk7XG5cbiAgICBjZW50ZXJPZmZzZXRYID1cbiAgICAgICh0aGlzLm9wdHMuYXJyb3cubGVuZ3RoICogdGhpcy5vcHRzLnNjYWxlIC0gYm90dG9tVGV4dC53aWR0aCkgLyAyLjA7XG5cbiAgICBlbGVtZW50cy5wdXNoKHtcbiAgICAgIHN2ZzogYm90dG9tVGV4dC5zdmcsXG4gICAgICBoZWlnaHQ6IGJvdHRvbVRleHQuaGVpZ2h0LFxuICAgICAgd2lkdGg6IHRoaXMub3B0cy5hcnJvdy5sZW5ndGggKiB0aGlzLm9wdHMuc2NhbGUsXG4gICAgICBvZmZzZXRYOlxuICAgICAgICAtKHRoaXMub3B0cy5hcnJvdy5sZW5ndGggKiB0aGlzLm9wdHMuc2NhbGUgKyB0aGlzLm9wdHMuc3BhY2luZykgK1xuICAgICAgICBjZW50ZXJPZmZzZXRYLFxuICAgICAgb2Zmc2V0WTogYm90dG9tVGV4dC5oZWlnaHQgLyAyLjAgKyB0aGlzLm9wdHMuYXJyb3cubWFyZ2luLFxuICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICB9KTtcblxuICAgIC8vIFByb2R1Y3RzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWFjdGlvbi5wcm9kdWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgIGVsZW1lbnRzLnB1c2goe1xuICAgICAgICAgIHdpZHRoOiB0aGlzLm9wdHMucGx1cy5zaXplICogdGhpcy5vcHRzLnNjYWxlLFxuICAgICAgICAgIGhlaWdodDogdGhpcy5vcHRzLnBsdXMuc2l6ZSAqIHRoaXMub3B0cy5zY2FsZSxcbiAgICAgICAgICBzdmc6IHRoaXMuZ2V0UGx1cygpLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgbGV0IHByb2R1Y3RXZWlnaHRzID0gbnVsbDtcbiAgICAgIGlmIChcbiAgICAgICAgd2VpZ2h0cyAmJlxuICAgICAgICB3ZWlnaHRzLmhhc093blByb3BlcnR5KFwicHJvZHVjdHNcIikgJiZcbiAgICAgICAgd2VpZ2h0cy5wcm9kdWN0cy5sZW5ndGggPiBpXG4gICAgICApIHtcbiAgICAgICAgcHJvZHVjdFdlaWdodHMgPSB3ZWlnaHRzLnByb2R1Y3RzW2ldO1xuICAgICAgfVxuXG4gICAgICBsZXQgcHJvZHVjdFN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgICBcInN2Z1wiXG4gICAgICApO1xuXG4gICAgICB0aGlzLmRyYXdlci5kcmF3KFxuICAgICAgICByZWFjdGlvbi5wcm9kdWN0c1tpXSxcbiAgICAgICAgcHJvZHVjdFN2ZyxcbiAgICAgICAgdGhlbWVOYW1lLFxuICAgICAgICBwcm9kdWN0V2VpZ2h0cyxcbiAgICAgICAgaW5mb09ubHksXG4gICAgICAgIFtdLFxuICAgICAgICB0aGlzLm9wdHMud2VpZ2h0cy5ub3JtYWxpemVcbiAgICAgICk7XG5cbiAgICAgIGxldCBlbGVtZW50ID0ge1xuICAgICAgICB3aWR0aDogcHJvZHVjdFN2Zy52aWV3Qm94LmJhc2VWYWwud2lkdGggKiB0aGlzLm9wdHMuc2NhbGUsXG4gICAgICAgIGhlaWdodDogcHJvZHVjdFN2Zy52aWV3Qm94LmJhc2VWYWwuaGVpZ2h0ICogdGhpcy5vcHRzLnNjYWxlLFxuICAgICAgICBzdmc6IHByb2R1Y3RTdmcsXG4gICAgICB9O1xuXG4gICAgICBlbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuXG4gICAgICBpZiAoZWxlbWVudC5oZWlnaHQgPiBtYXhIZWlnaHQpIHtcbiAgICAgICAgbWF4SGVpZ2h0ID0gZWxlbWVudC5oZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHRvdGFsV2lkdGggPSAwLjA7XG5cbiAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBsZXQgb2Zmc2V0WCA9IGVsZW1lbnQub2Zmc2V0WCA/PyAwLjA7XG4gICAgICBsZXQgb2Zmc2V0WSA9IGVsZW1lbnQub2Zmc2V0WSA/PyAwLjA7XG5cbiAgICAgIGVsZW1lbnQuc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieFwiLCBNYXRoLnJvdW5kKHRvdGFsV2lkdGggKyBvZmZzZXRYKSk7XG4gICAgICBlbGVtZW50LnN2Zy5zZXRBdHRyaWJ1dGVOUyhcbiAgICAgICAgbnVsbCxcbiAgICAgICAgXCJ5XCIsXG4gICAgICAgIE1hdGgucm91bmQoKG1heEhlaWdodCAtIGVsZW1lbnQuaGVpZ2h0KSAvIDIuMCArIG9mZnNldFkpXG4gICAgICApO1xuICAgICAgZWxlbWVudC5zdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ3aWR0aFwiLCBNYXRoLnJvdW5kKGVsZW1lbnQud2lkdGgpKTtcbiAgICAgIGVsZW1lbnQuc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaGVpZ2h0XCIsIE1hdGgucm91bmQoZWxlbWVudC5oZWlnaHQpKTtcbiAgICAgIHN2Zy5hcHBlbmRDaGlsZChlbGVtZW50LnN2Zyk7XG5cbiAgICAgIGlmIChlbGVtZW50LnBvc2l0aW9uICE9PSBcInJlbGF0aXZlXCIpIHtcbiAgICAgICAgdG90YWxXaWR0aCArPSBNYXRoLnJvdW5kKGVsZW1lbnQud2lkdGggKyB0aGlzLm9wdHMuc3BhY2luZyArIG9mZnNldFgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBgMCAwICR7dG90YWxXaWR0aH0gJHttYXhIZWlnaHR9YCk7XG4gICAgc3ZnLnN0eWxlLndpZHRoID0gdG90YWxXaWR0aCArIFwicHhcIjtcbiAgICBzdmcuc3R5bGUuaGVpZ2h0ID0gbWF4SGVpZ2h0ICsgXCJweFwiO1xuXG4gICAgcmV0dXJuIHN2ZztcbiAgfVxuXG4gIGdldFBsdXMoKSB7XG4gICAgbGV0IHMgPSB0aGlzLm9wdHMucGx1cy5zaXplO1xuICAgIGxldCB3ID0gdGhpcy5vcHRzLnBsdXMudGhpY2tuZXNzO1xuICAgIGxldCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICBsZXQgcmVjdF9oID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJyZWN0XCIpO1xuICAgIGxldCByZWN0X3YgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInJlY3RcIik7XG5cbiAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJpZFwiLCBcInBsdXNcIik7XG5cbiAgICByZWN0X2guc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ4XCIsIDApO1xuICAgIHJlY3RfaC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInlcIiwgcyAvIDIuMCAtIHcgLyAyLjApO1xuICAgIHJlY3RfaC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIHMpO1xuICAgIHJlY3RfaC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCB3KTtcbiAgICByZWN0X2guc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsXCIsIHRoaXMudGhlbWVNYW5hZ2VyLmdldENvbG9yKFwiQ1wiKSk7XG5cbiAgICByZWN0X3Yuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ4XCIsIHMgLyAyLjAgLSB3IC8gMi4wKTtcbiAgICByZWN0X3Yuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ5XCIsIDApO1xuICAgIHJlY3Rfdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIHcpO1xuICAgIHJlY3Rfdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImhlaWdodFwiLCBzKTtcbiAgICByZWN0X3Yuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsXCIsIHRoaXMudGhlbWVNYW5hZ2VyLmdldENvbG9yKFwiQ1wiKSk7XG5cbiAgICBzdmcuYXBwZW5kQ2hpbGQocmVjdF9oKTtcbiAgICBzdmcuYXBwZW5kQ2hpbGQocmVjdF92KTtcbiAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ2aWV3Qm94XCIsIGAwIDAgJHtzfSAke3N9YCk7XG5cbiAgICByZXR1cm4gc3ZnO1xuICB9XG5cbiAgZ2V0QXJyb3doZWFkKCkge1xuICAgIGxldCBzID0gdGhpcy5vcHRzLmFycm93LmhlYWRTaXplO1xuICAgIGxldCBtYXJrZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcIm1hcmtlclwiXG4gICAgKTtcbiAgICBsZXQgcG9seWdvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIFwicG9seWdvblwiXG4gICAgKTtcblxuICAgIG1hcmtlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImlkXCIsIFwiYXJyb3doZWFkXCIpO1xuICAgIG1hcmtlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInZpZXdCb3hcIiwgYDAgMCAke3N9ICR7c31gKTtcbiAgICBtYXJrZXIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJtYXJrZXJVbml0c1wiLCBcInVzZXJTcGFjZU9uVXNlXCIpO1xuICAgIG1hcmtlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIm1hcmtlcldpZHRoXCIsIHMpO1xuICAgIG1hcmtlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIm1hcmtlckhlaWdodFwiLCBzKTtcbiAgICBtYXJrZXIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJyZWZYXCIsIDApO1xuICAgIG1hcmtlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInJlZllcIiwgcyAvIDIpO1xuICAgIG1hcmtlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIm9yaWVudFwiLCBcImF1dG9cIik7XG4gICAgbWFya2VyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZmlsbFwiLCB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcihcIkNcIikpO1xuXG4gICAgcG9seWdvbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInBvaW50c1wiLCBgMCAwLCAke3N9ICR7cyAvIDJ9LCAwICR7c31gKTtcblxuICAgIG1hcmtlci5hcHBlbmRDaGlsZChwb2x5Z29uKTtcblxuICAgIHJldHVybiBtYXJrZXI7XG4gIH1cblxuICBnZXRDREFycm93aGVhZCgpIHtcbiAgICBsZXQgcyA9IHRoaXMub3B0cy5hcnJvdy5oZWFkU2l6ZTtcbiAgICBsZXQgc3cgPSBzICogKDcgLyA0LjUpO1xuICAgIGxldCBtYXJrZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcIm1hcmtlclwiXG4gICAgKTtcbiAgICBsZXQgcGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcblxuICAgIG1hcmtlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImlkXCIsIFwiYXJyb3doZWFkXCIpO1xuICAgIG1hcmtlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInZpZXdCb3hcIiwgYDAgMCAke3N3fSAke3N9YCk7XG4gICAgbWFya2VyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwibWFya2VyVW5pdHNcIiwgXCJ1c2VyU3BhY2VPblVzZVwiKTtcbiAgICBtYXJrZXIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJtYXJrZXJXaWR0aFwiLCBzdyAqIDIpO1xuICAgIG1hcmtlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIm1hcmtlckhlaWdodFwiLCBzICogMik7XG4gICAgbWFya2VyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwicmVmWFwiLCAyLjIpO1xuICAgIG1hcmtlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInJlZllcIiwgMi4yKTtcbiAgICBtYXJrZXIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJvcmllbnRcIiwgXCJhdXRvXCIpO1xuICAgIG1hcmtlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZpbGxcIiwgdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IoXCJDXCIpKTtcblxuICAgIHBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgXCJzdHlsZVwiLCBcImZpbGwtcnVsZTpub256ZXJvO1wiKTtcbiAgICBwYXRoLnNldEF0dHJpYnV0ZU5TKFxuICAgICAgbnVsbCxcbiAgICAgIFwiZFwiLFxuICAgICAgXCJtIDAgMCBsIDcgMi4yNSBsIC03IDIuMjUgYyAwIDAgMC43MzUgLTEuMDg0IDAuNzM1IC0yLjI4IGMgMCAtMS4xOTYgLTAuNzM1IC0yLjIyIC0wLjczNSAtMi4yMiB6XCJcbiAgICApO1xuXG4gICAgbWFya2VyLmFwcGVuZENoaWxkKHBhdGgpO1xuXG4gICAgcmV0dXJuIG1hcmtlcjtcbiAgfVxuXG4gIGdldEFycm93KCkge1xuICAgIGxldCBzID0gdGhpcy5vcHRzLmFycm93LmhlYWRTaXplO1xuICAgIGxldCBsID0gdGhpcy5vcHRzLmFycm93Lmxlbmd0aDtcblxuICAgIGxldCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICBsZXQgZGVmcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZGVmc1wiKTtcbiAgICBsZXQgbGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwibGluZVwiKTtcblxuICAgIGRlZnMuYXBwZW5kQ2hpbGQodGhpcy5nZXRDREFycm93aGVhZCgpKTtcbiAgICBzdmcuYXBwZW5kQ2hpbGQoZGVmcyk7XG5cbiAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJpZFwiLCBcImFycm93XCIpO1xuXG4gICAgbGluZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIngxXCIsIDAuMCk7XG4gICAgbGluZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInkxXCIsIC10aGlzLm9wdHMuYXJyb3cudGhpY2tuZXNzIC8gMi4wKTtcbiAgICBsaW5lLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieDJcIiwgbCk7XG4gICAgbGluZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInkyXCIsIC10aGlzLm9wdHMuYXJyb3cudGhpY2tuZXNzIC8gMi4wKTtcbiAgICBsaW5lLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwic3Ryb2tlLXdpZHRoXCIsIHRoaXMub3B0cy5hcnJvdy50aGlja25lc3MpO1xuICAgIGxpbmUuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJzdHJva2VcIiwgdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IoXCJDXCIpKTtcbiAgICBsaW5lLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwibWFya2VyLWVuZFwiLCBcInVybCgjYXJyb3doZWFkKVwiKTtcblxuICAgIHN2Zy5hcHBlbmRDaGlsZChsaW5lKTtcbiAgICBzdmcuc2V0QXR0cmlidXRlTlMoXG4gICAgICBudWxsLFxuICAgICAgXCJ2aWV3Qm94XCIsXG4gICAgICBgMCAkey1zIC8gMi4wfSAke2wgKyBzICogKDcgLyA0LjUpfSAke3N9YFxuICAgICk7XG5cbiAgICByZXR1cm4gc3ZnO1xuICB9XG59IiwiaW1wb3J0IHsgUmVhY3Rpb24gfSBmcm9tIFwiLi9SZWFjdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJlYWN0aW9uUGFyc2VyIHtcclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBoZXggY29kZSBvZiBhIGNvbG9yIGFzc29jaWF0ZWQgd2l0aCBhIGtleSBmcm9tIHRoZSBjdXJyZW50IHRoZW1lLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHJlYWN0aW9uU21pbGVzIEEgcmVhY3Rpb24gU01JTEVTLlxyXG4gICAqIEByZXR1cm5zIHtSZWFjdGlvbn0gQSByZWFjdGlvbiBvYmplY3QuXHJcbiAgICovXHJcbiAgc3RhdGljIHBhcnNlKHJlYWN0aW9uU21pbGVzOiBzdHJpbmcpOiBSZWFjdGlvbiB7XHJcbiAgICBsZXQgcmVhY3Rpb246IFJlYWN0aW9uID0gbmV3IFJlYWN0aW9uKHJlYWN0aW9uU21pbGVzKTtcclxuXHJcbiAgICByZXR1cm4gcmVhY3Rpb247XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi9WZWN0b3IyXCI7XHJcbmltcG9ydCB7IEFycmF5SGVscGVyIH0gZnJvbSBcIi4vQXJyYXlIZWxwZXJcIjtcclxuaW1wb3J0IHsgVmVydGV4IH0gZnJvbSBcIi4vVmVydGV4XCI7XHJcbmltcG9ydCB7IFJpbmdDb25uZWN0aW9uIH0gZnJvbSBcIi4vUmluZ0Nvbm5lY3Rpb25cIjtcclxuXHJcbi8qKlxyXG4gKiBBIGNsYXNzIHJlcHJlc2VudGluZyBhIHJpbmcuXHJcbiAqXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBpZCBUaGUgaWQgb2YgdGhpcyByaW5nLlxyXG4gKiBAcHJvcGVydHkge051bWJlcltdfSBtZW1iZXJzIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIHZlcnRleCBpZHMgb2YgdGhlIHJpbmcgbWVtYmVycy5cclxuICogQHByb3BlcnR5IHtOdW1iZXJbXX0gZWRnZXMgQW4gYXJyYXkgY29udGFpbmluZyB0aGUgZWRnZSBpZHMgb2YgdGhlIGVkZ2VzIGJldHdlZW4gdGhlIHJpbmcgbWVtYmVycy5cclxuICogQHByb3BlcnR5IHtOdW1iZXJbXX0gaW5zaWRlcnMgQW4gYXJyYXkgY29udGFpbmluZyB0aGUgdmVydGV4IGlkcyBvZiB0aGUgdmVydGljZXMgY29udGFpbmVkIHdpdGhpbiB0aGUgcmluZyBpZiBpdCBpcyBhIGJyaWRnZWQgcmluZy5cclxuICogQHByb3BlcnR5IHtOdW1iZXJbXX0gbmVpZ2hib3VycyBBbiBhcnJheSBjb250YWluaW5nIHRoZSBpZHMgb2YgbmVpZ2hib3VyaW5nIHJpbmdzLlxyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IHBvc2l0aW9uZWQgQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhpcyByaW5nIGhhcyBiZWVuIHBvc2l0aW9uZWQuXHJcbiAqIEBwcm9wZXJ0eSB7VmVjdG9yMn0gY2VudGVyIFRoZSBjZW50ZXIgb2YgdGhpcyByaW5nLlxyXG4gKiBAcHJvcGVydHkge1JpbmdbXX0gcmluZ3MgVGhlIHJpbmdzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyByaW5nIGlmIHRoaXMgcmluZyBpcyBicmlkZ2VkLlxyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGlzQnJpZGdlZCBBIGJvb2xlYW4gd2hldGhlciBvciBub3QgdGhpcyByaW5nIGlzIGJyaWRnZWQuXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaXNQYXJ0T2ZCcmlkZ2VkIEEgYm9vbGVhbiB3aGV0aGVyIG9yIG5vdCB0aGlzIHJpbmcgaXMgcGFydCBvZiBhIGJyaWRnZSByaW5nLlxyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGlzU3Bpcm8gQSBib29sZWFuIHdoZXRoZXIgb3Igbm90IHRoaXMgcmluZyBpcyBwYXJ0IG9mIGEgc3Bpcm8uXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaXNGdXNlZCBBIGJvb2xlYW4gd2hldGhlciBvciBub3QgdGhpcyByaW5nIGlzIHBhcnQgb2YgYSBmdXNlZCByaW5nLlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gY2VudHJhbEFuZ2xlIFRoZSBjZW50cmFsIGFuZ2xlIG9mIHRoaXMgcmluZy5cclxuICogQHByb3BlcnR5IHtCb29sZWFufSBjYW5GbGlwIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoaXMgcmluZyBhbGxvd3MgZmxpcHBpbmcgb2YgYXR0YWNoZWQgdmVydGljZXMgdG8gdGhlIGluc2lkZSBvZiB0aGUgcmluZy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBSaW5nIHtcclxuICBwdWJsaWMgaWQ6IG51bWJlciB8IG51bGw7XHJcbiAgcHVibGljIG1lbWJlcnM6IG51bWJlcltdO1xyXG4gIHB1YmxpYyBlZGdlczogbnVtYmVyW107XHJcbiAgcHVibGljIGluc2lkZXJzOiBudW1iZXJbXTtcclxuICBwdWJsaWMgbmVpZ2hib3VyczogbnVtYmVyW107XHJcbiAgcHVibGljIHBvc2l0aW9uZWQ6IGJvb2xlYW47XHJcbiAgcHVibGljIGNlbnRlcjogVmVjdG9yMjtcclxuICBwdWJsaWMgcmluZ3M6IFJpbmdbXTtcclxuICBwdWJsaWMgaXNCcmlkZ2VkOiBib29sZWFuO1xyXG4gIHB1YmxpYyBpc1BhcnRPZkJyaWRnZWQ6IGJvb2xlYW47XHJcbiAgcHVibGljIGlzU3Bpcm86IGJvb2xlYW47XHJcbiAgcHVibGljIGlzRnVzZWQ6IGJvb2xlYW47XHJcbiAgcHVibGljIGNlbnRyYWxBbmdsZTogbnVtYmVyO1xyXG4gIHB1YmxpYyBjYW5GbGlwOiBib29sZWFuO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgY29uc3RydWN0b3IgZm9yIHRoZSBjbGFzcyBSaW5nLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJbXX0gbWVtYmVycyBBbiBhcnJheSBjb250YWluaW5nIHRoZSB2ZXJ0ZXggaWRzIG9mIHRoZSBtZW1iZXJzIG9mIHRoZSByaW5nIHRvIGJlIGNyZWF0ZWQuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IobWVtYmVyczogbnVtYmVyW10pIHtcclxuICAgIHRoaXMuaWQgPSBudWxsO1xyXG4gICAgdGhpcy5tZW1iZXJzID0gbWVtYmVycztcclxuICAgIHRoaXMuZWRnZXMgPSBbXTtcclxuICAgIHRoaXMuaW5zaWRlcnMgPSBbXTtcclxuICAgIHRoaXMubmVpZ2hib3VycyA9IFtdO1xyXG4gICAgdGhpcy5wb3NpdGlvbmVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmNlbnRlciA9IG5ldyBWZWN0b3IyKDAsIDApO1xyXG4gICAgdGhpcy5yaW5ncyA9IFtdO1xyXG4gICAgdGhpcy5pc0JyaWRnZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuaXNQYXJ0T2ZCcmlkZ2VkID0gZmFsc2U7XHJcbiAgICB0aGlzLmlzU3Bpcm8gPSBmYWxzZTtcclxuICAgIHRoaXMuaXNGdXNlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5jZW50cmFsQW5nbGUgPSAwLjA7XHJcbiAgICB0aGlzLmNhbkZsaXAgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2xvbmVzIHRoaXMgcmluZyBhbmQgcmV0dXJucyB0aGUgY2xvbmUuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UmluZ30gQSBjbG9uZSBvZiB0aGlzIHJpbmcuXHJcbiAgICovXHJcbiAgY2xvbmUoKTogUmluZyB7XHJcbiAgICBsZXQgY2xvbmUgPSBuZXcgUmluZyh0aGlzLm1lbWJlcnMpO1xyXG5cclxuICAgIGNsb25lLmlkID0gdGhpcy5pZDtcclxuICAgIGNsb25lLmluc2lkZXJzID0gQXJyYXlIZWxwZXIuY2xvbmUodGhpcy5pbnNpZGVycyk7XHJcbiAgICBjbG9uZS5uZWlnaGJvdXJzID0gQXJyYXlIZWxwZXIuY2xvbmUodGhpcy5uZWlnaGJvdXJzKTtcclxuICAgIGNsb25lLnBvc2l0aW9uZWQgPSB0aGlzLnBvc2l0aW9uZWQ7XHJcbiAgICBjbG9uZS5jZW50ZXIgPSB0aGlzLmNlbnRlci5jbG9uZSgpO1xyXG4gICAgY2xvbmUucmluZ3MgPSBBcnJheUhlbHBlci5jbG9uZSh0aGlzLnJpbmdzKTtcclxuICAgIGNsb25lLmlzQnJpZGdlZCA9IHRoaXMuaXNCcmlkZ2VkO1xyXG4gICAgY2xvbmUuaXNQYXJ0T2ZCcmlkZ2VkID0gdGhpcy5pc1BhcnRPZkJyaWRnZWQ7XHJcbiAgICBjbG9uZS5pc1NwaXJvID0gdGhpcy5pc1NwaXJvO1xyXG4gICAgY2xvbmUuaXNGdXNlZCA9IHRoaXMuaXNGdXNlZDtcclxuICAgIGNsb25lLmNlbnRyYWxBbmdsZSA9IHRoaXMuY2VudHJhbEFuZ2xlO1xyXG4gICAgY2xvbmUuY2FuRmxpcCA9IHRoaXMuY2FuRmxpcDtcclxuXHJcbiAgICByZXR1cm4gY2xvbmU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBzaXplIChudW1iZXIgb2YgbWVtYmVycykgb2YgdGhpcyByaW5nLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIHNpemUgKG51bWJlciBvZiBtZW1iZXJzKSBvZiB0aGlzIHJpbmcuXHJcbiAgICovXHJcbiAgZ2V0U2l6ZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMubWVtYmVycy5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXRzIHRoZSBwb2x5Z29uIHJlcHJlc2VudGF0aW9uIChhbiBhcnJheSBvZiB0aGUgcmluZy1tZW1iZXJzIHBvc2l0aW9uYWwgdmVjdG9ycykgb2YgdGhpcyByaW5nLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtWZXJ0ZXhbXX0gdmVydGljZXMgQW4gYXJyYXkgb2YgdmVydGljZXMgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IG1vbGVjdWxlLlxyXG4gICAqIEByZXR1cm5zIHtWZWN0b3IyW119IEFuIGFycmF5IG9mIHRoZSBwb3NpdGlvbmFsIHZlY3RvcnMgb2YgdGhlIHJpbmcgbWVtYmVycy5cclxuICAgKi9cclxuICBnZXRQb2x5Z29uKHZlcnRpY2VzOiBWZXJ0ZXhbXSk6IFZlY3RvcjJbXSB7XHJcbiAgICBsZXQgcG9seWdvbjogVmVjdG9yMltdID0gW107XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbWJlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgcG9seWdvbi5wdXNoKHZlcnRpY2VzW3RoaXMubWVtYmVyc1tpXV0ucG9zaXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBwb2x5Z29uO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgYW5nbGUgb2YgdGhpcyByaW5nIGluIHJlbGF0aW9uIHRvIHRoZSBjb29yZGluYXRlIHN5c3RlbS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBhbmdsZSBpbiByYWRpYW5zLlxyXG4gICAqL1xyXG4gIGdldEFuZ2xlKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gTWF0aC5QSSAtIHRoaXMuY2VudHJhbEFuZ2xlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTG9vcHMgb3ZlciB0aGUgbWVtYmVycyBvZiB0aGlzIHJpbmcgZnJvbSBhIGdpdmVuIHN0YXJ0IHBvc2l0aW9uIGluIGEgZGlyZWN0aW9uIG9wcG9zaXRlIHRvIHRoZSB2ZXJ0ZXggaWQgcGFzc2VkIGFzIHRoZSBwcmV2aW91c0lkLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtWZXJ0ZXhbXX0gdmVydGljZXMgVGhlIHZlcnRpY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBtb2xlY3VsZS5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBBIGNhbGxiYWNrIHdpdGggdGhlIGN1cnJlbnQgdmVydGV4IGlkIGFzIGEgcGFyYW1ldGVyLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydFZlcnRleElkIFRoZSB2ZXJ0ZXggaWQgb2YgdGhlIHN0YXJ0IHZlcnRleC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gcHJldmlvdXNWZXJ0ZXhJZCBUaGUgdmVydGV4IGlkIG9mIHRoZSBwcmV2aW91cyB2ZXJ0ZXggKHRoZSBsb29wIGNhbGxpbmcgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHdpbGwgcnVuIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24gb2YgdGhpcyB2ZXJ0ZXgpLlxyXG4gICAqL1xyXG4gIGVhY2hNZW1iZXIoXHJcbiAgICB2ZXJ0aWNlczogVmVydGV4W10sXHJcbiAgICBjYWxsYmFjazogKHZlcnRleElkOiBudW1iZXIpID0+IHZvaWQsXHJcbiAgICBzdGFydFZlcnRleElkPzogbnVtYmVyLFxyXG4gICAgcHJldmlvdXNWZXJ0ZXhJZD86IG51bWJlclxyXG4gICk6IHZvaWQge1xyXG4gICAgc3RhcnRWZXJ0ZXhJZCA9XHJcbiAgICAgIHN0YXJ0VmVydGV4SWQgfHwgc3RhcnRWZXJ0ZXhJZCA9PT0gMCA/IHN0YXJ0VmVydGV4SWQgOiB0aGlzLm1lbWJlcnNbMF07XHJcbiAgICBsZXQgY3VycmVudDogbnVtYmVyIHwgbnVsbCA9IHN0YXJ0VmVydGV4SWQ7XHJcbiAgICBsZXQgbWF4ID0gMDtcclxuXHJcbiAgICB3aGlsZSAoY3VycmVudCAhPSBudWxsICYmIG1heCA8IDEwMCkge1xyXG4gICAgICBsZXQgcHJldiA9IGN1cnJlbnQ7XHJcblxyXG4gICAgICBjYWxsYmFjayhwcmV2KTtcclxuICAgICAgY3VycmVudCA9IHZlcnRpY2VzW2N1cnJlbnRdLmdldE5leHRJblJpbmcoXHJcbiAgICAgICAgdmVydGljZXMsXHJcbiAgICAgICAgdGhpcy5pZCEsXHJcbiAgICAgICAgcHJldmlvdXNWZXJ0ZXhJZFxyXG4gICAgICApO1xyXG4gICAgICBwcmV2aW91c1ZlcnRleElkID0gcHJldjtcclxuXHJcbiAgICAgIC8vIFN0b3Agd2hpbGUgbG9vcCB3aGVuIGFycml2aW5nIGJhY2sgYXQgdGhlIHN0YXJ0IHZlcnRleFxyXG4gICAgICBpZiAoY3VycmVudCA9PSBzdGFydFZlcnRleElkKSB7XHJcbiAgICAgICAgY3VycmVudCA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1heCsrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBuZWlnaGJvdXJpbmcgcmluZ3Mgb2YgdGhpcyByaW5nIG9yZGVyZWQgYnkgcmluZyBzaXplLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtSaW5nQ29ubmVjdGlvbltdfSByaW5nQ29ubmVjdGlvbnMgQW4gYXJyYXkgb2YgcmluZyBjb25uZWN0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgbW9sZWN1bGUuXHJcbiAgICogQHJldHVybnMge09iamVjdFtdfSBBbiBhcnJheSBvZiBuZWlnaGJvdXJpbmcgcmluZ3Mgc29ydGVkIGJ5IHJpbmcgc2l6ZS4gRXhhbXBsZTogeyBuOiA1LCBuZWlnaGJvdXI6IDEgfS5cclxuICAgKi9cclxuICBnZXRPcmRlcmVkTmVpZ2hib3VycyhcclxuICAgIHJpbmdDb25uZWN0aW9uczogUmluZ0Nvbm5lY3Rpb25bXVxyXG4gICk6IEFycmF5PHsgbjogbnVtYmVyOyBuZWlnaGJvdXI6IG51bWJlciB9PiB7XHJcbiAgICBsZXQgb3JkZXJlZE5laWdoYm91cnMgPSBBcnJheSh0aGlzLm5laWdoYm91cnMubGVuZ3RoKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgdmVydGljZXMgPSBSaW5nQ29ubmVjdGlvbi5nZXRWZXJ0aWNlcyhcclxuICAgICAgICByaW5nQ29ubmVjdGlvbnMsXHJcbiAgICAgICAgdGhpcy5pZCEsXHJcbiAgICAgICAgdGhpcy5uZWlnaGJvdXJzW2ldXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBvcmRlcmVkTmVpZ2hib3Vyc1tpXSA9IHtcclxuICAgICAgICBuOiB2ZXJ0aWNlcy5sZW5ndGgsXHJcbiAgICAgICAgbmVpZ2hib3VyOiB0aGlzLm5laWdoYm91cnNbaV0sXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgb3JkZXJlZE5laWdoYm91cnMuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAvLyBTb3J0IGhpZ2hlc3QgdG8gbG93ZXN0XHJcbiAgICAgIHJldHVybiBiLm4gLSBhLm47XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gb3JkZXJlZE5laWdoYm91cnM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayB3aGV0aGVyIHRoaXMgcmluZyBpcyBhbiBpbXBsaWNpdGx5IGRlZmluZWQgYmVuemVuZS1saWtlIChlLmcuIEMxPUNDPUNDPUMxKSB3aXRoIDYgbWVtYmVycyBhbmQgMyBkb3VibGUgYm9uZHMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1ZlcnRleFtdfSB2ZXJ0aWNlcyBBbiBhcnJheSBvZiB2ZXJ0aWNlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgbW9sZWN1bGUuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoaXMgcmluZyBpcyBhbiBpbXBsaWNpdGx5IGRlZmluZWQgYmVuemVuZS1saWtlLlxyXG4gICAqL1xyXG4gIGlzQmVuemVuZUxpa2UodmVydGljZXM6IFZlcnRleFtdKTogYm9vbGVhbiB7XHJcbiAgICBsZXQgZGIgPSB0aGlzLmdldERvdWJsZUJvbmRDb3VudCh2ZXJ0aWNlcyk7XHJcbiAgICBsZXQgbGVuZ3RoID0gdGhpcy5tZW1iZXJzLmxlbmd0aDtcclxuXHJcbiAgICByZXR1cm4gKGRiID09PSAzICYmIGxlbmd0aCA9PT0gNikgfHwgKGRiID09PSAyICYmIGxlbmd0aCA9PT0gNSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIG51bWJlciBvZiBkb3VibGUgYm9uZHMgaW5zaWRlIHRoaXMgcmluZy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7VmVydGV4W119IHZlcnRpY2VzIEFuIGFycmF5IG9mIHZlcnRpY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBtb2xlY3VsZS5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGRvdWJsZSBib25kcyBpbnNpZGUgdGhpcyByaW5nLlxyXG4gICAqL1xyXG4gIGdldERvdWJsZUJvbmRDb3VudCh2ZXJ0aWNlczogVmVydGV4W10pOiBudW1iZXIge1xyXG4gICAgbGV0IGRvdWJsZUJvbmRDb3VudCA9IDA7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbWJlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGV0IGF0b20gPSB2ZXJ0aWNlc1t0aGlzLm1lbWJlcnNbaV1dLnZhbHVlO1xyXG5cclxuICAgICAgaWYgKGF0b20uYm9uZFR5cGUgPT09IFwiPVwiIHx8IGF0b20uYnJhbmNoQm9uZCA9PT0gXCI9XCIpIHtcclxuICAgICAgICBkb3VibGVCb25kQ291bnQrKztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkb3VibGVCb25kQ291bnQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVja3Mgd2hldGhlciBvciBub3QgdGhpcyByaW5nIGNvbnRhaW5zIGEgbWVtYmVyIHdpdGggYSBnaXZlbiB2ZXJ0ZXggaWQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0gdmVydGV4SWQgQSB2ZXJ0ZXggaWQuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoaXMgcmluZyBjb250YWlucyBhIG1lbWJlciB3aXRoIHRoZSBnaXZlbiB2ZXJ0ZXggaWQuXHJcbiAgICovXHJcbiAgY29udGFpbnModmVydGV4SWQ6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbWJlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHRoaXMubWVtYmVyc1tpXSA9PSB2ZXJ0ZXhJZCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBWZXJ0ZXggfSBmcm9tIFwiLi9WZXJ0ZXhcIjtcclxuaW1wb3J0IHsgUmluZyB9IGZyb20gXCIuL1JpbmdcIjtcclxuXHJcbi8qKlxyXG4gKiBBIGNsYXNzIHJlcHJlc2VudGluZyBhIHJpbmcgY29ubmVjdGlvbi5cclxuICpcclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGlkIFRoZSBpZCBvZiB0aGlzIHJpbmcgY29ubmVjdGlvbi5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGZpcnN0UmluZ0lkIEEgcmluZyBpZC5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHNlY29uZFJpbmdJZCBBIHJpbmcgaWQuXHJcbiAqIEBwcm9wZXJ0eSB7U2V0PE51bWJlcj59IHZlcnRpY2VzIEEgc2V0IGNvbnRhaW5pbmcgdGhlIHZlcnRleCBpZHMgcGFydGljaXBhdGluZyBpbiB0aGUgcmluZyBjb25uZWN0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFJpbmdDb25uZWN0aW9uIHtcclxuICBwdWJsaWMgaWQ6IG51bWJlciB8IG51bGw7XHJcbiAgcHJpdmF0ZSBmaXJzdFJpbmdJZDogbnVtYmVyIHwgbnVsbDs7XHJcbiAgcHJpdmF0ZSBzZWNvbmRSaW5nSWQ6IG51bWJlciB8IG51bGw7O1xyXG4gIHByaXZhdGUgdmVydGljZXM6IFNldDxudW1iZXI+O1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgY29uc3RydWN0b3IgZm9yIHRoZSBjbGFzcyBSaW5nQ29ubmVjdGlvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UmluZ30gZmlyc3RSaW5nIEEgcmluZy5cclxuICAgKiBAcGFyYW0ge1Jpbmd9IHNlY29uZFJpbmcgQSByaW5nLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKGZpcnN0UmluZzogUmluZywgc2Vjb25kUmluZzogUmluZykge1xyXG4gICAgdGhpcy5pZCA9IG51bGw7XHJcbiAgICB0aGlzLmZpcnN0UmluZ0lkID0gZmlyc3RSaW5nLmlkO1xyXG4gICAgdGhpcy5zZWNvbmRSaW5nSWQgPSBzZWNvbmRSaW5nLmlkO1xyXG4gICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBTZXQ8bnVtYmVyPigpO1xyXG5cclxuICAgIGZvciAobGV0IG0gPSAwOyBtIDwgZmlyc3RSaW5nLm1lbWJlcnMubGVuZ3RoOyBtKyspIHtcclxuICAgICAgbGV0IGMgPSBmaXJzdFJpbmcubWVtYmVyc1ttXTtcclxuXHJcbiAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgc2Vjb25kUmluZy5tZW1iZXJzLmxlbmd0aDsgbisrKSB7XHJcbiAgICAgICAgbGV0IGQgPSBzZWNvbmRSaW5nLm1lbWJlcnNbbl07XHJcblxyXG4gICAgICAgIGlmIChjID09PSBkKSB7XHJcbiAgICAgICAgICB0aGlzLmFkZFZlcnRleChjKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZGluZyBhIHZlcnRleCB0byB0aGUgcmluZyBjb25uZWN0aW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlcnRleElkIEEgdmVydGV4IGlkLlxyXG4gICAqL1xyXG4gIGFkZFZlcnRleCh2ZXJ0ZXhJZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLnZlcnRpY2VzLmFkZCh2ZXJ0ZXhJZCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgdGhlIHJpbmcgaWQgb2YgdGhpcyByaW5nIGNvbm5lY3Rpb24gdGhhdCBpcyBub3QgdGhlIHJpbmcgaWQgc3VwcGxpZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByaW5nSWQgQSByaW5nIGlkLiBUaGUgbmV3IHJpbmcgaWQgdG8gYmUgc2V0LlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvdGhlclJpbmdJZCBBIHJpbmcgaWQuIFRoZSBpZCB0aGF0IGlzIE5PVCB0byBiZSB1cGRhdGVkLlxyXG4gICAqL1xyXG4gIHVwZGF0ZU90aGVyKHJpbmdJZDogbnVtYmVyLCBvdGhlclJpbmdJZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5maXJzdFJpbmdJZCA9PT0gb3RoZXJSaW5nSWQpIHtcclxuICAgICAgdGhpcy5zZWNvbmRSaW5nSWQgPSByaW5nSWQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmZpcnN0UmluZ0lkID0gcmluZ0lkO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCBhIHJpbmcgd2l0aCBhIGdpdmVuIGlkIGlzIHBhcnRpY2lwYXRpbmcgaW4gdGhpcyByaW5nIGNvbm5lY3Rpb24uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0gcmluZ0lkIEEgcmluZyBpZC5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgYSByaW5nIHdpdGggYSBnaXZlbiBpZCBwYXJ0aWNpcGF0ZXMgaW4gdGhpcyByaW5nIGNvbm5lY3Rpb24uXHJcbiAgICovXHJcbiAgY29udGFpbnNSaW5nKHJpbmdJZDogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5maXJzdFJpbmdJZCA9PT0gcmluZ0lkIHx8IHRoaXMuc2Vjb25kUmluZ0lkID09PSByaW5nSWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVja3Mgd2hldGhlciBvciBub3QgdGhpcyByaW5nIGNvbm5lY3Rpb24gaXMgYSBicmlkZ2UgaW4gYSBicmlkZ2VkIHJpbmcuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1ZlcnRleFtdfSB2ZXJ0aWNlcyBUaGUgYXJyYXkgb2YgdmVydGljZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IG1vbGVjdWxlLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHJpbmcgY29ubmVjdGlvbiBpcyBhIGJyaWRnZS5cclxuICAgKi9cclxuICBpc0JyaWRnZSh2ZXJ0aWNlczogVmVydGV4W10pOiBib29sZWFuIHtcclxuICAgIGlmICh0aGlzLnZlcnRpY2VzLnNpemUgPiAyKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IHZlcnRleElkIG9mIHRoaXMudmVydGljZXMpIHtcclxuICAgICAgaWYgKHZlcnRpY2VzW3ZlcnRleElkXS52YWx1ZS5yaW5ncy5sZW5ndGggPiAyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVja3Mgd2hldGhlciBvciBub3QgdHdvIHJpbmdzIGFyZSBjb25uZWN0ZWQgYnkgYSBicmlkZ2VkIGJvbmQuXHJcbiAgICpcclxuICAgKiBAc3RhdGljXHJcbiAgICogQHBhcmFtIHtSaW5nQ29ubmVjdGlvbltdfSByaW5nQ29ubmVjdGlvbnMgQW4gYXJyYXkgb2YgcmluZyBjb25uZWN0aW9ucyBjb250YWluaW5nIHRoZSByaW5nIGNvbm5lY3Rpb25zIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBtb2xlY3VsZS5cclxuICAgKiBAcGFyYW0ge1ZlcnRleFtdfSB2ZXJ0aWNlcyBBbiBhcnJheSBvZiB2ZXJ0aWNlcyBjb250YWluaW5nIHRoZSB2ZXJ0aWNlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgbW9sZWN1bGUuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGZpcnN0UmluZ0lkIEEgcmluZyBpZC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gc2Vjb25kUmluZ0lkIEEgcmluZyBpZC5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdHdvIHJpbmdzIGFyIGNvbm5lY3RlZCBieSBhIGJyaWRnZWQgYm9uZC5cclxuICAgKi9cclxuICBzdGF0aWMgaXNCcmlkZ2UoXHJcbiAgICByaW5nQ29ubmVjdGlvbnM6IFJpbmdDb25uZWN0aW9uW10sXHJcbiAgICB2ZXJ0aWNlczogVmVydGV4W10sXHJcbiAgICBmaXJzdFJpbmdJZDogbnVtYmVyLFxyXG4gICAgc2Vjb25kUmluZ0lkOiBudW1iZXJcclxuICApOiBib29sZWFuIHtcclxuICAgIGxldCByaW5nQ29ubmVjdGlvbjogUmluZ0Nvbm5lY3Rpb24gfCBudWxsID0gbnVsbDtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJpbmdDb25uZWN0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICByaW5nQ29ubmVjdGlvbiA9IHJpbmdDb25uZWN0aW9uc1tpXTtcclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICAocmluZ0Nvbm5lY3Rpb24uZmlyc3RSaW5nSWQgPT09IGZpcnN0UmluZ0lkICYmXHJcbiAgICAgICAgICByaW5nQ29ubmVjdGlvbi5zZWNvbmRSaW5nSWQgPT09IHNlY29uZFJpbmdJZCkgfHxcclxuICAgICAgICAocmluZ0Nvbm5lY3Rpb24uZmlyc3RSaW5nSWQgPT09IHNlY29uZFJpbmdJZCAmJlxyXG4gICAgICAgICAgcmluZ0Nvbm5lY3Rpb24uc2Vjb25kUmluZ0lkID09PSBmaXJzdFJpbmdJZClcclxuICAgICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIHJpbmdDb25uZWN0aW9uLmlzQnJpZGdlKHZlcnRpY2VzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHJ1bnMgdGhlIG5laWdoYm91cmluZyByaW5ncyBvZiBhIGdpdmVuIHJpbmcuXHJcbiAgICpcclxuICAgKiBAc3RhdGljXHJcbiAgICogQHBhcmFtIHtSaW5nQ29ubmVjdGlvbltdfSByaW5nQ29ubmVjdGlvbnMgQW4gYXJyYXkgb2YgcmluZyBjb25uZWN0aW9ucyBjb250YWluaW5nIHJpbmcgY29ubmVjdGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IG1vbGVjdWxlLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByaW5nSWQgQSByaW5nIGlkLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJbXX0gQW4gYXJyYXkgb2YgcmluZyBpZHMgb2YgbmVpZ2hib3VyaW5nIHJpbmdzLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBnZXROZWlnaGJvdXJzKFxyXG4gICAgcmluZ0Nvbm5lY3Rpb25zOiBSaW5nQ29ubmVjdGlvbltdLFxyXG4gICAgcmluZ0lkOiBudW1iZXJcclxuICApOiAobnVtYmVyIHwgbnVsbClbXSB7XHJcbiAgICBsZXQgbmVpZ2hib3VyczogKG51bWJlciB8IG51bGwpW10gPSBbXTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJpbmdDb25uZWN0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgcmluZ0Nvbm5lY3Rpb24gPSByaW5nQ29ubmVjdGlvbnNbaV07XHJcblxyXG4gICAgICBpZiAocmluZ0Nvbm5lY3Rpb24uZmlyc3RSaW5nSWQgPT09IHJpbmdJZCkge1xyXG4gICAgICAgIG5laWdoYm91cnMucHVzaChyaW5nQ29ubmVjdGlvbi5zZWNvbmRSaW5nSWQpO1xyXG4gICAgICB9IGVsc2UgaWYgKHJpbmdDb25uZWN0aW9uLnNlY29uZFJpbmdJZCA9PT0gcmluZ0lkKSB7XHJcbiAgICAgICAgbmVpZ2hib3Vycy5wdXNoKHJpbmdDb25uZWN0aW9uLmZpcnN0UmluZ0lkKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZWlnaGJvdXJzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiB2ZXJ0ZXggaWRzIGFzc29jaWF0ZWQgd2l0aCBhIGdpdmVuIHJpbmcgY29ubmVjdGlvbi5cclxuICAgKlxyXG4gICAqIEBzdGF0aWNcclxuICAgKiBAcGFyYW0ge1JpbmdDb25uZWN0aW9uW119IHJpbmdDb25uZWN0aW9ucyBBbiBhcnJheSBvZiByaW5nIGNvbm5lY3Rpb25zIGNvbnRhaW5pbmcgcmluZyBjb25uZWN0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgbW9sZWN1bGUuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGZpcnN0UmluZ0lkIEEgcmluZyBpZC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gc2Vjb25kUmluZ0lkIEEgcmluZyBpZC5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyW119IEFuIGFycmF5IG9mIHZlcnRleCBpZHMgYXNzb2NpYXRlZCB3aXRoIHRoZSByaW5nIGNvbm5lY3Rpb24uXHJcbiAgICovXHJcbiAgc3RhdGljIGdldFZlcnRpY2VzKFxyXG4gICAgcmluZ0Nvbm5lY3Rpb25zOiBSaW5nQ29ubmVjdGlvbltdLFxyXG4gICAgZmlyc3RSaW5nSWQ6IG51bWJlcixcclxuICAgIHNlY29uZFJpbmdJZDogbnVtYmVyXHJcbiAgKTogbnVtYmVyW10ge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByaW5nQ29ubmVjdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGV0IHJpbmdDb25uZWN0aW9uID0gcmluZ0Nvbm5lY3Rpb25zW2ldO1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgKHJpbmdDb25uZWN0aW9uLmZpcnN0UmluZ0lkID09PSBmaXJzdFJpbmdJZCAmJlxyXG4gICAgICAgICAgcmluZ0Nvbm5lY3Rpb24uc2Vjb25kUmluZ0lkID09PSBzZWNvbmRSaW5nSWQpIHx8XHJcbiAgICAgICAgKHJpbmdDb25uZWN0aW9uLmZpcnN0UmluZ0lkID09PSBzZWNvbmRSaW5nSWQgJiZcclxuICAgICAgICAgIHJpbmdDb25uZWN0aW9uLnNlY29uZFJpbmdJZCA9PT0gZmlyc3RSaW5nSWQpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHJldHVybiBbLi4ucmluZ0Nvbm5lY3Rpb24udmVydGljZXNdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG59XHJcbiIsIi8vIEB0cy1ub2NoZWNrXG4vLyB3ZSB1c2UgdGhlIGRyYXdlciB0byBkbyBhbGwgdGhlIHByZXByb2Nlc3NpbmcuIHRoZW4gd2UgdGFrZSBvdmVyIHRoZSBkcmF3aW5nXG4vLyBwb3J0aW9uIHRvIG91dHB1dCB0byBzdmdcbmltcG9ydCB7IEF0b20gfSBmcm9tIFwiLi9BdG9tXCI7XG5pbXBvcnQgeyBBcnJheUhlbHBlciB9IGZyb20gXCIuL0FycmF5SGVscGVyXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4vVmVjdG9yMlwiO1xuaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL0xpbmVcIjtcbmltcG9ydCB7IFRoZW1lTWFuYWdlciB9IGZyb20gXCIuL1RoZW1lTWFuYWdlclwiO1xuaW1wb3J0IHsgU3ZnV3JhcHBlciB9IGZyb20gXCIuL1N2Z1dyYXBwZXJcIjtcbmltcG9ydCB7IEdhdXNzRHJhd2VyIH0gZnJvbSBcIi4vR2F1c3NEcmF3ZXJcIjtcbmltcG9ydCB7IERyYXdlckJhc2UgfSBmcm9tIFwiLi9EcmF3ZXJCYXNlXCI7XG5pbXBvcnQgdHlwZSB7IFBhcnNlVHJlZU5vZGUgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgU3ZnRHJhd2VyIHtcbiAgcHJpdmF0ZSBwcmVwcm9jZXNzb3I6IERyYXdlckJhc2U7XG4gIHB1YmxpYyBvcHRzOiBhbnk7XG4gIHByaXZhdGUgY2xlYXI6IGJvb2xlYW47XG4gIHB1YmxpYyBzdmdXcmFwcGVyOiBTdmdXcmFwcGVyIHwgbnVsbDtcbiAgcHJpdmF0ZSB0aGVtZU1hbmFnZXI/OiBUaGVtZU1hbmFnZXI7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogYW55LCBjbGVhcjogYm9vbGVhbiA9IHRydWUpIHtcbiAgICB0aGlzLnByZXByb2Nlc3NvciA9IG5ldyBEcmF3ZXJCYXNlKG9wdGlvbnMpO1xuICAgIHRoaXMub3B0cyA9IHRoaXMucHJlcHJvY2Vzc29yLm9wdHM7XG4gICAgdGhpcy5jbGVhciA9IGNsZWFyO1xuICAgIHRoaXMuc3ZnV3JhcHBlciA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIHBhcnNlZCBzbWlsZXMgZGF0YSB0byBhbiBzdmcgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgVGhlIHRyZWUgcmV0dXJuZWQgYnkgdGhlIHNtaWxlcyBwYXJzZXIuXG4gICAqIEBwYXJhbSB7PyhTdHJpbmd8U1ZHRWxlbWVudCl9IHRhcmdldCBUaGUgaWQgb2YgdGhlIEhUTUwgc3ZnIGVsZW1lbnQgdGhlIHN0cnVjdHVyZSBpcyBkcmF3biB0byAtIG9yIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHRoZW1lTmFtZT0nZGFyaycgVGhlIG5hbWUgb2YgdGhlIHRoZW1lIHRvIHVzZS4gQnVpbHQtaW4gdGhlbWVzIGFyZSAnbGlnaHQnIGFuZCAnZGFyaycuXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaW5mb09ubHk9ZmFsc2UgT25seSBvdXRwdXQgaW5mbyBvbiB0aGUgbW9sZWN1bGUgd2l0aG91dCBkcmF3aW5nIGFueXRoaW5nIHRvIHRoZSBjYW52YXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtTVkdFbGVtZW50fSBUaGUgc3ZnIGVsZW1lbnRcbiAgICovXG4gIHB1YmxpYyBkcmF3KFxuICAgIGRhdGE6IFBhcnNlVHJlZU5vZGUsXG4gICAgdGFyZ2V0OiBzdHJpbmcgfCBTVkdTVkdFbGVtZW50IHwgbnVsbCxcbiAgICB0aGVtZU5hbWU6IHN0cmluZyA9IFwibGlnaHRcIixcbiAgICB3ZWlnaHRzOiBhbnkgPSBudWxsLFxuICAgIGluZm9Pbmx5OiBib29sZWFuID0gZmFsc2UsXG4gICAgaGlnaGxpZ2h0X2F0b21zOiBudW1iZXJbXSA9IFtdLFxuICAgIHdlaWdodHNOb3JtYWxpemVkOiBib29sZWFuID0gZmFsc2VcbiAgKTogU1ZHU1ZHRWxlbWVudCB7XG4gICAgaWYgKHRhcmdldCA9PT0gbnVsbCB8fCB0YXJnZXQgPT09IFwic3ZnXCIpIHtcbiAgICAgIHRhcmdldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpIGFzIFNWR1NWR0VsZW1lbnQ7XG4gICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKFwieG1sbnNcIiwgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiKTtcbiAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoXCJ4bWxuczp4bGlua1wiLCBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIik7XG4gICAgICB0YXJnZXQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ3aWR0aFwiLCB0aGlzLm9wdHMud2lkdGgudG9TdHJpbmcoKSk7XG4gICAgICB0YXJnZXQuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJoZWlnaHRcIiwgdGhpcy5vcHRzLmhlaWdodC50b1N0cmluZygpKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0YXJnZXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCkgYXMgU1ZHU1ZHRWxlbWVudDtcbiAgICB9XG5cbiAgICBsZXQgb3B0aW9uQmFja3VwID0ge1xuICAgICAgcGFkZGluZzogdGhpcy5vcHRzLnBhZGRpbmcsXG4gICAgICBjb21wYWN0RHJhd2luZzogdGhpcy5vcHRzLmNvbXBhY3REcmF3aW5nLFxuICAgIH07XG5cbiAgICAvLyBPdmVyd3JpdGUgb3B0aW9ucyB3aGVuIHdlaWdodHMgYXJlIGFkZGVkXG4gICAgaWYgKHdlaWdodHMgIT09IG51bGwpIHtcbiAgICAgIHRoaXMub3B0cy5wYWRkaW5nICs9IHRoaXMub3B0cy53ZWlnaHRzLmFkZGl0aW9uYWxQYWRkaW5nO1xuICAgICAgdGhpcy5vcHRzLmNvbXBhY3REcmF3aW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IHByZXByb2Nlc3NvciA9IHRoaXMucHJlcHJvY2Vzc29yO1xuXG4gICAgcHJlcHJvY2Vzc29yLmluaXREcmF3KGRhdGEsIHRoZW1lTmFtZSwgaW5mb09ubHksIGhpZ2hsaWdodF9hdG9tcyk7XG5cbiAgICBpZiAoIWluZm9Pbmx5KSB7XG4gICAgICB0aGlzLnRoZW1lTWFuYWdlciA9IG5ldyBUaGVtZU1hbmFnZXIodGhpcy5vcHRzLnRoZW1lcywgdGhlbWVOYW1lKTtcbiAgICAgIGlmICh0aGlzLnN2Z1dyYXBwZXIgPT09IG51bGwgfHwgdGhpcy5jbGVhcikge1xuICAgICAgICB0aGlzLnN2Z1dyYXBwZXIgPSBuZXcgU3ZnV3JhcHBlcihcbiAgICAgICAgICB0aGlzLnRoZW1lTWFuYWdlcixcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgdGhpcy5vcHRzLFxuICAgICAgICAgIHRoaXMuY2xlYXJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcmVwcm9jZXNzb3IucHJvY2Vzc0dyYXBoKCk7XG5cbiAgICAvLyBTZXQgdGhlIGNhbnZhcyB0byB0aGUgYXBwcm9wcmlhdGUgc2l6ZVxuICAgIHRoaXMuc3ZnV3JhcHBlciEuZGV0ZXJtaW5lRGltZW5zaW9ucyhwcmVwcm9jZXNzb3IuZ3JhcGghLnZlcnRpY2VzKTtcblxuICAgIC8vIERvIHRoZSBhY3R1YWwgZHJhd2luZ1xuICAgIHRoaXMuZHJhd0F0b21IaWdobGlnaHRzKHByZXByb2Nlc3Nvci5vcHRzLmRlYnVnKTtcbiAgICB0aGlzLmRyYXdFZGdlcyhwcmVwcm9jZXNzb3Iub3B0cy5kZWJ1Zyk7XG4gICAgdGhpcy5kcmF3VmVydGljZXMocHJlcHJvY2Vzc29yLm9wdHMuZGVidWcpO1xuXG4gICAgaWYgKHdlaWdodHMgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuZHJhd1dlaWdodHMod2VpZ2h0cywgd2VpZ2h0c05vcm1hbGl6ZWQpO1xuICAgIH1cblxuICAgIGlmIChwcmVwcm9jZXNzb3Iub3B0cy5kZWJ1Zykge1xuICAgICAgY29uc29sZS5sb2cocHJlcHJvY2Vzc29yLmdyYXBoKTtcbiAgICAgIGNvbnNvbGUubG9nKHByZXByb2Nlc3Nvci5yaW5ncyk7XG4gICAgICBjb25zb2xlLmxvZyhwcmVwcm9jZXNzb3IucmluZ0Nvbm5lY3Rpb25zKTtcbiAgICB9XG5cbiAgICB0aGlzLnN2Z1dyYXBwZXIhLmNvbnN0cnVjdFN2ZygpO1xuXG4gICAgLy8gUmVzZXQgb3B0aW9ucyBpbiBjYXNlIHdlaWdodHMgd2VyZSBhZGRlZC5cbiAgICBpZiAod2VpZ2h0cyAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5vcHRzLnBhZGRpbmcgPSBvcHRpb25CYWNrdXAucGFkZGluZztcbiAgICAgIHRoaXMub3B0cy5jb21wYWN0RHJhd2luZyA9IG9wdGlvbkJhY2t1cC5wYWRkaW5nO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQgYXMgU1ZHU1ZHRWxlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgcGFyc2VkIHNtaWxlcyBkYXRhIHRvIGEgY2FudmFzIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFRoZSB0cmVlIHJldHVybmVkIGJ5IHRoZSBzbWlsZXMgcGFyc2VyLlxuICAgKiBAcGFyYW0geyhTdHJpbmd8SFRNTENhbnZhc0VsZW1lbnQpfSB0YXJnZXQgVGhlIGlkIG9mIHRoZSBIVE1MIGNhbnZhcyBlbGVtZW50IHRoZSBzdHJ1Y3R1cmUgaXMgZHJhd24gdG8gLSBvciB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0aGVtZU5hbWU9J2RhcmsnIFRoZSBuYW1lIG9mIHRoZSB0aGVtZSB0byB1c2UuIEJ1aWx0LWluIHRoZW1lcyBhcmUgJ2xpZ2h0JyBhbmQgJ2RhcmsnLlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGluZm9Pbmx5PWZhbHNlIE9ubHkgb3V0cHV0IGluZm8gb24gdGhlIG1vbGVjdWxlIHdpdGhvdXQgZHJhd2luZyBhbnl0aGluZyB0byB0aGUgY2FudmFzLlxuICAgKi9cbiAgZHJhd0NhbnZhcyhkYXRhOiBhbnksIHRhcmdldDogYW55LCB0aGVtZU5hbWU6IHN0cmluZyA9IFwibGlnaHRcIiwgaW5mb09ubHk6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xuICAgIGxldCBjYW52YXMgPSBudWxsO1xuICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcInN0cmluZ1wiIHx8IHRhcmdldCBpbnN0YW5jZW9mIFN0cmluZykge1xuICAgICAgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FudmFzID0gdGFyZ2V0O1xuICAgIH1cblxuICAgIGxldCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICBzdmcuc2V0QXR0cmlidXRlKFwieG1sbnNcIiwgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiKTtcbiAgICAvLyA1MDAgYXMgYSBzaXplIGlzIGFyYnJpdHJhcnksIGJ1dCB0aGUgY2FudmFzIGlzIHNjYWxlZCB3aGVuIGRyYXduIHRvIHRoZSBjYW52YXMgYW55d2F5XG4gICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBcIjAgMCBcIiArIDUwMCArIFwiIFwiICsgNTAwKTtcbiAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ3aWR0aFwiLCA1MDAgKyBcIlwiKTtcbiAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJoZWlnaHRcIiwgNTAwICsgXCJcIik7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZU5TKFxuICAgICAgbnVsbCxcbiAgICAgIFwic3R5bGVcIixcbiAgICAgIFwidmlzaWJpbGl0eTogaGlkZGVuOiBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IC0xMDAwcHhcIlxuICAgICk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdmcpO1xuICAgIHRoaXMuc3ZnRHJhd2VyLmRyYXcoZGF0YSwgc3ZnLCB0aGVtZU5hbWUsIGluZm9Pbmx5KTtcbiAgICB0aGlzLnN2Z0RyYXdlci5zdmdXcmFwcGVyLnRvQ2FudmFzKFxuICAgICAgY2FudmFzLFxuICAgICAgdGhpcy5zdmdEcmF3ZXIub3B0cy53aWR0aCxcbiAgICAgIHRoaXMuc3ZnRHJhd2VyLm9wdHMuaGVpZ2h0XG4gICAgKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHN2Zyk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyBhIHJpbmcgaW5zaWRlIGEgcHJvdmlkZWQgcmluZywgaW5kaWNhdGluZyBhcm9tYXRpY2l0eS5cbiAgICpcbiAgICogQHBhcmFtIHtSaW5nfSByaW5nIEEgcmluZy5cbiAgICovXG4gIGRyYXdBcm9tYXRpY2l0eVJpbmcocmluZzogYW55KTogdm9pZCB7XG4gICAgbGV0IHN2Z1dyYXBwZXIgPSB0aGlzLnN2Z1dyYXBwZXI7XG4gICAgc3ZnV3JhcHBlci5kcmF3UmluZyhyaW5nLmNlbnRlci54LCByaW5nLmNlbnRlci55LCByaW5nLmdldFNpemUoKSk7XG4gIH1cblxuICAvKipcbiAgICogRHJhdyB0aGUgYWN0dWFsIGVkZ2VzIGFzIGJvbmRzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGRlYnVnIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRvIGRyYXcgZGVidWcgaGVscGVycy5cbiAgICovXG4gIGRyYXdFZGdlcyhkZWJ1ZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGxldCBwcmVwcm9jZXNzb3IgPSB0aGlzLnByZXByb2Nlc3NvcixcbiAgICAgIGdyYXBoID0gcHJlcHJvY2Vzc29yLmdyYXBoLFxuICAgICAgcmluZ3MgPSBwcmVwcm9jZXNzb3IucmluZ3MsXG4gICAgICBkcmF3biA9IEFycmF5KHRoaXMucHJlcHJvY2Vzc29yLmdyYXBoIS5lZGdlcy5sZW5ndGgpO1xuXG4gICAgZHJhd24uZmlsbChmYWxzZSk7XG5cbiAgICBncmFwaCEudHJhdmVyc2VCRigwLCAodmVydGV4KSA9PiB7XG4gICAgICBsZXQgZWRnZXMgPSBncmFwaCEuZ2V0RWRnZXModmVydGV4LmlkKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWRnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGVkZ2VJZCA9IGVkZ2VzW2ldO1xuICAgICAgICBpZiAoIWRyYXduW2VkZ2VJZF0pIHtcbiAgICAgICAgICBkcmF3bltlZGdlSWRdID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmRyYXdFZGdlKGVkZ2VJZCwgZGVidWcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBEcmF3IHJpbmcgZm9yIGltcGxpY2l0bHkgZGVmaW5lZCBhcm9tYXRpYyByaW5nc1xuICAgIGlmICghdGhpcy5icmlkZ2VkUmluZykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcmluZyA9IHJpbmdzW2ldO1xuXG4gICAgICAgIC8vVE9ETzogdXNlcyBjYW52YXMgY3R4IHRvIGRyYXcuLi4gbmVlZCB0byB1cGRhdGUgdGhpcyB0byBTVkdcbiAgICAgICAgaWYgKHByZXByb2Nlc3Nvci5pc1JpbmdBcm9tYXRpYyhyaW5nKSkge1xuICAgICAgICAgIHRoaXMuZHJhd0Fyb21hdGljaXR5UmluZyhyaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IHRoZSBhbiBlZGdlIGFzIGEgYm9uZC5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVkZ2VJZCBBbiBlZGdlIGlkLlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGRlYnVnIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRvIGRyYXcgZGVidWcgaGVscGVycy5cbiAgICovXG4gIGRyYXdFZGdlKGVkZ2VJZDogbnVtYmVyLCBkZWJ1ZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGxldCBwcmVwcm9jZXNzb3IgPSB0aGlzLnByZXByb2Nlc3NvcixcbiAgICAgIG9wdHMgPSBwcmVwcm9jZXNzb3Iub3B0cyxcbiAgICAgIHN2Z1dyYXBwZXIgPSB0aGlzLnN2Z1dyYXBwZXIsXG4gICAgICBlZGdlID0gcHJlcHJvY2Vzc29yLmdyYXBoIS5lZGdlc1tlZGdlSWRdLFxuICAgICAgdmVydGV4QSA9IHByZXByb2Nlc3Nvci5ncmFwaCEudmVydGljZXNbZWRnZS5zb3VyY2VJZF0sXG4gICAgICB2ZXJ0ZXhCID0gcHJlcHJvY2Vzc29yLmdyYXBoIS52ZXJ0aWNlc1tlZGdlLnRhcmdldElkXSxcbiAgICAgIGVsZW1lbnRBID0gdmVydGV4QS52YWx1ZS5lbGVtZW50LFxuICAgICAgZWxlbWVudEIgPSB2ZXJ0ZXhCLnZhbHVlLmVsZW1lbnQ7XG5cbiAgICBpZiAoXG4gICAgICAoIXZlcnRleEEudmFsdWUuaXNEcmF3biB8fCAhdmVydGV4Qi52YWx1ZS5pc0RyYXduKSAmJlxuICAgICAgcHJlcHJvY2Vzc29yLm9wdHMuYXRvbVZpc3VhbGl6YXRpb24gPT09IFwiZGVmYXVsdFwiXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGEgPSB2ZXJ0ZXhBLnBvc2l0aW9uLFxuICAgICAgYiA9IHZlcnRleEIucG9zaXRpb24sXG4gICAgICBub3JtYWxzID0gcHJlcHJvY2Vzc29yLmdldEVkZ2VOb3JtYWxzKGVkZ2UpLFxuICAgICAgLy8gQ3JlYXRlIGEgcG9pbnQgb24gZWFjaCBzaWRlIG9mIHRoZSBsaW5lXG4gICAgICBzaWRlcyA9IEFycmF5SGVscGVyLmNsb25lKG5vcm1hbHMpO1xuXG4gICAgc2lkZXNbMF0ubXVsdGlwbHlTY2FsYXIoMTApLmFkZChhKTtcbiAgICBzaWRlc1sxXS5tdWx0aXBseVNjYWxhcigxMCkuYWRkKGEpO1xuXG4gICAgaWYgKFxuICAgICAgZWRnZS5ib25kVHlwZSA9PT0gXCI9XCIgfHxcbiAgICAgIHByZXByb2Nlc3Nvci5nZXRSaW5nYm9uZFR5cGUodmVydGV4QSwgdmVydGV4QikgPT09IFwiPVwiIHx8XG4gICAgICAoZWRnZS5pc1BhcnRPZkFyb21hdGljUmluZyAmJiBwcmVwcm9jZXNzb3IuYnJpZGdlZFJpbmcpXG4gICAgKSB7XG4gICAgICAvLyBBbHdheXMgZHJhdyBkb3VibGUgYm9uZHMgaW5zaWRlIHRoZSByaW5nXG4gICAgICBsZXQgaW5SaW5nID0gcHJlcHJvY2Vzc29yLmFyZVZlcnRpY2VzSW5TYW1lUmluZyh2ZXJ0ZXhBLCB2ZXJ0ZXhCKTtcbiAgICAgIGxldCBzID0gcHJlcHJvY2Vzc29yLmNob29zZVNpZGUodmVydGV4QSwgdmVydGV4Qiwgc2lkZXMpO1xuXG4gICAgICBpZiAoaW5SaW5nKSB7XG4gICAgICAgIC8vIEFsd2F5cyBkcmF3IGRvdWJsZSBib25kcyBpbnNpZGUgYSByaW5nXG4gICAgICAgIC8vIGlmIHRoZSBib25kIGlzIHNoYXJlZCBieSB0d28gcmluZ3MsIGl0IGlzIGRyYXduIGluIHRoZSBsYXJnZXJcbiAgICAgICAgLy8gcHJvYmxlbTogc21hbGxlciByaW5nIGlzIGFyb21hdGljLCBib25kIGlzIHN0aWxsIGRyYXduIGluIGxhcmdlciAtPiBmaXggdGhpc1xuICAgICAgICBsZXQgbGNyID0gcHJlcHJvY2Vzc29yLmdldExhcmdlc3RPckFyb21hdGljQ29tbW9uUmluZyh2ZXJ0ZXhBLCB2ZXJ0ZXhCKTtcbiAgICAgICAgbGV0IGNlbnRlciA9IGxjci5jZW50ZXI7XG5cbiAgICAgICAgbm9ybWFsc1swXS5tdWx0aXBseVNjYWxhcihvcHRzLmJvbmRTcGFjaW5nKTtcbiAgICAgICAgbm9ybWFsc1sxXS5tdWx0aXBseVNjYWxhcihvcHRzLmJvbmRTcGFjaW5nKTtcblxuICAgICAgICAvLyBDaG9vc2UgdGhlIG5vcm1hbCB0aGF0IGlzIG9uIHRoZSBzYW1lIHNpZGUgYXMgdGhlIGNlbnRlclxuICAgICAgICBsZXQgbGluZSA9IG51bGw7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNlbnRlci5zYW1lU2lkZUFzKFxuICAgICAgICAgICAgdmVydGV4QS5wb3NpdGlvbixcbiAgICAgICAgICAgIHZlcnRleEIucG9zaXRpb24sXG4gICAgICAgICAgICBWZWN0b3IyLmFkZChhLCBub3JtYWxzWzBdKVxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgbGluZSA9IG5ldyBMaW5lKFxuICAgICAgICAgICAgVmVjdG9yMi5hZGQoYSwgbm9ybWFsc1swXSksXG4gICAgICAgICAgICBWZWN0b3IyLmFkZChiLCBub3JtYWxzWzBdKSxcbiAgICAgICAgICAgIGVsZW1lbnRBLFxuICAgICAgICAgICAgZWxlbWVudEJcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpbmUgPSBuZXcgTGluZShcbiAgICAgICAgICAgIFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMV0pLFxuICAgICAgICAgICAgVmVjdG9yMi5hZGQoYiwgbm9ybWFsc1sxXSksXG4gICAgICAgICAgICBlbGVtZW50QSxcbiAgICAgICAgICAgIGVsZW1lbnRCXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpbmUuc2hvcnRlbihvcHRzLmJvbmRMZW5ndGggLSBvcHRzLnNob3J0Qm9uZExlbmd0aCAqIG9wdHMuYm9uZExlbmd0aCk7XG5cbiAgICAgICAgLy8gVGhlIHNob3J0ZW5lZCBlZGdlXG4gICAgICAgIGlmIChlZGdlLmlzUGFydE9mQXJvbWF0aWNSaW5nKSB7XG4gICAgICAgICAgLy8gcHJlcHJvY2Vzc29yLmNhbnZhc1dyYXBwZXIuZHJhd0xpbmUobGluZSwgdHJ1ZSk7XG4gICAgICAgICAgc3ZnV3JhcHBlci5kcmF3TGluZShsaW5lLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBwcmVwcm9jZXNzb3IuY2FudmFzV3JhcHBlci5kcmF3TGluZShsaW5lKTtcbiAgICAgICAgICBzdmdXcmFwcGVyLmRyYXdMaW5lKGxpbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3ZnV3JhcHBlci5kcmF3TGluZShuZXcgTGluZShhLCBiLCBlbGVtZW50QSwgZWxlbWVudEIpKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIGVkZ2UuY2VudGVyIHx8XG4gICAgICAgICh2ZXJ0ZXhBLmlzVGVybWluYWwoKSAmJiB2ZXJ0ZXhCLmlzVGVybWluYWwoKSkgfHxcbiAgICAgICAgKHMuYW5Db3VudCA9PSAwICYmIHMuYm5Db3VudCA+IDEpIHx8XG4gICAgICAgIChzLmJuQ291bnQgPT0gMCAmJiBzLmFuQ291bnQgPiAxKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMubXVsdGlwbHlOb3JtYWxzKG5vcm1hbHMsIG9wdHMuaGFsZkJvbmRTcGFjaW5nKTtcblxuICAgICAgICBsZXQgbGluZUEgPSBuZXcgTGluZShcbiAgICAgICAgICAgIFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMF0pLFxuICAgICAgICAgICAgVmVjdG9yMi5hZGQoYiwgbm9ybWFsc1swXSksXG4gICAgICAgICAgICBlbGVtZW50QSxcbiAgICAgICAgICAgIGVsZW1lbnRCXG4gICAgICAgICAgKSxcbiAgICAgICAgICBsaW5lQiA9IG5ldyBMaW5lKFxuICAgICAgICAgICAgVmVjdG9yMi5hZGQoYSwgbm9ybWFsc1sxXSksXG4gICAgICAgICAgICBWZWN0b3IyLmFkZChiLCBub3JtYWxzWzFdKSxcbiAgICAgICAgICAgIGVsZW1lbnRBLFxuICAgICAgICAgICAgZWxlbWVudEJcbiAgICAgICAgICApO1xuXG4gICAgICAgIHN2Z1dyYXBwZXIuZHJhd0xpbmUobGluZUEpO1xuICAgICAgICBzdmdXcmFwcGVyLmRyYXdMaW5lKGxpbmVCKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHMuc2lkZUNvdW50WzBdID4gcy5zaWRlQ291bnRbMV0gfHxcbiAgICAgICAgcy50b3RhbFNpZGVDb3VudFswXSA+IHMudG90YWxTaWRlQ291bnRbMV1cbiAgICAgICkge1xuICAgICAgICB0aGlzLm11bHRpcGx5Tm9ybWFscyhub3JtYWxzLCBvcHRzLmJvbmRTcGFjaW5nKTtcblxuICAgICAgICBsZXQgbGluZSA9IG5ldyBMaW5lKFxuICAgICAgICAgIFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMF0pLFxuICAgICAgICAgIFZlY3RvcjIuYWRkKGIsIG5vcm1hbHNbMF0pLFxuICAgICAgICAgIGVsZW1lbnRBLFxuICAgICAgICAgIGVsZW1lbnRCXG4gICAgICAgICk7XG5cbiAgICAgICAgbGluZS5zaG9ydGVuKG9wdHMuYm9uZExlbmd0aCAtIG9wdHMuc2hvcnRCb25kTGVuZ3RoICogb3B0cy5ib25kTGVuZ3RoKTtcblxuICAgICAgICBzdmdXcmFwcGVyLmRyYXdMaW5lKGxpbmUpO1xuICAgICAgICBzdmdXcmFwcGVyLmRyYXdMaW5lKG5ldyBMaW5lKGEsIGIsIGVsZW1lbnRBLCBlbGVtZW50QikpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgcy5zaWRlQ291bnRbMF0gPCBzLnNpZGVDb3VudFsxXSB8fFxuICAgICAgICBzLnRvdGFsU2lkZUNvdW50WzBdIDw9IHMudG90YWxTaWRlQ291bnRbMV1cbiAgICAgICkge1xuICAgICAgICB0aGlzLm11bHRpcGx5Tm9ybWFscyhub3JtYWxzLCBvcHRzLmJvbmRTcGFjaW5nKTtcblxuICAgICAgICBsZXQgbGluZSA9IG5ldyBMaW5lKFxuICAgICAgICAgIFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMV0pLFxuICAgICAgICAgIFZlY3RvcjIuYWRkKGIsIG5vcm1hbHNbMV0pLFxuICAgICAgICAgIGVsZW1lbnRBLFxuICAgICAgICAgIGVsZW1lbnRCXG4gICAgICAgICk7XG5cbiAgICAgICAgbGluZS5zaG9ydGVuKG9wdHMuYm9uZExlbmd0aCAtIG9wdHMuc2hvcnRCb25kTGVuZ3RoICogb3B0cy5ib25kTGVuZ3RoKTtcbiAgICAgICAgc3ZnV3JhcHBlci5kcmF3TGluZShsaW5lKTtcbiAgICAgICAgc3ZnV3JhcHBlci5kcmF3TGluZShuZXcgTGluZShhLCBiLCBlbGVtZW50QSwgZWxlbWVudEIpKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGVkZ2UuYm9uZFR5cGUgPT09IFwiI1wiKSB7XG4gICAgICBub3JtYWxzWzBdLm11bHRpcGx5U2NhbGFyKG9wdHMuYm9uZFNwYWNpbmcgLyAxLjUpO1xuICAgICAgbm9ybWFsc1sxXS5tdWx0aXBseVNjYWxhcihvcHRzLmJvbmRTcGFjaW5nIC8gMS41KTtcblxuICAgICAgbGV0IGxpbmVBID0gbmV3IExpbmUoXG4gICAgICAgIFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMF0pLFxuICAgICAgICBWZWN0b3IyLmFkZChiLCBub3JtYWxzWzBdKSxcbiAgICAgICAgZWxlbWVudEEsXG4gICAgICAgIGVsZW1lbnRCXG4gICAgICApO1xuICAgICAgbGV0IGxpbmVCID0gbmV3IExpbmUoXG4gICAgICAgIFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMV0pLFxuICAgICAgICBWZWN0b3IyLmFkZChiLCBub3JtYWxzWzFdKSxcbiAgICAgICAgZWxlbWVudEEsXG4gICAgICAgIGVsZW1lbnRCXG4gICAgICApO1xuXG4gICAgICBzdmdXcmFwcGVyLmRyYXdMaW5lKGxpbmVBKTtcbiAgICAgIHN2Z1dyYXBwZXIuZHJhd0xpbmUobGluZUIpO1xuICAgICAgc3ZnV3JhcHBlci5kcmF3TGluZShuZXcgTGluZShhLCBiLCBlbGVtZW50QSwgZWxlbWVudEIpKTtcbiAgICB9IGVsc2UgaWYgKGVkZ2UuYm9uZFR5cGUgPT09IFwiLlwiKSB7XG4gICAgICAvLyBUT0RPOiBTb21ldGhpbmcuLi4gbWF5YmUuLi4gdmVyc2lvbiAyP1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgaXNDaGlyYWxDZW50ZXJBID0gdmVydGV4QS52YWx1ZS5pc1N0ZXJlb0NlbnRlcjtcbiAgICAgIGxldCBpc0NoaXJhbENlbnRlckIgPSB2ZXJ0ZXhCLnZhbHVlLmlzU3RlcmVvQ2VudGVyO1xuXG4gICAgICBpZiAoZWRnZS53ZWRnZSA9PT0gXCJ1cFwiKSB7XG4gICAgICAgIHN2Z1dyYXBwZXIuZHJhd1dlZGdlKFxuICAgICAgICAgIG5ldyBMaW5lKGEsIGIsIGVsZW1lbnRBLCBlbGVtZW50QiwgaXNDaGlyYWxDZW50ZXJBLCBpc0NoaXJhbENlbnRlckIpXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKGVkZ2Uud2VkZ2UgPT09IFwiZG93blwiKSB7XG4gICAgICAgIHN2Z1dyYXBwZXIuZHJhd0Rhc2hlZFdlZGdlKFxuICAgICAgICAgIG5ldyBMaW5lKGEsIGIsIGVsZW1lbnRBLCBlbGVtZW50QiwgaXNDaGlyYWxDZW50ZXJBLCBpc0NoaXJhbENlbnRlckIpXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdmdXcmFwcGVyLmRyYXdMaW5lKFxuICAgICAgICAgIG5ldyBMaW5lKGEsIGIsIGVsZW1lbnRBLCBlbGVtZW50QiwgaXNDaGlyYWxDZW50ZXJBLCBpc0NoaXJhbENlbnRlckIpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRlYnVnKSB7XG4gICAgICBsZXQgbWlkcG9pbnQgPSBWZWN0b3IyLm1pZHBvaW50KGEsIGIpO1xuICAgICAgc3ZnV3JhcHBlci5kcmF3RGVidWdUZXh0KG1pZHBvaW50LngsIG1pZHBvaW50LnksIFwiZTogXCIgKyBlZGdlSWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IHRoZSBoaWdobGlnaHRzIGZvciBhdG9tcyB0byB0aGUgY2FudmFzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGRlYnVnXG4gICAqL1xuICBkcmF3QXRvbUhpZ2hsaWdodHMoZGVidWc6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBsZXQgcHJlcHJvY2Vzc29yID0gdGhpcy5wcmVwcm9jZXNzb3I7XG4gICAgbGV0IG9wdHMgPSBwcmVwcm9jZXNzb3Iub3B0cztcbiAgICBsZXQgZ3JhcGggPSBwcmVwcm9jZXNzb3IuZ3JhcGg7XG4gICAgbGV0IHJpbmdzID0gcHJlcHJvY2Vzc29yLnJpbmdzO1xuICAgIGxldCBzdmdXcmFwcGVyID0gdGhpcy5zdmdXcmFwcGVyO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncmFwaCEudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB2ZXJ0ZXggPSBncmFwaCEudmVydGljZXNbaV07XG4gICAgICBsZXQgYXRvbSA9IHZlcnRleC52YWx1ZTtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwcmVwcm9jZXNzb3IuaGlnaGxpZ2h0X2F0b21zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBoaWdobGlnaHQgPSBwcmVwcm9jZXNzb3IuaGlnaGxpZ2h0X2F0b21zW2pdO1xuICAgICAgICBpZiAoYXRvbS5jbGFzcyA9PT0gaGlnaGxpZ2h0WzBdKSB7XG4gICAgICAgICAgc3ZnV3JhcHBlci5kcmF3QXRvbUhpZ2hsaWdodChcbiAgICAgICAgICAgIHZlcnRleC5wb3NpdGlvbi54LFxuICAgICAgICAgICAgdmVydGV4LnBvc2l0aW9uLnksXG4gICAgICAgICAgICBoaWdobGlnaHRbMV1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSB2ZXJ0aWNlcyByZXByZXNlbnRpbmcgYXRvbXMgdG8gdGhlIGNhbnZhcy5cbiAgICpcbiAgICogQHBhcmFtIHtCb29sZWFufSBkZWJ1ZyBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0byBkcmF3IGRlYnVnIG1lc3NhZ2VzIHRvIHRoZSBjYW52YXMuXG4gICAqL1xuICBkcmF3VmVydGljZXMoZGVidWc6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBsZXQgcHJlcHJvY2Vzc29yID0gdGhpcy5wcmVwcm9jZXNzb3IsXG4gICAgICBvcHRzID0gcHJlcHJvY2Vzc29yLm9wdHMsXG4gICAgICBncmFwaCA9IHByZXByb2Nlc3Nvci5ncmFwaCxcbiAgICAgIHJpbmdzID0gcHJlcHJvY2Vzc29yLnJpbmdzLFxuICAgICAgc3ZnV3JhcHBlciA9IHRoaXMuc3ZnV3JhcHBlcjtcblxuICAgIHZhciBpID0gZ3JhcGghLnZlcnRpY2VzLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyYXBoIS52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHZlcnRleCA9IGdyYXBoIS52ZXJ0aWNlc1tpXTtcbiAgICAgIGxldCBhdG9tID0gdmVydGV4LnZhbHVlO1xuICAgICAgbGV0IGNoYXJnZSA9IDA7XG4gICAgICBsZXQgaXNvdG9wZSA9IDA7XG4gICAgICBsZXQgYm9uZENvdW50ID0gdmVydGV4LnZhbHVlLmJvbmRDb3VudDtcbiAgICAgIGxldCBlbGVtZW50ID0gYXRvbS5lbGVtZW50O1xuICAgICAgbGV0IGh5ZHJvZ2VucyA9IEF0b20ubWF4Qm9uZHNbZWxlbWVudF0gLSBib25kQ291bnQ7XG4gICAgICBsZXQgZGlyID0gdmVydGV4LmdldFRleHREaXJlY3Rpb24oXG4gICAgICAgIGdyYXBoIS52ZXJ0aWNlcyxcbiAgICAgICAgYXRvbS5oYXNBdHRhY2hlZFBzZXVkb0VsZW1lbnRzXG4gICAgICApO1xuICAgICAgbGV0IGlzVGVybWluYWwgPVxuICAgICAgICBvcHRzLnRlcm1pbmFsQ2FyYm9ucyB8fFxuICAgICAgICBlbGVtZW50ICE9PSBcIkNcIiB8fFxuICAgICAgICBhdG9tLmhhc0F0dGFjaGVkUHNldWRvRWxlbWVudHNcbiAgICAgICAgICA/IHZlcnRleC5pc1Rlcm1pbmFsKClcbiAgICAgICAgICA6IGZhbHNlO1xuICAgICAgbGV0IGlzQ2FyYm9uID0gYXRvbS5lbGVtZW50ID09PSBcIkNcIjtcblxuICAgICAgLy8gSWYgdGhlIG1vbGVjdWxlIGhhcyBsZXNzIHRoYW4gMyBlbGVtZW50cywgYWx3YXlzIHdyaXRlIHRoZSBcIkNcIiBmb3IgY2FyYm9uXG4gICAgICBpZiAoZ3JhcGgudmVydGljZXMubGVuZ3RoIDwgMykge1xuICAgICAgICBpc0NhcmJvbiA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGlzIGlzIGEgSEFDSyB0byByZW1vdmUgYWxsIGh5ZHJvZ2VucyBmcm9tIG5pdHJvZ2VucyBpbiBhcm9tYXRpYyByaW5ncywgYXMgdGhpc1xuICAgICAgLy8gc2hvdWxkIGJlIHRoZSBtb3N0IGNvbW1vbiBzdGF0ZS4gVGhpcyBoYXMgdG8gYmUgZml4ZWQgYnkga2VrdWxpemF0aW9uXG4gICAgICBpZiAoYXRvbS5lbGVtZW50ID09PSBcIk5cIiAmJiBhdG9tLmlzUGFydE9mQXJvbWF0aWNSaW5nKSB7XG4gICAgICAgIGh5ZHJvZ2VucyA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChhdG9tLmJyYWNrZXQpIHtcbiAgICAgICAgaHlkcm9nZW5zID0gYXRvbS5icmFja2V0Lmhjb3VudDtcbiAgICAgICAgY2hhcmdlID0gYXRvbS5icmFja2V0LmNoYXJnZTtcbiAgICAgICAgaXNvdG9wZSA9IGF0b20uYnJhY2tldC5pc290b3BlO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0cy5hdG9tVmlzdWFsaXphdGlvbiA9PT0gXCJhbGxiYWxsc1wiKSB7XG4gICAgICAgIHN2Z1dyYXBwZXIuZHJhd0JhbGwodmVydGV4LnBvc2l0aW9uLngsIHZlcnRleC5wb3NpdGlvbi55LCBlbGVtZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIChhdG9tLmlzRHJhd24gJiZcbiAgICAgICAgICAoIWlzQ2FyYm9uIHx8XG4gICAgICAgICAgICBhdG9tLmRyYXdFeHBsaWNpdCB8fFxuICAgICAgICAgICAgaXNUZXJtaW5hbCB8fFxuICAgICAgICAgICAgYXRvbS5oYXNBdHRhY2hlZFBzZXVkb0VsZW1lbnRzKSkgfHxcbiAgICAgICAgZ3JhcGghLnZlcnRpY2VzLmxlbmd0aCA9PT0gMVxuICAgICAgKSB7XG4gICAgICAgIGlmIChvcHRzLmF0b21WaXN1YWxpemF0aW9uID09PSBcImRlZmF1bHRcIikge1xuICAgICAgICAgIGxldCBhdHRhY2hlZFBzZXVkb0VsZW1lbnRzID0gYXRvbS5nZXRBdHRhY2hlZFBzZXVkb0VsZW1lbnRzKCk7XG5cbiAgICAgICAgICAvLyBEcmF3IHRvIHRoZSByaWdodCBpZiB0aGUgd2hvbGUgbW9sZWN1bGUgaXMgY29uY2F0ZW5hdGVkIGludG8gb25lIHN0cmluZ1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGF0b20uaGFzQXR0YWNoZWRQc2V1ZG9FbGVtZW50cyAmJlxuICAgICAgICAgICAgZ3JhcGghLnZlcnRpY2VzLmxlbmd0aCA9PT1cbiAgICAgICAgICAgICAgT2JqZWN0LmtleXMoYXR0YWNoZWRQc2V1ZG9FbGVtZW50cykubGVuZ3RoICsgMVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZGlyID0gXCJyaWdodFwiO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHN2Z1dyYXBwZXIuZHJhd1RleHQoXG4gICAgICAgICAgICB2ZXJ0ZXgucG9zaXRpb24ueCxcbiAgICAgICAgICAgIHZlcnRleC5wb3NpdGlvbi55LFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIGh5ZHJvZ2VucyxcbiAgICAgICAgICAgIGRpcixcbiAgICAgICAgICAgIGlzVGVybWluYWwsXG4gICAgICAgICAgICBjaGFyZ2UsXG4gICAgICAgICAgICBpc290b3BlLFxuICAgICAgICAgICAgZ3JhcGghLnZlcnRpY2VzLmxlbmd0aCxcbiAgICAgICAgICAgIGF0dGFjaGVkUHNldWRvRWxlbWVudHNcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdHMuYXRvbVZpc3VhbGl6YXRpb24gPT09IFwiYmFsbHNcIikge1xuICAgICAgICAgIHN2Z1dyYXBwZXIuZHJhd0JhbGwodmVydGV4LnBvc2l0aW9uLngsIHZlcnRleC5wb3NpdGlvbi55LCBlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgdmVydGV4LmdldE5laWdoYm91ckNvdW50KCkgPT09IDIgJiZcbiAgICAgICAgdmVydGV4LmZvcmNlUG9zaXRpb25lZCA9PSB0cnVlXG4gICAgICApIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBjYXJib24gd2hpY2ggYm9uZHMgYXJlIGluIGEgc3RyYWlnaHQgbGluZSwgZHJhdyBhIGRvdFxuICAgICAgICBsZXQgYSA9IGdyYXBoIS52ZXJ0aWNlc1t2ZXJ0ZXgubmVpZ2hib3Vyc1swXV0ucG9zaXRpb247XG4gICAgICAgIGxldCBiID0gZ3JhcGghLnZlcnRpY2VzW3ZlcnRleC5uZWlnaGJvdXJzWzFdXS5wb3NpdGlvbjtcbiAgICAgICAgbGV0IGFuZ2xlID0gVmVjdG9yMi50aHJlZVBvaW50YW5nbGUodmVydGV4LnBvc2l0aW9uLCBhLCBiKTtcblxuICAgICAgICBpZiAoTWF0aC5hYnMoTWF0aC5QSSAtIGFuZ2xlKSA8IDAuMSkge1xuICAgICAgICAgIHN2Z1dyYXBwZXIuZHJhd1BvaW50KHZlcnRleC5wb3NpdGlvbi54LCB2ZXJ0ZXgucG9zaXRpb24ueSwgZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IFwidjogXCIgKyB2ZXJ0ZXguaWQgKyBcIiBcIiArIEFycmF5SGVscGVyLnByaW50KGF0b20ucmluZ2JvbmRzKTtcbiAgICAgICAgc3ZnV3JhcHBlci5kcmF3RGVidWdUZXh0KHZlcnRleC5wb3NpdGlvbi54LCB2ZXJ0ZXgucG9zaXRpb24ueSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gZWxzZSB7XG4gICAgICAvLyAgIHN2Z1dyYXBwZXIuZHJhd0RlYnVnVGV4dCh2ZXJ0ZXgucG9zaXRpb24ueCwgdmVydGV4LnBvc2l0aW9uLnksIHZlcnRleC52YWx1ZS5jaGlyYWxpdHkpO1xuICAgICAgLy8gfVxuICAgIH1cblxuICAgIC8vIERyYXcgdGhlIHJpbmcgY2VudGVycyBmb3IgZGVidWcgcHVycG9zZXNcbiAgICBpZiAob3B0cy5kZWJ1Zykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY2VudGVyID0gcmluZ3NbaV0uY2VudGVyO1xuICAgICAgICBzdmdXcmFwcGVyLmRyYXdEZWJ1Z1BvaW50KGNlbnRlci54LCBjZW50ZXIueSwgXCJyOiBcIiArIHJpbmdzW2ldLmlkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRHJhdyB0aGUgd2VpZ2h0cyBvbiBhIGJhY2tncm91bmQgaW1hZ2UuXG4gICAqIEBwYXJhbSB7TnVtYmVyW119IHdlaWdodHMgVGhlIHdlaWdodHMgYXNzaWduZWQgdG8gZWFjaCBhdG9tLlxuICAgKi9cbiAgZHJhd1dlaWdodHMod2VpZ2h0czogYW55LCB3ZWlnaHRzTm9ybWFsaXplZDogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmICghd2VpZ2h0cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAod2VpZ2h0cy5ldmVyeSgodykgPT4gdyA9PT0gMCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAod2VpZ2h0cy5sZW5ndGggIT09IHRoaXMucHJlcHJvY2Vzc29yLmdyYXBoIS5hdG9tSWR4VG9WZXJ0ZXhJZC5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJUaGUgbnVtYmVyIG9mIHdlaWdodHMgc3VwcGxpZWQgbXVzdCBiZSBlcXVhbCB0byB0aGUgbnVtYmVyIG9mIChoZWF2eSkgYXRvbXMgaW4gdGhlIG1vbGVjdWxlLlwiXG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCBwb2ludHMgPSBbXTtcblxuICAgIGZvciAoY29uc3QgYXRvbUlkeCBvZiB0aGlzLnByZXByb2Nlc3Nvci5ncmFwaCEuYXRvbUlkeFRvVmVydGV4SWQpIHtcbiAgICAgIGxldCB2ZXJ0ZXggPSB0aGlzLnByZXByb2Nlc3Nvci5ncmFwaCEudmVydGljZXNbYXRvbUlkeF07XG4gICAgICBwb2ludHMucHVzaChcbiAgICAgICAgbmV3IFZlY3RvcjIoXG4gICAgICAgICAgdmVydGV4LnBvc2l0aW9uLnggLSB0aGlzLnN2Z1dyYXBwZXIhLm1pblgsXG4gICAgICAgICAgdmVydGV4LnBvc2l0aW9uLnkgLSB0aGlzLnN2Z1dyYXBwZXIhLm1pbllcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgZ2QgPSBuZXcgR2F1c3NEcmF3ZXIoXG4gICAgICBwb2ludHMsXG4gICAgICB3ZWlnaHRzLFxuICAgICAgdGhpcy5zdmdXcmFwcGVyIS5kcmF3aW5nV2lkdGgsXG4gICAgICB0aGlzLnN2Z1dyYXBwZXIhLmRyYXdpbmdIZWlnaHQsXG4gICAgICB0aGlzLm9wdHMud2VpZ2h0cy5zaWdtYSxcbiAgICAgIHRoaXMub3B0cy53ZWlnaHRzLmludGVydmFsLFxuICAgICAgdGhpcy5vcHRzLndlaWdodHMuY29sb3JtYXAsXG4gICAgICB0aGlzLm9wdHMud2VpZ2h0cy5vcGFjaXR5LFxuICAgICAgd2VpZ2h0c05vcm1hbGl6ZWRcbiAgICApO1xuXG4gICAgZ2QuZHJhdygpO1xuICAgIHRoaXMuc3ZnV3JhcHBlciEuYWRkTGF5ZXIoZ2QuZ2V0U1ZHKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHRvdGFsIG92ZXJsYXAgc2NvcmUgb2YgdGhlIGN1cnJlbnQgbW9sZWN1bGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBvdmVybGFwIHNjb3JlLlxuICAgKi9cbiAgZ2V0VG90YWxPdmVybGFwU2NvcmUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wcmVwcm9jZXNzb3IuZ2V0VG90YWxPdmVybGFwU2NvcmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBtb2xlY3VsYXIgZm9ybXVsYSBvZiB0aGUgbG9hZGVkIG1vbGVjdWxlIGFzIGEgc3RyaW5nLlxuICAgKlxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbW9sZWN1bGFyIGZvcm11bGEuXG4gICAqL1xuICBnZXRNb2xlY3VsYXJGb3JtdWxhKGdyYXBoOiBhbnkgPSBudWxsKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5wcmVwcm9jZXNzb3IuZ2V0TW9sZWN1bGFyRm9ybXVsYShncmFwaCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheX0gbm9ybWFscyBsaXN0IG9mIG5vcm1hbHMgdG8gbXVsdGlwbHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNwYWNpbmcgdmFsdWUgdG8gbXVsdGlwbHkgbm9ybWFscyBieVxuICAgKi9cbiAgbXVsdGlwbHlOb3JtYWxzKG5vcm1hbHM6IGFueSwgc3BhY2luZzogbnVtYmVyKTogYW55IHtcbiAgICBub3JtYWxzWzBdLm11bHRpcGx5U2NhbGFyKHNwYWNpbmcpO1xuICAgIG5vcm1hbHNbMV0ubXVsdGlwbHlTY2FsYXIoc3BhY2luZyk7XG4gIH1cbn0iLCJleHBvcnQgY2xhc3MgVGhlbWVNYW5hZ2VyIHtcclxuICBwcml2YXRlIGNvbG9yczogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgc3RyaW5nPj47XHJcbiAgcHJpdmF0ZSB0aGVtZTogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcclxuXHJcbiAgY29uc3RydWN0b3IoY29sb3JzOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+PiwgdGhlbWU6IHN0cmluZykge1xyXG4gICAgdGhpcy5jb2xvcnMgPSBjb2xvcnM7XHJcbiAgICB0aGlzLnRoZW1lID0gdGhpcy5jb2xvcnNbdGhlbWVdO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgaGV4IGNvZGUgb2YgYSBjb2xvciBhc3NvY2lhdGVkIHdpdGggYSBrZXkgZnJvbSB0aGUgY3VycmVudCB0aGVtZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGNvbG9yIGtleSBpbiB0aGUgdGhlbWUgKGUuZy4gQywgTiwgQkFDS0dST1VORCwgLi4uKS5cclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBBIGNvbG9yIGhleCB2YWx1ZS5cclxuICAgKi9cclxuICBnZXRDb2xvcihrZXk6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAoa2V5KSB7XHJcbiAgICAgIGtleSA9IGtleS50b1VwcGVyQ2FzZSgpO1xyXG5cclxuICAgICAgaWYgKGtleSBpbiB0aGlzLnRoZW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGhlbWVba2V5XTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnRoZW1lWydDJ107XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSB0aGVtZSB0byB0aGUgc3BlY2lmaWVkIHN0cmluZyBpZiBpdCBleGlzdHMuIElmIGl0IGRvZXMgbm90LCB0aGlzXHJcbiAgICogZG9lcyBub3RoaW5nLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRoZW1lIHRoZSBuYW1lIG9mIHRoZSB0aGVtZSB0byBzd2l0Y2ggdG9cclxuICAgKi9cclxuICBzZXRUaGVtZSh0aGVtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jb2xvcnMuaGFzT3duUHJvcGVydHkodGhlbWUpKSB7XHJcbiAgICAgIHRoaXMudGhlbWUgPSB0aGlzLmNvbG9yc1t0aGVtZV07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogdGhpcyBwcm9iYWJseSBzaG91bGQgbm90aWZ5IHRob3NlIHdobyBhcmUgd2F0Y2hpbmcgdGhpcyB0aGVtZVxyXG4gICAgLy8gbWFuYWdlciB0aGF0IHRoZSB0aGVtZSBoYXMgY2hhbmdlZCBzbyB0aGF0IGNvbG9ycyBjYW4gYmUgY2hhbmdlZFxyXG4gICAgLy8gb24gdGhlIGZseVxyXG4gIH1cclxufSIsIi8qKlxyXG4gKiBUcmFuc2xhdGUgdGhlIGludGVnZXIgaW5kaWNhdGluZyB0aGUgY2hhcmdlIHRvIHRoZSBhcHByb3ByaWF0ZSB0ZXh0LlxyXG4gKiBAcGFyYW0ge051bWJlcn0gY2hhcmdlIFRoZSBpbnRlZ2VyIGluZGljYXRpbmcgdGhlIGNoYXJnZS5cclxuICogQHJldHVybnMge1N0cmluZ30gQSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgY2hhcmdlLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldENoYXJnZVRleHQoY2hhcmdlOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gIGlmIChjaGFyZ2UgPT09IDEpIHtcclxuICAgIHJldHVybiBcIitcIjtcclxuICB9IGVsc2UgaWYgKGNoYXJnZSA9PT0gMikge1xyXG4gICAgcmV0dXJuIFwiMitcIjtcclxuICB9IGVsc2UgaWYgKGNoYXJnZSA9PT0gLTEpIHtcclxuICAgIHJldHVybiBcIi1cIjtcclxuICB9IGVsc2UgaWYgKGNoYXJnZSA9PT0gLTIpIHtcclxuICAgIHJldHVybiBcIjItXCI7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBcIlwiO1xyXG4gIH1cclxufVxyXG4iLCIvKipcclxuICogQSBjbGFzcyByZXByZXNlbnRpbmcgYSAyRCB2ZWN0b3IuXHJcbiAqXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSB4IFRoZSB4IGNvbXBvbmVudCBvZiB0aGUgdmVjdG9yLlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0geSBUaGUgeSBjb21wb25lbnQgb2YgdGhlIHZlY3Rvci5cclxuICpcclxuICovXHJcbmV4cG9ydCBjbGFzcyBWZWN0b3IyIHtcclxuICB4OiBudW1iZXI7XHJcbiAgeTogbnVtYmVyO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgY29uc3RydWN0b3Igb2YgdGhlIGNsYXNzIFZlY3RvcjIuXHJcbiAgICpcclxuICAgKiBAcGFyYW0geCBUaGUgaW5pdGlhbCB4IGNvb3JkaW5hdGUgdmFsdWUgb3IsIGlmIHRoZSBzaW5nbGUgYXJndW1lbnQsIGEgVmVjdG9yMiBvYmplY3RcclxuICAgKiBAcGFyYW0geSBUaGUgaW5pdGlhbCB5IGNvb3JkaW5hdGUgdmFsdWVcclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcih4PzogbnVtYmVyIHwgVmVjdG9yMiwgeT86IG51bWJlcikge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgdGhpcy54ID0gMDtcclxuICAgICAgdGhpcy55ID0gMDtcclxuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiB4IGluc3RhbmNlb2YgVmVjdG9yMikge1xyXG4gICAgICB0aGlzLnggPSB4Lng7XHJcbiAgICAgIHRoaXMueSA9IHgueTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMueCA9IHggYXMgbnVtYmVyO1xyXG4gICAgICB0aGlzLnkgPSB5IGFzIG51bWJlcjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsb25lcyB0aGlzIHZlY3RvciBhbmQgcmV0dXJucyB0aGUgY2xvbmUuXHJcbiAgICovXHJcbiAgY2xvbmUoKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54LCB0aGlzLnkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHZlY3Rvci5cclxuICAgKi9cclxuICB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGAoJHt0aGlzLnh9LCR7dGhpcy55fSlgO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGUgdmFsdWVzIG9mIGEgdmVjdG9yIHRvIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGUgdmFsdWVzIG9mIHRoaXMgdmVjdG9yLlxyXG4gICAqL1xyXG4gIGFkZCh2ZWM6IFZlY3RvcjIpOiBWZWN0b3IyIHtcclxuICAgIHRoaXMueCArPSB2ZWMueDtcclxuICAgIHRoaXMueSArPSB2ZWMueTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3VidHJhY3QgdGhlIHggYW5kIHkgY29vcmRpbmF0ZSB2YWx1ZXMgb2YgYSB2ZWN0b3IgZnJvbSB0aGUgeCBhbmQgeSBjb29yZGluYXRlIHZhbHVlcyBvZiB0aGlzIHZlY3Rvci5cclxuICAgKi9cclxuICBzdWJ0cmFjdCh2ZWM6IFZlY3RvcjIpOiBWZWN0b3IyIHtcclxuICAgIHRoaXMueCAtPSB2ZWMueDtcclxuICAgIHRoaXMueSAtPSB2ZWMueTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGl2aWRlIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGUgdmFsdWVzIG9mIHRoaXMgdmVjdG9yIGJ5IGEgc2NhbGFyLlxyXG4gICAqL1xyXG4gIGRpdmlkZShzY2FsYXI6IG51bWJlcik6IFZlY3RvcjIge1xyXG4gICAgdGhpcy54IC89IHNjYWxhcjtcclxuICAgIHRoaXMueSAvPSBzY2FsYXI7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE11bHRpcGx5IHRoZSB4IGFuZCB5IGNvb3JkaW5hdGUgdmFsdWVzIG9mIHRoaXMgdmVjdG9yIGJ5IHRoZSB2YWx1ZXMgb2YgYW5vdGhlciB2ZWN0b3IuXHJcbiAgICovXHJcbiAgbXVsdGlwbHkodjogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgdGhpcy54ICo9IHYueDtcclxuICAgIHRoaXMueSAqPSB2Lnk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE11bHRpcGx5IHRoZSB4IGFuZCB5IGNvb3JkaW5hdGUgdmFsdWVzIG9mIHRoaXMgdmVjdG9yIGJ5IGEgc2NhbGFyLlxyXG4gICAqL1xyXG4gIG11bHRpcGx5U2NhbGFyKHNjYWxhcjogbnVtYmVyKTogVmVjdG9yMiB7XHJcbiAgICB0aGlzLnggKj0gc2NhbGFyO1xyXG4gICAgdGhpcy55ICo9IHNjYWxhcjtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW52ZXJ0cyB0aGlzIHZlY3Rvci4gU2FtZSBhcyBtdWx0aXBseSgtMS4wKS5cclxuICAgKi9cclxuICBpbnZlcnQoKTogVmVjdG9yMiB7XHJcbiAgICB0aGlzLnggPSAtdGhpcy54O1xyXG4gICAgdGhpcy55ID0gLXRoaXMueTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgYW5nbGUgb2YgdGhpcyB2ZWN0b3IgaW4gcmVsYXRpb24gdG8gdGhlIGNvb3JkaW5hdGUgc3lzdGVtLlxyXG4gICAqL1xyXG4gIGFuZ2xlKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksIHRoaXMueCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBldWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiB0aGlzIHZlY3RvciBhbmQgYW5vdGhlciB2ZWN0b3IuXHJcbiAgICovXHJcbiAgZGlzdGFuY2UodmVjOiBWZWN0b3IyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLnNxcnQoXHJcbiAgICAgICh2ZWMueCAtIHRoaXMueCkgKiAodmVjLnggLSB0aGlzLngpICsgKHZlYy55IC0gdGhpcy55KSAqICh2ZWMueSAtIHRoaXMueSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBzcXVhcmVkIGV1Y2xpZGVhbiBkaXN0YW5jZSBiZXR3ZWVuIHRoaXMgdmVjdG9yIGFuZCBhbm90aGVyIHZlY3Rvci5cclxuICAgKi9cclxuICBkaXN0YW5jZVNxKHZlYzogVmVjdG9yMik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAodmVjLnggLSB0aGlzLngpICogKHZlYy54IC0gdGhpcy54KSArICh2ZWMueSAtIHRoaXMueSkgKiAodmVjLnkgLSB0aGlzLnkpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IHRoaXMgdmVjdG9yIGlzIGluIGEgY2xvY2t3aXNlIG9yIGNvdW50ZXItY2xvY2t3aXNlIHJvdGF0aW9uXHJcbiAgICovXHJcbiAgY2xvY2t3aXNlKHZlYzogVmVjdG9yMik6IC0xIHwgMCB8IDEge1xyXG4gICAgY29uc3QgYSA9IHRoaXMueSAqIHZlYy54O1xyXG4gICAgY29uc3QgYiA9IHRoaXMueCAqIHZlYy55O1xyXG5cclxuICAgIGlmIChhID4gYikgcmV0dXJuIC0xO1xyXG4gICAgaWYgKGEgPT09IGIpIHJldHVybiAwO1xyXG4gICAgcmV0dXJuIDE7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVja3Mgd2hldGhlciBvciBub3QgdGhpcyB2ZWN0b3IgaXMgaW4gYSBjbG9ja3dpc2Ugb3IgY291bnRlci1jbG9ja3dpc2Ugcm90YXRpb25cclxuICAgKiBjb21wYXJlZCB0byBhbm90aGVyIHZlY3RvciBpbiByZWxhdGlvbiB0byBhbiBhcmJpdHJhcnkgdGhpcmQgdmVjdG9yLlxyXG4gICAqL1xyXG4gIHJlbGF0aXZlQ2xvY2t3aXNlKGNlbnRlcjogVmVjdG9yMiwgdmVjOiBWZWN0b3IyKTogLTEgfCAwIHwgMSB7XHJcbiAgICBjb25zdCBhID0gKHRoaXMueSAtIGNlbnRlci55KSAqICh2ZWMueCAtIGNlbnRlci54KTtcclxuICAgIGNvbnN0IGIgPSAodGhpcy54IC0gY2VudGVyLngpICogKHZlYy55IC0gY2VudGVyLnkpO1xyXG5cclxuICAgIGlmIChhID4gYikgcmV0dXJuIC0xO1xyXG4gICAgaWYgKGEgPT09IGIpIHJldHVybiAwO1xyXG4gICAgcmV0dXJuIDE7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSb3RhdGVzIHRoaXMgdmVjdG9yIGJ5IGEgZ2l2ZW4gbnVtYmVyIG9mIHJhZGlhbnMgYXJvdW5kIHRoZSBvcmlnaW4uXHJcbiAgICovXHJcbiAgcm90YXRlKGFuZ2xlOiBudW1iZXIpOiBWZWN0b3IyIHtcclxuICAgIGNvbnN0IHRtcCA9IG5ldyBWZWN0b3IyKDAsIDApO1xyXG4gICAgY29uc3QgY29zQW5nbGUgPSBNYXRoLmNvcyhhbmdsZSk7XHJcbiAgICBjb25zdCBzaW5BbmdsZSA9IE1hdGguc2luKGFuZ2xlKTtcclxuXHJcbiAgICB0bXAueCA9IHRoaXMueCAqIGNvc0FuZ2xlIC0gdGhpcy55ICogc2luQW5nbGU7XHJcbiAgICB0bXAueSA9IHRoaXMueCAqIHNpbkFuZ2xlICsgdGhpcy55ICogY29zQW5nbGU7XHJcblxyXG4gICAgdGhpcy54ID0gdG1wLng7XHJcbiAgICB0aGlzLnkgPSB0bXAueTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJvdGF0ZXMgdGhpcyB2ZWN0b3IgYXJvdW5kIGFub3RoZXIgdmVjdG9yLlxyXG4gICAqL1xyXG4gIHJvdGF0ZUFyb3VuZChhbmdsZTogbnVtYmVyLCB2ZWM6IFZlY3RvcjIpOiBWZWN0b3IyIHtcclxuICAgIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZSk7XHJcbiAgICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGUpO1xyXG5cclxuICAgIHRoaXMueCAtPSB2ZWMueDtcclxuICAgIHRoaXMueSAtPSB2ZWMueTtcclxuXHJcbiAgICBjb25zdCB4ID0gdGhpcy54ICogYyAtIHRoaXMueSAqIHM7XHJcbiAgICBjb25zdCB5ID0gdGhpcy54ICogcyArIHRoaXMueSAqIGM7XHJcblxyXG4gICAgdGhpcy54ID0geCArIHZlYy54O1xyXG4gICAgdGhpcy55ID0geSArIHZlYy55O1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUm90YXRlIGEgdmVjdG9yIGFyb3VuZCBhIGdpdmVuIGNlbnRlciB0byB0aGUgc2FtZSBhbmdsZSBhcyBhbm90aGVyIHZlY3Rvci5cclxuICAgKi9cclxuICByb3RhdGVUbyh2ZWM6IFZlY3RvcjIsIGNlbnRlcjogVmVjdG9yMiwgb2Zmc2V0QW5nbGU6IG51bWJlciA9IDAuMCk6IFZlY3RvcjIge1xyXG4gICAgdGhpcy54ICs9IDAuMDAxO1xyXG4gICAgdGhpcy55IC09IDAuMDAxO1xyXG5cclxuICAgIGNvbnN0IGEgPSBWZWN0b3IyLnN1YnRyYWN0KHRoaXMsIGNlbnRlcik7XHJcbiAgICBjb25zdCBiID0gVmVjdG9yMi5zdWJ0cmFjdCh2ZWMsIGNlbnRlcik7XHJcbiAgICBjb25zdCBhbmdsZSA9IFZlY3RvcjIuYW5nbGUoYiwgYSk7XHJcblxyXG4gICAgdGhpcy5yb3RhdGVBcm91bmQoYW5nbGUgKyBvZmZzZXRBbmdsZSwgY2VudGVyKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJvdGF0ZXMgdGhlIHZlY3RvciBhd2F5IGZyb20gYSBzcGVjaWZpZWQgdmVjdG9yIGFyb3VuZCBhIGNlbnRlci5cclxuICAgKi9cclxuICByb3RhdGVBd2F5RnJvbSh2ZWM6IFZlY3RvcjIsIGNlbnRlcjogVmVjdG9yMiwgYW5nbGU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5yb3RhdGVBcm91bmQoYW5nbGUsIGNlbnRlcik7XHJcblxyXG4gICAgY29uc3QgZGlzdFNxQSA9IHRoaXMuZGlzdGFuY2VTcSh2ZWMpO1xyXG5cclxuICAgIHRoaXMucm90YXRlQXJvdW5kKC0yLjAgKiBhbmdsZSwgY2VudGVyKTtcclxuXHJcbiAgICBjb25zdCBkaXN0U3FCID0gdGhpcy5kaXN0YW5jZVNxKHZlYyk7XHJcblxyXG4gICAgaWYgKGRpc3RTcUIgPCBkaXN0U3FBKSB7XHJcbiAgICAgIHRoaXMucm90YXRlQXJvdW5kKDIuMCAqIGFuZ2xlLCBjZW50ZXIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgYW5nbGUgaW4gcmFkaWFucyB1c2VkIHRvIHJvdGF0ZSB0aGlzIHZlY3RvciBhd2F5IGZyb20gYSBnaXZlbiB2ZWN0b3IuXHJcbiAgICovXHJcbiAgZ2V0Um90YXRlQXdheUZyb21BbmdsZSh2ZWM6IFZlY3RvcjIsIGNlbnRlcjogVmVjdG9yMiwgYW5nbGU6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICBjb25zdCB0bXAgPSB0aGlzLmNsb25lKCk7XHJcblxyXG4gICAgdG1wLnJvdGF0ZUFyb3VuZChhbmdsZSwgY2VudGVyKTtcclxuICAgIGNvbnN0IGRpc3RTcUEgPSB0bXAuZGlzdGFuY2VTcSh2ZWMpO1xyXG5cclxuICAgIHRtcC5yb3RhdGVBcm91bmQoLTIuMCAqIGFuZ2xlLCBjZW50ZXIpO1xyXG4gICAgY29uc3QgZGlzdFNxQiA9IHRtcC5kaXN0YW5jZVNxKHZlYyk7XHJcblxyXG4gICAgcmV0dXJuIGRpc3RTcUIgPCBkaXN0U3FBID8gYW5nbGUgOiAtYW5nbGU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBhbmdsZSBpbiByYWRpYW5zIHVzZWQgdG8gcm90YXRlIHRoaXMgdmVjdG9yIHRvd2FyZHMgYSBnaXZlbiB2ZWN0b3IuXHJcbiAgICovXHJcbiAgZ2V0Um90YXRlVG93YXJkc0FuZ2xlKHZlYzogVmVjdG9yMiwgY2VudGVyOiBWZWN0b3IyLCBhbmdsZTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IHRtcCA9IHRoaXMuY2xvbmUoKTtcclxuXHJcbiAgICB0bXAucm90YXRlQXJvdW5kKGFuZ2xlLCBjZW50ZXIpO1xyXG4gICAgY29uc3QgZGlzdFNxQSA9IHRtcC5kaXN0YW5jZVNxKHZlYyk7XHJcblxyXG4gICAgdG1wLnJvdGF0ZUFyb3VuZCgtMi4wICogYW5nbGUsIGNlbnRlcik7XHJcbiAgICBjb25zdCBkaXN0U3FCID0gdG1wLmRpc3RhbmNlU3EodmVjKTtcclxuXHJcbiAgICByZXR1cm4gZGlzdFNxQiA+IGRpc3RTcUEgPyBhbmdsZSA6IC1hbmdsZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIGFuZ2xlcyBiZXR3ZWVuIHRoaXMgdmVjdG9yIGFuZCBhbm90aGVyIHZlY3RvciBhcm91bmQgYSBjb21tb24gY2VudGVyIG9mIHJvdGF0aW9uLlxyXG4gICAqL1xyXG4gIGdldFJvdGF0ZVRvQW5nbGUodmVjOiBWZWN0b3IyLCBjZW50ZXI6IFZlY3RvcjIpOiBudW1iZXIge1xyXG4gICAgY29uc3QgYSA9IFZlY3RvcjIuc3VidHJhY3QodGhpcywgY2VudGVyKTtcclxuICAgIGNvbnN0IGIgPSBWZWN0b3IyLnN1YnRyYWN0KHZlYywgY2VudGVyKTtcclxuICAgIGNvbnN0IGFuZ2xlID0gVmVjdG9yMi5hbmdsZShiLCBhKTtcclxuXHJcbiAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGFuZ2xlKSA/IDAuMCA6IGFuZ2xlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2tzIHdoZXRoZXIgYSB2ZWN0b3IgbGllcyB3aXRoaW4gYSBwb2x5Z29uIHNwYW5uZWQgYnkgYSBzZXQgb2YgdmVjdG9ycy5cclxuICAgKi9cclxuICBpc0luUG9seWdvbihwb2x5Z29uOiBWZWN0b3IyW10pOiBib29sZWFuIHtcclxuICAgIGxldCBpbnNpZGUgPSBmYWxzZTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IHBvbHlnb24ubGVuZ3RoIC0gMTsgaSA8IHBvbHlnb24ubGVuZ3RoOyBqID0gaSsrKSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBwb2x5Z29uW2ldLnkgPiB0aGlzLnkgIT09IHBvbHlnb25bal0ueSA+IHRoaXMueSAmJlxyXG4gICAgICAgIHRoaXMueCA8XHJcbiAgICAgICAgICAoKHBvbHlnb25bal0ueCAtIHBvbHlnb25baV0ueCkgKiAodGhpcy55IC0gcG9seWdvbltpXS55KSkgL1xyXG4gICAgICAgICAgICAocG9seWdvbltqXS55IC0gcG9seWdvbltpXS55KSArXHJcbiAgICAgICAgICAgIHBvbHlnb25baV0ueFxyXG4gICAgICApIHtcclxuICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGluc2lkZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGlzIHZlY3Rvci5cclxuICAgKi9cclxuICBsZW5ndGgoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIHNxdWFyZSBvZiB0aGUgbGVuZ3RoIG9mIHRoaXMgdmVjdG9yLlxyXG4gICAqL1xyXG4gIGxlbmd0aFNxKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTm9ybWFsaXplcyB0aGlzIHZlY3Rvci5cclxuICAgKi9cclxuICBub3JtYWxpemUoKTogVmVjdG9yMiB7XHJcbiAgICB0aGlzLmRpdmlkZSh0aGlzLmxlbmd0aCgpKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIG5vcm1hbGl6ZWQgY29weSBvZiB0aGlzIHZlY3Rvci5cclxuICAgKi9cclxuICBub3JtYWxpemVkKCk6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuZGl2aWRlU2NhbGFyKHRoaXMsIHRoaXMubGVuZ3RoKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsY3VsYXRlcyB3aGljaCBzaWRlIG9mIGEgbGluZSBzcGFubmVkIGJ5IHR3byB2ZWN0b3JzIHRoaXMgdmVjdG9yIGlzLlxyXG4gICAqL1xyXG4gIHdoaWNoU2lkZSh2ZWNBOiBWZWN0b3IyLCB2ZWNCOiBWZWN0b3IyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICh0aGlzLnggLSB2ZWNBLngpICogKHZlY0IueSAtIHZlY0EueSkgLVxyXG4gICAgICAodGhpcy55IC0gdmVjQS55KSAqICh2ZWNCLnggLSB2ZWNBLngpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IHRoaXMgdmVjdG9yIGlzIG9uIHRoZSBzYW1lIHNpZGUgb2YgYSBsaW5lIGFzIGFub3RoZXIgdmVjdG9yLlxyXG4gICAqL1xyXG4gIHNhbWVTaWRlQXModmVjQTogVmVjdG9yMiwgdmVjQjogVmVjdG9yMiwgdmVjQzogVmVjdG9yMik6IGJvb2xlYW4ge1xyXG4gICAgY29uc3QgZCA9IHRoaXMud2hpY2hTaWRlKHZlY0EsIHZlY0IpO1xyXG4gICAgY29uc3QgZFJlZiA9IHZlY0Mud2hpY2hTaWRlKHZlY0EsIHZlY0IpO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIChkIDwgMCAmJiBkUmVmIDwgMCkgfHwgKGQgPT09IDAgJiYgZFJlZiA9PT0gMCkgfHwgKGQgPiAwICYmIGRSZWYgPiAwKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIFN0YXRpYyBNZXRob2RzXHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgdHdvIHZlY3RvcnMgYW5kIHJldHVybnMgdGhlIHJlc3VsdCBhcyBhIG5ldyB2ZWN0b3IuXHJcbiAgICovXHJcbiAgc3RhdGljIGFkZCh2ZWNBOiBWZWN0b3IyLCB2ZWNCOiBWZWN0b3IyKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIodmVjQS54ICsgdmVjQi54LCB2ZWNBLnkgKyB2ZWNCLnkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3VidHJhY3RzIG9uZSB2ZWN0b3IgZnJvbSBhbm90aGVyIGFuZCByZXR1cm5zIHRoZSByZXN1bHQgYXMgYSBuZXcgdmVjdG9yLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBzdWJ0cmFjdCh2ZWNBOiBWZWN0b3IyLCB2ZWNCOiBWZWN0b3IyKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIodmVjQS54IC0gdmVjQi54LCB2ZWNBLnkgLSB2ZWNCLnkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTXVsdGlwbGllcyB0d28gdmVjdG9ycyAodmFsdWUgYnkgdmFsdWUpIGFuZCByZXR1cm5zIHRoZSByZXN1bHQuXHJcbiAgICovXHJcbiAgc3RhdGljIG11bHRpcGx5KHZlY0E6IFZlY3RvcjIsIHZlY0I6IFZlY3RvcjIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMih2ZWNBLnggKiB2ZWNCLngsIHZlY0EueSAqIHZlY0IueSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNdWx0aXBsaWVzIGEgdmVjdG9yIGJ5IGEgc2NhbGFyIGFuZCByZXR1cm5zIHRoZSByZXN1bHQuXHJcbiAgICovXHJcbiAgc3RhdGljIG11bHRpcGx5U2NhbGFyKHZlYzogVmVjdG9yMiwgc2NhbGFyOiBudW1iZXIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMih2ZWMueCwgdmVjLnkpLm11bHRpcGx5U2NhbGFyKHNjYWxhcik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBtaWRwb2ludCBvZiBhIGxpbmUgc3Bhbm5lZCBieSB0d28gdmVjdG9ycy5cclxuICAgKi9cclxuICBzdGF0aWMgbWlkcG9pbnQodmVjQTogVmVjdG9yMiwgdmVjQjogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKCh2ZWNBLnggKyB2ZWNCLngpIC8gMiwgKHZlY0EueSArIHZlY0IueSkgLyAyKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIG5vcm1hbHMgb2YgYSBsaW5lIHNwYW5uZWQgYnkgdHdvIHZlY3RvcnMuXHJcbiAgICovXHJcbiAgc3RhdGljIG5vcm1hbHModmVjQTogVmVjdG9yMiwgdmVjQjogVmVjdG9yMik6IFtWZWN0b3IyLCBWZWN0b3IyXSB7XHJcbiAgICBjb25zdCBkZWx0YSA9IFZlY3RvcjIuc3VidHJhY3QodmVjQiwgdmVjQSk7XHJcblxyXG4gICAgcmV0dXJuIFtuZXcgVmVjdG9yMigtZGVsdGEueSwgZGVsdGEueCksIG5ldyBWZWN0b3IyKGRlbHRhLnksIC1kZWx0YS54KV07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSB1bml0IHZlY3RvcnMgb2YgYSBsaW5lIHNwYW5uZWQgYnkgdHdvIHZlY3RvcnMuXHJcbiAgICovXHJcbiAgc3RhdGljIHVuaXRzKHZlY0E6IFZlY3RvcjIsIHZlY0I6IFZlY3RvcjIpOiBbVmVjdG9yMiwgVmVjdG9yMl0ge1xyXG4gICAgY29uc3QgZGVsdGEgPSBWZWN0b3IyLnN1YnRyYWN0KHZlY0IsIHZlY0EpO1xyXG5cclxuICAgIHJldHVybiBbXHJcbiAgICAgIG5ldyBWZWN0b3IyKC1kZWx0YS55LCBkZWx0YS54KS5ub3JtYWxpemUoKSxcclxuICAgICAgbmV3IFZlY3RvcjIoZGVsdGEueSwgLWRlbHRhLngpLm5vcm1hbGl6ZSgpLFxyXG4gICAgXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERpdmlkZXMgYSB2ZWN0b3IgYnkgYW5vdGhlciB2ZWN0b3IgYW5kIHJldHVybnMgdGhlIHJlc3VsdCBhcyBuZXcgdmVjdG9yLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBkaXZpZGUodmVjQTogVmVjdG9yMiwgdmVjQjogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHZlY0EueCAvIHZlY0IueCwgdmVjQS55IC8gdmVjQi55KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERpdmlkZXMgYSB2ZWN0b3IgYnkgYSBzY2FsYXIgYW5kIHJldHVybnMgdGhlIHJlc3VsdCBhcyBuZXcgdmVjdG9yLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBkaXZpZGVTY2FsYXIodmVjQTogVmVjdG9yMiwgczogbnVtYmVyKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIodmVjQS54IC8gcywgdmVjQS55IC8gcyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjdG9ycy5cclxuICAgKi9cclxuICBzdGF0aWMgZG90KHZlY0E6IFZlY3RvcjIsIHZlY0I6IFZlY3RvcjIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHZlY0EueCAqIHZlY0IueCArIHZlY0EueSAqIHZlY0IueTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIHZlY3RvcnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGFuZ2xlKHZlY0E6IFZlY3RvcjIsIHZlY0I6IFZlY3RvcjIpOiBudW1iZXIge1xyXG4gICAgY29uc3QgZG90ID0gVmVjdG9yMi5kb3QodmVjQSwgdmVjQik7XHJcbiAgICByZXR1cm4gTWF0aC5hY29zKGRvdCAvICh2ZWNBLmxlbmd0aCgpICogdmVjQi5sZW5ndGgoKSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgYW5nbGUgYmV0d2VlbiB0d28gdmVjdG9ycyBiYXNlZCBvbiBhIHRoaXJkIHZlY3RvciBpbiBiZXR3ZWVuLlxyXG4gICAqL1xyXG4gIHN0YXRpYyB0aHJlZVBvaW50QW5nbGUodmVjQTogVmVjdG9yMiwgdmVjQjogVmVjdG9yMiwgdmVjQzogVmVjdG9yMik6IG51bWJlciB7XHJcbiAgICBjb25zdCBhYiA9IFZlY3RvcjIuc3VidHJhY3QodmVjQiwgdmVjQSk7XHJcbiAgICBjb25zdCBiYyA9IFZlY3RvcjIuc3VidHJhY3QodmVjQywgdmVjQik7XHJcbiAgICBjb25zdCBhYkxlbmd0aCA9IHZlY0EuZGlzdGFuY2UodmVjQik7XHJcbiAgICBjb25zdCBiY0xlbmd0aCA9IHZlY0IuZGlzdGFuY2UodmVjQyk7XHJcblxyXG4gICAgcmV0dXJuIE1hdGguYWNvcyhWZWN0b3IyLmRvdChhYiwgYmMpIC8gKGFiTGVuZ3RoICogYmNMZW5ndGgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIHNjYWxhciBwcm9qZWN0aW9uIG9mIGEgdmVjdG9yIG9uIGFub3RoZXIgdmVjdG9yLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBzY2FsYXJQcm9qZWN0aW9uKHZlY0E6IFZlY3RvcjIsIHZlY0I6IFZlY3RvcjIpOiBudW1iZXIge1xyXG4gICAgY29uc3QgdW5pdCA9IHZlY0Iubm9ybWFsaXplZCgpO1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuZG90KHZlY0EsIHVuaXQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgYXZlcmFnZSB2ZWN0b3IgKG5vcm1hbGl6ZWQpIG9mIHRoZSBpbnB1dCB2ZWN0b3JzLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBhdmVyYWdlRGlyZWN0aW9uKHZlY3M6IFZlY3RvcjJbXSk6IFZlY3RvcjIge1xyXG4gICAgY29uc3QgYXZnID0gbmV3IFZlY3RvcjIoMC4wLCAwLjApO1xyXG5cclxuICAgIGZvciAoY29uc3QgdmVjIG9mIHZlY3MpIHtcclxuICAgICAgYXZnLmFkZCh2ZWMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhdmcubm9ybWFsaXplKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi9WZWN0b3IyXCI7XHJcbmltcG9ydCB7IEFycmF5SGVscGVyIH0gZnJvbSBcIi4vQXJyYXlIZWxwZXJcIjtcclxuaW1wb3J0IHsgQXRvbSB9IGZyb20gXCIuL0F0b21cIjtcclxuaW1wb3J0IHsgTWF0aEhlbHBlciB9IGZyb20gXCIuL01hdGhIZWxwZXJcIjtcclxuXHJcbi8qKlxyXG4gKiBBIGNsYXNzIHJlcHJlc2VudGluZyBhIHZlcnRleC5cclxuICpcclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGlkIFRoZSBpZCBvZiB0aGlzIHZlcnRleC5cclxuICogQHByb3BlcnR5IHtBdG9tfSB2YWx1ZSBUaGUgYXRvbSBhc3NvY2lhdGVkIHdpdGggdGhpcyB2ZXJ0ZXguXHJcbiAqIEBwcm9wZXJ0eSB7VmVjdG9yMn0gcG9zaXRpb24gVGhlIHBvc2l0aW9uIG9mIHRoaXMgdmVydGV4LlxyXG4gKiBAcHJvcGVydHkge1ZlY3RvcjJ9IHByZXZpb3VzUG9zaXRpb24gVGhlIHBvc2l0aW9uIG9mIHRoZSBwcmV2aW91cyB2ZXJ0ZXguXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfG51bGx9IHBhcmVudFZlcnRleElkIFRoZSBpZCBvZiB0aGUgcHJldmlvdXMgdmVydGV4LlxyXG4gKiBAcHJvcGVydHkge051bWJlcltdfSBjaGlsZHJlbiBUaGUgaWRzIG9mIHRoZSBjaGlsZHJlbiBvZiB0aGlzIHZlcnRleC5cclxuICogQHByb3BlcnR5IHtOdW1iZXJbXX0gc3Bhbm5pbmdUcmVlQ2hpbGRyZW4gVGhlIGlkcyBvZiB0aGUgY2hpbGRyZW4gb2YgdGhpcyB2ZXJ0ZXggYXMgZGVmaW5lZCBpbiB0aGUgc3Bhbm5pbmcgdHJlZSBkZWZpbmVkIGJ5IHRoZSBTTUlMRVMuXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyW119IGVkZ2VzIFRoZSBpZHMgb2YgZWRnZXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgdmVydGV4LlxyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IHBvc2l0aW9uZWQgQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhpcyB2ZXJ0ZXggaGFzIGJlZW4gcG9zaXRpb25lZC5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGFuZ2xlIFRoZSBhbmdsZSBvZiB0aGlzIHZlcnRleC5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGRpciBUaGUgZGlyZWN0aW9uIG9mIHRoaXMgdmVydGV4LlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gbmVpZ2hib3VyQ291bnQgVGhlIG51bWJlciBvZiBuZWlnaGJvdXJpbmcgdmVydGljZXMuXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyW119IG5laWdoYm91cnMgVGhlIHZlcnRleCBpZHMgb2YgbmVpZ2hib3VyaW5nIHZlcnRpY2VzLlxyXG4gKiBAcHJvcGVydHkge1N0cmluZ1tdfSBuZWlnaGJvdXJpbmdFbGVtZW50cyBUaGUgZWxlbWVudCBzeW1ib2xzIGFzc29jaWF0ZWQgd2l0aCBuZWlnaGJvdXJpbmcgdmVydGljZXMuXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gZm9yY2VQb3NpdGlvbmVkIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoaXMgdmVydGV4IHdhcyBwb3NpdGlvbmVkIHVzaW5nIGEgZm9yY2UtYmFzZWQgYXBwcm9hY2guXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVmVydGV4IHtcclxuICBpZDogbnVtYmVyIHwgbnVsbDtcclxuICB2YWx1ZTogQXRvbTtcclxuICBwb3NpdGlvbjogVmVjdG9yMjtcclxuICBwcmV2aW91c1Bvc2l0aW9uOiBWZWN0b3IyO1xyXG4gIHBhcmVudFZlcnRleElkOiBudW1iZXIgfCBudWxsO1xyXG4gIGNoaWxkcmVuOiBudW1iZXJbXTtcclxuICBzcGFubmluZ1RyZWVDaGlsZHJlbjogbnVtYmVyW107XHJcbiAgZWRnZXM6IG51bWJlcltdO1xyXG4gIHBvc2l0aW9uZWQ6IGJvb2xlYW47XHJcbiAgYW5nbGU6IG51bWJlciB8IG51bGw7XHJcbiAgZGlyOiBudW1iZXI7XHJcbiAgbmVpZ2hib3VyQ291bnQ6IG51bWJlcjtcclxuICBuZWlnaGJvdXJzOiBudW1iZXJbXTtcclxuICBuZWlnaGJvdXJpbmdFbGVtZW50czogc3RyaW5nW107XHJcbiAgZm9yY2VQb3NpdGlvbmVkOiBib29sZWFuO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgY29uc3RydWN0b3IgZm9yIHRoZSBjbGFzcyBWZXJ0ZXguXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0F0b219IHZhbHVlIFRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggdGhpcyB2ZXJ0ZXguXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFt4PTBdIFRoZSBpbml0aWFsIHggY29vcmRpbmF0ZSBvZiB0aGUgcG9zaXRpb25hbCB2ZWN0b3Igb2YgdGhpcyB2ZXJ0ZXguXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFt5PTBdIFRoZSBpbml0aWFsIHkgY29vcmRpbmF0ZSBvZiB0aGUgcG9zaXRpb25hbCB2ZWN0b3Igb2YgdGhpcyB2ZXJ0ZXguXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IodmFsdWU6IEF0b20sIHg6IG51bWJlciA9IDAsIHk6IG51bWJlciA9IDApIHtcclxuICAgIHRoaXMuaWQgPSBudWxsO1xyXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWN0b3IyKHggPyB4IDogMCwgeSA/IHkgOiAwKTtcclxuICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IG5ldyBWZWN0b3IyKDAsIDApO1xyXG4gICAgdGhpcy5wYXJlbnRWZXJ0ZXhJZCA9IG51bGw7XHJcbiAgICB0aGlzLmNoaWxkcmVuID0gQXJyYXkoKTtcclxuICAgIHRoaXMuc3Bhbm5pbmdUcmVlQ2hpbGRyZW4gPSBBcnJheSgpO1xyXG4gICAgdGhpcy5lZGdlcyA9IEFycmF5KCk7XHJcbiAgICB0aGlzLnBvc2l0aW9uZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuYW5nbGUgPSBudWxsO1xyXG4gICAgdGhpcy5kaXIgPSAxLjA7XHJcbiAgICB0aGlzLm5laWdoYm91ckNvdW50ID0gMDtcclxuICAgIHRoaXMubmVpZ2hib3VycyA9IEFycmF5KCk7XHJcbiAgICB0aGlzLm5laWdoYm91cmluZ0VsZW1lbnRzID0gQXJyYXkoKTtcclxuICAgIHRoaXMuZm9yY2VQb3NpdGlvbmVkID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgdGhlIDJEIGNvb3JkaW5hdGVzIG9mIHRoZSB2ZXJ0ZXguXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBjb21wb25lbnQgb2YgdGhlIGNvb3JkaW5hdGVzLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IGNvbXBvbmVudCBvZiB0aGUgY29vcmRpbmF0ZXMuXHJcbiAgICovXHJcbiAgc2V0UG9zaXRpb24oeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMucG9zaXRpb24ueCA9IHg7XHJcbiAgICB0aGlzLnBvc2l0aW9uLnkgPSB5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSAyRCBjb29yZGluYXRlcyBvZiB0aGUgdmVydGV4IGZyb20gYSBWZWN0b3IyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtWZWN0b3IyfSB2IEEgMkQgdmVjdG9yLlxyXG4gICAqL1xyXG4gIHNldFBvc2l0aW9uRnJvbVZlY3Rvcih2OiBWZWN0b3IyKTogdm9pZCB7XHJcbiAgICB0aGlzLnBvc2l0aW9uLnggPSB2Lng7XHJcbiAgICB0aGlzLnBvc2l0aW9uLnkgPSB2Lnk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgYSBjaGlsZCB2ZXJ0ZXggaWQgdG8gdGhpcyB2ZXJ0ZXguXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlcnRleElkIFRoZSBpZCBvZiBhIHZlcnRleCB0byBiZSBhZGRlZCBhcyBhIGNoaWxkIHRvIHRoaXMgdmVydGV4LlxyXG4gICAqL1xyXG4gIGFkZENoaWxkKHZlcnRleElkOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh2ZXJ0ZXhJZCk7XHJcbiAgICB0aGlzLm5laWdoYm91cnMucHVzaCh2ZXJ0ZXhJZCk7XHJcbiAgICB0aGlzLm5laWdoYm91ckNvdW50Kys7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgYSBjaGlsZCB2ZXJ0ZXggaWQgdG8gdGhpcyB2ZXJ0ZXggYXMgdGhlIHNlY29uZCBjaGlsZCBvZiB0aGUgbmVpZ2hib3VycyBhcnJheSxcclxuICAgKiBleGNlcHQgdGhpcyB2ZXJ0ZXggaXMgdGhlIGZpcnN0IHZlcnRleCBvZiB0aGUgU01JTEUgc3RyaW5nLCB0aGVuIGl0IGlzIGFkZGVkIGFzIHRoZSBmaXJzdC5cclxuICAgKiBUaGlzIGlzIHVzZWQgdG8gZ2V0IHRoZSBjb3JyZWN0IG9yZGVyaW5nIG9mIG5laWdoYm91cnMgZm9yIHBhcml0eSBjYWxjdWxhdGlvbnMuXHJcbiAgICogSWYgYSBoeWRyb2dlbiBpcyBpbXBsaWNpdGx5IGF0dGFjaGVkIHRvIHRoZSBjaGlyYWwgY2VudGVyLCBpbnNlcnQgYXMgdGhlIHRoaXJkIGNoaWxkLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJ0ZXhJZCBUaGUgaWQgb2YgYSB2ZXJ0ZXggdG8gYmUgYWRkZWQgYXMgYSBjaGlsZCB0byB0aGlzIHZlcnRleC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gcmluZ2JvbmRJbmRleCBUaGUgaW5kZXggb2YgdGhlIHJpbmdib25kLlxyXG4gICAqL1xyXG4gIGFkZFJpbmdib25kQ2hpbGQodmVydGV4SWQ6IG51bWJlciwgcmluZ2JvbmRJbmRleDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLmNoaWxkcmVuLnB1c2godmVydGV4SWQpO1xyXG5cclxuICAgIGlmICh0aGlzLnZhbHVlLmJyYWNrZXQpIHtcclxuICAgICAgbGV0IGluZGV4ID0gMTtcclxuXHJcbiAgICAgIGlmICh0aGlzLmlkID09PSAwICYmIHRoaXMudmFsdWUuYnJhY2tldC5oY291bnQgPT09IDApIHtcclxuICAgICAgICBpbmRleCA9IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLnZhbHVlLmJyYWNrZXQuaGNvdW50ID09PSAxICYmIHJpbmdib25kSW5kZXggPT09IDApIHtcclxuICAgICAgICBpbmRleCA9IDI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLnZhbHVlLmJyYWNrZXQuaGNvdW50ID09PSAxICYmIHJpbmdib25kSW5kZXggPT09IDEpIHtcclxuICAgICAgICBpZiAodGhpcy5uZWlnaGJvdXJzLmxlbmd0aCA8IDMpIHtcclxuICAgICAgICAgIGluZGV4ID0gMjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaW5kZXggPSAzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMudmFsdWUuYnJhY2tldC5oY291bnQgPT09IG51bGwgJiYgcmluZ2JvbmRJbmRleCA9PT0gMCkge1xyXG4gICAgICAgIGluZGV4ID0gMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMudmFsdWUuYnJhY2tldC5oY291bnQgPT09IG51bGwgJiYgcmluZ2JvbmRJbmRleCA9PT0gMSkge1xyXG4gICAgICAgIGlmICh0aGlzLm5laWdoYm91cnMubGVuZ3RoIDwgMykge1xyXG4gICAgICAgICAgaW5kZXggPSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpbmRleCA9IDI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLm5laWdoYm91cnMuc3BsaWNlKGluZGV4LCAwLCB2ZXJ0ZXhJZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm5laWdoYm91cnMucHVzaCh2ZXJ0ZXhJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5uZWlnaGJvdXJDb3VudCsrO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSB2ZXJ0ZXggaWQgb2YgdGhlIHBhcmVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwYXJlbnRWZXJ0ZXhJZCBUaGUgcGFyZW50cyB2ZXJ0ZXggaWQuXHJcbiAgICovXHJcbiAgc2V0UGFyZW50VmVydGV4SWQocGFyZW50VmVydGV4SWQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5uZWlnaGJvdXJDb3VudCsrO1xyXG4gICAgdGhpcy5wYXJlbnRWZXJ0ZXhJZCA9IHBhcmVudFZlcnRleElkO1xyXG4gICAgdGhpcy5uZWlnaGJvdXJzLnB1c2gocGFyZW50VmVydGV4SWQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmVydGV4IGlzIHRlcm1pbmFsIChoYXMgbm8gcGFyZW50IG9yIGNoaWxkIHZlcnRpY2VzKSwgb3RoZXJ3aXNlIHJldHVybnMgZmFsc2UuIEFsd2F5cyByZXR1cm5zIHRydWUgaWYgYXNzb2NpYXRlZCB2YWx1ZSBoYXMgcHJvcGVydHkgaGFzQXR0YWNoZWRQc2V1ZG9FbGVtZW50cyBzZXQgdG8gdHJ1ZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHZlcnRleCBpcyB0ZXJtaW5hbC5cclxuICAgKi9cclxuICBpc1Rlcm1pbmFsKCk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHRoaXMudmFsdWUuaGFzQXR0YWNoZWRQc2V1ZG9FbGVtZW50cykge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAodGhpcy5wYXJlbnRWZXJ0ZXhJZCA9PT0gbnVsbCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA8IDIpIHx8XHJcbiAgICAgIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2xvbmVzIHRoaXMgdmVydGV4IGFuZCByZXR1cm5zIHRoZSBjbG9uZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtWZXJ0ZXh9IEEgY2xvbmUgb2YgdGhpcyB2ZXJ0ZXguXHJcbiAgICovXHJcbiAgY2xvbmUoKTogVmVydGV4IHtcclxuICAgIGxldCBjbG9uZSA9IG5ldyBWZXJ0ZXgodGhpcy52YWx1ZSwgdGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnkpO1xyXG4gICAgY2xvbmUuaWQgPSB0aGlzLmlkO1xyXG4gICAgY2xvbmUucHJldmlvdXNQb3NpdGlvbiA9IG5ldyBWZWN0b3IyKFxyXG4gICAgICB0aGlzLnByZXZpb3VzUG9zaXRpb24ueCxcclxuICAgICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uLnlcclxuICAgICk7XHJcbiAgICBjbG9uZS5wYXJlbnRWZXJ0ZXhJZCA9IHRoaXMucGFyZW50VmVydGV4SWQ7XHJcbiAgICBjbG9uZS5jaGlsZHJlbiA9IEFycmF5SGVscGVyLmNsb25lKHRoaXMuY2hpbGRyZW4pO1xyXG4gICAgY2xvbmUuc3Bhbm5pbmdUcmVlQ2hpbGRyZW4gPSBBcnJheUhlbHBlci5jbG9uZSh0aGlzLnNwYW5uaW5nVHJlZUNoaWxkcmVuKTtcclxuICAgIGNsb25lLmVkZ2VzID0gQXJyYXlIZWxwZXIuY2xvbmUodGhpcy5lZGdlcyk7XHJcbiAgICBjbG9uZS5wb3NpdGlvbmVkID0gdGhpcy5wb3NpdGlvbmVkO1xyXG4gICAgY2xvbmUuYW5nbGUgPSB0aGlzLmFuZ2xlO1xyXG4gICAgY2xvbmUuZm9yY2VQb3NpdGlvbmVkID0gdGhpcy5mb3JjZVBvc2l0aW9uZWQ7XHJcbiAgICByZXR1cm4gY2xvbmU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2ZXJ0ZXggYW5kIHRoZSBzdXBwbGllZCB2ZXJ0ZXggYm90aCBoYXZlIHRoZSBzYW1lIGlkLCBlbHNlIHJldHVybnMgZmFsc2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1ZlcnRleH0gdmVydGV4IFRoZSB2ZXJ0ZXggdG8gY2hlY2suXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoZSB0d28gdmVydGljZXMgaGF2ZSB0aGUgc2FtZSBpZC5cclxuICAgKi9cclxuICBlcXVhbHModmVydGV4OiBWZXJ0ZXgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmlkID09PSB2ZXJ0ZXguaWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBhbmdsZSBvZiB0aGlzIHZlcnRleGVzIHBvc2l0aW9uYWwgdmVjdG9yLiBJZiBhIHJlZmVyZW5jZSB2ZWN0b3IgaXMgc3VwcGxpZWQgaW4gcmVsYXRpb25zIHRvIHRoaXMgdmVjdG9yLCBlbHNlIGluIHJlbGF0aW9ucyB0byB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IFtyZWZlcmVuY2VWZWN0b3I9bnVsbF0gLSBUaGUgcmVmZXJlbmNlIHZlY3Rvci5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyZXR1cm5Bc0RlZ3JlZXM9ZmFsc2VdIC0gSWYgdHJ1ZSwgcmV0dXJucyBhbmdsZSBpbiBkZWdyZWVzLCBlbHNlIGluIHJhZGlhbnMuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIG9mIHRoaXMgdmVydGV4LlxyXG4gICAqL1xyXG4gIGdldEFuZ2xlKFxyXG4gICAgcmVmZXJlbmNlVmVjdG9yOiBWZWN0b3IyIHwgbnVsbCA9IG51bGwsXHJcbiAgICByZXR1cm5Bc0RlZ3JlZXM6IGJvb2xlYW4gPSBmYWxzZVxyXG4gICk6IG51bWJlciB7XHJcbiAgICBsZXQgdSA9IG51bGw7XHJcblxyXG4gICAgaWYgKCFyZWZlcmVuY2VWZWN0b3IpIHtcclxuICAgICAgdSA9IFZlY3RvcjIuc3VidHJhY3QodGhpcy5wb3NpdGlvbiwgdGhpcy5wcmV2aW91c1Bvc2l0aW9uKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHUgPSBWZWN0b3IyLnN1YnRyYWN0KHRoaXMucG9zaXRpb24sIHJlZmVyZW5jZVZlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJldHVybkFzRGVncmVlcykge1xyXG4gICAgICByZXR1cm4gTWF0aEhlbHBlci50b0RlZyh1LmFuZ2xlKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB1LmFuZ2xlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBzdWdnZXN0ZWQgdGV4dCBkaXJlY3Rpb24gd2hlbiB0ZXh0IGlzIGFkZGVkIGF0IHRoZSBwb3NpdGlvbiBvZiB0aGlzIHZlcnRleC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7VmVydGV4W119IHZlcnRpY2VzIFRoZSBhcnJheSBvZiB2ZXJ0aWNlcyBmb3IgdGhlIGN1cnJlbnQgbW9sZWN1bGUuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBvbmx5SG9yaXpvbnRhbCBJbiBjYXNlIHRoZSB0ZXh0IGRpcmVjdGlvbiBzaG91bGQgYmUgbGltaXRlZCB0byBlaXRoZXIgbGVmdCBvciByaWdodC5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgc3VnZ2VzdGVkIGRpcmVjdGlvbiBvZiB0aGUgdGV4dC5cclxuICAgKi9cclxuICBnZXRUZXh0RGlyZWN0aW9uKFxyXG4gICAgdmVydGljZXM6IFZlcnRleFtdLFxyXG4gICAgb25seUhvcml6b250YWw6IGJvb2xlYW4gPSBmYWxzZVxyXG4gICk6IHN0cmluZyB7XHJcbiAgICBsZXQgbmVpZ2hib3VycyA9IHRoaXMuZ2V0RHJhd25OZWlnaGJvdXJzKHZlcnRpY2VzKTtcclxuICAgIGxldCBhbmdsZXM6IG51bWJlcltdID0gQXJyYXkoKTtcclxuXHJcbiAgICAvLyBJZiB0aGVyZSBpcyBvbmx5IG9uZSB2ZXJ0ZXggaW4gdGhlIGdyYXBoLCBhbHdheXMgZHJhdyB0byB0aGUgcmlnaHRcclxuICAgIGlmICh2ZXJ0aWNlcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgcmV0dXJuIFwicmlnaHRcIjtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgYW5nbGVzLnB1c2godGhpcy5nZXRBbmdsZSh2ZXJ0aWNlc1tuZWlnaGJvdXJzW2ldXS5wb3NpdGlvbikpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB0ZXh0QW5nbGUgPSBNYXRoSGVscGVyLm1lYW5BbmdsZShhbmdsZXMpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzVGVybWluYWwoKSB8fCBvbmx5SG9yaXpvbnRhbCkge1xyXG4gICAgICAvLyBSb3VuZCB0byAwIG9yIDE4MCBpZiB0ZXJtaW5hbCBvciBvbmx5IGhvcml6b250YWwgYWxsb3dlZFxyXG4gICAgICAvLyBXaXRoIG9ubHkgdGhpcywgdGV4dCBpcyB3cml0dGVuIHRvIHRoZSBsZWZ0IGlmIHRoZSBhbmdsZSBpcyA5MMKwLzEuNTcwOCByYWQgKHN0cmFpZ2h0IGRvd24pLlxyXG4gICAgICAvLyBTbyBpZiBhbmdsZSBpcyB+MS41NzA4LCBmb3JjZSBpdCBhIGJpdCBhbnRpLWNsb2NrLXdpc2VcclxuICAgICAgaWYgKE1hdGgucm91bmQodGV4dEFuZ2xlICogMTAwKSAvIDEwMCA9PT0gMS41Nykge1xyXG4gICAgICAgIHRleHRBbmdsZSA9IHRleHRBbmdsZSAtIDAuMjtcclxuICAgICAgfVxyXG4gICAgICB0ZXh0QW5nbGUgPSBNYXRoLnJvdW5kKE1hdGgucm91bmQodGV4dEFuZ2xlIC8gTWF0aC5QSSkgKiBNYXRoLlBJKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFJvdW5kIHRvIDAsIDkwLCAxODAgb3IgMjcwIGRlZ3JlZSBpZiBub3QgdGVybWluYWxcclxuICAgICAgbGV0IGhhbGZQaSA9IE1hdGguUEkgLyAyLjA7XHJcbiAgICAgIHRleHRBbmdsZSA9IE1hdGgucm91bmQoTWF0aC5yb3VuZCh0ZXh0QW5nbGUgLyBoYWxmUGkpICogaGFsZlBpKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGV4dEFuZ2xlID09PSAyKSB7XHJcbiAgICAgIHJldHVybiBcImRvd25cIjtcclxuICAgIH0gZWxzZSBpZiAodGV4dEFuZ2xlID09PSAtMikge1xyXG4gICAgICByZXR1cm4gXCJ1cFwiO1xyXG4gICAgfSBlbHNlIGlmICh0ZXh0QW5nbGUgPT09IDAgfHwgdGV4dEFuZ2xlID09PSAtMCkge1xyXG4gICAgICByZXR1cm4gXCJyaWdodFwiOyAvLyBpcyBjaGVja2luZyBmb3IgLTAgbmVjZXNzYXJ5P1xyXG4gICAgfSBlbHNlIGlmICh0ZXh0QW5nbGUgPT09IDMgfHwgdGV4dEFuZ2xlID09PSAtMykge1xyXG4gICAgICByZXR1cm4gXCJsZWZ0XCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gXCJkb3duXCI7IC8vIGRlZmF1bHQgdG8gZG93blxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiBpZHMgb2YgbmVpZ2hib3VyaW5nIHZlcnRpY2VzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFt2ZXJ0ZXhJZD1udWxsXSBJZiBhIHZhbHVlIGlzIHN1cHBsaWVkLCB0aGUgdmVydGV4IHdpdGggdGhpcyBpZCBpcyBleGNsdWRlZCBmcm9tIHRoZSByZXR1cm5lZCBpbmRpY2VzLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJbXX0gQW4gYXJyYXkgY29udGFpbmluZyB0aGUgaWRzIG9mIG5laWdoYm91cmluZyB2ZXJ0aWNlcy5cclxuICAgKi9cclxuICBnZXROZWlnaGJvdXJzKHZlcnRleElkOiBudW1iZXIgfCBudWxsID0gbnVsbCk6IG51bWJlcltdIHtcclxuICAgIGlmICh2ZXJ0ZXhJZCA9PT0gbnVsbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5uZWlnaGJvdXJzLnNsaWNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGFycjogbnVtYmVyW10gPSBBcnJheSgpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmICh0aGlzLm5laWdoYm91cnNbaV0gIT09IHZlcnRleElkKSB7XHJcbiAgICAgICAgYXJyLnB1c2godGhpcy5uZWlnaGJvdXJzW2ldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhcnI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGlkcyBvZiBuZWlnaGJvdXJpbmcgdmVydGljZXMgdGhhdCB3aWxsIGJlIGRyYXduICh2ZXJ0ZXgudmFsdWUuaXNEcmF3biA9PT0gdHJ1ZSkuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1ZlcnRleFtdfSB2ZXJ0aWNlcyBBbiBhcnJheSBjb250YWluaW5nIHRoZSB2ZXJ0aWNlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgbW9sZWN1bGUuXHJcbiAgICogQHJldHVybnMge051bWJlcltdfSBBbiBhcnJheSBjb250YWluaW5nIHRoZSBpZHMgb2YgbmVpZ2hib3VyaW5nIHZlcnRpY2VzIHRoYXQgd2lsbCBiZSBkcmF3bi5cclxuICAgKi9cclxuICBnZXREcmF3bk5laWdoYm91cnModmVydGljZXM6IFZlcnRleFtdKTogbnVtYmVyW10ge1xyXG4gICAgbGV0IGFycjogbnVtYmVyW10gPSBBcnJheSgpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmICh2ZXJ0aWNlc1t0aGlzLm5laWdoYm91cnNbaV1dLnZhbHVlLmlzRHJhd24pIHtcclxuICAgICAgICBhcnIucHVzaCh0aGlzLm5laWdoYm91cnNbaV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFycjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBuZWlnaGJvdXJzIG9mIHRoaXMgdmVydGV4LlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBuZWlnaGJvdXJzLlxyXG4gICAqL1xyXG4gIGdldE5laWdoYm91ckNvdW50KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5uZWlnaGJvdXJDb3VudDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIGlkcyBvZiB2ZXJ0aWNlcyBuZWlnaGJvdXJpbmcgdGhpcyBvbmUgaW4gdGhlIG9yaWdpbmFsIHNwYW5uaW5nIHRyZWUsIGV4Y2x1ZGluZyB0aGUgcmluZ2JvbmQgY29ubmVjdGlvbnMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0gW3ZlcnRleElkPW51bGxdIElmIHN1cHBsaWVkLCB0aGUgdmVydGV4IHdpdGggdGhpcyBpZCBpcyBleGNsdWRlZCBmcm9tIHRoZSBhcnJheSByZXR1cm5lZC5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyW119IEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGlkcyBvZiB0aGUgbmVpZ2hib3VyaW5nIHZlcnRpY2VzLlxyXG4gICAqL1xyXG4gIGdldFNwYW5uaW5nVHJlZU5laWdoYm91cnModmVydGV4SWQ6IG51bWJlciB8IG51bGwgPSBudWxsKTogbnVtYmVyW10ge1xyXG4gICAgbGV0IG5laWdoYm91cnM6IG51bWJlcltdID0gQXJyYXkoKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3Bhbm5pbmdUcmVlQ2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHZlcnRleElkID09PSB1bmRlZmluZWQgfHwgdmVydGV4SWQgIT0gdGhpcy5zcGFubmluZ1RyZWVDaGlsZHJlbltpXSkge1xyXG4gICAgICAgIG5laWdoYm91cnMucHVzaCh0aGlzLnNwYW5uaW5nVHJlZUNoaWxkcmVuW2ldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnBhcmVudFZlcnRleElkICE9IG51bGwpIHtcclxuICAgICAgaWYgKHZlcnRleElkID09PSB1bmRlZmluZWQgfHwgdmVydGV4SWQgIT0gdGhpcy5wYXJlbnRWZXJ0ZXhJZCkge1xyXG4gICAgICAgIG5laWdoYm91cnMucHVzaCh0aGlzLnBhcmVudFZlcnRleElkKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZWlnaGJvdXJzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0cyB0aGUgbmV4dCB2ZXJ0ZXggaW4gdGhlIHJpbmcgaW4gb3Bwb3NpZGUgZGlyZWN0aW9uIHRvIHRoZSBzdXBwbGllZCB2ZXJ0ZXggaWQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1ZlcnRleFtdfSB2ZXJ0aWNlcyBUaGUgYXJyYXkgb2YgdmVydGljZXMgZm9yIHRoZSBjdXJyZW50IG1vbGVjdWxlLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByaW5nSWQgVGhlIGlkIG9mIHRoZSByaW5nIGNvbnRhaW5pbmcgdGhpcyB2ZXJ0ZXguXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHByZXZpb3VzVmVydGV4SWQgVGhlIGlkIG9mIHRoZSBwcmV2aW91cyB2ZXJ0ZXguIFRoZSBuZXh0IHZlcnRleCB3aWxsIGJlIG9wcG9zaXRlIGZyb20gdGhlIHZlcnRleCB3aXRoIHRoaXMgaWQgYXMgc2VlbiBmcm9tIHRoaXMgdmVydGV4LlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBpZCBvZiB0aGUgbmV4dCB2ZXJ0ZXggaW4gdGhlIHJpbmcuXHJcbiAgICovXHJcbiAgZ2V0TmV4dEluUmluZyhcclxuICAgIHZlcnRpY2VzOiBWZXJ0ZXhbXSxcclxuICAgIHJpbmdJZDogbnVtYmVyLFxyXG4gICAgcHJldmlvdXNWZXJ0ZXhJZDogbnVtYmVyIHwgdW5kZWZpbmVkXHJcbiAgKTogbnVtYmVyIHwgbnVsbCB7XHJcbiAgICBsZXQgbmVpZ2hib3VycyA9IHRoaXMuZ2V0TmVpZ2hib3VycygpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgQXJyYXlIZWxwZXIuY29udGFpbnModmVydGljZXNbbmVpZ2hib3Vyc1tpXV0udmFsdWUucmluZ3MsIHtcclxuICAgICAgICAgIHZhbHVlOiByaW5nSWQsXHJcbiAgICAgICAgfSkgJiZcclxuICAgICAgICBuZWlnaGJvdXJzW2ldICE9IHByZXZpb3VzVmVydGV4SWRcclxuICAgICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIG5laWdoYm91cnNbaV07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuIiwiLyoqXG4gKiBjaHJvbWEuanMgLSBKYXZhU2NyaXB0IGxpYnJhcnkgZm9yIGNvbG9yIGNvbnZlcnNpb25zXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDExLTIwMTksIEdyZWdvciBBaXNjaFxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICpcbiAqIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xuICogbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvblxuICogYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogMy4gVGhlIG5hbWUgR3JlZ29yIEFpc2NoIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHNcbiAqIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4gKiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gKiBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkVcbiAqIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIEdSRUdPUiBBSVNDSCBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxuICogSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsXG4gKiBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxuICogREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWVxuICogT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcbiAqIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSxcbiAqIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIGNocm9tYS5qcyBpbmNsdWRlcyBjb2xvcnMgZnJvbSBjb2xvcmJyZXdlcjIub3JnLCB3aGljaCBhcmUgcmVsZWFzZWQgdW5kZXJcbiAqIHRoZSBmb2xsb3dpbmcgbGljZW5zZTpcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMDIgQ3ludGhpYSBCcmV3ZXIsIE1hcmsgSGFycm93ZXIsXG4gKiBhbmQgVGhlIFBlbm5zeWx2YW5pYSBTdGF0ZSBVbml2ZXJzaXR5LlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogTmFtZWQgY29sb3JzIGFyZSB0YWtlbiBmcm9tIFgxMSBDb2xvciBOYW1lcy5cbiAqIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtY29sb3IvI3N2Zy1jb2xvclxuICpcbiAqIEBwcmVzZXJ2ZVxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gICAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLmNocm9tYSA9IGZhY3RvcnkoKSk7XG59KSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbGltaXQkMiA9IGZ1bmN0aW9uICh4LCBtaW4sIG1heCkge1xuICAgICAgICBpZiAoIG1pbiA9PT0gdm9pZCAwICkgbWluPTA7XG4gICAgICAgIGlmICggbWF4ID09PSB2b2lkIDAgKSBtYXg9MTtcblxuICAgICAgICByZXR1cm4geCA8IG1pbiA/IG1pbiA6IHggPiBtYXggPyBtYXggOiB4O1xuICAgIH07XG5cbiAgICB2YXIgbGltaXQkMSA9IGxpbWl0JDI7XG5cbiAgICB2YXIgY2xpcF9yZ2IkMyA9IGZ1bmN0aW9uIChyZ2IpIHtcbiAgICAgICAgcmdiLl9jbGlwcGVkID0gZmFsc2U7XG4gICAgICAgIHJnYi5fdW5jbGlwcGVkID0gcmdiLnNsaWNlKDApO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8PTM7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPCAzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJnYltpXSA8IDAgfHwgcmdiW2ldID4gMjU1KSB7IHJnYi5fY2xpcHBlZCA9IHRydWU7IH1cbiAgICAgICAgICAgICAgICByZ2JbaV0gPSBsaW1pdCQxKHJnYltpXSwgMCwgMjU1KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJnYltpXSA9IGxpbWl0JDEocmdiW2ldLCAwLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmdiO1xuICAgIH07XG5cbiAgICAvLyBwb3J0ZWQgZnJvbSBqUXVlcnkncyAkLnR5cGVcbiAgICB2YXIgY2xhc3NUb1R5cGUgPSB7fTtcbiAgICBmb3IgKHZhciBpJDEgPSAwLCBsaXN0JDEgPSBbJ0Jvb2xlYW4nLCAnTnVtYmVyJywgJ1N0cmluZycsICdGdW5jdGlvbicsICdBcnJheScsICdEYXRlJywgJ1JlZ0V4cCcsICdVbmRlZmluZWQnLCAnTnVsbCddOyBpJDEgPCBsaXN0JDEubGVuZ3RoOyBpJDEgKz0gMSkge1xuICAgICAgICB2YXIgbmFtZSA9IGxpc3QkMVtpJDFdO1xuXG4gICAgICAgIGNsYXNzVG9UeXBlWyhcIltvYmplY3QgXCIgKyBuYW1lICsgXCJdXCIpXSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgdmFyIHR5cGUkcCA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gY2xhc3NUb1R5cGVbT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaildIHx8IFwib2JqZWN0XCI7XG4gICAgfTtcblxuICAgIHZhciB0eXBlJG8gPSB0eXBlJHA7XG5cbiAgICB2YXIgdW5wYWNrJEIgPSBmdW5jdGlvbiAoYXJncywga2V5T3JkZXIpIHtcbiAgICAgICAgaWYgKCBrZXlPcmRlciA9PT0gdm9pZCAwICkga2V5T3JkZXI9bnVsbDtcblxuICAgIFx0Ly8gaWYgY2FsbGVkIHdpdGggbW9yZSB0aGFuIDMgYXJndW1lbnRzLCB3ZSByZXR1cm4gdGhlIGFyZ3VtZW50c1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPj0gMykgeyByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7IH1cbiAgICAgICAgLy8gd2l0aCBsZXNzIHRoYW4gMyBhcmdzIHdlIGNoZWNrIGlmIGZpcnN0IGFyZyBpcyBvYmplY3RcbiAgICAgICAgLy8gYW5kIHVzZSB0aGUga2V5T3JkZXIgc3RyaW5nIHRvIGV4dHJhY3QgYW5kIHNvcnQgcHJvcGVydGllc1xuICAgIFx0aWYgKHR5cGUkbyhhcmdzWzBdKSA9PSAnb2JqZWN0JyAmJiBrZXlPcmRlcikge1xuICAgIFx0XHRyZXR1cm4ga2V5T3JkZXIuc3BsaXQoJycpXG4gICAgXHRcdFx0LmZpbHRlcihmdW5jdGlvbiAoaykgeyByZXR1cm4gYXJnc1swXVtrXSAhPT0gdW5kZWZpbmVkOyB9KVxuICAgIFx0XHRcdC5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIGFyZ3NbMF1ba107IH0pO1xuICAgIFx0fVxuICAgIFx0Ly8gb3RoZXJ3aXNlIHdlIGp1c3QgcmV0dXJuIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgIFx0Ly8gKHdoaWNoIHdlIHN1cHBvc2UgaXMgYW4gYXJyYXkgb2YgYXJncylcbiAgICAgICAgcmV0dXJuIGFyZ3NbMF07XG4gICAgfTtcblxuICAgIHZhciB0eXBlJG4gPSB0eXBlJHA7XG5cbiAgICB2YXIgbGFzdCQ0ID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDwgMikgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICB2YXIgbCA9IGFyZ3MubGVuZ3RoLTE7XG4gICAgICAgIGlmICh0eXBlJG4oYXJnc1tsXSkgPT0gJ3N0cmluZycpIHsgcmV0dXJuIGFyZ3NbbF0udG9Mb3dlckNhc2UoKTsgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIFBJJDIgPSBNYXRoLlBJO1xuXG4gICAgdmFyIHV0aWxzID0ge1xuICAgIFx0Y2xpcF9yZ2I6IGNsaXBfcmdiJDMsXG4gICAgXHRsaW1pdDogbGltaXQkMixcbiAgICBcdHR5cGU6IHR5cGUkcCxcbiAgICBcdHVucGFjazogdW5wYWNrJEIsXG4gICAgXHRsYXN0OiBsYXN0JDQsXG4gICAgXHRQSTogUEkkMixcbiAgICBcdFRXT1BJOiBQSSQyKjIsXG4gICAgXHRQSVRISVJEOiBQSSQyLzMsXG4gICAgXHRERUcyUkFEOiBQSSQyIC8gMTgwLFxuICAgIFx0UkFEMkRFRzogMTgwIC8gUEkkMlxuICAgIH07XG5cbiAgICB2YXIgaW5wdXQkaCA9IHtcbiAgICBcdGZvcm1hdDoge30sXG4gICAgXHRhdXRvZGV0ZWN0OiBbXVxuICAgIH07XG5cbiAgICB2YXIgbGFzdCQzID0gdXRpbHMubGFzdDtcbiAgICB2YXIgY2xpcF9yZ2IkMiA9IHV0aWxzLmNsaXBfcmdiO1xuICAgIHZhciB0eXBlJG0gPSB1dGlscy50eXBlO1xuICAgIHZhciBfaW5wdXQgPSBpbnB1dCRoO1xuXG4gICAgdmFyIENvbG9yJEQgPSBmdW5jdGlvbiBDb2xvcigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgICBpZiAodHlwZSRtKGFyZ3NbMF0pID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgYXJnc1swXS5jb25zdHJ1Y3RvciAmJlxuICAgICAgICAgICAgYXJnc1swXS5jb25zdHJ1Y3RvciA9PT0gdGhpcy5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgLy8gdGhlIGFyZ3VtZW50IGlzIGFscmVhZHkgYSBDb2xvciBpbnN0YW5jZVxuICAgICAgICAgICAgcmV0dXJuIGFyZ3NbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsYXN0IGFyZ3VtZW50IGNvdWxkIGJlIHRoZSBtb2RlXG4gICAgICAgIHZhciBtb2RlID0gbGFzdCQzKGFyZ3MpO1xuICAgICAgICB2YXIgYXV0b2RldGVjdCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghbW9kZSkge1xuICAgICAgICAgICAgYXV0b2RldGVjdCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoIV9pbnB1dC5zb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICBfaW5wdXQuYXV0b2RldGVjdCA9IF9pbnB1dC5hdXRvZGV0ZWN0LnNvcnQoZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYi5wIC0gYS5wOyB9KTtcbiAgICAgICAgICAgICAgICBfaW5wdXQuc29ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGF1dG8tZGV0ZWN0IGZvcm1hdFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBfaW5wdXQuYXV0b2RldGVjdDsgaSA8IGxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hrID0gbGlzdFtpXTtcblxuICAgICAgICAgICAgICAgIG1vZGUgPSBjaGsudGVzdC5hcHBseShjaGssIGFyZ3MpO1xuICAgICAgICAgICAgICAgIGlmIChtb2RlKSB7IGJyZWFrOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX2lucHV0LmZvcm1hdFttb2RlXSkge1xuICAgICAgICAgICAgdmFyIHJnYiA9IF9pbnB1dC5mb3JtYXRbbW9kZV0uYXBwbHkobnVsbCwgYXV0b2RldGVjdCA/IGFyZ3MgOiBhcmdzLnNsaWNlKDAsLTEpKTtcbiAgICAgICAgICAgIG1lLl9yZ2IgPSBjbGlwX3JnYiQyKHJnYik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gZm9ybWF0OiAnK2FyZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIGFscGhhIGNoYW5uZWxcbiAgICAgICAgaWYgKG1lLl9yZ2IubGVuZ3RoID09PSAzKSB7IG1lLl9yZ2IucHVzaCgxKTsgfVxuICAgIH07XG5cbiAgICBDb2xvciRELnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICAgICAgaWYgKHR5cGUkbSh0aGlzLmhleCkgPT0gJ2Z1bmN0aW9uJykgeyByZXR1cm4gdGhpcy5oZXgoKTsgfVxuICAgICAgICByZXR1cm4gKFwiW1wiICsgKHRoaXMuX3JnYi5qb2luKCcsJykpICsgXCJdXCIpO1xuICAgIH07XG5cbiAgICB2YXIgQ29sb3JfMSA9IENvbG9yJEQ7XG5cbiAgICB2YXIgY2hyb21hJGsgPSBmdW5jdGlvbiAoKSB7XG4gICAgXHR2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIFx0d2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgIFx0cmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIGNocm9tYSRrLkNvbG9yLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MpICkpO1xuICAgIH07XG5cbiAgICBjaHJvbWEkay5Db2xvciA9IENvbG9yXzE7XG4gICAgY2hyb21hJGsudmVyc2lvbiA9ICcyLjQuMic7XG5cbiAgICB2YXIgY2hyb21hXzEgPSBjaHJvbWEkaztcblxuICAgIHZhciB1bnBhY2skQSA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgbWF4JDIgPSBNYXRoLm1heDtcblxuICAgIHZhciByZ2IyY215ayQxID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skQShhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHIgPSByIC8gMjU1O1xuICAgICAgICBnID0gZyAvIDI1NTtcbiAgICAgICAgYiA9IGIgLyAyNTU7XG4gICAgICAgIHZhciBrID0gMSAtIG1heCQyKHIsbWF4JDIoZyxiKSk7XG4gICAgICAgIHZhciBmID0gayA8IDEgPyAxIC8gKDEtaykgOiAwO1xuICAgICAgICB2YXIgYyA9ICgxLXItaykgKiBmO1xuICAgICAgICB2YXIgbSA9ICgxLWctaykgKiBmO1xuICAgICAgICB2YXIgeSA9ICgxLWItaykgKiBmO1xuICAgICAgICByZXR1cm4gW2MsbSx5LGtdO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmNteWtfMSA9IHJnYjJjbXlrJDE7XG5cbiAgICB2YXIgdW5wYWNrJHogPSB1dGlscy51bnBhY2s7XG5cbiAgICB2YXIgY215azJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgYXJncyA9IHVucGFjayR6KGFyZ3MsICdjbXlrJyk7XG4gICAgICAgIHZhciBjID0gYXJnc1swXTtcbiAgICAgICAgdmFyIG0gPSBhcmdzWzFdO1xuICAgICAgICB2YXIgeSA9IGFyZ3NbMl07XG4gICAgICAgIHZhciBrID0gYXJnc1szXTtcbiAgICAgICAgdmFyIGFscGhhID0gYXJncy5sZW5ndGggPiA0ID8gYXJnc1s0XSA6IDE7XG4gICAgICAgIGlmIChrID09PSAxKSB7IHJldHVybiBbMCwwLDAsYWxwaGFdOyB9XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBjID49IDEgPyAwIDogMjU1ICogKDEtYykgKiAoMS1rKSwgLy8gclxuICAgICAgICAgICAgbSA+PSAxID8gMCA6IDI1NSAqICgxLW0pICogKDEtayksIC8vIGdcbiAgICAgICAgICAgIHkgPj0gMSA/IDAgOiAyNTUgKiAoMS15KSAqICgxLWspLCAvLyBiXG4gICAgICAgICAgICBhbHBoYVxuICAgICAgICBdO1xuICAgIH07XG5cbiAgICB2YXIgY215azJyZ2JfMSA9IGNteWsycmdiO1xuXG4gICAgdmFyIGNocm9tYSRqID0gY2hyb21hXzE7XG4gICAgdmFyIENvbG9yJEMgPSBDb2xvcl8xO1xuICAgIHZhciBpbnB1dCRnID0gaW5wdXQkaDtcbiAgICB2YXIgdW5wYWNrJHkgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkbCA9IHV0aWxzLnR5cGU7XG5cbiAgICB2YXIgcmdiMmNteWsgPSByZ2IyY215a18xO1xuXG4gICAgQ29sb3IkQy5wcm90b3R5cGUuY215ayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcmdiMmNteWsodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hJGouY215ayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3IkQywgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2NteWsnXSkgKSk7XG4gICAgfTtcblxuICAgIGlucHV0JGcuZm9ybWF0LmNteWsgPSBjbXlrMnJnYl8xO1xuXG4gICAgaW5wdXQkZy5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiAyLFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAgICAgYXJncyA9IHVucGFjayR5KGFyZ3MsICdjbXlrJyk7XG4gICAgICAgICAgICBpZiAodHlwZSRsKGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdjbXlrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayR4ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsYXN0JDIgPSB1dGlscy5sYXN0O1xuICAgIHZhciBybmQgPSBmdW5jdGlvbiAoYSkgeyByZXR1cm4gTWF0aC5yb3VuZChhKjEwMCkvMTAwOyB9O1xuXG4gICAgLypcbiAgICAgKiBzdXBwb3J0ZWQgYXJndW1lbnRzOlxuICAgICAqIC0gaHNsMmNzcyhoLHMsbClcbiAgICAgKiAtIGhzbDJjc3MoaCxzLGwsYSlcbiAgICAgKiAtIGhzbDJjc3MoW2gscyxsXSwgbW9kZSlcbiAgICAgKiAtIGhzbDJjc3MoW2gscyxsLGFdLCBtb2RlKVxuICAgICAqIC0gaHNsMmNzcyh7aCxzLGwsYX0sIG1vZGUpXG4gICAgICovXG4gICAgdmFyIGhzbDJjc3MkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgaHNsYSA9IHVucGFjayR4KGFyZ3MsICdoc2xhJyk7XG4gICAgICAgIHZhciBtb2RlID0gbGFzdCQyKGFyZ3MpIHx8ICdsc2EnO1xuICAgICAgICBoc2xhWzBdID0gcm5kKGhzbGFbMF0gfHwgMCk7XG4gICAgICAgIGhzbGFbMV0gPSBybmQoaHNsYVsxXSoxMDApICsgJyUnO1xuICAgICAgICBoc2xhWzJdID0gcm5kKGhzbGFbMl0qMTAwKSArICclJztcbiAgICAgICAgaWYgKG1vZGUgPT09ICdoc2xhJyB8fCAoaHNsYS5sZW5ndGggPiAzICYmIGhzbGFbM108MSkpIHtcbiAgICAgICAgICAgIGhzbGFbM10gPSBoc2xhLmxlbmd0aCA+IDMgPyBoc2xhWzNdIDogMTtcbiAgICAgICAgICAgIG1vZGUgPSAnaHNsYSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoc2xhLmxlbmd0aCA9IDM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChtb2RlICsgXCIoXCIgKyAoaHNsYS5qb2luKCcsJykpICsgXCIpXCIpO1xuICAgIH07XG5cbiAgICB2YXIgaHNsMmNzc18xID0gaHNsMmNzcyQxO1xuXG4gICAgdmFyIHVucGFjayR3ID0gdXRpbHMudW5wYWNrO1xuXG4gICAgLypcbiAgICAgKiBzdXBwb3J0ZWQgYXJndW1lbnRzOlxuICAgICAqIC0gcmdiMmhzbChyLGcsYilcbiAgICAgKiAtIHJnYjJoc2wocixnLGIsYSlcbiAgICAgKiAtIHJnYjJoc2woW3IsZyxiXSlcbiAgICAgKiAtIHJnYjJoc2woW3IsZyxiLGFdKVxuICAgICAqIC0gcmdiMmhzbCh7cixnLGIsYX0pXG4gICAgICovXG4gICAgdmFyIHJnYjJoc2wkMyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICBhcmdzID0gdW5wYWNrJHcoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgdmFyIHIgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgZyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBiID0gYXJnc1syXTtcblxuICAgICAgICByIC89IDI1NTtcbiAgICAgICAgZyAvPSAyNTU7XG4gICAgICAgIGIgLz0gMjU1O1xuXG4gICAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuXG4gICAgICAgIHZhciBsID0gKG1heCArIG1pbikgLyAyO1xuICAgICAgICB2YXIgcywgaDtcblxuICAgICAgICBpZiAobWF4ID09PSBtaW4pe1xuICAgICAgICAgICAgcyA9IDA7XG4gICAgICAgICAgICBoID0gTnVtYmVyLk5hTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMgPSBsIDwgMC41ID8gKG1heCAtIG1pbikgLyAobWF4ICsgbWluKSA6IChtYXggLSBtaW4pIC8gKDIgLSBtYXggLSBtaW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHIgPT0gbWF4KSB7IGggPSAoZyAtIGIpIC8gKG1heCAtIG1pbik7IH1cbiAgICAgICAgZWxzZSBpZiAoZyA9PSBtYXgpIHsgaCA9IDIgKyAoYiAtIHIpIC8gKG1heCAtIG1pbik7IH1cbiAgICAgICAgZWxzZSBpZiAoYiA9PSBtYXgpIHsgaCA9IDQgKyAociAtIGcpIC8gKG1heCAtIG1pbik7IH1cblxuICAgICAgICBoICo9IDYwO1xuICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoPjMgJiYgYXJnc1szXSE9PXVuZGVmaW5lZCkgeyByZXR1cm4gW2gscyxsLGFyZ3NbM11dOyB9XG4gICAgICAgIHJldHVybiBbaCxzLGxdO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmhzbF8xID0gcmdiMmhzbCQzO1xuXG4gICAgdmFyIHVucGFjayR2ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsYXN0JDEgPSB1dGlscy5sYXN0O1xuICAgIHZhciBoc2wyY3NzID0gaHNsMmNzc18xO1xuICAgIHZhciByZ2IyaHNsJDIgPSByZ2IyaHNsXzE7XG4gICAgdmFyIHJvdW5kJDYgPSBNYXRoLnJvdW5kO1xuXG4gICAgLypcbiAgICAgKiBzdXBwb3J0ZWQgYXJndW1lbnRzOlxuICAgICAqIC0gcmdiMmNzcyhyLGcsYilcbiAgICAgKiAtIHJnYjJjc3MocixnLGIsYSlcbiAgICAgKiAtIHJnYjJjc3MoW3IsZyxiXSwgbW9kZSlcbiAgICAgKiAtIHJnYjJjc3MoW3IsZyxiLGFdLCBtb2RlKVxuICAgICAqIC0gcmdiMmNzcyh7cixnLGIsYX0sIG1vZGUpXG4gICAgICovXG4gICAgdmFyIHJnYjJjc3MkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmdiYSA9IHVucGFjayR2KGFyZ3MsICdyZ2JhJyk7XG4gICAgICAgIHZhciBtb2RlID0gbGFzdCQxKGFyZ3MpIHx8ICdyZ2InO1xuICAgICAgICBpZiAobW9kZS5zdWJzdHIoMCwzKSA9PSAnaHNsJykge1xuICAgICAgICAgICAgcmV0dXJuIGhzbDJjc3MocmdiMmhzbCQyKHJnYmEpLCBtb2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZ2JhWzBdID0gcm91bmQkNihyZ2JhWzBdKTtcbiAgICAgICAgcmdiYVsxXSA9IHJvdW5kJDYocmdiYVsxXSk7XG4gICAgICAgIHJnYmFbMl0gPSByb3VuZCQ2KHJnYmFbMl0pO1xuICAgICAgICBpZiAobW9kZSA9PT0gJ3JnYmEnIHx8IChyZ2JhLmxlbmd0aCA+IDMgJiYgcmdiYVszXTwxKSkge1xuICAgICAgICAgICAgcmdiYVszXSA9IHJnYmEubGVuZ3RoID4gMyA/IHJnYmFbM10gOiAxO1xuICAgICAgICAgICAgbW9kZSA9ICdyZ2JhJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKG1vZGUgKyBcIihcIiArIChyZ2JhLnNsaWNlKDAsbW9kZT09PSdyZ2InPzM6NCkuam9pbignLCcpKSArIFwiKVwiKTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJjc3NfMSA9IHJnYjJjc3MkMTtcblxuICAgIHZhciB1bnBhY2skdSA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgcm91bmQkNSA9IE1hdGgucm91bmQ7XG5cbiAgICB2YXIgaHNsMnJnYiQxID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXNzaWduO1xuXG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG4gICAgICAgIGFyZ3MgPSB1bnBhY2skdShhcmdzLCAnaHNsJyk7XG4gICAgICAgIHZhciBoID0gYXJnc1swXTtcbiAgICAgICAgdmFyIHMgPSBhcmdzWzFdO1xuICAgICAgICB2YXIgbCA9IGFyZ3NbMl07XG4gICAgICAgIHZhciByLGcsYjtcbiAgICAgICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgICAgIHIgPSBnID0gYiA9IGwqMjU1O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHQzID0gWzAsMCwwXTtcbiAgICAgICAgICAgIHZhciBjID0gWzAsMCwwXTtcbiAgICAgICAgICAgIHZhciB0MiA9IGwgPCAwLjUgPyBsICogKDErcykgOiBsK3MtbCpzO1xuICAgICAgICAgICAgdmFyIHQxID0gMiAqIGwgLSB0MjtcbiAgICAgICAgICAgIHZhciBoXyA9IGggLyAzNjA7XG4gICAgICAgICAgICB0M1swXSA9IGhfICsgMS8zO1xuICAgICAgICAgICAgdDNbMV0gPSBoXztcbiAgICAgICAgICAgIHQzWzJdID0gaF8gLSAxLzM7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8MzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHQzW2ldIDwgMCkgeyB0M1tpXSArPSAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKHQzW2ldID4gMSkgeyB0M1tpXSAtPSAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKDYgKiB0M1tpXSA8IDEpXG4gICAgICAgICAgICAgICAgICAgIHsgY1tpXSA9IHQxICsgKHQyIC0gdDEpICogNiAqIHQzW2ldOyB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoMiAqIHQzW2ldIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgeyBjW2ldID0gdDI7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgzICogdDNbaV0gPCAyKVxuICAgICAgICAgICAgICAgICAgICB7IGNbaV0gPSB0MSArICh0MiAtIHQxKSAqICgoMiAvIDMpIC0gdDNbaV0pICogNjsgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgeyBjW2ldID0gdDE7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChhc3NpZ24gPSBbcm91bmQkNShjWzBdKjI1NSkscm91bmQkNShjWzFdKjI1NSkscm91bmQkNShjWzJdKjI1NSldLCByID0gYXNzaWduWzBdLCBnID0gYXNzaWduWzFdLCBiID0gYXNzaWduWzJdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICAvLyBrZWVwIGFscGhhIGNoYW5uZWxcbiAgICAgICAgICAgIHJldHVybiBbcixnLGIsYXJnc1szXV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtyLGcsYiwxXTtcbiAgICB9O1xuXG4gICAgdmFyIGhzbDJyZ2JfMSA9IGhzbDJyZ2IkMTtcblxuICAgIHZhciBoc2wycmdiID0gaHNsMnJnYl8xO1xuICAgIHZhciBpbnB1dCRmID0gaW5wdXQkaDtcblxuICAgIHZhciBSRV9SR0IgPSAvXnJnYlxcKFxccyooLT9cXGQrKSxcXHMqKC0/XFxkKylcXHMqLFxccyooLT9cXGQrKVxccypcXCkkLztcbiAgICB2YXIgUkVfUkdCQSA9IC9ecmdiYVxcKFxccyooLT9cXGQrKSxcXHMqKC0/XFxkKylcXHMqLFxccyooLT9cXGQrKVxccyosXFxzKihbMDFdfFswMV0/XFwuXFxkKylcXCkkLztcbiAgICB2YXIgUkVfUkdCX1BDVCA9IC9ecmdiXFwoXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJSxcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyklXFxzKixcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyklXFxzKlxcKSQvO1xuICAgIHZhciBSRV9SR0JBX1BDVCA9IC9ecmdiYVxcKFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSUsXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKihbMDFdfFswMV0/XFwuXFxkKylcXCkkLztcbiAgICB2YXIgUkVfSFNMID0gL15oc2xcXChcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyksXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccypcXCkkLztcbiAgICB2YXIgUkVfSFNMQSA9IC9eaHNsYVxcKFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSxcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyklXFxzKixcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyklXFxzKixcXHMqKFswMV18WzAxXT9cXC5cXGQrKVxcKSQvO1xuXG4gICAgdmFyIHJvdW5kJDQgPSBNYXRoLnJvdW5kO1xuXG4gICAgdmFyIGNzczJyZ2IkMSA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgICAgICAgY3NzID0gY3NzLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgICAgICB2YXIgbTtcblxuICAgICAgICBpZiAoaW5wdXQkZi5mb3JtYXQubmFtZWQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0JGYuZm9ybWF0Lm5hbWVkKGNzcyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZ2IoMjUwLDIwLDApXG4gICAgICAgIGlmICgobSA9IGNzcy5tYXRjaChSRV9SR0IpKSkge1xuICAgICAgICAgICAgdmFyIHJnYiA9IG0uc2xpY2UoMSw0KTtcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTwzOyBpKyspIHtcbiAgICAgICAgICAgICAgICByZ2JbaV0gPSArcmdiW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmdiWzNdID0gMTsgIC8vIGRlZmF1bHQgYWxwaGFcbiAgICAgICAgICAgIHJldHVybiByZ2I7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZ2JhKDI1MCwyMCwwLDAuNClcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX1JHQkEpKSkge1xuICAgICAgICAgICAgdmFyIHJnYiQxID0gbS5zbGljZSgxLDUpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQxPTA7IGkkMTw0OyBpJDErKykge1xuICAgICAgICAgICAgICAgIHJnYiQxW2kkMV0gPSArcmdiJDFbaSQxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZ2IkMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJnYigxMDAlLDAlLDAlKVxuICAgICAgICBpZiAoKG0gPSBjc3MubWF0Y2goUkVfUkdCX1BDVCkpKSB7XG4gICAgICAgICAgICB2YXIgcmdiJDIgPSBtLnNsaWNlKDEsNCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDI9MDsgaSQyPDM7IGkkMisrKSB7XG4gICAgICAgICAgICAgICAgcmdiJDJbaSQyXSA9IHJvdW5kJDQocmdiJDJbaSQyXSAqIDIuNTUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmdiJDJbM10gPSAxOyAgLy8gZGVmYXVsdCBhbHBoYVxuICAgICAgICAgICAgcmV0dXJuIHJnYiQyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmdiYSgxMDAlLDAlLDAlLDAuNClcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX1JHQkFfUENUKSkpIHtcbiAgICAgICAgICAgIHZhciByZ2IkMyA9IG0uc2xpY2UoMSw1KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMz0wOyBpJDM8MzsgaSQzKyspIHtcbiAgICAgICAgICAgICAgICByZ2IkM1tpJDNdID0gcm91bmQkNChyZ2IkM1tpJDNdICogMi41NSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZ2IkM1szXSA9ICtyZ2IkM1szXTtcbiAgICAgICAgICAgIHJldHVybiByZ2IkMztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhzbCgwLDEwMCUsNTAlKVxuICAgICAgICBpZiAoKG0gPSBjc3MubWF0Y2goUkVfSFNMKSkpIHtcbiAgICAgICAgICAgIHZhciBoc2wgPSBtLnNsaWNlKDEsNCk7XG4gICAgICAgICAgICBoc2xbMV0gKj0gMC4wMTtcbiAgICAgICAgICAgIGhzbFsyXSAqPSAwLjAxO1xuICAgICAgICAgICAgdmFyIHJnYiQ0ID0gaHNsMnJnYihoc2wpO1xuICAgICAgICAgICAgcmdiJDRbM10gPSAxO1xuICAgICAgICAgICAgcmV0dXJuIHJnYiQ0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaHNsYSgwLDEwMCUsNTAlLDAuNSlcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX0hTTEEpKSkge1xuICAgICAgICAgICAgdmFyIGhzbCQxID0gbS5zbGljZSgxLDQpO1xuICAgICAgICAgICAgaHNsJDFbMV0gKj0gMC4wMTtcbiAgICAgICAgICAgIGhzbCQxWzJdICo9IDAuMDE7XG4gICAgICAgICAgICB2YXIgcmdiJDUgPSBoc2wycmdiKGhzbCQxKTtcbiAgICAgICAgICAgIHJnYiQ1WzNdID0gK21bNF07ICAvLyBkZWZhdWx0IGFscGhhID0gMVxuICAgICAgICAgICAgcmV0dXJuIHJnYiQ1O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNzczJyZ2IkMS50ZXN0ID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIFJFX1JHQi50ZXN0KHMpIHx8XG4gICAgICAgICAgICBSRV9SR0JBLnRlc3QocykgfHxcbiAgICAgICAgICAgIFJFX1JHQl9QQ1QudGVzdChzKSB8fFxuICAgICAgICAgICAgUkVfUkdCQV9QQ1QudGVzdChzKSB8fFxuICAgICAgICAgICAgUkVfSFNMLnRlc3QocykgfHxcbiAgICAgICAgICAgIFJFX0hTTEEudGVzdChzKTtcbiAgICB9O1xuXG4gICAgdmFyIGNzczJyZ2JfMSA9IGNzczJyZ2IkMTtcblxuICAgIHZhciBjaHJvbWEkaSA9IGNocm9tYV8xO1xuICAgIHZhciBDb2xvciRCID0gQ29sb3JfMTtcbiAgICB2YXIgaW5wdXQkZSA9IGlucHV0JGg7XG4gICAgdmFyIHR5cGUkayA9IHV0aWxzLnR5cGU7XG5cbiAgICB2YXIgcmdiMmNzcyA9IHJnYjJjc3NfMTtcbiAgICB2YXIgY3NzMnJnYiA9IGNzczJyZ2JfMTtcblxuICAgIENvbG9yJEIucHJvdG90eXBlLmNzcyA9IGZ1bmN0aW9uKG1vZGUpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJjc3ModGhpcy5fcmdiLCBtb2RlKTtcbiAgICB9O1xuXG4gICAgY2hyb21hJGkuY3NzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciRCLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnY3NzJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dCRlLmZvcm1hdC5jc3MgPSBjc3MycmdiO1xuXG4gICAgaW5wdXQkZS5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiA1LFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoaCkge1xuICAgICAgICAgICAgdmFyIHJlc3QgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tID4gMCApIHJlc3RbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICAgICAgICAgIGlmICghcmVzdC5sZW5ndGggJiYgdHlwZSRrKGgpID09PSAnc3RyaW5nJyAmJiBjc3MycmdiLnRlc3QoaCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2Nzcyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBDb2xvciRBID0gQ29sb3JfMTtcbiAgICB2YXIgY2hyb21hJGggPSBjaHJvbWFfMTtcbiAgICB2YXIgaW5wdXQkZCA9IGlucHV0JGg7XG4gICAgdmFyIHVucGFjayR0ID0gdXRpbHMudW5wYWNrO1xuXG4gICAgaW5wdXQkZC5mb3JtYXQuZ2wgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIHJnYiA9IHVucGFjayR0KGFyZ3MsICdyZ2JhJyk7XG4gICAgICAgIHJnYlswXSAqPSAyNTU7XG4gICAgICAgIHJnYlsxXSAqPSAyNTU7XG4gICAgICAgIHJnYlsyXSAqPSAyNTU7XG4gICAgICAgIHJldHVybiByZ2I7XG4gICAgfTtcblxuICAgIGNocm9tYSRoLmdsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciRBLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnZ2wnXSkgKSk7XG4gICAgfTtcblxuICAgIENvbG9yJEEucHJvdG90eXBlLmdsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZ2IgPSB0aGlzLl9yZ2I7XG4gICAgICAgIHJldHVybiBbcmdiWzBdLzI1NSwgcmdiWzFdLzI1NSwgcmdiWzJdLzI1NSwgcmdiWzNdXTtcbiAgICB9O1xuXG4gICAgdmFyIHVucGFjayRzID0gdXRpbHMudW5wYWNrO1xuXG4gICAgdmFyIHJnYjJoY2ckMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJHMoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgbWluID0gTWF0aC5taW4ociwgZywgYik7XG4gICAgICAgIHZhciBtYXggPSBNYXRoLm1heChyLCBnLCBiKTtcbiAgICAgICAgdmFyIGRlbHRhID0gbWF4IC0gbWluO1xuICAgICAgICB2YXIgYyA9IGRlbHRhICogMTAwIC8gMjU1O1xuICAgICAgICB2YXIgX2cgPSBtaW4gLyAoMjU1IC0gZGVsdGEpICogMTAwO1xuICAgICAgICB2YXIgaDtcbiAgICAgICAgaWYgKGRlbHRhID09PSAwKSB7XG4gICAgICAgICAgICBoID0gTnVtYmVyLk5hTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChyID09PSBtYXgpIHsgaCA9IChnIC0gYikgLyBkZWx0YTsgfVxuICAgICAgICAgICAgaWYgKGcgPT09IG1heCkgeyBoID0gMisoYiAtIHIpIC8gZGVsdGE7IH1cbiAgICAgICAgICAgIGlmIChiID09PSBtYXgpIHsgaCA9IDQrKHIgLSBnKSAvIGRlbHRhOyB9XG4gICAgICAgICAgICBoICo9IDYwO1xuICAgICAgICAgICAgaWYgKGggPCAwKSB7IGggKz0gMzYwOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtoLCBjLCBfZ107XG4gICAgfTtcblxuICAgIHZhciByZ2IyaGNnXzEgPSByZ2IyaGNnJDE7XG5cbiAgICB2YXIgdW5wYWNrJHIgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIGZsb29yJDMgPSBNYXRoLmZsb29yO1xuXG4gICAgLypcbiAgICAgKiB0aGlzIGlzIGJhc2ljYWxseSBqdXN0IEhTViB3aXRoIHNvbWUgbWlub3IgdHdlYWtzXG4gICAgICpcbiAgICAgKiBodWUuLiBbMC4uMzYwXVxuICAgICAqIGNocm9tYSAuLiBbMC4uMV1cbiAgICAgKiBncmF5bmVzcyAuLiBbMC4uMV1cbiAgICAgKi9cblxuICAgIHZhciBoY2cycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXNzaWduLCBhc3NpZ24kMSwgYXNzaWduJDIsIGFzc2lnbiQzLCBhc3NpZ24kNCwgYXNzaWduJDU7XG5cbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcbiAgICAgICAgYXJncyA9IHVucGFjayRyKGFyZ3MsICdoY2cnKTtcbiAgICAgICAgdmFyIGggPSBhcmdzWzBdO1xuICAgICAgICB2YXIgYyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBfZyA9IGFyZ3NbMl07XG4gICAgICAgIHZhciByLGcsYjtcbiAgICAgICAgX2cgPSBfZyAqIDI1NTtcbiAgICAgICAgdmFyIF9jID0gYyAqIDI1NTtcbiAgICAgICAgaWYgKGMgPT09IDApIHtcbiAgICAgICAgICAgIHIgPSBnID0gYiA9IF9nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGggPT09IDM2MCkgeyBoID0gMDsgfVxuICAgICAgICAgICAgaWYgKGggPiAzNjApIHsgaCAtPSAzNjA7IH1cbiAgICAgICAgICAgIGlmIChoIDwgMCkgeyBoICs9IDM2MDsgfVxuICAgICAgICAgICAgaCAvPSA2MDtcbiAgICAgICAgICAgIHZhciBpID0gZmxvb3IkMyhoKTtcbiAgICAgICAgICAgIHZhciBmID0gaCAtIGk7XG4gICAgICAgICAgICB2YXIgcCA9IF9nICogKDEgLSBjKTtcbiAgICAgICAgICAgIHZhciBxID0gcCArIF9jICogKDEgLSBmKTtcbiAgICAgICAgICAgIHZhciB0ID0gcCArIF9jICogZjtcbiAgICAgICAgICAgIHZhciB2ID0gcCArIF9jO1xuICAgICAgICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiAoYXNzaWduID0gW3YsIHQsIHBdLCByID0gYXNzaWduWzBdLCBnID0gYXNzaWduWzFdLCBiID0gYXNzaWduWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDE6IChhc3NpZ24kMSA9IFtxLCB2LCBwXSwgciA9IGFzc2lnbiQxWzBdLCBnID0gYXNzaWduJDFbMV0sIGIgPSBhc3NpZ24kMVsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAyOiAoYXNzaWduJDIgPSBbcCwgdiwgdF0sIHIgPSBhc3NpZ24kMlswXSwgZyA9IGFzc2lnbiQyWzFdLCBiID0gYXNzaWduJDJbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgMzogKGFzc2lnbiQzID0gW3AsIHEsIHZdLCByID0gYXNzaWduJDNbMF0sIGcgPSBhc3NpZ24kM1sxXSwgYiA9IGFzc2lnbiQzWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IChhc3NpZ24kNCA9IFt0LCBwLCB2XSwgciA9IGFzc2lnbiQ0WzBdLCBnID0gYXNzaWduJDRbMV0sIGIgPSBhc3NpZ24kNFsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSA1OiAoYXNzaWduJDUgPSBbdiwgcCwgcV0sIHIgPSBhc3NpZ24kNVswXSwgZyA9IGFzc2lnbiQ1WzFdLCBiID0gYXNzaWduJDVbMl0pOyBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbciwgZywgYiwgYXJncy5sZW5ndGggPiAzID8gYXJnc1szXSA6IDFdO1xuICAgIH07XG5cbiAgICB2YXIgaGNnMnJnYl8xID0gaGNnMnJnYjtcblxuICAgIHZhciB1bnBhY2skcSA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgdHlwZSRqID0gdXRpbHMudHlwZTtcbiAgICB2YXIgY2hyb21hJGcgPSBjaHJvbWFfMTtcbiAgICB2YXIgQ29sb3IkeiA9IENvbG9yXzE7XG4gICAgdmFyIGlucHV0JGMgPSBpbnB1dCRoO1xuXG4gICAgdmFyIHJnYjJoY2cgPSByZ2IyaGNnXzE7XG5cbiAgICBDb2xvciR6LnByb3RvdHlwZS5oY2cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJoY2codGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hJGcuaGNnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciR6LCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaGNnJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dCRjLmZvcm1hdC5oY2cgPSBoY2cycmdiXzE7XG5cbiAgICBpbnB1dCRjLmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDEsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgICAgICBhcmdzID0gdW5wYWNrJHEoYXJncywgJ2hjZycpO1xuICAgICAgICAgICAgaWYgKHR5cGUkaihhcmdzKSA9PT0gJ2FycmF5JyAmJiBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnaGNnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayRwID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsYXN0ID0gdXRpbHMubGFzdDtcbiAgICB2YXIgcm91bmQkMyA9IE1hdGgucm91bmQ7XG5cbiAgICB2YXIgcmdiMmhleCQyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skcChhcmdzLCAncmdiYScpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgYSA9IHJlZlszXTtcbiAgICAgICAgdmFyIG1vZGUgPSBsYXN0KGFyZ3MpIHx8ICdhdXRvJztcbiAgICAgICAgaWYgKGEgPT09IHVuZGVmaW5lZCkgeyBhID0gMTsgfVxuICAgICAgICBpZiAobW9kZSA9PT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICBtb2RlID0gYSA8IDEgPyAncmdiYScgOiAncmdiJztcbiAgICAgICAgfVxuICAgICAgICByID0gcm91bmQkMyhyKTtcbiAgICAgICAgZyA9IHJvdW5kJDMoZyk7XG4gICAgICAgIGIgPSByb3VuZCQzKGIpO1xuICAgICAgICB2YXIgdSA9IHIgPDwgMTYgfCBnIDw8IDggfCBiO1xuICAgICAgICB2YXIgc3RyID0gXCIwMDAwMDBcIiArIHUudG9TdHJpbmcoMTYpOyAvLyMudG9VcHBlckNhc2UoKTtcbiAgICAgICAgc3RyID0gc3RyLnN1YnN0cihzdHIubGVuZ3RoIC0gNik7XG4gICAgICAgIHZhciBoeGEgPSAnMCcgKyByb3VuZCQzKGEgKiAyNTUpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgaHhhID0gaHhhLnN1YnN0cihoeGEubGVuZ3RoIC0gMik7XG4gICAgICAgIHN3aXRjaCAobW9kZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICBjYXNlICdyZ2JhJzogcmV0dXJuIChcIiNcIiArIHN0ciArIGh4YSk7XG4gICAgICAgICAgICBjYXNlICdhcmdiJzogcmV0dXJuIChcIiNcIiArIGh4YSArIHN0cik7XG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gKFwiI1wiICsgc3RyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgcmdiMmhleF8xID0gcmdiMmhleCQyO1xuXG4gICAgdmFyIFJFX0hFWCA9IC9eIz8oW0EtRmEtZjAtOV17Nn18W0EtRmEtZjAtOV17M30pJC87XG4gICAgdmFyIFJFX0hFWEEgPSAvXiM/KFtBLUZhLWYwLTldezh9fFtBLUZhLWYwLTldezR9KSQvO1xuXG4gICAgdmFyIGhleDJyZ2IkMSA9IGZ1bmN0aW9uIChoZXgpIHtcbiAgICAgICAgaWYgKGhleC5tYXRjaChSRV9IRVgpKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgb3B0aW9uYWwgbGVhZGluZyAjXG4gICAgICAgICAgICBpZiAoaGV4Lmxlbmd0aCA9PT0gNCB8fCBoZXgubGVuZ3RoID09PSA3KSB7XG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4LnN1YnN0cigxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV4cGFuZCBzaG9ydC1ub3RhdGlvbiB0byBmdWxsIHNpeC1kaWdpdFxuICAgICAgICAgICAgaWYgKGhleC5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICBoZXggPSBoZXguc3BsaXQoJycpO1xuICAgICAgICAgICAgICAgIGhleCA9IGhleFswXStoZXhbMF0raGV4WzFdK2hleFsxXStoZXhbMl0raGV4WzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHUgPSBwYXJzZUludChoZXgsIDE2KTtcbiAgICAgICAgICAgIHZhciByID0gdSA+PiAxNjtcbiAgICAgICAgICAgIHZhciBnID0gdSA+PiA4ICYgMHhGRjtcbiAgICAgICAgICAgIHZhciBiID0gdSAmIDB4RkY7XG4gICAgICAgICAgICByZXR1cm4gW3IsZyxiLDFdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWF0Y2ggcmdiYSBoZXggZm9ybWF0LCBlZyAjRkYwMDAwNzdcbiAgICAgICAgaWYgKGhleC5tYXRjaChSRV9IRVhBKSkge1xuICAgICAgICAgICAgaWYgKGhleC5sZW5ndGggPT09IDUgfHwgaGV4Lmxlbmd0aCA9PT0gOSkge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBvcHRpb25hbCBsZWFkaW5nICNcbiAgICAgICAgICAgICAgICBoZXggPSBoZXguc3Vic3RyKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXhwYW5kIHNob3J0LW5vdGF0aW9uIHRvIGZ1bGwgZWlnaHQtZGlnaXRcbiAgICAgICAgICAgIGlmIChoZXgubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4LnNwbGl0KCcnKTtcbiAgICAgICAgICAgICAgICBoZXggPSBoZXhbMF0raGV4WzBdK2hleFsxXStoZXhbMV0raGV4WzJdK2hleFsyXStoZXhbM10raGV4WzNdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHUkMSA9IHBhcnNlSW50KGhleCwgMTYpO1xuICAgICAgICAgICAgdmFyIHIkMSA9IHUkMSA+PiAyNCAmIDB4RkY7XG4gICAgICAgICAgICB2YXIgZyQxID0gdSQxID4+IDE2ICYgMHhGRjtcbiAgICAgICAgICAgIHZhciBiJDEgPSB1JDEgPj4gOCAmIDB4RkY7XG4gICAgICAgICAgICB2YXIgYSA9IE1hdGgucm91bmQoKHUkMSAmIDB4RkYpIC8gMHhGRiAqIDEwMCkgLyAxMDA7XG4gICAgICAgICAgICByZXR1cm4gW3IkMSxnJDEsYiQxLGFdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2UgdXNlZCB0byBjaGVjayBmb3IgY3NzIGNvbG9ycyBoZXJlXG4gICAgICAgIC8vIGlmIF9pbnB1dC5jc3M/IGFuZCByZ2IgPSBfaW5wdXQuY3NzIGhleFxuICAgICAgICAvLyAgICAgcmV0dXJuIHJnYlxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJ1bmtub3duIGhleCBjb2xvcjogXCIgKyBoZXgpKTtcbiAgICB9O1xuXG4gICAgdmFyIGhleDJyZ2JfMSA9IGhleDJyZ2IkMTtcblxuICAgIHZhciBjaHJvbWEkZiA9IGNocm9tYV8xO1xuICAgIHZhciBDb2xvciR5ID0gQ29sb3JfMTtcbiAgICB2YXIgdHlwZSRpID0gdXRpbHMudHlwZTtcbiAgICB2YXIgaW5wdXQkYiA9IGlucHV0JGg7XG5cbiAgICB2YXIgcmdiMmhleCQxID0gcmdiMmhleF8xO1xuXG4gICAgQ29sb3IkeS5wcm90b3R5cGUuaGV4ID0gZnVuY3Rpb24obW9kZSkge1xuICAgICAgICByZXR1cm4gcmdiMmhleCQxKHRoaXMuX3JnYiwgbW9kZSk7XG4gICAgfTtcblxuICAgIGNocm9tYSRmLmhleCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3IkeSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2hleCddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQkYi5mb3JtYXQuaGV4ID0gaGV4MnJnYl8xO1xuICAgIGlucHV0JGIuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogNCxcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKGgpIHtcbiAgICAgICAgICAgIHZhciByZXN0ID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSA+IDAgKSByZXN0WyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMSBdO1xuXG4gICAgICAgICAgICBpZiAoIXJlc3QubGVuZ3RoICYmIHR5cGUkaShoKSA9PT0gJ3N0cmluZycgJiYgWzMsNCw1LDYsNyw4LDldLmluZGV4T2YoaC5sZW5ndGgpID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2hleCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciB1bnBhY2skbyA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgVFdPUEkkMiA9IHV0aWxzLlRXT1BJO1xuICAgIHZhciBtaW4kMiA9IE1hdGgubWluO1xuICAgIHZhciBzcXJ0JDQgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIGFjb3MgPSBNYXRoLmFjb3M7XG5cbiAgICB2YXIgcmdiMmhzaSQxID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIC8qXG4gICAgICAgIGJvcnJvd2VkIGZyb20gaGVyZTpcbiAgICAgICAgaHR0cDovL2h1bW1lci5zdGFuZm9yZC5lZHUvbXVzZWluZm8vZG9jL2V4YW1wbGVzL2h1bWRydW0va2V5c2NhcGUyL3JnYjJoc2kuY3BwXG4gICAgICAgICovXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skbyhhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHIgLz0gMjU1O1xuICAgICAgICBnIC89IDI1NTtcbiAgICAgICAgYiAvPSAyNTU7XG4gICAgICAgIHZhciBoO1xuICAgICAgICB2YXIgbWluXyA9IG1pbiQyKHIsZyxiKTtcbiAgICAgICAgdmFyIGkgPSAocitnK2IpIC8gMztcbiAgICAgICAgdmFyIHMgPSBpID4gMCA/IDEgLSBtaW5fL2kgOiAwO1xuICAgICAgICBpZiAocyA9PT0gMCkge1xuICAgICAgICAgICAgaCA9IE5hTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGggPSAoKHItZykrKHItYikpIC8gMjtcbiAgICAgICAgICAgIGggLz0gc3FydCQ0KChyLWcpKihyLWcpICsgKHItYikqKGctYikpO1xuICAgICAgICAgICAgaCA9IGFjb3MoaCk7XG4gICAgICAgICAgICBpZiAoYiA+IGcpIHtcbiAgICAgICAgICAgICAgICBoID0gVFdPUEkkMiAtIGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoIC89IFRXT1BJJDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtoKjM2MCxzLGldO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmhzaV8xID0gcmdiMmhzaSQxO1xuXG4gICAgdmFyIHVucGFjayRuID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsaW1pdCA9IHV0aWxzLmxpbWl0O1xuICAgIHZhciBUV09QSSQxID0gdXRpbHMuVFdPUEk7XG4gICAgdmFyIFBJVEhJUkQgPSB1dGlscy5QSVRISVJEO1xuICAgIHZhciBjb3MkNCA9IE1hdGguY29zO1xuXG4gICAgLypcbiAgICAgKiBodWUgWzAuLjM2MF1cbiAgICAgKiBzYXR1cmF0aW9uIFswLi4xXVxuICAgICAqIGludGVuc2l0eSBbMC4uMV1cbiAgICAgKi9cbiAgICB2YXIgaHNpMnJnYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAvKlxuICAgICAgICBib3Jyb3dlZCBmcm9tIGhlcmU6XG4gICAgICAgIGh0dHA6Ly9odW1tZXIuc3RhbmZvcmQuZWR1L211c2VpbmZvL2RvYy9leGFtcGxlcy9odW1kcnVtL2tleXNjYXBlMi9oc2kycmdiLmNwcFxuICAgICAgICAqL1xuICAgICAgICBhcmdzID0gdW5wYWNrJG4oYXJncywgJ2hzaScpO1xuICAgICAgICB2YXIgaCA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBzID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIGkgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgcixnLGI7XG5cbiAgICAgICAgaWYgKGlzTmFOKGgpKSB7IGggPSAwOyB9XG4gICAgICAgIGlmIChpc05hTihzKSkgeyBzID0gMDsgfVxuICAgICAgICAvLyBub3JtYWxpemUgaHVlXG4gICAgICAgIGlmIChoID4gMzYwKSB7IGggLT0gMzYwOyB9XG4gICAgICAgIGlmIChoIDwgMCkgeyBoICs9IDM2MDsgfVxuICAgICAgICBoIC89IDM2MDtcbiAgICAgICAgaWYgKGggPCAxLzMpIHtcbiAgICAgICAgICAgIGIgPSAoMS1zKS8zO1xuICAgICAgICAgICAgciA9ICgxK3MqY29zJDQoVFdPUEkkMSpoKS9jb3MkNChQSVRISVJELVRXT1BJJDEqaCkpLzM7XG4gICAgICAgICAgICBnID0gMSAtIChiK3IpO1xuICAgICAgICB9IGVsc2UgaWYgKGggPCAyLzMpIHtcbiAgICAgICAgICAgIGggLT0gMS8zO1xuICAgICAgICAgICAgciA9ICgxLXMpLzM7XG4gICAgICAgICAgICBnID0gKDErcypjb3MkNChUV09QSSQxKmgpL2NvcyQ0KFBJVEhJUkQtVFdPUEkkMSpoKSkvMztcbiAgICAgICAgICAgIGIgPSAxIC0gKHIrZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoIC09IDIvMztcbiAgICAgICAgICAgIGcgPSAoMS1zKS8zO1xuICAgICAgICAgICAgYiA9ICgxK3MqY29zJDQoVFdPUEkkMSpoKS9jb3MkNChQSVRISVJELVRXT1BJJDEqaCkpLzM7XG4gICAgICAgICAgICByID0gMSAtIChnK2IpO1xuICAgICAgICB9XG4gICAgICAgIHIgPSBsaW1pdChpKnIqMyk7XG4gICAgICAgIGcgPSBsaW1pdChpKmcqMyk7XG4gICAgICAgIGIgPSBsaW1pdChpKmIqMyk7XG4gICAgICAgIHJldHVybiBbcioyNTUsIGcqMjU1LCBiKjI1NSwgYXJncy5sZW5ndGggPiAzID8gYXJnc1szXSA6IDFdO1xuICAgIH07XG5cbiAgICB2YXIgaHNpMnJnYl8xID0gaHNpMnJnYjtcblxuICAgIHZhciB1bnBhY2skbSA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgdHlwZSRoID0gdXRpbHMudHlwZTtcbiAgICB2YXIgY2hyb21hJGUgPSBjaHJvbWFfMTtcbiAgICB2YXIgQ29sb3IkeCA9IENvbG9yXzE7XG4gICAgdmFyIGlucHV0JGEgPSBpbnB1dCRoO1xuXG4gICAgdmFyIHJnYjJoc2kgPSByZ2IyaHNpXzE7XG5cbiAgICBDb2xvciR4LnByb3RvdHlwZS5oc2kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJoc2kodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hJGUuaHNpID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciR4LCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHNpJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dCRhLmZvcm1hdC5oc2kgPSBoc2kycmdiXzE7XG5cbiAgICBpbnB1dCRhLmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDIsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgICAgICBhcmdzID0gdW5wYWNrJG0oYXJncywgJ2hzaScpO1xuICAgICAgICAgICAgaWYgKHR5cGUkaChhcmdzKSA9PT0gJ2FycmF5JyAmJiBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnaHNpJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayRsID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciB0eXBlJGcgPSB1dGlscy50eXBlO1xuICAgIHZhciBjaHJvbWEkZCA9IGNocm9tYV8xO1xuICAgIHZhciBDb2xvciR3ID0gQ29sb3JfMTtcbiAgICB2YXIgaW5wdXQkOSA9IGlucHV0JGg7XG5cbiAgICB2YXIgcmdiMmhzbCQxID0gcmdiMmhzbF8xO1xuXG4gICAgQ29sb3Ikdy5wcm90b3R5cGUuaHNsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IyaHNsJDEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hJGQuaHNsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciR3LCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHNsJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dCQ5LmZvcm1hdC5oc2wgPSBoc2wycmdiXzE7XG5cbiAgICBpbnB1dCQ5LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDIsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgICAgICBhcmdzID0gdW5wYWNrJGwoYXJncywgJ2hzbCcpO1xuICAgICAgICAgICAgaWYgKHR5cGUkZyhhcmdzKSA9PT0gJ2FycmF5JyAmJiBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnaHNsJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayRrID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBtaW4kMSA9IE1hdGgubWluO1xuICAgIHZhciBtYXgkMSA9IE1hdGgubWF4O1xuXG4gICAgLypcbiAgICAgKiBzdXBwb3J0ZWQgYXJndW1lbnRzOlxuICAgICAqIC0gcmdiMmhzdihyLGcsYilcbiAgICAgKiAtIHJnYjJoc3YoW3IsZyxiXSlcbiAgICAgKiAtIHJnYjJoc3Yoe3IsZyxifSlcbiAgICAgKi9cbiAgICB2YXIgcmdiMmhzbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICBhcmdzID0gdW5wYWNrJGsoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBnID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIGIgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgbWluXyA9IG1pbiQxKHIsIGcsIGIpO1xuICAgICAgICB2YXIgbWF4XyA9IG1heCQxKHIsIGcsIGIpO1xuICAgICAgICB2YXIgZGVsdGEgPSBtYXhfIC0gbWluXztcbiAgICAgICAgdmFyIGgscyx2O1xuICAgICAgICB2ID0gbWF4XyAvIDI1NS4wO1xuICAgICAgICBpZiAobWF4XyA9PT0gMCkge1xuICAgICAgICAgICAgaCA9IE51bWJlci5OYU47XG4gICAgICAgICAgICBzID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMgPSBkZWx0YSAvIG1heF87XG4gICAgICAgICAgICBpZiAociA9PT0gbWF4XykgeyBoID0gKGcgLSBiKSAvIGRlbHRhOyB9XG4gICAgICAgICAgICBpZiAoZyA9PT0gbWF4XykgeyBoID0gMisoYiAtIHIpIC8gZGVsdGE7IH1cbiAgICAgICAgICAgIGlmIChiID09PSBtYXhfKSB7IGggPSA0KyhyIC0gZykgLyBkZWx0YTsgfVxuICAgICAgICAgICAgaCAqPSA2MDtcbiAgICAgICAgICAgIGlmIChoIDwgMCkgeyBoICs9IDM2MDsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbaCwgcywgdl1cbiAgICB9O1xuXG4gICAgdmFyIHJnYjJoc3YkMSA9IHJnYjJoc2w7XG5cbiAgICB2YXIgdW5wYWNrJGogPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIGZsb29yJDIgPSBNYXRoLmZsb29yO1xuXG4gICAgdmFyIGhzdjJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhc3NpZ24sIGFzc2lnbiQxLCBhc3NpZ24kMiwgYXNzaWduJDMsIGFzc2lnbiQ0LCBhc3NpZ24kNTtcblxuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuICAgICAgICBhcmdzID0gdW5wYWNrJGooYXJncywgJ2hzdicpO1xuICAgICAgICB2YXIgaCA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBzID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIHYgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgcixnLGI7XG4gICAgICAgIHYgKj0gMjU1O1xuICAgICAgICBpZiAocyA9PT0gMCkge1xuICAgICAgICAgICAgciA9IGcgPSBiID0gdjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChoID09PSAzNjApIHsgaCA9IDA7IH1cbiAgICAgICAgICAgIGlmIChoID4gMzYwKSB7IGggLT0gMzYwOyB9XG4gICAgICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgICAgIGggLz0gNjA7XG5cbiAgICAgICAgICAgIHZhciBpID0gZmxvb3IkMihoKTtcbiAgICAgICAgICAgIHZhciBmID0gaCAtIGk7XG4gICAgICAgICAgICB2YXIgcCA9IHYgKiAoMSAtIHMpO1xuICAgICAgICAgICAgdmFyIHEgPSB2ICogKDEgLSBzICogZik7XG4gICAgICAgICAgICB2YXIgdCA9IHYgKiAoMSAtIHMgKiAoMSAtIGYpKTtcblxuICAgICAgICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiAoYXNzaWduID0gW3YsIHQsIHBdLCByID0gYXNzaWduWzBdLCBnID0gYXNzaWduWzFdLCBiID0gYXNzaWduWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDE6IChhc3NpZ24kMSA9IFtxLCB2LCBwXSwgciA9IGFzc2lnbiQxWzBdLCBnID0gYXNzaWduJDFbMV0sIGIgPSBhc3NpZ24kMVsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAyOiAoYXNzaWduJDIgPSBbcCwgdiwgdF0sIHIgPSBhc3NpZ24kMlswXSwgZyA9IGFzc2lnbiQyWzFdLCBiID0gYXNzaWduJDJbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgMzogKGFzc2lnbiQzID0gW3AsIHEsIHZdLCByID0gYXNzaWduJDNbMF0sIGcgPSBhc3NpZ24kM1sxXSwgYiA9IGFzc2lnbiQzWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IChhc3NpZ24kNCA9IFt0LCBwLCB2XSwgciA9IGFzc2lnbiQ0WzBdLCBnID0gYXNzaWduJDRbMV0sIGIgPSBhc3NpZ24kNFsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSA1OiAoYXNzaWduJDUgPSBbdiwgcCwgcV0sIHIgPSBhc3NpZ24kNVswXSwgZyA9IGFzc2lnbiQ1WzFdLCBiID0gYXNzaWduJDVbMl0pOyBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcixnLGIsYXJncy5sZW5ndGggPiAzP2FyZ3NbM106MV07XG4gICAgfTtcblxuICAgIHZhciBoc3YycmdiXzEgPSBoc3YycmdiO1xuXG4gICAgdmFyIHVucGFjayRpID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciB0eXBlJGYgPSB1dGlscy50eXBlO1xuICAgIHZhciBjaHJvbWEkYyA9IGNocm9tYV8xO1xuICAgIHZhciBDb2xvciR2ID0gQ29sb3JfMTtcbiAgICB2YXIgaW5wdXQkOCA9IGlucHV0JGg7XG5cbiAgICB2YXIgcmdiMmhzdiA9IHJnYjJoc3YkMTtcblxuICAgIENvbG9yJHYucHJvdG90eXBlLmhzdiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcmdiMmhzdih0aGlzLl9yZ2IpO1xuICAgIH07XG5cbiAgICBjaHJvbWEkYy5oc3YgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIENvbG9yJHYsIFsgbnVsbCBdLmNvbmNhdCggYXJncywgWydoc3YnXSkgKSk7XG4gICAgfTtcblxuICAgIGlucHV0JDguZm9ybWF0LmhzdiA9IGhzdjJyZ2JfMTtcblxuICAgIGlucHV0JDguYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skaShhcmdzLCAnaHN2Jyk7XG4gICAgICAgICAgICBpZiAodHlwZSRmKGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoc3YnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgbGFiQ29uc3RhbnRzID0ge1xuICAgICAgICAvLyBDb3JyZXNwb25kcyByb3VnaGx5IHRvIFJHQiBicmlnaHRlci9kYXJrZXJcbiAgICAgICAgS246IDE4LFxuXG4gICAgICAgIC8vIEQ2NSBzdGFuZGFyZCByZWZlcmVudFxuICAgICAgICBYbjogMC45NTA0NzAsXG4gICAgICAgIFluOiAxLFxuICAgICAgICBabjogMS4wODg4MzAsXG5cbiAgICAgICAgdDA6IDAuMTM3OTMxMDM0LCAgLy8gNCAvIDI5XG4gICAgICAgIHQxOiAwLjIwNjg5NjU1MiwgIC8vIDYgLyAyOVxuICAgICAgICB0MjogMC4xMjg0MTg1NSwgICAvLyAzICogdDEgKiB0MVxuICAgICAgICB0MzogMC4wMDg4NTY0NTIsICAvLyB0MSAqIHQxICogdDFcbiAgICB9O1xuXG4gICAgdmFyIExBQl9DT05TVEFOVFMkMyA9IGxhYkNvbnN0YW50cztcbiAgICB2YXIgdW5wYWNrJGggPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHBvdyRhID0gTWF0aC5wb3c7XG5cbiAgICB2YXIgcmdiMmxhYiQyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skaChhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IHJnYjJ4eXoocixnLGIpO1xuICAgICAgICB2YXIgeCA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgeSA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgeiA9IHJlZiQxWzJdO1xuICAgICAgICB2YXIgbCA9IDExNiAqIHkgLSAxNjtcbiAgICAgICAgcmV0dXJuIFtsIDwgMCA/IDAgOiBsLCA1MDAgKiAoeCAtIHkpLCAyMDAgKiAoeSAtIHopXTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYl94eXogPSBmdW5jdGlvbiAocikge1xuICAgICAgICBpZiAoKHIgLz0gMjU1KSA8PSAwLjA0MDQ1KSB7IHJldHVybiByIC8gMTIuOTI7IH1cbiAgICAgICAgcmV0dXJuIHBvdyRhKChyICsgMC4wNTUpIC8gMS4wNTUsIDIuNCk7XG4gICAgfTtcblxuICAgIHZhciB4eXpfbGFiID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgaWYgKHQgPiBMQUJfQ09OU1RBTlRTJDMudDMpIHsgcmV0dXJuIHBvdyRhKHQsIDEgLyAzKTsgfVxuICAgICAgICByZXR1cm4gdCAvIExBQl9DT05TVEFOVFMkMy50MiArIExBQl9DT05TVEFOVFMkMy50MDtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJ4eXogPSBmdW5jdGlvbiAocixnLGIpIHtcbiAgICAgICAgciA9IHJnYl94eXoocik7XG4gICAgICAgIGcgPSByZ2JfeHl6KGcpO1xuICAgICAgICBiID0gcmdiX3h5eihiKTtcbiAgICAgICAgdmFyIHggPSB4eXpfbGFiKCgwLjQxMjQ1NjQgKiByICsgMC4zNTc1NzYxICogZyArIDAuMTgwNDM3NSAqIGIpIC8gTEFCX0NPTlNUQU5UUyQzLlhuKTtcbiAgICAgICAgdmFyIHkgPSB4eXpfbGFiKCgwLjIxMjY3MjkgKiByICsgMC43MTUxNTIyICogZyArIDAuMDcyMTc1MCAqIGIpIC8gTEFCX0NPTlNUQU5UUyQzLlluKTtcbiAgICAgICAgdmFyIHogPSB4eXpfbGFiKCgwLjAxOTMzMzkgKiByICsgMC4xMTkxOTIwICogZyArIDAuOTUwMzA0MSAqIGIpIC8gTEFCX0NPTlNUQU5UUyQzLlpuKTtcbiAgICAgICAgcmV0dXJuIFt4LHksel07XG4gICAgfTtcblxuICAgIHZhciByZ2IybGFiXzEgPSByZ2IybGFiJDI7XG5cbiAgICB2YXIgTEFCX0NPTlNUQU5UUyQyID0gbGFiQ29uc3RhbnRzO1xuICAgIHZhciB1bnBhY2skZyA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgcG93JDkgPSBNYXRoLnBvdztcblxuICAgIC8qXG4gICAgICogTCogWzAuLjEwMF1cbiAgICAgKiBhIFstMTAwLi4xMDBdXG4gICAgICogYiBbLTEwMC4uMTAwXVxuICAgICAqL1xuICAgIHZhciBsYWIycmdiJDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgYXJncyA9IHVucGFjayRnKGFyZ3MsICdsYWInKTtcbiAgICAgICAgdmFyIGwgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgYSA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBiID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHgseSx6LCByLGcsYl87XG5cbiAgICAgICAgeSA9IChsICsgMTYpIC8gMTE2O1xuICAgICAgICB4ID0gaXNOYU4oYSkgPyB5IDogeSArIGEgLyA1MDA7XG4gICAgICAgIHogPSBpc05hTihiKSA/IHkgOiB5IC0gYiAvIDIwMDtcblxuICAgICAgICB5ID0gTEFCX0NPTlNUQU5UUyQyLlluICogbGFiX3h5eih5KTtcbiAgICAgICAgeCA9IExBQl9DT05TVEFOVFMkMi5YbiAqIGxhYl94eXooeCk7XG4gICAgICAgIHogPSBMQUJfQ09OU1RBTlRTJDIuWm4gKiBsYWJfeHl6KHopO1xuXG4gICAgICAgIHIgPSB4eXpfcmdiKDMuMjQwNDU0MiAqIHggLSAxLjUzNzEzODUgKiB5IC0gMC40OTg1MzE0ICogeik7ICAvLyBENjUgLT4gc1JHQlxuICAgICAgICBnID0geHl6X3JnYigtMC45NjkyNjYwICogeCArIDEuODc2MDEwOCAqIHkgKyAwLjA0MTU1NjAgKiB6KTtcbiAgICAgICAgYl8gPSB4eXpfcmdiKDAuMDU1NjQzNCAqIHggLSAwLjIwNDAyNTkgKiB5ICsgMS4wNTcyMjUyICogeik7XG5cbiAgICAgICAgcmV0dXJuIFtyLGcsYl8sYXJncy5sZW5ndGggPiAzID8gYXJnc1szXSA6IDFdO1xuICAgIH07XG5cbiAgICB2YXIgeHl6X3JnYiA9IGZ1bmN0aW9uIChyKSB7XG4gICAgICAgIHJldHVybiAyNTUgKiAociA8PSAwLjAwMzA0ID8gMTIuOTIgKiByIDogMS4wNTUgKiBwb3ckOShyLCAxIC8gMi40KSAtIDAuMDU1KVxuICAgIH07XG5cbiAgICB2YXIgbGFiX3h5eiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiB0ID4gTEFCX0NPTlNUQU5UUyQyLnQxID8gdCAqIHQgKiB0IDogTEFCX0NPTlNUQU5UUyQyLnQyICogKHQgLSBMQUJfQ09OU1RBTlRTJDIudDApXG4gICAgfTtcblxuICAgIHZhciBsYWIycmdiXzEgPSBsYWIycmdiJDE7XG5cbiAgICB2YXIgdW5wYWNrJGYgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkZSA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIGNocm9tYSRiID0gY2hyb21hXzE7XG4gICAgdmFyIENvbG9yJHUgPSBDb2xvcl8xO1xuICAgIHZhciBpbnB1dCQ3ID0gaW5wdXQkaDtcblxuICAgIHZhciByZ2IybGFiJDEgPSByZ2IybGFiXzE7XG5cbiAgICBDb2xvciR1LnByb3RvdHlwZS5sYWIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJsYWIkMSh0aGlzLl9yZ2IpO1xuICAgIH07XG5cbiAgICBjaHJvbWEkYi5sYWIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIENvbG9yJHUsIFsgbnVsbCBdLmNvbmNhdCggYXJncywgWydsYWInXSkgKSk7XG4gICAgfTtcblxuICAgIGlucHV0JDcuZm9ybWF0LmxhYiA9IGxhYjJyZ2JfMTtcblxuICAgIGlucHV0JDcuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skZihhcmdzLCAnbGFiJyk7XG4gICAgICAgICAgICBpZiAodHlwZSRlKGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdsYWInO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJGUgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIFJBRDJERUcgPSB1dGlscy5SQUQyREVHO1xuICAgIHZhciBzcXJ0JDMgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIGF0YW4yJDIgPSBNYXRoLmF0YW4yO1xuICAgIHZhciByb3VuZCQyID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciBsYWIybGNoJDIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIHJlZiA9IHVucGFjayRlKGFyZ3MsICdsYWInKTtcbiAgICAgICAgdmFyIGwgPSByZWZbMF07XG4gICAgICAgIHZhciBhID0gcmVmWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZlsyXTtcbiAgICAgICAgdmFyIGMgPSBzcXJ0JDMoYSAqIGEgKyBiICogYik7XG4gICAgICAgIHZhciBoID0gKGF0YW4yJDIoYiwgYSkgKiBSQUQyREVHICsgMzYwKSAlIDM2MDtcbiAgICAgICAgaWYgKHJvdW5kJDIoYyoxMDAwMCkgPT09IDApIHsgaCA9IE51bWJlci5OYU47IH1cbiAgICAgICAgcmV0dXJuIFtsLCBjLCBoXTtcbiAgICB9O1xuXG4gICAgdmFyIGxhYjJsY2hfMSA9IGxhYjJsY2gkMjtcblxuICAgIHZhciB1bnBhY2skZCA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgcmdiMmxhYiA9IHJnYjJsYWJfMTtcbiAgICB2YXIgbGFiMmxjaCQxID0gbGFiMmxjaF8xO1xuXG4gICAgdmFyIHJnYjJsY2gkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJGQoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgcmVmJDEgPSByZ2IybGFiKHIsZyxiKTtcbiAgICAgICAgdmFyIGwgPSByZWYkMVswXTtcbiAgICAgICAgdmFyIGEgPSByZWYkMVsxXTtcbiAgICAgICAgdmFyIGJfID0gcmVmJDFbMl07XG4gICAgICAgIHJldHVybiBsYWIybGNoJDEobCxhLGJfKTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJsY2hfMSA9IHJnYjJsY2gkMTtcblxuICAgIHZhciB1bnBhY2skYyA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgREVHMlJBRCA9IHV0aWxzLkRFRzJSQUQ7XG4gICAgdmFyIHNpbiQzID0gTWF0aC5zaW47XG4gICAgdmFyIGNvcyQzID0gTWF0aC5jb3M7XG5cbiAgICB2YXIgbGNoMmxhYiQyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIC8qXG4gICAgICAgIENvbnZlcnQgZnJvbSBhIHF1YWxpdGF0aXZlIHBhcmFtZXRlciBoIGFuZCBhIHF1YW50aXRhdGl2ZSBwYXJhbWV0ZXIgbCB0byBhIDI0LWJpdCBwaXhlbC5cbiAgICAgICAgVGhlc2UgZm9ybXVsYXMgd2VyZSBpbnZlbnRlZCBieSBEYXZpZCBEYWxyeW1wbGUgdG8gb2J0YWluIG1heGltdW0gY29udHJhc3Qgd2l0aG91dCBnb2luZ1xuICAgICAgICBvdXQgb2YgZ2FtdXQgaWYgdGhlIHBhcmFtZXRlcnMgYXJlIGluIHRoZSByYW5nZSAwLTEuXG5cbiAgICAgICAgQSBzYXR1cmF0aW9uIG11bHRpcGxpZXIgd2FzIGFkZGVkIGJ5IEdyZWdvciBBaXNjaFxuICAgICAgICAqL1xuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJGMoYXJncywgJ2xjaCcpO1xuICAgICAgICB2YXIgbCA9IHJlZlswXTtcbiAgICAgICAgdmFyIGMgPSByZWZbMV07XG4gICAgICAgIHZhciBoID0gcmVmWzJdO1xuICAgICAgICBpZiAoaXNOYU4oaCkpIHsgaCA9IDA7IH1cbiAgICAgICAgaCA9IGggKiBERUcyUkFEO1xuICAgICAgICByZXR1cm4gW2wsIGNvcyQzKGgpICogYywgc2luJDMoaCkgKiBjXVxuICAgIH07XG5cbiAgICB2YXIgbGNoMmxhYl8xID0gbGNoMmxhYiQyO1xuXG4gICAgdmFyIHVucGFjayRiID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsY2gybGFiJDEgPSBsY2gybGFiXzE7XG4gICAgdmFyIGxhYjJyZ2IgPSBsYWIycmdiXzE7XG5cbiAgICB2YXIgbGNoMnJnYiQxID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIGFyZ3MgPSB1bnBhY2skYihhcmdzLCAnbGNoJyk7XG4gICAgICAgIHZhciBsID0gYXJnc1swXTtcbiAgICAgICAgdmFyIGMgPSBhcmdzWzFdO1xuICAgICAgICB2YXIgaCA9IGFyZ3NbMl07XG4gICAgICAgIHZhciByZWYgPSBsY2gybGFiJDEgKGwsYyxoKTtcbiAgICAgICAgdmFyIEwgPSByZWZbMF07XG4gICAgICAgIHZhciBhID0gcmVmWzFdO1xuICAgICAgICB2YXIgYl8gPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IGxhYjJyZ2IgKEwsYSxiXyk7XG4gICAgICAgIHZhciByID0gcmVmJDFbMF07XG4gICAgICAgIHZhciBnID0gcmVmJDFbMV07XG4gICAgICAgIHZhciBiID0gcmVmJDFbMl07XG4gICAgICAgIHJldHVybiBbciwgZywgYiwgYXJncy5sZW5ndGggPiAzID8gYXJnc1szXSA6IDFdO1xuICAgIH07XG5cbiAgICB2YXIgbGNoMnJnYl8xID0gbGNoMnJnYiQxO1xuXG4gICAgdmFyIHVucGFjayRhID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsY2gycmdiID0gbGNoMnJnYl8xO1xuXG4gICAgdmFyIGhjbDJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIGhjbCA9IHVucGFjayRhKGFyZ3MsICdoY2wnKS5yZXZlcnNlKCk7XG4gICAgICAgIHJldHVybiBsY2gycmdiLmFwcGx5KHZvaWQgMCwgaGNsKTtcbiAgICB9O1xuXG4gICAgdmFyIGhjbDJyZ2JfMSA9IGhjbDJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJDkgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkZCA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIGNocm9tYSRhID0gY2hyb21hXzE7XG4gICAgdmFyIENvbG9yJHQgPSBDb2xvcl8xO1xuICAgIHZhciBpbnB1dCQ2ID0gaW5wdXQkaDtcblxuICAgIHZhciByZ2IybGNoID0gcmdiMmxjaF8xO1xuXG4gICAgQ29sb3IkdC5wcm90b3R5cGUubGNoID0gZnVuY3Rpb24oKSB7IHJldHVybiByZ2IybGNoKHRoaXMuX3JnYik7IH07XG4gICAgQ29sb3IkdC5wcm90b3R5cGUuaGNsID0gZnVuY3Rpb24oKSB7IHJldHVybiByZ2IybGNoKHRoaXMuX3JnYikucmV2ZXJzZSgpOyB9O1xuXG4gICAgY2hyb21hJGEubGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciR0LCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnbGNoJ10pICkpO1xuICAgIH07XG4gICAgY2hyb21hJGEuaGNsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciR0LCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaGNsJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dCQ2LmZvcm1hdC5sY2ggPSBsY2gycmdiXzE7XG4gICAgaW5wdXQkNi5mb3JtYXQuaGNsID0gaGNsMnJnYl8xO1xuXG4gICAgWydsY2gnLCdoY2wnXS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7IHJldHVybiBpbnB1dCQ2LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDIsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgICAgICBhcmdzID0gdW5wYWNrJDkoYXJncywgbSk7XG4gICAgICAgICAgICBpZiAodHlwZSRkKGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTsgfSk7XG5cbiAgICAvKipcbiAgICBcdFgxMSBjb2xvciBuYW1lc1xuXG4gICAgXHRodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLWNvbG9yLyNzdmctY29sb3JcbiAgICAqL1xuXG4gICAgdmFyIHczY3gxMSQxID0ge1xuICAgICAgICBhbGljZWJsdWU6ICcjZjBmOGZmJyxcbiAgICAgICAgYW50aXF1ZXdoaXRlOiAnI2ZhZWJkNycsXG4gICAgICAgIGFxdWE6ICcjMDBmZmZmJyxcbiAgICAgICAgYXF1YW1hcmluZTogJyM3ZmZmZDQnLFxuICAgICAgICBhenVyZTogJyNmMGZmZmYnLFxuICAgICAgICBiZWlnZTogJyNmNWY1ZGMnLFxuICAgICAgICBiaXNxdWU6ICcjZmZlNGM0JyxcbiAgICAgICAgYmxhY2s6ICcjMDAwMDAwJyxcbiAgICAgICAgYmxhbmNoZWRhbG1vbmQ6ICcjZmZlYmNkJyxcbiAgICAgICAgYmx1ZTogJyMwMDAwZmYnLFxuICAgICAgICBibHVldmlvbGV0OiAnIzhhMmJlMicsXG4gICAgICAgIGJyb3duOiAnI2E1MmEyYScsXG4gICAgICAgIGJ1cmx5d29vZDogJyNkZWI4ODcnLFxuICAgICAgICBjYWRldGJsdWU6ICcjNWY5ZWEwJyxcbiAgICAgICAgY2hhcnRyZXVzZTogJyM3ZmZmMDAnLFxuICAgICAgICBjaG9jb2xhdGU6ICcjZDI2OTFlJyxcbiAgICAgICAgY29yYWw6ICcjZmY3ZjUwJyxcbiAgICAgICAgY29ybmZsb3dlcjogJyM2NDk1ZWQnLFxuICAgICAgICBjb3JuZmxvd2VyYmx1ZTogJyM2NDk1ZWQnLFxuICAgICAgICBjb3Juc2lsazogJyNmZmY4ZGMnLFxuICAgICAgICBjcmltc29uOiAnI2RjMTQzYycsXG4gICAgICAgIGN5YW46ICcjMDBmZmZmJyxcbiAgICAgICAgZGFya2JsdWU6ICcjMDAwMDhiJyxcbiAgICAgICAgZGFya2N5YW46ICcjMDA4YjhiJyxcbiAgICAgICAgZGFya2dvbGRlbnJvZDogJyNiODg2MGInLFxuICAgICAgICBkYXJrZ3JheTogJyNhOWE5YTknLFxuICAgICAgICBkYXJrZ3JlZW46ICcjMDA2NDAwJyxcbiAgICAgICAgZGFya2dyZXk6ICcjYTlhOWE5JyxcbiAgICAgICAgZGFya2toYWtpOiAnI2JkYjc2YicsXG4gICAgICAgIGRhcmttYWdlbnRhOiAnIzhiMDA4YicsXG4gICAgICAgIGRhcmtvbGl2ZWdyZWVuOiAnIzU1NmIyZicsXG4gICAgICAgIGRhcmtvcmFuZ2U6ICcjZmY4YzAwJyxcbiAgICAgICAgZGFya29yY2hpZDogJyM5OTMyY2MnLFxuICAgICAgICBkYXJrcmVkOiAnIzhiMDAwMCcsXG4gICAgICAgIGRhcmtzYWxtb246ICcjZTk5NjdhJyxcbiAgICAgICAgZGFya3NlYWdyZWVuOiAnIzhmYmM4ZicsXG4gICAgICAgIGRhcmtzbGF0ZWJsdWU6ICcjNDgzZDhiJyxcbiAgICAgICAgZGFya3NsYXRlZ3JheTogJyMyZjRmNGYnLFxuICAgICAgICBkYXJrc2xhdGVncmV5OiAnIzJmNGY0ZicsXG4gICAgICAgIGRhcmt0dXJxdW9pc2U6ICcjMDBjZWQxJyxcbiAgICAgICAgZGFya3Zpb2xldDogJyM5NDAwZDMnLFxuICAgICAgICBkZWVwcGluazogJyNmZjE0OTMnLFxuICAgICAgICBkZWVwc2t5Ymx1ZTogJyMwMGJmZmYnLFxuICAgICAgICBkaW1ncmF5OiAnIzY5Njk2OScsXG4gICAgICAgIGRpbWdyZXk6ICcjNjk2OTY5JyxcbiAgICAgICAgZG9kZ2VyYmx1ZTogJyMxZTkwZmYnLFxuICAgICAgICBmaXJlYnJpY2s6ICcjYjIyMjIyJyxcbiAgICAgICAgZmxvcmFsd2hpdGU6ICcjZmZmYWYwJyxcbiAgICAgICAgZm9yZXN0Z3JlZW46ICcjMjI4YjIyJyxcbiAgICAgICAgZnVjaHNpYTogJyNmZjAwZmYnLFxuICAgICAgICBnYWluc2Jvcm86ICcjZGNkY2RjJyxcbiAgICAgICAgZ2hvc3R3aGl0ZTogJyNmOGY4ZmYnLFxuICAgICAgICBnb2xkOiAnI2ZmZDcwMCcsXG4gICAgICAgIGdvbGRlbnJvZDogJyNkYWE1MjAnLFxuICAgICAgICBncmF5OiAnIzgwODA4MCcsXG4gICAgICAgIGdyZWVuOiAnIzAwODAwMCcsXG4gICAgICAgIGdyZWVueWVsbG93OiAnI2FkZmYyZicsXG4gICAgICAgIGdyZXk6ICcjODA4MDgwJyxcbiAgICAgICAgaG9uZXlkZXc6ICcjZjBmZmYwJyxcbiAgICAgICAgaG90cGluazogJyNmZjY5YjQnLFxuICAgICAgICBpbmRpYW5yZWQ6ICcjY2Q1YzVjJyxcbiAgICAgICAgaW5kaWdvOiAnIzRiMDA4MicsXG4gICAgICAgIGl2b3J5OiAnI2ZmZmZmMCcsXG4gICAgICAgIGtoYWtpOiAnI2YwZTY4YycsXG4gICAgICAgIGxhc2VybGVtb246ICcjZmZmZjU0JyxcbiAgICAgICAgbGF2ZW5kZXI6ICcjZTZlNmZhJyxcbiAgICAgICAgbGF2ZW5kZXJibHVzaDogJyNmZmYwZjUnLFxuICAgICAgICBsYXduZ3JlZW46ICcjN2NmYzAwJyxcbiAgICAgICAgbGVtb25jaGlmZm9uOiAnI2ZmZmFjZCcsXG4gICAgICAgIGxpZ2h0Ymx1ZTogJyNhZGQ4ZTYnLFxuICAgICAgICBsaWdodGNvcmFsOiAnI2YwODA4MCcsXG4gICAgICAgIGxpZ2h0Y3lhbjogJyNlMGZmZmYnLFxuICAgICAgICBsaWdodGdvbGRlbnJvZDogJyNmYWZhZDInLFxuICAgICAgICBsaWdodGdvbGRlbnJvZHllbGxvdzogJyNmYWZhZDInLFxuICAgICAgICBsaWdodGdyYXk6ICcjZDNkM2QzJyxcbiAgICAgICAgbGlnaHRncmVlbjogJyM5MGVlOTAnLFxuICAgICAgICBsaWdodGdyZXk6ICcjZDNkM2QzJyxcbiAgICAgICAgbGlnaHRwaW5rOiAnI2ZmYjZjMScsXG4gICAgICAgIGxpZ2h0c2FsbW9uOiAnI2ZmYTA3YScsXG4gICAgICAgIGxpZ2h0c2VhZ3JlZW46ICcjMjBiMmFhJyxcbiAgICAgICAgbGlnaHRza3libHVlOiAnIzg3Y2VmYScsXG4gICAgICAgIGxpZ2h0c2xhdGVncmF5OiAnIzc3ODg5OScsXG4gICAgICAgIGxpZ2h0c2xhdGVncmV5OiAnIzc3ODg5OScsXG4gICAgICAgIGxpZ2h0c3RlZWxibHVlOiAnI2IwYzRkZScsXG4gICAgICAgIGxpZ2h0eWVsbG93OiAnI2ZmZmZlMCcsXG4gICAgICAgIGxpbWU6ICcjMDBmZjAwJyxcbiAgICAgICAgbGltZWdyZWVuOiAnIzMyY2QzMicsXG4gICAgICAgIGxpbmVuOiAnI2ZhZjBlNicsXG4gICAgICAgIG1hZ2VudGE6ICcjZmYwMGZmJyxcbiAgICAgICAgbWFyb29uOiAnIzgwMDAwMCcsXG4gICAgICAgIG1hcm9vbjI6ICcjN2YwMDAwJyxcbiAgICAgICAgbWFyb29uMzogJyNiMDMwNjAnLFxuICAgICAgICBtZWRpdW1hcXVhbWFyaW5lOiAnIzY2Y2RhYScsXG4gICAgICAgIG1lZGl1bWJsdWU6ICcjMDAwMGNkJyxcbiAgICAgICAgbWVkaXVtb3JjaGlkOiAnI2JhNTVkMycsXG4gICAgICAgIG1lZGl1bXB1cnBsZTogJyM5MzcwZGInLFxuICAgICAgICBtZWRpdW1zZWFncmVlbjogJyMzY2IzNzEnLFxuICAgICAgICBtZWRpdW1zbGF0ZWJsdWU6ICcjN2I2OGVlJyxcbiAgICAgICAgbWVkaXVtc3ByaW5nZ3JlZW46ICcjMDBmYTlhJyxcbiAgICAgICAgbWVkaXVtdHVycXVvaXNlOiAnIzQ4ZDFjYycsXG4gICAgICAgIG1lZGl1bXZpb2xldHJlZDogJyNjNzE1ODUnLFxuICAgICAgICBtaWRuaWdodGJsdWU6ICcjMTkxOTcwJyxcbiAgICAgICAgbWludGNyZWFtOiAnI2Y1ZmZmYScsXG4gICAgICAgIG1pc3R5cm9zZTogJyNmZmU0ZTEnLFxuICAgICAgICBtb2NjYXNpbjogJyNmZmU0YjUnLFxuICAgICAgICBuYXZham93aGl0ZTogJyNmZmRlYWQnLFxuICAgICAgICBuYXZ5OiAnIzAwMDA4MCcsXG4gICAgICAgIG9sZGxhY2U6ICcjZmRmNWU2JyxcbiAgICAgICAgb2xpdmU6ICcjODA4MDAwJyxcbiAgICAgICAgb2xpdmVkcmFiOiAnIzZiOGUyMycsXG4gICAgICAgIG9yYW5nZTogJyNmZmE1MDAnLFxuICAgICAgICBvcmFuZ2VyZWQ6ICcjZmY0NTAwJyxcbiAgICAgICAgb3JjaGlkOiAnI2RhNzBkNicsXG4gICAgICAgIHBhbGVnb2xkZW5yb2Q6ICcjZWVlOGFhJyxcbiAgICAgICAgcGFsZWdyZWVuOiAnIzk4ZmI5OCcsXG4gICAgICAgIHBhbGV0dXJxdW9pc2U6ICcjYWZlZWVlJyxcbiAgICAgICAgcGFsZXZpb2xldHJlZDogJyNkYjcwOTMnLFxuICAgICAgICBwYXBheWF3aGlwOiAnI2ZmZWZkNScsXG4gICAgICAgIHBlYWNocHVmZjogJyNmZmRhYjknLFxuICAgICAgICBwZXJ1OiAnI2NkODUzZicsXG4gICAgICAgIHBpbms6ICcjZmZjMGNiJyxcbiAgICAgICAgcGx1bTogJyNkZGEwZGQnLFxuICAgICAgICBwb3dkZXJibHVlOiAnI2IwZTBlNicsXG4gICAgICAgIHB1cnBsZTogJyM4MDAwODAnLFxuICAgICAgICBwdXJwbGUyOiAnIzdmMDA3ZicsXG4gICAgICAgIHB1cnBsZTM6ICcjYTAyMGYwJyxcbiAgICAgICAgcmViZWNjYXB1cnBsZTogJyM2NjMzOTknLFxuICAgICAgICByZWQ6ICcjZmYwMDAwJyxcbiAgICAgICAgcm9zeWJyb3duOiAnI2JjOGY4ZicsXG4gICAgICAgIHJveWFsYmx1ZTogJyM0MTY5ZTEnLFxuICAgICAgICBzYWRkbGVicm93bjogJyM4YjQ1MTMnLFxuICAgICAgICBzYWxtb246ICcjZmE4MDcyJyxcbiAgICAgICAgc2FuZHlicm93bjogJyNmNGE0NjAnLFxuICAgICAgICBzZWFncmVlbjogJyMyZThiNTcnLFxuICAgICAgICBzZWFzaGVsbDogJyNmZmY1ZWUnLFxuICAgICAgICBzaWVubmE6ICcjYTA1MjJkJyxcbiAgICAgICAgc2lsdmVyOiAnI2MwYzBjMCcsXG4gICAgICAgIHNreWJsdWU6ICcjODdjZWViJyxcbiAgICAgICAgc2xhdGVibHVlOiAnIzZhNWFjZCcsXG4gICAgICAgIHNsYXRlZ3JheTogJyM3MDgwOTAnLFxuICAgICAgICBzbGF0ZWdyZXk6ICcjNzA4MDkwJyxcbiAgICAgICAgc25vdzogJyNmZmZhZmEnLFxuICAgICAgICBzcHJpbmdncmVlbjogJyMwMGZmN2YnLFxuICAgICAgICBzdGVlbGJsdWU6ICcjNDY4MmI0JyxcbiAgICAgICAgdGFuOiAnI2QyYjQ4YycsXG4gICAgICAgIHRlYWw6ICcjMDA4MDgwJyxcbiAgICAgICAgdGhpc3RsZTogJyNkOGJmZDgnLFxuICAgICAgICB0b21hdG86ICcjZmY2MzQ3JyxcbiAgICAgICAgdHVycXVvaXNlOiAnIzQwZTBkMCcsXG4gICAgICAgIHZpb2xldDogJyNlZTgyZWUnLFxuICAgICAgICB3aGVhdDogJyNmNWRlYjMnLFxuICAgICAgICB3aGl0ZTogJyNmZmZmZmYnLFxuICAgICAgICB3aGl0ZXNtb2tlOiAnI2Y1ZjVmNScsXG4gICAgICAgIHllbGxvdzogJyNmZmZmMDAnLFxuICAgICAgICB5ZWxsb3dncmVlbjogJyM5YWNkMzInXG4gICAgfTtcblxuICAgIHZhciB3M2N4MTFfMSA9IHczY3gxMSQxO1xuXG4gICAgdmFyIENvbG9yJHMgPSBDb2xvcl8xO1xuICAgIHZhciBpbnB1dCQ1ID0gaW5wdXQkaDtcbiAgICB2YXIgdHlwZSRjID0gdXRpbHMudHlwZTtcblxuICAgIHZhciB3M2N4MTEgPSB3M2N4MTFfMTtcbiAgICB2YXIgaGV4MnJnYiA9IGhleDJyZ2JfMTtcbiAgICB2YXIgcmdiMmhleCA9IHJnYjJoZXhfMTtcblxuICAgIENvbG9yJHMucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhleCA9IHJnYjJoZXgodGhpcy5fcmdiLCAncmdiJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsaXN0ID0gT2JqZWN0LmtleXModzNjeDExKTsgaSA8IGxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBuID0gbGlzdFtpXTtcblxuICAgICAgICAgICAgaWYgKHczY3gxMVtuXSA9PT0gaGV4KSB7IHJldHVybiBuLnRvTG93ZXJDYXNlKCk7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGV4O1xuICAgIH07XG5cbiAgICBpbnB1dCQ1LmZvcm1hdC5uYW1lZCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICh3M2N4MTFbbmFtZV0pIHsgcmV0dXJuIGhleDJyZ2IodzNjeDExW25hbWVdKTsgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gY29sb3IgbmFtZTogJytuYW1lKTtcbiAgICB9O1xuXG4gICAgaW5wdXQkNS5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiA1LFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoaCkge1xuICAgICAgICAgICAgdmFyIHJlc3QgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tID4gMCApIHJlc3RbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICAgICAgICAgIGlmICghcmVzdC5sZW5ndGggJiYgdHlwZSRjKGgpID09PSAnc3RyaW5nJyAmJiB3M2N4MTFbaC50b0xvd2VyQ2FzZSgpXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnbmFtZWQnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJDggPSB1dGlscy51bnBhY2s7XG5cbiAgICB2YXIgcmdiMm51bSQxID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skOChhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHJldHVybiAociA8PCAxNikgKyAoZyA8PCA4KSArIGI7XG4gICAgfTtcblxuICAgIHZhciByZ2IybnVtXzEgPSByZ2IybnVtJDE7XG5cbiAgICB2YXIgdHlwZSRiID0gdXRpbHMudHlwZTtcblxuICAgIHZhciBudW0ycmdiID0gZnVuY3Rpb24gKG51bSkge1xuICAgICAgICBpZiAodHlwZSRiKG51bSkgPT0gXCJudW1iZXJcIiAmJiBudW0gPj0gMCAmJiBudW0gPD0gMHhGRkZGRkYpIHtcbiAgICAgICAgICAgIHZhciByID0gbnVtID4+IDE2O1xuICAgICAgICAgICAgdmFyIGcgPSAobnVtID4+IDgpICYgMHhGRjtcbiAgICAgICAgICAgIHZhciBiID0gbnVtICYgMHhGRjtcbiAgICAgICAgICAgIHJldHVybiBbcixnLGIsMV07XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBudW0gY29sb3I6IFwiK251bSk7XG4gICAgfTtcblxuICAgIHZhciBudW0ycmdiXzEgPSBudW0ycmdiO1xuXG4gICAgdmFyIGNocm9tYSQ5ID0gY2hyb21hXzE7XG4gICAgdmFyIENvbG9yJHIgPSBDb2xvcl8xO1xuICAgIHZhciBpbnB1dCQ0ID0gaW5wdXQkaDtcbiAgICB2YXIgdHlwZSRhID0gdXRpbHMudHlwZTtcblxuICAgIHZhciByZ2IybnVtID0gcmdiMm51bV8xO1xuXG4gICAgQ29sb3Ikci5wcm90b3R5cGUubnVtID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IybnVtKHRoaXMuX3JnYik7XG4gICAgfTtcblxuICAgIGNocm9tYSQ5Lm51bSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3IkciwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ251bSddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQkNC5mb3JtYXQubnVtID0gbnVtMnJnYl8xO1xuXG4gICAgaW5wdXQkNC5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiA1LFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIHR5cGUkYShhcmdzWzBdKSA9PT0gJ251bWJlcicgJiYgYXJnc1swXSA+PSAwICYmIGFyZ3NbMF0gPD0gMHhGRkZGRkYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ251bSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBjaHJvbWEkOCA9IGNocm9tYV8xO1xuICAgIHZhciBDb2xvciRxID0gQ29sb3JfMTtcbiAgICB2YXIgaW5wdXQkMyA9IGlucHV0JGg7XG4gICAgdmFyIHVucGFjayQ3ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciB0eXBlJDkgPSB1dGlscy50eXBlO1xuICAgIHZhciByb3VuZCQxID0gTWF0aC5yb3VuZDtcblxuICAgIENvbG9yJHEucHJvdG90eXBlLnJnYiA9IGZ1bmN0aW9uKHJuZCkge1xuICAgICAgICBpZiAoIHJuZCA9PT0gdm9pZCAwICkgcm5kPXRydWU7XG5cbiAgICAgICAgaWYgKHJuZCA9PT0gZmFsc2UpIHsgcmV0dXJuIHRoaXMuX3JnYi5zbGljZSgwLDMpOyB9XG4gICAgICAgIHJldHVybiB0aGlzLl9yZ2Iuc2xpY2UoMCwzKS5tYXAocm91bmQkMSk7XG4gICAgfTtcblxuICAgIENvbG9yJHEucHJvdG90eXBlLnJnYmEgPSBmdW5jdGlvbihybmQpIHtcbiAgICAgICAgaWYgKCBybmQgPT09IHZvaWQgMCApIHJuZD10cnVlO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZ2Iuc2xpY2UoMCw0KS5tYXAoZnVuY3Rpb24gKHYsaSkge1xuICAgICAgICAgICAgcmV0dXJuIGk8MyA/IChybmQgPT09IGZhbHNlID8gdiA6IHJvdW5kJDEodikpIDogdjtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNocm9tYSQ4LnJnYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3IkcSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ3JnYiddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQkMy5mb3JtYXQucmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZ2JhID0gdW5wYWNrJDcoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgaWYgKHJnYmFbM10gPT09IHVuZGVmaW5lZCkgeyByZ2JhWzNdID0gMTsgfVxuICAgICAgICByZXR1cm4gcmdiYTtcbiAgICB9O1xuXG4gICAgaW5wdXQkMy5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiAzLFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAgICAgYXJncyA9IHVucGFjayQ3KGFyZ3MsICdyZ2JhJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ5KGFyZ3MpID09PSAnYXJyYXknICYmIChhcmdzLmxlbmd0aCA9PT0gMyB8fFxuICAgICAgICAgICAgICAgIGFyZ3MubGVuZ3RoID09PSA0ICYmIHR5cGUkOShhcmdzWzNdKSA9PSAnbnVtYmVyJyAmJiBhcmdzWzNdID49IDAgJiYgYXJnc1szXSA8PSAxKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAncmdiJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLypcbiAgICAgKiBCYXNlZCBvbiBpbXBsZW1lbnRhdGlvbiBieSBOZWlsIEJhcnRsZXR0XG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL25laWxiYXJ0bGV0dC9jb2xvci10ZW1wZXJhdHVyZVxuICAgICAqL1xuXG4gICAgdmFyIGxvZyQxID0gTWF0aC5sb2c7XG5cbiAgICB2YXIgdGVtcGVyYXR1cmUycmdiJDEgPSBmdW5jdGlvbiAoa2VsdmluKSB7XG4gICAgICAgIHZhciB0ZW1wID0ga2VsdmluIC8gMTAwO1xuICAgICAgICB2YXIgcixnLGI7XG4gICAgICAgIGlmICh0ZW1wIDwgNjYpIHtcbiAgICAgICAgICAgIHIgPSAyNTU7XG4gICAgICAgICAgICBnID0gdGVtcCA8IDYgPyAwIDogLTE1NS4yNTQ4NTU2MjcwOTE3OSAtIDAuNDQ1OTY5NTA0Njk1NzkxMzMgKiAoZyA9IHRlbXAtMikgKyAxMDQuNDkyMTYxOTkzOTM4ODggKiBsb2ckMShnKTtcbiAgICAgICAgICAgIGIgPSB0ZW1wIDwgMjAgPyAwIDogLTI1NC43NjkzNTE4NDEyMDkwMiArIDAuODI3NDA5NjA2NDAwNzM5NSAqIChiID0gdGVtcC0xMCkgKyAxMTUuNjc5OTQ0MDEwNjYxNDcgKiBsb2ckMShiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHIgPSAzNTEuOTc2OTA1NjY4MDU2OTMgKyAwLjExNDIwNjQ1Mzc4NDE2NSAqIChyID0gdGVtcC01NSkgLSA0MC4yNTM2NjMwOTMzMjEyNyAqIGxvZyQxKHIpO1xuICAgICAgICAgICAgZyA9IDMyNS40NDk0MTI1NzExOTc0ICsgMC4wNzk0MzQ1NjUzNjY2MjM0MiAqIChnID0gdGVtcC01MCkgLSAyOC4wODUyOTYzNTA3OTU3ICogbG9nJDEoZyk7XG4gICAgICAgICAgICBiID0gMjU1O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcixnLGIsMV07XG4gICAgfTtcblxuICAgIHZhciB0ZW1wZXJhdHVyZTJyZ2JfMSA9IHRlbXBlcmF0dXJlMnJnYiQxO1xuXG4gICAgLypcbiAgICAgKiBCYXNlZCBvbiBpbXBsZW1lbnRhdGlvbiBieSBOZWlsIEJhcnRsZXR0XG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL25laWxiYXJ0bGV0dC9jb2xvci10ZW1wZXJhdHVyZVxuICAgICAqKi9cblxuICAgIHZhciB0ZW1wZXJhdHVyZTJyZ2IgPSB0ZW1wZXJhdHVyZTJyZ2JfMTtcbiAgICB2YXIgdW5wYWNrJDYgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciByZ2IydGVtcGVyYXR1cmUkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmdiID0gdW5wYWNrJDYoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJnYlswXSwgYiA9IHJnYlsyXTtcbiAgICAgICAgdmFyIG1pblRlbXAgPSAxMDAwO1xuICAgICAgICB2YXIgbWF4VGVtcCA9IDQwMDAwO1xuICAgICAgICB2YXIgZXBzID0gMC40O1xuICAgICAgICB2YXIgdGVtcDtcbiAgICAgICAgd2hpbGUgKG1heFRlbXAgLSBtaW5UZW1wID4gZXBzKSB7XG4gICAgICAgICAgICB0ZW1wID0gKG1heFRlbXAgKyBtaW5UZW1wKSAqIDAuNTtcbiAgICAgICAgICAgIHZhciByZ2IkMSA9IHRlbXBlcmF0dXJlMnJnYih0ZW1wKTtcbiAgICAgICAgICAgIGlmICgocmdiJDFbMl0gLyByZ2IkMVswXSkgPj0gKGIgLyByKSkge1xuICAgICAgICAgICAgICAgIG1heFRlbXAgPSB0ZW1wO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtaW5UZW1wID0gdGVtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm91bmQodGVtcCk7XG4gICAgfTtcblxuICAgIHZhciByZ2IydGVtcGVyYXR1cmVfMSA9IHJnYjJ0ZW1wZXJhdHVyZSQxO1xuXG4gICAgdmFyIGNocm9tYSQ3ID0gY2hyb21hXzE7XG4gICAgdmFyIENvbG9yJHAgPSBDb2xvcl8xO1xuICAgIHZhciBpbnB1dCQyID0gaW5wdXQkaDtcblxuICAgIHZhciByZ2IydGVtcGVyYXR1cmUgPSByZ2IydGVtcGVyYXR1cmVfMTtcblxuICAgIENvbG9yJHAucHJvdG90eXBlLnRlbXAgPVxuICAgIENvbG9yJHAucHJvdG90eXBlLmtlbHZpbiA9XG4gICAgQ29sb3IkcC5wcm90b3R5cGUudGVtcGVyYXR1cmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJ0ZW1wZXJhdHVyZSh0aGlzLl9yZ2IpO1xuICAgIH07XG5cbiAgICBjaHJvbWEkNy50ZW1wID1cbiAgICBjaHJvbWEkNy5rZWx2aW4gPVxuICAgIGNocm9tYSQ3LnRlbXBlcmF0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciRwLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsndGVtcCddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQkMi5mb3JtYXQudGVtcCA9XG4gICAgaW5wdXQkMi5mb3JtYXQua2VsdmluID1cbiAgICBpbnB1dCQyLmZvcm1hdC50ZW1wZXJhdHVyZSA9IHRlbXBlcmF0dXJlMnJnYl8xO1xuXG4gICAgdmFyIHVucGFjayQ1ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBjYnJ0ID0gTWF0aC5jYnJ0O1xuICAgIHZhciBwb3ckOCA9IE1hdGgucG93O1xuICAgIHZhciBzaWduJDEgPSBNYXRoLnNpZ247XG5cbiAgICB2YXIgcmdiMm9rbGFiJDIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgLy8gT0tMYWIgY29sb3Igc3BhY2UgaW1wbGVtZW50YXRpb24gdGFrZW4gZnJvbVxuICAgICAgICAvLyBodHRwczovL2JvdHRvc3Nvbi5naXRodWIuaW8vcG9zdHMvb2tsYWIvXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skNShhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IFtyZ2IybHJnYihyIC8gMjU1KSwgcmdiMmxyZ2IoZyAvIDI1NSksIHJnYjJscmdiKGIgLyAyNTUpXTtcbiAgICAgICAgdmFyIGxyID0gcmVmJDFbMF07XG4gICAgICAgIHZhciBsZyA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgbGIgPSByZWYkMVsyXTtcbiAgICAgICAgdmFyIGwgPSBjYnJ0KDAuNDEyMjIxNDcwOCAqIGxyICsgMC41MzYzMzI1MzYzICogbGcgKyAwLjA1MTQ0NTk5MjkgKiBsYik7XG4gICAgICAgIHZhciBtID0gY2JydCgwLjIxMTkwMzQ5ODIgKiBsciArIDAuNjgwNjk5NTQ1MSAqIGxnICsgMC4xMDczOTY5NTY2ICogbGIpO1xuICAgICAgICB2YXIgcyA9IGNicnQoMC4wODgzMDI0NjE5ICogbHIgKyAwLjI4MTcxODgzNzYgKiBsZyArIDAuNjI5OTc4NzAwNSAqIGxiKTtcblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgMC4yMTA0NTQyNTUzICogbCArIDAuNzkzNjE3Nzg1ICogbSAtIDAuMDA0MDcyMDQ2OCAqIHMsXG4gICAgICAgICAgICAxLjk3Nzk5ODQ5NTEgKiBsIC0gMi40Mjg1OTIyMDUgKiBtICsgMC40NTA1OTM3MDk5ICogcyxcbiAgICAgICAgICAgIDAuMDI1OTA0MDM3MSAqIGwgKyAwLjc4Mjc3MTc2NjIgKiBtIC0gMC44MDg2NzU3NjYgKiBzXG4gICAgICAgIF07XG4gICAgfTtcblxuICAgIHZhciByZ2Iyb2tsYWJfMSA9IHJnYjJva2xhYiQyO1xuXG4gICAgZnVuY3Rpb24gcmdiMmxyZ2IoYykge1xuICAgICAgICB2YXIgYWJzID0gTWF0aC5hYnMoYyk7XG4gICAgICAgIGlmIChhYnMgPCAwLjA0MDQ1KSB7XG4gICAgICAgICAgICByZXR1cm4gYyAvIDEyLjkyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoc2lnbiQxKGMpIHx8IDEpICogcG93JDgoKGFicyArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xuICAgIH1cblxuICAgIHZhciB1bnBhY2skNCA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgcG93JDcgPSBNYXRoLnBvdztcbiAgICB2YXIgc2lnbiA9IE1hdGguc2lnbjtcblxuICAgIC8qXG4gICAgICogTCogWzAuLjEwMF1cbiAgICAgKiBhIFstMTAwLi4xMDBdXG4gICAgICogYiBbLTEwMC4uMTAwXVxuICAgICAqL1xuICAgIHZhciBva2xhYjJyZ2IkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICBhcmdzID0gdW5wYWNrJDQoYXJncywgJ2xhYicpO1xuICAgICAgICB2YXIgTCA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBhID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIGIgPSBhcmdzWzJdO1xuXG4gICAgICAgIHZhciBsID0gcG93JDcoTCArIDAuMzk2MzM3Nzc3NCAqIGEgKyAwLjIxNTgwMzc1NzMgKiBiLCAzKTtcbiAgICAgICAgdmFyIG0gPSBwb3ckNyhMIC0gMC4xMDU1NjEzNDU4ICogYSAtIDAuMDYzODU0MTcyOCAqIGIsIDMpO1xuICAgICAgICB2YXIgcyA9IHBvdyQ3KEwgLSAwLjA4OTQ4NDE3NzUgKiBhIC0gMS4yOTE0ODU1NDggKiBiLCAzKTtcblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgMjU1ICogbHJnYjJyZ2IoKzQuMDc2NzQxNjYyMSAqIGwgLSAzLjMwNzcxMTU5MTMgKiBtICsgMC4yMzA5Njk5MjkyICogcyksXG4gICAgICAgICAgICAyNTUgKiBscmdiMnJnYigtMS4yNjg0MzgwMDQ2ICogbCArIDIuNjA5NzU3NDAxMSAqIG0gLSAwLjM0MTMxOTM5NjUgKiBzKSxcbiAgICAgICAgICAgIDI1NSAqIGxyZ2IycmdiKC0wLjAwNDE5NjA4NjMgKiBsIC0gMC43MDM0MTg2MTQ3ICogbSArIDEuNzA3NjE0NzAxICogcyksXG4gICAgICAgICAgICBhcmdzLmxlbmd0aCA+IDMgPyBhcmdzWzNdIDogMVxuICAgICAgICBdO1xuICAgIH07XG5cbiAgICB2YXIgb2tsYWIycmdiXzEgPSBva2xhYjJyZ2IkMTtcblxuICAgIGZ1bmN0aW9uIGxyZ2IycmdiKGMpIHtcbiAgICAgICAgdmFyIGFicyA9IE1hdGguYWJzKGMpO1xuICAgICAgICBpZiAoYWJzID4gMC4wMDMxMzA4KSB7XG4gICAgICAgICAgICByZXR1cm4gKHNpZ24oYykgfHwgMSkgKiAoMS4wNTUgKiBwb3ckNyhhYnMsIDEgLyAyLjQpIC0gMC4wNTUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjICogMTIuOTI7XG4gICAgfVxuXG4gICAgdmFyIHVucGFjayQzID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciB0eXBlJDggPSB1dGlscy50eXBlO1xuICAgIHZhciBjaHJvbWEkNiA9IGNocm9tYV8xO1xuICAgIHZhciBDb2xvciRvID0gQ29sb3JfMTtcbiAgICB2YXIgaW5wdXQkMSA9IGlucHV0JGg7XG5cbiAgICB2YXIgcmdiMm9rbGFiJDEgPSByZ2Iyb2tsYWJfMTtcblxuICAgIENvbG9yJG8ucHJvdG90eXBlLm9rbGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcmdiMm9rbGFiJDEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hJDYub2tsYWIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIENvbG9yJG8sIFsgbnVsbCBdLmNvbmNhdCggYXJncywgWydva2xhYiddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQkMS5mb3JtYXQub2tsYWIgPSBva2xhYjJyZ2JfMTtcblxuICAgIGlucHV0JDEuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMyxcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skMyhhcmdzLCAnb2tsYWInKTtcbiAgICAgICAgICAgIGlmICh0eXBlJDgoYXJncykgPT09ICdhcnJheScgJiYgYXJncy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ29rbGFiJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayQyID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciByZ2Iyb2tsYWIgPSByZ2Iyb2tsYWJfMTtcbiAgICB2YXIgbGFiMmxjaCA9IGxhYjJsY2hfMTtcblxuICAgIHZhciByZ2Iyb2tsY2gkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJDIoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgcmVmJDEgPSByZ2Iyb2tsYWIociwgZywgYik7XG4gICAgICAgIHZhciBsID0gcmVmJDFbMF07XG4gICAgICAgIHZhciBhID0gcmVmJDFbMV07XG4gICAgICAgIHZhciBiXyA9IHJlZiQxWzJdO1xuICAgICAgICByZXR1cm4gbGFiMmxjaChsLCBhLCBiXyk7XG4gICAgfTtcblxuICAgIHZhciByZ2Iyb2tsY2hfMSA9IHJnYjJva2xjaCQxO1xuXG4gICAgdmFyIHVucGFjayQxID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsY2gybGFiID0gbGNoMmxhYl8xO1xuICAgIHZhciBva2xhYjJyZ2IgPSBva2xhYjJyZ2JfMTtcblxuICAgIHZhciBva2xjaDJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgYXJncyA9IHVucGFjayQxKGFyZ3MsICdsY2gnKTtcbiAgICAgICAgdmFyIGwgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgYyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBoID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHJlZiA9IGxjaDJsYWIobCwgYywgaCk7XG4gICAgICAgIHZhciBMID0gcmVmWzBdO1xuICAgICAgICB2YXIgYSA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGJfID0gcmVmWzJdO1xuICAgICAgICB2YXIgcmVmJDEgPSBva2xhYjJyZ2IoTCwgYSwgYl8pO1xuICAgICAgICB2YXIgciA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZiQxWzJdO1xuICAgICAgICByZXR1cm4gW3IsIGcsIGIsIGFyZ3MubGVuZ3RoID4gMyA/IGFyZ3NbM10gOiAxXTtcbiAgICB9O1xuXG4gICAgdmFyIG9rbGNoMnJnYl8xID0gb2tsY2gycmdiO1xuXG4gICAgdmFyIHVucGFjayA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgdHlwZSQ3ID0gdXRpbHMudHlwZTtcbiAgICB2YXIgY2hyb21hJDUgPSBjaHJvbWFfMTtcbiAgICB2YXIgQ29sb3IkbiA9IENvbG9yXzE7XG4gICAgdmFyIGlucHV0ID0gaW5wdXQkaDtcblxuICAgIHZhciByZ2Iyb2tsY2ggPSByZ2Iyb2tsY2hfMTtcblxuICAgIENvbG9yJG4ucHJvdG90eXBlLm9rbGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcmdiMm9rbGNoKHRoaXMuX3JnYik7XG4gICAgfTtcblxuICAgIGNocm9tYSQ1Lm9rbGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciRuLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnb2tsY2gnXSkgKSk7XG4gICAgfTtcblxuICAgIGlucHV0LmZvcm1hdC5va2xjaCA9IG9rbGNoMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMyxcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2soYXJncywgJ29rbGNoJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ3KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdva2xjaCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBDb2xvciRtID0gQ29sb3JfMTtcbiAgICB2YXIgdHlwZSQ2ID0gdXRpbHMudHlwZTtcblxuICAgIENvbG9yJG0ucHJvdG90eXBlLmFscGhhID0gZnVuY3Rpb24oYSwgbXV0YXRlKSB7XG4gICAgICAgIGlmICggbXV0YXRlID09PSB2b2lkIDAgKSBtdXRhdGU9ZmFsc2U7XG5cbiAgICAgICAgaWYgKGEgIT09IHVuZGVmaW5lZCAmJiB0eXBlJDYoYSkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAobXV0YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmdiWzNdID0gYTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3IkbShbdGhpcy5fcmdiWzBdLCB0aGlzLl9yZ2JbMV0sIHRoaXMuX3JnYlsyXSwgYV0sICdyZ2InKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmdiWzNdO1xuICAgIH07XG5cbiAgICB2YXIgQ29sb3IkbCA9IENvbG9yXzE7XG5cbiAgICBDb2xvciRsLnByb3RvdHlwZS5jbGlwcGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZ2IuX2NsaXBwZWQgfHwgZmFsc2U7XG4gICAgfTtcblxuICAgIHZhciBDb2xvciRrID0gQ29sb3JfMTtcbiAgICB2YXIgTEFCX0NPTlNUQU5UUyQxID0gbGFiQ29uc3RhbnRzO1xuXG4gICAgQ29sb3Ikay5wcm90b3R5cGUuZGFya2VuID0gZnVuY3Rpb24oYW1vdW50KSB7XG4gICAgXHRpZiAoIGFtb3VudCA9PT0gdm9pZCAwICkgYW1vdW50PTE7XG5cbiAgICBcdHZhciBtZSA9IHRoaXM7XG4gICAgXHR2YXIgbGFiID0gbWUubGFiKCk7XG4gICAgXHRsYWJbMF0gLT0gTEFCX0NPTlNUQU5UUyQxLktuICogYW1vdW50O1xuICAgIFx0cmV0dXJuIG5ldyBDb2xvciRrKGxhYiwgJ2xhYicpLmFscGhhKG1lLmFscGhhKCksIHRydWUpO1xuICAgIH07XG5cbiAgICBDb2xvciRrLnByb3RvdHlwZS5icmlnaHRlbiA9IGZ1bmN0aW9uKGFtb3VudCkge1xuICAgIFx0aWYgKCBhbW91bnQgPT09IHZvaWQgMCApIGFtb3VudD0xO1xuXG4gICAgXHRyZXR1cm4gdGhpcy5kYXJrZW4oLWFtb3VudCk7XG4gICAgfTtcblxuICAgIENvbG9yJGsucHJvdG90eXBlLmRhcmtlciA9IENvbG9yJGsucHJvdG90eXBlLmRhcmtlbjtcbiAgICBDb2xvciRrLnByb3RvdHlwZS5icmlnaHRlciA9IENvbG9yJGsucHJvdG90eXBlLmJyaWdodGVuO1xuXG4gICAgdmFyIENvbG9yJGogPSBDb2xvcl8xO1xuXG4gICAgQ29sb3Ikai5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKG1jKSB7XG4gICAgICAgIHZhciByZWYgPSBtYy5zcGxpdCgnLicpO1xuICAgICAgICB2YXIgbW9kZSA9IHJlZlswXTtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSByZWZbMV07XG4gICAgICAgIHZhciBzcmMgPSB0aGlzW21vZGVdKCk7XG4gICAgICAgIGlmIChjaGFubmVsKSB7XG4gICAgICAgICAgICB2YXIgaSA9IG1vZGUuaW5kZXhPZihjaGFubmVsKSAtIChtb2RlLnN1YnN0cigwLCAyKSA9PT0gJ29rJyA/IDIgOiAwKTtcbiAgICAgICAgICAgIGlmIChpID4gLTEpIHsgcmV0dXJuIHNyY1tpXTsgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcInVua25vd24gY2hhbm5lbCBcIiArIGNoYW5uZWwgKyBcIiBpbiBtb2RlIFwiICsgbW9kZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNyYztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgQ29sb3IkaSA9IENvbG9yXzE7XG4gICAgdmFyIHR5cGUkNSA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIHBvdyQ2ID0gTWF0aC5wb3c7XG5cbiAgICB2YXIgRVBTID0gMWUtNztcbiAgICB2YXIgTUFYX0lURVIgPSAyMDtcblxuICAgIENvbG9yJGkucHJvdG90eXBlLmx1bWluYW5jZSA9IGZ1bmN0aW9uKGx1bSkge1xuICAgICAgICBpZiAobHVtICE9PSB1bmRlZmluZWQgJiYgdHlwZSQ1KGx1bSkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAobHVtID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHB1cmUgYmxhY2tcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yJGkoWzAsMCwwLHRoaXMuX3JnYlszXV0sICdyZ2InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsdW0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gcHVyZSB3aGl0ZVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3IkaShbMjU1LDI1NSwyNTUsdGhpcy5fcmdiWzNdXSwgJ3JnYicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29tcHV0ZSBuZXcgY29sb3IgdXNpbmcuLi5cbiAgICAgICAgICAgIHZhciBjdXJfbHVtID0gdGhpcy5sdW1pbmFuY2UoKTtcbiAgICAgICAgICAgIHZhciBtb2RlID0gJ3JnYic7XG4gICAgICAgICAgICB2YXIgbWF4X2l0ZXIgPSBNQVhfSVRFUjtcblxuICAgICAgICAgICAgdmFyIHRlc3QgPSBmdW5jdGlvbiAobG93LCBoaWdoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pZCA9IGxvdy5pbnRlcnBvbGF0ZShoaWdoLCAwLjUsIG1vZGUpO1xuICAgICAgICAgICAgICAgIHZhciBsbSA9IG1pZC5sdW1pbmFuY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMobHVtIC0gbG0pIDwgRVBTIHx8ICFtYXhfaXRlci0tKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNsb3NlIGVub3VnaFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbG0gPiBsdW0gPyB0ZXN0KGxvdywgbWlkKSA6IHRlc3QobWlkLCBoaWdoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciByZ2IgPSAoY3VyX2x1bSA+IGx1bSA/IHRlc3QobmV3IENvbG9yJGkoWzAsMCwwXSksIHRoaXMpIDogdGVzdCh0aGlzLCBuZXcgQ29sb3IkaShbMjU1LDI1NSwyNTVdKSkpLnJnYigpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvciRpKHJnYi5jb25jYXQoIFt0aGlzLl9yZ2JbM11dKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJnYjJsdW1pbmFuY2UuYXBwbHkodm9pZCAwLCAodGhpcy5fcmdiKS5zbGljZSgwLDMpKTtcbiAgICB9O1xuXG5cbiAgICB2YXIgcmdiMmx1bWluYW5jZSA9IGZ1bmN0aW9uIChyLGcsYikge1xuICAgICAgICAvLyByZWxhdGl2ZSBsdW1pbmFuY2VcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jcmVsYXRpdmVsdW1pbmFuY2VkZWZcbiAgICAgICAgciA9IGx1bWluYW5jZV94KHIpO1xuICAgICAgICBnID0gbHVtaW5hbmNlX3goZyk7XG4gICAgICAgIGIgPSBsdW1pbmFuY2VfeChiKTtcbiAgICAgICAgcmV0dXJuIDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYjtcbiAgICB9O1xuXG4gICAgdmFyIGx1bWluYW5jZV94ID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgeCAvPSAyNTU7XG4gICAgICAgIHJldHVybiB4IDw9IDAuMDM5MjggPyB4LzEyLjkyIDogcG93JDYoKHgrMC4wNTUpLzEuMDU1LCAyLjQpO1xuICAgIH07XG5cbiAgICB2YXIgaW50ZXJwb2xhdG9yJDEgPSB7fTtcblxuICAgIHZhciBDb2xvciRoID0gQ29sb3JfMTtcbiAgICB2YXIgdHlwZSQ0ID0gdXRpbHMudHlwZTtcbiAgICB2YXIgaW50ZXJwb2xhdG9yID0gaW50ZXJwb2xhdG9yJDE7XG5cbiAgICB2YXIgbWl4JDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgICAgICBpZiAoIGYgPT09IHZvaWQgMCApIGY9MC41O1xuICAgICAgICB2YXIgcmVzdCA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMztcbiAgICAgICAgd2hpbGUgKCBsZW4tLSA+IDAgKSByZXN0WyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMyBdO1xuXG4gICAgICAgIHZhciBtb2RlID0gcmVzdFswXSB8fCAnbHJnYic7XG4gICAgICAgIGlmICghaW50ZXJwb2xhdG9yW21vZGVdICYmICFyZXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gZmFsbCBiYWNrIHRvIHRoZSBmaXJzdCBzdXBwb3J0ZWQgbW9kZVxuICAgICAgICAgICAgbW9kZSA9IE9iamVjdC5rZXlzKGludGVycG9sYXRvcilbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbnRlcnBvbGF0b3JbbW9kZV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJpbnRlcnBvbGF0aW9uIG1vZGUgXCIgKyBtb2RlICsgXCIgaXMgbm90IGRlZmluZWRcIikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlJDQoY29sMSkgIT09ICdvYmplY3QnKSB7IGNvbDEgPSBuZXcgQ29sb3IkaChjb2wxKTsgfVxuICAgICAgICBpZiAodHlwZSQ0KGNvbDIpICE9PSAnb2JqZWN0JykgeyBjb2wyID0gbmV3IENvbG9yJGgoY29sMik7IH1cbiAgICAgICAgcmV0dXJuIGludGVycG9sYXRvclttb2RlXShjb2wxLCBjb2wyLCBmKVxuICAgICAgICAgICAgLmFscGhhKGNvbDEuYWxwaGEoKSArIGYgKiAoY29sMi5hbHBoYSgpIC0gY29sMS5hbHBoYSgpKSk7XG4gICAgfTtcblxuICAgIHZhciBDb2xvciRnID0gQ29sb3JfMTtcbiAgICB2YXIgbWl4ID0gbWl4JDE7XG5cbiAgICBDb2xvciRnLnByb3RvdHlwZS5taXggPVxuICAgIENvbG9yJGcucHJvdG90eXBlLmludGVycG9sYXRlID0gZnVuY3Rpb24oY29sMiwgZikge1xuICAgIFx0aWYgKCBmID09PSB2b2lkIDAgKSBmPTAuNTtcbiAgICBcdHZhciByZXN0ID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICAgIFx0d2hpbGUgKCBsZW4tLSA+IDAgKSByZXN0WyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMiBdO1xuXG4gICAgXHRyZXR1cm4gbWl4LmFwcGx5KHZvaWQgMCwgWyB0aGlzLCBjb2wyLCBmIF0uY29uY2F0KCByZXN0ICkpO1xuICAgIH07XG5cbiAgICB2YXIgQ29sb3IkZiA9IENvbG9yXzE7XG5cbiAgICBDb2xvciRmLnByb3RvdHlwZS5wcmVtdWx0aXBseSA9IGZ1bmN0aW9uKG11dGF0ZSkge1xuICAgIFx0aWYgKCBtdXRhdGUgPT09IHZvaWQgMCApIG11dGF0ZT1mYWxzZTtcblxuICAgIFx0dmFyIHJnYiA9IHRoaXMuX3JnYjtcbiAgICBcdHZhciBhID0gcmdiWzNdO1xuICAgIFx0aWYgKG11dGF0ZSkge1xuICAgIFx0XHR0aGlzLl9yZ2IgPSBbcmdiWzBdKmEsIHJnYlsxXSphLCByZ2JbMl0qYSwgYV07XG4gICAgXHRcdHJldHVybiB0aGlzO1xuICAgIFx0fSBlbHNlIHtcbiAgICBcdFx0cmV0dXJuIG5ldyBDb2xvciRmKFtyZ2JbMF0qYSwgcmdiWzFdKmEsIHJnYlsyXSphLCBhXSwgJ3JnYicpO1xuICAgIFx0fVxuICAgIH07XG5cbiAgICB2YXIgQ29sb3IkZSA9IENvbG9yXzE7XG4gICAgdmFyIExBQl9DT05TVEFOVFMgPSBsYWJDb25zdGFudHM7XG5cbiAgICBDb2xvciRlLnByb3RvdHlwZS5zYXR1cmF0ZSA9IGZ1bmN0aW9uKGFtb3VudCkge1xuICAgIFx0aWYgKCBhbW91bnQgPT09IHZvaWQgMCApIGFtb3VudD0xO1xuXG4gICAgXHR2YXIgbWUgPSB0aGlzO1xuICAgIFx0dmFyIGxjaCA9IG1lLmxjaCgpO1xuICAgIFx0bGNoWzFdICs9IExBQl9DT05TVEFOVFMuS24gKiBhbW91bnQ7XG4gICAgXHRpZiAobGNoWzFdIDwgMCkgeyBsY2hbMV0gPSAwOyB9XG4gICAgXHRyZXR1cm4gbmV3IENvbG9yJGUobGNoLCAnbGNoJykuYWxwaGEobWUuYWxwaGEoKSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIENvbG9yJGUucHJvdG90eXBlLmRlc2F0dXJhdGUgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBcdGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQ9MTtcblxuICAgIFx0cmV0dXJuIHRoaXMuc2F0dXJhdGUoLWFtb3VudCk7XG4gICAgfTtcblxuICAgIHZhciBDb2xvciRkID0gQ29sb3JfMTtcbiAgICB2YXIgdHlwZSQzID0gdXRpbHMudHlwZTtcblxuICAgIENvbG9yJGQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChtYywgdmFsdWUsIG11dGF0ZSkge1xuICAgICAgICBpZiAoIG11dGF0ZSA9PT0gdm9pZCAwICkgbXV0YXRlID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIHJlZiA9IG1jLnNwbGl0KCcuJyk7XG4gICAgICAgIHZhciBtb2RlID0gcmVmWzBdO1xuICAgICAgICB2YXIgY2hhbm5lbCA9IHJlZlsxXTtcbiAgICAgICAgdmFyIHNyYyA9IHRoaXNbbW9kZV0oKTtcbiAgICAgICAgaWYgKGNoYW5uZWwpIHtcbiAgICAgICAgICAgIHZhciBpID0gbW9kZS5pbmRleE9mKGNoYW5uZWwpIC0gKG1vZGUuc3Vic3RyKDAsIDIpID09PSAnb2snID8gMiA6IDApO1xuICAgICAgICAgICAgaWYgKGkgPiAtMSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlJDModmFsdWUpID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodmFsdWUuY2hhckF0KDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcrJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNbaV0gKz0gK3ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjW2ldICs9ICt2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJyonOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY1tpXSAqPSArdmFsdWUuc3Vic3RyKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnLyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjW2ldIC89ICt2YWx1ZS5zdWJzdHIoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY1tpXSA9ICt2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSQzKHZhbHVlKSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgc3JjW2ldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQgdmFsdWUgZm9yIENvbG9yLnNldFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG91dCA9IG5ldyBDb2xvciRkKHNyYywgbW9kZSk7XG4gICAgICAgICAgICAgICAgaWYgKG11dGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZ2IgPSBvdXQuX3JnYjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwidW5rbm93biBjaGFubmVsIFwiICsgY2hhbm5lbCArIFwiIGluIG1vZGUgXCIgKyBtb2RlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3JjO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBDb2xvciRjID0gQ29sb3JfMTtcblxuICAgIHZhciByZ2IgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgICAgICB2YXIgeHl6MCA9IGNvbDEuX3JnYjtcbiAgICAgICAgdmFyIHh5ejEgPSBjb2wyLl9yZ2I7XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IkYyhcbiAgICAgICAgICAgIHh5ejBbMF0gKyBmICogKHh5ejFbMF0teHl6MFswXSksXG4gICAgICAgICAgICB4eXowWzFdICsgZiAqICh4eXoxWzFdLXh5ejBbMV0pLFxuICAgICAgICAgICAgeHl6MFsyXSArIGYgKiAoeHl6MVsyXS14eXowWzJdKSxcbiAgICAgICAgICAgICdyZ2InXG4gICAgICAgIClcbiAgICB9O1xuXG4gICAgLy8gcmVnaXN0ZXIgaW50ZXJwb2xhdG9yXG4gICAgaW50ZXJwb2xhdG9yJDEucmdiID0gcmdiO1xuXG4gICAgdmFyIENvbG9yJGIgPSBDb2xvcl8xO1xuICAgIHZhciBzcXJ0JDIgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIHBvdyQ1ID0gTWF0aC5wb3c7XG5cbiAgICB2YXIgbHJnYiA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgICAgIHZhciByZWYgPSBjb2wxLl9yZ2I7XG4gICAgICAgIHZhciB4MSA9IHJlZlswXTtcbiAgICAgICAgdmFyIHkxID0gcmVmWzFdO1xuICAgICAgICB2YXIgejEgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IGNvbDIuX3JnYjtcbiAgICAgICAgdmFyIHgyID0gcmVmJDFbMF07XG4gICAgICAgIHZhciB5MiA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgejIgPSByZWYkMVsyXTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvciRiKFxuICAgICAgICAgICAgc3FydCQyKHBvdyQ1KHgxLDIpICogKDEtZikgKyBwb3ckNSh4MiwyKSAqIGYpLFxuICAgICAgICAgICAgc3FydCQyKHBvdyQ1KHkxLDIpICogKDEtZikgKyBwb3ckNSh5MiwyKSAqIGYpLFxuICAgICAgICAgICAgc3FydCQyKHBvdyQ1KHoxLDIpICogKDEtZikgKyBwb3ckNSh6MiwyKSAqIGYpLFxuICAgICAgICAgICAgJ3JnYidcbiAgICAgICAgKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IkMS5scmdiID0gbHJnYjtcblxuICAgIHZhciBDb2xvciRhID0gQ29sb3JfMTtcblxuICAgIHZhciBsYWIgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgICAgICB2YXIgeHl6MCA9IGNvbDEubGFiKCk7XG4gICAgICAgIHZhciB4eXoxID0gY29sMi5sYWIoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvciRhKFxuICAgICAgICAgICAgeHl6MFswXSArIGYgKiAoeHl6MVswXS14eXowWzBdKSxcbiAgICAgICAgICAgIHh5ejBbMV0gKyBmICogKHh5ejFbMV0teHl6MFsxXSksXG4gICAgICAgICAgICB4eXowWzJdICsgZiAqICh4eXoxWzJdLXh5ejBbMl0pLFxuICAgICAgICAgICAgJ2xhYidcbiAgICAgICAgKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IkMS5sYWIgPSBsYWI7XG5cbiAgICB2YXIgQ29sb3IkOSA9IENvbG9yXzE7XG5cbiAgICB2YXIgX2hzeCA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmLCBtKSB7XG4gICAgICAgIHZhciBhc3NpZ24sIGFzc2lnbiQxO1xuXG4gICAgICAgIHZhciB4eXowLCB4eXoxO1xuICAgICAgICBpZiAobSA9PT0gJ2hzbCcpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzbCgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHNsKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hzdicpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzdigpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHN2KCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hjZycpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhjZygpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaGNnKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hzaScpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzaSgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHNpKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2xjaCcgfHwgbSA9PT0gJ2hjbCcpIHtcbiAgICAgICAgICAgIG0gPSAnaGNsJztcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhjbCgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaGNsKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ29rbGNoJykge1xuICAgICAgICAgICAgeHl6MCA9IGNvbDEub2tsY2goKS5yZXZlcnNlKCk7XG4gICAgICAgICAgICB4eXoxID0gY29sMi5va2xjaCgpLnJldmVyc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBodWUwLCBodWUxLCBzYXQwLCBzYXQxLCBsYnYwLCBsYnYxO1xuICAgICAgICBpZiAobS5zdWJzdHIoMCwgMSkgPT09ICdoJyB8fCBtID09PSAnb2tsY2gnKSB7XG4gICAgICAgICAgICAoYXNzaWduID0geHl6MCwgaHVlMCA9IGFzc2lnblswXSwgc2F0MCA9IGFzc2lnblsxXSwgbGJ2MCA9IGFzc2lnblsyXSk7XG4gICAgICAgICAgICAoYXNzaWduJDEgPSB4eXoxLCBodWUxID0gYXNzaWduJDFbMF0sIHNhdDEgPSBhc3NpZ24kMVsxXSwgbGJ2MSA9IGFzc2lnbiQxWzJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzYXQsIGh1ZSwgbGJ2LCBkaDtcblxuICAgICAgICBpZiAoIWlzTmFOKGh1ZTApICYmICFpc05hTihodWUxKSkge1xuICAgICAgICAgICAgLy8gYm90aCBjb2xvcnMgaGF2ZSBodWVcbiAgICAgICAgICAgIGlmIChodWUxID4gaHVlMCAmJiBodWUxIC0gaHVlMCA+IDE4MCkge1xuICAgICAgICAgICAgICAgIGRoID0gaHVlMSAtIChodWUwICsgMzYwKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaHVlMSA8IGh1ZTAgJiYgaHVlMCAtIGh1ZTEgPiAxODApIHtcbiAgICAgICAgICAgICAgICBkaCA9IGh1ZTEgKyAzNjAgLSBodWUwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaCA9IGh1ZTEgLSBodWUwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHVlID0gaHVlMCArIGYgKiBkaDtcbiAgICAgICAgfSBlbHNlIGlmICghaXNOYU4oaHVlMCkpIHtcbiAgICAgICAgICAgIGh1ZSA9IGh1ZTA7XG4gICAgICAgICAgICBpZiAoKGxidjEgPT0gMSB8fCBsYnYxID09IDApICYmIG0gIT0gJ2hzdicpIHsgc2F0ID0gc2F0MDsgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihodWUxKSkge1xuICAgICAgICAgICAgaHVlID0gaHVlMTtcbiAgICAgICAgICAgIGlmICgobGJ2MCA9PSAxIHx8IGxidjAgPT0gMCkgJiYgbSAhPSAnaHN2JykgeyBzYXQgPSBzYXQxOyB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBodWUgPSBOdW1iZXIuTmFOO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNhdCA9PT0gdW5kZWZpbmVkKSB7IHNhdCA9IHNhdDAgKyBmICogKHNhdDEgLSBzYXQwKTsgfVxuICAgICAgICBsYnYgPSBsYnYwICsgZiAqIChsYnYxIC0gbGJ2MCk7XG4gICAgICAgIHJldHVybiBtID09PSAnb2tsY2gnID8gbmV3IENvbG9yJDkoW2xidiwgc2F0LCBodWVdLCBtKSA6IG5ldyBDb2xvciQ5KFtodWUsIHNhdCwgbGJ2XSwgbSk7XG4gICAgfTtcblxuICAgIHZhciBpbnRlcnBvbGF0ZV9oc3gkNSA9IF9oc3g7XG5cbiAgICB2YXIgbGNoID0gZnVuY3Rpb24gKGNvbDEsIGNvbDIsIGYpIHtcbiAgICBcdHJldHVybiBpbnRlcnBvbGF0ZV9oc3gkNShjb2wxLCBjb2wyLCBmLCAnbGNoJyk7XG4gICAgfTtcblxuICAgIC8vIHJlZ2lzdGVyIGludGVycG9sYXRvclxuICAgIGludGVycG9sYXRvciQxLmxjaCA9IGxjaDtcbiAgICBpbnRlcnBvbGF0b3IkMS5oY2wgPSBsY2g7XG5cbiAgICB2YXIgQ29sb3IkOCA9IENvbG9yXzE7XG5cbiAgICB2YXIgbnVtID0gZnVuY3Rpb24gKGNvbDEsIGNvbDIsIGYpIHtcbiAgICAgICAgdmFyIGMxID0gY29sMS5udW0oKTtcbiAgICAgICAgdmFyIGMyID0gY29sMi5udW0oKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvciQ4KGMxICsgZiAqIChjMi1jMSksICdudW0nKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IkMS5udW0gPSBudW07XG5cbiAgICB2YXIgaW50ZXJwb2xhdGVfaHN4JDQgPSBfaHN4O1xuXG4gICAgdmFyIGhjZyA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgXHRyZXR1cm4gaW50ZXJwb2xhdGVfaHN4JDQoY29sMSwgY29sMiwgZiwgJ2hjZycpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IkMS5oY2cgPSBoY2c7XG5cbiAgICB2YXIgaW50ZXJwb2xhdGVfaHN4JDMgPSBfaHN4O1xuXG4gICAgdmFyIGhzaSA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgXHRyZXR1cm4gaW50ZXJwb2xhdGVfaHN4JDMoY29sMSwgY29sMiwgZiwgJ2hzaScpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IkMS5oc2kgPSBoc2k7XG5cbiAgICB2YXIgaW50ZXJwb2xhdGVfaHN4JDIgPSBfaHN4O1xuXG4gICAgdmFyIGhzbCA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgXHRyZXR1cm4gaW50ZXJwb2xhdGVfaHN4JDIoY29sMSwgY29sMiwgZiwgJ2hzbCcpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IkMS5oc2wgPSBoc2w7XG5cbiAgICB2YXIgaW50ZXJwb2xhdGVfaHN4JDEgPSBfaHN4O1xuXG4gICAgdmFyIGhzdiA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgXHRyZXR1cm4gaW50ZXJwb2xhdGVfaHN4JDEoY29sMSwgY29sMiwgZiwgJ2hzdicpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IkMS5oc3YgPSBoc3Y7XG5cbiAgICB2YXIgQ29sb3IkNyA9IENvbG9yXzE7XG5cbiAgICB2YXIgb2tsYWIgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgICAgICB2YXIgeHl6MCA9IGNvbDEub2tsYWIoKTtcbiAgICAgICAgdmFyIHh5ejEgPSBjb2wyLm9rbGFiKCk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IkNyhcbiAgICAgICAgICAgIHh5ejBbMF0gKyBmICogKHh5ejFbMF0gLSB4eXowWzBdKSxcbiAgICAgICAgICAgIHh5ejBbMV0gKyBmICogKHh5ejFbMV0gLSB4eXowWzFdKSxcbiAgICAgICAgICAgIHh5ejBbMl0gKyBmICogKHh5ejFbMl0gLSB4eXowWzJdKSxcbiAgICAgICAgICAgICdva2xhYidcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgLy8gcmVnaXN0ZXIgaW50ZXJwb2xhdG9yXG4gICAgaW50ZXJwb2xhdG9yJDEub2tsYWIgPSBva2xhYjtcblxuICAgIHZhciBpbnRlcnBvbGF0ZV9oc3ggPSBfaHN4O1xuXG4gICAgdmFyIG9rbGNoID0gZnVuY3Rpb24gKGNvbDEsIGNvbDIsIGYpIHtcbiAgICAgICAgcmV0dXJuIGludGVycG9sYXRlX2hzeChjb2wxLCBjb2wyLCBmLCAnb2tsY2gnKTtcbiAgICB9O1xuXG4gICAgLy8gcmVnaXN0ZXIgaW50ZXJwb2xhdG9yXG4gICAgaW50ZXJwb2xhdG9yJDEub2tsY2ggPSBva2xjaDtcblxuICAgIHZhciBDb2xvciQ2ID0gQ29sb3JfMTtcbiAgICB2YXIgY2xpcF9yZ2IkMSA9IHV0aWxzLmNsaXBfcmdiO1xuICAgIHZhciBwb3ckNCA9IE1hdGgucG93O1xuICAgIHZhciBzcXJ0JDEgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIFBJJDEgPSBNYXRoLlBJO1xuICAgIHZhciBjb3MkMiA9IE1hdGguY29zO1xuICAgIHZhciBzaW4kMiA9IE1hdGguc2luO1xuICAgIHZhciBhdGFuMiQxID0gTWF0aC5hdGFuMjtcblxuICAgIHZhciBhdmVyYWdlID0gZnVuY3Rpb24gKGNvbG9ycywgbW9kZSwgd2VpZ2h0cykge1xuICAgICAgICBpZiAoIG1vZGUgPT09IHZvaWQgMCApIG1vZGU9J2xyZ2InO1xuICAgICAgICBpZiAoIHdlaWdodHMgPT09IHZvaWQgMCApIHdlaWdodHM9bnVsbDtcblxuICAgICAgICB2YXIgbCA9IGNvbG9ycy5sZW5ndGg7XG4gICAgICAgIGlmICghd2VpZ2h0cykgeyB3ZWlnaHRzID0gQXJyYXkuZnJvbShuZXcgQXJyYXkobCkpLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiAxOyB9KTsgfVxuICAgICAgICAvLyBub3JtYWxpemUgd2VpZ2h0c1xuICAgICAgICB2YXIgayA9IGwgLyB3ZWlnaHRzLnJlZHVjZShmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhICsgYjsgfSk7XG4gICAgICAgIHdlaWdodHMuZm9yRWFjaChmdW5jdGlvbiAodyxpKSB7IHdlaWdodHNbaV0gKj0gazsgfSk7XG4gICAgICAgIC8vIGNvbnZlcnQgY29sb3JzIHRvIENvbG9yIG9iamVjdHNcbiAgICAgICAgY29sb3JzID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gbmV3IENvbG9yJDYoYyk7IH0pO1xuICAgICAgICBpZiAobW9kZSA9PT0gJ2xyZ2InKSB7XG4gICAgICAgICAgICByZXR1cm4gX2F2ZXJhZ2VfbHJnYihjb2xvcnMsIHdlaWdodHMpXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpcnN0ID0gY29sb3JzLnNoaWZ0KCk7XG4gICAgICAgIHZhciB4eXogPSBmaXJzdC5nZXQobW9kZSk7XG4gICAgICAgIHZhciBjbnQgPSBbXTtcbiAgICAgICAgdmFyIGR4ID0gMDtcbiAgICAgICAgdmFyIGR5ID0gMDtcbiAgICAgICAgLy8gaW5pdGlhbCBjb2xvclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8eHl6Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB4eXpbaV0gPSAoeHl6W2ldIHx8IDApICogd2VpZ2h0c1swXTtcbiAgICAgICAgICAgIGNudC5wdXNoKGlzTmFOKHh5eltpXSkgPyAwIDogd2VpZ2h0c1swXSk7XG4gICAgICAgICAgICBpZiAobW9kZS5jaGFyQXQoaSkgPT09ICdoJyAmJiAhaXNOYU4oeHl6W2ldKSkge1xuICAgICAgICAgICAgICAgIHZhciBBID0geHl6W2ldIC8gMTgwICogUEkkMTtcbiAgICAgICAgICAgICAgICBkeCArPSBjb3MkMihBKSAqIHdlaWdodHNbMF07XG4gICAgICAgICAgICAgICAgZHkgKz0gc2luJDIoQSkgKiB3ZWlnaHRzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFscGhhID0gZmlyc3QuYWxwaGEoKSAqIHdlaWdodHNbMF07XG4gICAgICAgIGNvbG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChjLGNpKSB7XG4gICAgICAgICAgICB2YXIgeHl6MiA9IGMuZ2V0KG1vZGUpO1xuICAgICAgICAgICAgYWxwaGEgKz0gYy5hbHBoYSgpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTx4eXoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHh5ejJbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNudFtpXSArPSB3ZWlnaHRzW2NpKzFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZS5jaGFyQXQoaSkgPT09ICdoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEEgPSB4eXoyW2ldIC8gMTgwICogUEkkMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR4ICs9IGNvcyQyKEEpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5ICs9IHNpbiQyKEEpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHh5eltpXSArPSB4eXoyW2ldICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSQxPTA7IGkkMTx4eXoubGVuZ3RoOyBpJDErKykge1xuICAgICAgICAgICAgaWYgKG1vZGUuY2hhckF0KGkkMSkgPT09ICdoJykge1xuICAgICAgICAgICAgICAgIHZhciBBJDEgPSBhdGFuMiQxKGR5IC8gY250W2kkMV0sIGR4IC8gY250W2kkMV0pIC8gUEkkMSAqIDE4MDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoQSQxIDwgMCkgeyBBJDEgKz0gMzYwOyB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKEEkMSA+PSAzNjApIHsgQSQxIC09IDM2MDsgfVxuICAgICAgICAgICAgICAgIHh5eltpJDFdID0gQSQxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4eXpbaSQxXSA9IHh5eltpJDFdL2NudFtpJDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFscGhhIC89IGw7XG4gICAgICAgIHJldHVybiAobmV3IENvbG9yJDYoeHl6LCBtb2RlKSkuYWxwaGEoYWxwaGEgPiAwLjk5OTk5ID8gMSA6IGFscGhhLCB0cnVlKTtcbiAgICB9O1xuXG5cbiAgICB2YXIgX2F2ZXJhZ2VfbHJnYiA9IGZ1bmN0aW9uIChjb2xvcnMsIHdlaWdodHMpIHtcbiAgICAgICAgdmFyIGwgPSBjb2xvcnMubGVuZ3RoO1xuICAgICAgICB2YXIgeHl6ID0gWzAsMCwwLDBdO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGkgPCBjb2xvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjb2wgPSBjb2xvcnNbaV07XG4gICAgICAgICAgICB2YXIgZiA9IHdlaWdodHNbaV0gLyBsO1xuICAgICAgICAgICAgdmFyIHJnYiA9IGNvbC5fcmdiO1xuICAgICAgICAgICAgeHl6WzBdICs9IHBvdyQ0KHJnYlswXSwyKSAqIGY7XG4gICAgICAgICAgICB4eXpbMV0gKz0gcG93JDQocmdiWzFdLDIpICogZjtcbiAgICAgICAgICAgIHh5elsyXSArPSBwb3ckNChyZ2JbMl0sMikgKiBmO1xuICAgICAgICAgICAgeHl6WzNdICs9IHJnYlszXSAqIGY7XG4gICAgICAgIH1cbiAgICAgICAgeHl6WzBdID0gc3FydCQxKHh5elswXSk7XG4gICAgICAgIHh5elsxXSA9IHNxcnQkMSh4eXpbMV0pO1xuICAgICAgICB4eXpbMl0gPSBzcXJ0JDEoeHl6WzJdKTtcbiAgICAgICAgaWYgKHh5elszXSA+IDAuOTk5OTk5OSkgeyB4eXpbM10gPSAxOyB9XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IkNihjbGlwX3JnYiQxKHh5eikpO1xuICAgIH07XG5cbiAgICAvLyBtaW5pbWFsIG11bHRpLXB1cnBvc2UgaW50ZXJmYWNlXG5cbiAgICAvLyBAcmVxdWlyZXMgdXRpbHMgY29sb3IgYW5hbHl6ZVxuXG4gICAgdmFyIGNocm9tYSQ0ID0gY2hyb21hXzE7XG4gICAgdmFyIHR5cGUkMiA9IHV0aWxzLnR5cGU7XG5cbiAgICB2YXIgcG93JDMgPSBNYXRoLnBvdztcblxuICAgIHZhciBzY2FsZSQyID0gZnVuY3Rpb24oY29sb3JzKSB7XG5cbiAgICAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgdmFyIF9tb2RlID0gJ3JnYic7XG4gICAgICAgIHZhciBfbmFjb2wgPSBjaHJvbWEkNCgnI2NjYycpO1xuICAgICAgICB2YXIgX3NwcmVhZCA9IDA7XG4gICAgICAgIC8vIGNvbnN0IF9maXhlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgX2RvbWFpbiA9IFswLCAxXTtcbiAgICAgICAgdmFyIF9wb3MgPSBbXTtcbiAgICAgICAgdmFyIF9wYWRkaW5nID0gWzAsMF07XG4gICAgICAgIHZhciBfY2xhc3NlcyA9IGZhbHNlO1xuICAgICAgICB2YXIgX2NvbG9ycyA9IFtdO1xuICAgICAgICB2YXIgX291dCA9IGZhbHNlO1xuICAgICAgICB2YXIgX21pbiA9IDA7XG4gICAgICAgIHZhciBfbWF4ID0gMTtcbiAgICAgICAgdmFyIF9jb3JyZWN0TGlnaHRuZXNzID0gZmFsc2U7XG4gICAgICAgIHZhciBfY29sb3JDYWNoZSA9IHt9O1xuICAgICAgICB2YXIgX3VzZUNhY2hlID0gdHJ1ZTtcbiAgICAgICAgdmFyIF9nYW1tYSA9IDE7XG5cbiAgICAgICAgLy8gcHJpdmF0ZSBtZXRob2RzXG5cbiAgICAgICAgdmFyIHNldENvbG9ycyA9IGZ1bmN0aW9uKGNvbG9ycykge1xuICAgICAgICAgICAgY29sb3JzID0gY29sb3JzIHx8IFsnI2ZmZicsICcjMDAwJ107XG4gICAgICAgICAgICBpZiAoY29sb3JzICYmIHR5cGUkMihjb2xvcnMpID09PSAnc3RyaW5nJyAmJiBjaHJvbWEkNC5icmV3ZXIgJiZcbiAgICAgICAgICAgICAgICBjaHJvbWEkNC5icmV3ZXJbY29sb3JzLnRvTG93ZXJDYXNlKCldKSB7XG4gICAgICAgICAgICAgICAgY29sb3JzID0gY2hyb21hJDQuYnJld2VyW2NvbG9ycy50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlJDIoY29sb3JzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBzaW5nbGUgY29sb3JcbiAgICAgICAgICAgICAgICBpZiAoY29sb3JzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcnMgPSBbY29sb3JzWzBdLCBjb2xvcnNbMF1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgY29sb3JzXG4gICAgICAgICAgICAgICAgY29sb3JzID0gY29sb3JzLnNsaWNlKDApO1xuICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgdG8gY2hyb21hIGNsYXNzZXNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjPTA7IGM8Y29sb3JzLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yc1tjXSA9IGNocm9tYSQ0KGNvbG9yc1tjXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGF1dG8tZmlsbCBjb2xvciBwb3NpdGlvblxuICAgICAgICAgICAgICAgIF9wb3MubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjJDE9MDsgYyQxPGNvbG9ycy5sZW5ndGg7IGMkMSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wb3MucHVzaChjJDEvKGNvbG9ycy5sZW5ndGgtMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIHJldHVybiBfY29sb3JzID0gY29sb3JzO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRDbGFzcyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoX2NsYXNzZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBuID0gX2NsYXNzZXMubGVuZ3RoLTE7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgbiAmJiB2YWx1ZSA+PSBfY2xhc3Nlc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdE1hcExpZ2h0bmVzcyA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9O1xuICAgICAgICB2YXIgdE1hcERvbWFpbiA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9O1xuXG4gICAgICAgIC8vIGNvbnN0IGNsYXNzaWZ5VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyAgICAgbGV0IHZhbCA9IHZhbHVlO1xuICAgICAgICAvLyAgICAgaWYgKF9jbGFzc2VzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBuID0gX2NsYXNzZXMubGVuZ3RoLTE7XG4gICAgICAgIC8vICAgICAgICAgY29uc3QgaSA9IGdldENsYXNzKHZhbHVlKTtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBtaW5jID0gX2NsYXNzZXNbMF0gKyAoKF9jbGFzc2VzWzFdLV9jbGFzc2VzWzBdKSAqICgwICsgKF9zcHJlYWQgKiAwLjUpKSk7ICAvLyBjZW50ZXIgb2YgMXN0IGNsYXNzXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgbWF4YyA9IF9jbGFzc2VzW24tMV0gKyAoKF9jbGFzc2VzW25dLV9jbGFzc2VzW24tMV0pICogKDEgLSAoX3NwcmVhZCAqIDAuNSkpKTsgIC8vIGNlbnRlciBvZiBsYXN0IGNsYXNzXG4gICAgICAgIC8vICAgICAgICAgdmFsID0gX21pbiArICgoKChfY2xhc3Nlc1tpXSArICgoX2NsYXNzZXNbaSsxXSAtIF9jbGFzc2VzW2ldKSAqIDAuNSkpIC0gbWluYykgLyAobWF4Yy1taW5jKSkgKiAoX21heCAtIF9taW4pKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICAgIHJldHVybiB2YWw7XG4gICAgICAgIC8vIH07XG5cbiAgICAgICAgdmFyIGdldENvbG9yID0gZnVuY3Rpb24odmFsLCBieXBhc3NNYXApIHtcbiAgICAgICAgICAgIHZhciBjb2wsIHQ7XG4gICAgICAgICAgICBpZiAoYnlwYXNzTWFwID09IG51bGwpIHsgYnlwYXNzTWFwID0gZmFsc2U7IH1cbiAgICAgICAgICAgIGlmIChpc05hTih2YWwpIHx8ICh2YWwgPT09IG51bGwpKSB7IHJldHVybiBfbmFjb2w7IH1cbiAgICAgICAgICAgIGlmICghYnlwYXNzTWFwKSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jbGFzc2VzICYmIChfY2xhc3Nlcy5sZW5ndGggPiAyKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBjbGFzc1xuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGdldENsYXNzKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHQgPSBjIC8gKF9jbGFzc2VzLmxlbmd0aC0yKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9tYXggIT09IF9taW4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBpbnRlcnBvbGF0ZSBiZXR3ZWVuIG1pbi9tYXhcbiAgICAgICAgICAgICAgICAgICAgdCA9ICh2YWwgLSBfbWluKSAvIChfbWF4IC0gX21pbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdCA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ID0gdmFsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkb21haW4gbWFwXG4gICAgICAgICAgICB0ID0gdE1hcERvbWFpbih0KTtcblxuICAgICAgICAgICAgaWYgKCFieXBhc3NNYXApIHtcbiAgICAgICAgICAgICAgICB0ID0gdE1hcExpZ2h0bmVzcyh0KTsgIC8vIGxpZ2h0bmVzcyBjb3JyZWN0aW9uXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfZ2FtbWEgIT09IDEpIHsgdCA9IHBvdyQzKHQsIF9nYW1tYSk7IH1cblxuICAgICAgICAgICAgdCA9IF9wYWRkaW5nWzBdICsgKHQgKiAoMSAtIF9wYWRkaW5nWzBdIC0gX3BhZGRpbmdbMV0pKTtcblxuICAgICAgICAgICAgdCA9IE1hdGgubWluKDEsIE1hdGgubWF4KDAsIHQpKTtcblxuICAgICAgICAgICAgdmFyIGsgPSBNYXRoLmZsb29yKHQgKiAxMDAwMCk7XG5cbiAgICAgICAgICAgIGlmIChfdXNlQ2FjaGUgJiYgX2NvbG9yQ2FjaGVba10pIHtcbiAgICAgICAgICAgICAgICBjb2wgPSBfY29sb3JDYWNoZVtrXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkMihfY29sb3JzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgICAgICAvL2ZvciBpIGluIFswLi5fcG9zLmxlbmd0aC0xXVxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8X3Bvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBfcG9zW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPD0gcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbCA9IF9jb2xvcnNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHQgPj0gcCkgJiYgKGkgPT09IChfcG9zLmxlbmd0aC0xKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wgPSBfY29sb3JzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPiBwICYmIHQgPCBfcG9zW2krMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gKHQtcCkvKF9wb3NbaSsxXS1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wgPSBjaHJvbWEkNC5pbnRlcnBvbGF0ZShfY29sb3JzW2ldLCBfY29sb3JzW2krMV0sIHQsIF9tb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSQyKF9jb2xvcnMpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbCA9IF9jb2xvcnModCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfdXNlQ2FjaGUpIHsgX2NvbG9yQ2FjaGVba10gPSBjb2w7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2w7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJlc2V0Q2FjaGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfY29sb3JDYWNoZSA9IHt9OyB9O1xuXG4gICAgICAgIHNldENvbG9ycyhjb2xvcnMpO1xuXG4gICAgICAgIC8vIHB1YmxpYyBpbnRlcmZhY2VcblxuICAgICAgICB2YXIgZiA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIHZhciBjID0gY2hyb21hJDQoZ2V0Q29sb3IodikpO1xuICAgICAgICAgICAgaWYgKF9vdXQgJiYgY1tfb3V0XSkgeyByZXR1cm4gY1tfb3V0XSgpOyB9IGVsc2UgeyByZXR1cm4gYzsgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGYuY2xhc3NlcyA9IGZ1bmN0aW9uKGNsYXNzZXMpIHtcbiAgICAgICAgICAgIGlmIChjbGFzc2VzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSQyKGNsYXNzZXMpID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jbGFzc2VzID0gY2xhc3NlcztcbiAgICAgICAgICAgICAgICAgICAgX2RvbWFpbiA9IFtjbGFzc2VzWzBdLCBjbGFzc2VzW2NsYXNzZXMubGVuZ3RoLTFdXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGNocm9tYSQ0LmFuYWx5emUoX2RvbWFpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc2VzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xhc3NlcyA9IFtkLm1pbiwgZC5tYXhdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NsYXNzZXMgPSBjaHJvbWEkNC5saW1pdHMoZCwgJ2UnLCBjbGFzc2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfY2xhc3NlcztcbiAgICAgICAgfTtcblxuXG4gICAgICAgIGYuZG9tYWluID0gZnVuY3Rpb24oZG9tYWluKSB7XG4gICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2RvbWFpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9taW4gPSBkb21haW5bMF07XG4gICAgICAgICAgICBfbWF4ID0gZG9tYWluW2RvbWFpbi5sZW5ndGgtMV07XG4gICAgICAgICAgICBfcG9zID0gW107XG4gICAgICAgICAgICB2YXIgayA9IF9jb2xvcnMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKChkb21haW4ubGVuZ3RoID09PSBrKSAmJiAoX21pbiAhPT0gX21heCkpIHtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb25zXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBBcnJheS5mcm9tKGRvbWFpbik7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkID0gbGlzdFtpXTtcblxuICAgICAgICAgICAgICAgICAgX3Bvcy5wdXNoKChkLV9taW4pIC8gKF9tYXgtX21pbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYz0wOyBjPGs7IGMrKykge1xuICAgICAgICAgICAgICAgICAgICBfcG9zLnB1c2goYy8oay0xKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkb21haW4ubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgZG9tYWluIG1hcFxuICAgICAgICAgICAgICAgICAgICB2YXIgdE91dCA9IGRvbWFpbi5tYXAoZnVuY3Rpb24gKGQsaSkgeyByZXR1cm4gaS8oZG9tYWluLmxlbmd0aC0xKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0QnJlYWtzID0gZG9tYWluLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gKGQgLSBfbWluKSAvIChfbWF4IC0gX21pbik7IH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRCcmVha3MuZXZlcnkoZnVuY3Rpb24gKHZhbCwgaSkgeyByZXR1cm4gdE91dFtpXSA9PT0gdmFsOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdE1hcERvbWFpbiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPD0gMCB8fCB0ID49IDEpIHsgcmV0dXJuIHQ7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHQgPj0gdEJyZWFrc1tpKzFdKSB7IGkrKzsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmID0gKHQgLSB0QnJlYWtzW2ldKSAvICh0QnJlYWtzW2krMV0gLSB0QnJlYWtzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3V0ID0gdE91dFtpXSArIGYgKiAodE91dFtpKzFdIC0gdE91dFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9kb21haW4gPSBbX21pbiwgX21heF07XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLm1vZGUgPSBmdW5jdGlvbihfbSkge1xuICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9tb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX21vZGUgPSBfbTtcbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYucmFuZ2UgPSBmdW5jdGlvbihjb2xvcnMsIF9wb3MpIHtcbiAgICAgICAgICAgIHNldENvbG9ycyhjb2xvcnMpO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5vdXQgPSBmdW5jdGlvbihfbykge1xuICAgICAgICAgICAgX291dCA9IF9vO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5zcHJlYWQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc3ByZWFkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3NwcmVhZCA9IHZhbDtcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuY29ycmVjdExpZ2h0bmVzcyA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIGlmICh2ID09IG51bGwpIHsgdiA9IHRydWU7IH1cbiAgICAgICAgICAgIF9jb3JyZWN0TGlnaHRuZXNzID0gdjtcbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIGlmIChfY29ycmVjdExpZ2h0bmVzcykge1xuICAgICAgICAgICAgICAgIHRNYXBMaWdodG5lc3MgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBMMCA9IGdldENvbG9yKDAsIHRydWUpLmxhYigpWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTDEgPSBnZXRDb2xvcigxLCB0cnVlKS5sYWIoKVswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvbCA9IEwwID4gTDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBMX2FjdHVhbCA9IGdldENvbG9yKHQsIHRydWUpLmxhYigpWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTF9pZGVhbCA9IEwwICsgKChMMSAtIEwwKSAqIHQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTF9kaWZmID0gTF9hY3R1YWwgLSBMX2lkZWFsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdDEgPSAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4X2l0ZXIgPSAyMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChNYXRoLmFicyhMX2RpZmYpID4gMWUtMikgJiYgKG1heF9pdGVyLS0gPiAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb2wpIHsgTF9kaWZmICo9IC0xOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKExfZGlmZiA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdDAgPSB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ICs9ICh0MSAtIHQpICogMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQxID0gdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCArPSAodDAgLSB0KSAqIDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTF9hY3R1YWwgPSBnZXRDb2xvcih0LCB0cnVlKS5sYWIoKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTF9kaWZmID0gTF9hY3R1YWwgLSBMX2lkZWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0TWFwTGlnaHRuZXNzID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQ7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLnBhZGRpbmcgPSBmdW5jdGlvbihwKSB7XG4gICAgICAgICAgICBpZiAocCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkMihwKSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IFtwLHBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfcGFkZGluZyA9IHA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcGFkZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmLmNvbG9ycyA9IGZ1bmN0aW9uKG51bUNvbG9ycywgb3V0KSB7XG4gICAgICAgICAgICAvLyBJZiBubyBhcmd1bWVudHMgYXJlIGdpdmVuLCByZXR1cm4gdGhlIG9yaWdpbmFsIGNvbG9ycyB0aGF0IHdlcmUgcHJvdmlkZWRcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgeyBvdXQgPSAnaGV4JzsgfVxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb2xvcnMuc2xpY2UoMCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtQ29sb3JzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW2YoMC41KV07XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtQ29sb3JzID4gMSkge1xuICAgICAgICAgICAgICAgIHZhciBkbSA9IF9kb21haW5bMF07XG4gICAgICAgICAgICAgICAgdmFyIGRkID0gX2RvbWFpblsxXSAtIGRtO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9fcmFuZ2VfXygwLCBudW1Db2xvcnMsIGZhbHNlKS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGYoIGRtICsgKChpLyhudW1Db2xvcnMtMSkpICogZGQpICk7IH0pO1xuXG4gICAgICAgICAgICB9IGVsc2UgeyAvLyByZXR1cm5zIGFsbCBjb2xvcnMgYmFzZWQgb24gdGhlIGRlZmluZWQgY2xhc3Nlc1xuICAgICAgICAgICAgICAgIGNvbG9ycyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBzYW1wbGVzID0gW107XG4gICAgICAgICAgICAgICAgaWYgKF9jbGFzc2VzICYmIChfY2xhc3Nlcy5sZW5ndGggPiAyKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMSwgZW5kID0gX2NsYXNzZXMubGVuZ3RoLCBhc2MgPSAxIDw9IGVuZDsgYXNjID8gaSA8IGVuZCA6IGkgPiBlbmQ7IGFzYyA/IGkrKyA6IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlcy5wdXNoKChfY2xhc3Nlc1tpLTFdK19jbGFzc2VzW2ldKSowLjUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlcyA9IF9kb21haW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNhbXBsZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBmKHYpOyB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNocm9tYSQ0W291dF0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjW291dF0oKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuY2FjaGUgPSBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICBpZiAoYyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgX3VzZUNhY2hlID0gYztcbiAgICAgICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF91c2VDYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmLmdhbW1hID0gZnVuY3Rpb24oZykge1xuICAgICAgICAgICAgaWYgKGcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIF9nYW1tYSA9IGc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZ2FtbWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5ub2RhdGEgPSBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICBpZiAoZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgX25hY29sID0gY2hyb21hJDQoZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfbmFjb2w7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGY7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9fcmFuZ2VfXyhsZWZ0LCByaWdodCwgaW5jbHVzaXZlKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBbXTtcbiAgICAgIHZhciBhc2NlbmRpbmcgPSBsZWZ0IDwgcmlnaHQ7XG4gICAgICB2YXIgZW5kID0gIWluY2x1c2l2ZSA/IHJpZ2h0IDogYXNjZW5kaW5nID8gcmlnaHQgKyAxIDogcmlnaHQgLSAxO1xuICAgICAgZm9yICh2YXIgaSA9IGxlZnQ7IGFzY2VuZGluZyA/IGkgPCBlbmQgOiBpID4gZW5kOyBhc2NlbmRpbmcgPyBpKysgOiBpLS0pIHtcbiAgICAgICAgcmFuZ2UucHVzaChpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByYW5nZTtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIGludGVycG9sYXRlcyBiZXR3ZWVuIGEgc2V0IG9mIGNvbG9ycyB1emluZyBhIGJlemllciBzcGxpbmVcbiAgICAvL1xuXG4gICAgLy8gQHJlcXVpcmVzIHV0aWxzIGxhYlxuICAgIHZhciBDb2xvciQ1ID0gQ29sb3JfMTtcblxuICAgIHZhciBzY2FsZSQxID0gc2NhbGUkMjtcblxuICAgIC8vIG50aCByb3cgb2YgdGhlIHBhc2NhbCB0cmlhbmdsZVxuICAgIHZhciBiaW5vbV9yb3cgPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHZhciByb3cgPSBbMSwgMV07XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbmV3cm93ID0gWzFdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPD0gcm93Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbmV3cm93W2pdID0gKHJvd1tqXSB8fCAwKSArIHJvd1tqIC0gMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3cgPSBuZXdyb3c7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvdztcbiAgICB9O1xuXG4gICAgdmFyIGJlemllciA9IGZ1bmN0aW9uKGNvbG9ycykge1xuICAgICAgICB2YXIgYXNzaWduLCBhc3NpZ24kMSwgYXNzaWduJDI7XG5cbiAgICAgICAgdmFyIEksIGxhYjAsIGxhYjEsIGxhYjI7XG4gICAgICAgIGNvbG9ycyA9IGNvbG9ycy5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIG5ldyBDb2xvciQ1KGMpOyB9KTtcbiAgICAgICAgaWYgKGNvbG9ycy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIC8vIGxpbmVhciBpbnRlcnBvbGF0aW9uXG4gICAgICAgICAgICAoYXNzaWduID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5sYWIoKTsgfSksIGxhYjAgPSBhc3NpZ25bMF0sIGxhYjEgPSBhc3NpZ25bMV0pO1xuICAgICAgICAgICAgSSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGFiID0gKFswLCAxLCAyXS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGxhYjBbaV0gKyAodCAqIChsYWIxW2ldIC0gbGFiMFtpXSkpOyB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvciQ1KGxhYiwgJ2xhYicpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2xvcnMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAvLyBxdWFkcmF0aWMgYmV6aWVyIGludGVycG9sYXRpb25cbiAgICAgICAgICAgIChhc3NpZ24kMSA9IGNvbG9ycy5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMubGFiKCk7IH0pLCBsYWIwID0gYXNzaWduJDFbMF0sIGxhYjEgPSBhc3NpZ24kMVsxXSwgbGFiMiA9IGFzc2lnbiQxWzJdKTtcbiAgICAgICAgICAgIEkgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGxhYiA9IChbMCwgMSwgMl0ubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiAoKDEtdCkqKDEtdCkgKiBsYWIwW2ldKSArICgyICogKDEtdCkgKiB0ICogbGFiMVtpXSkgKyAodCAqIHQgKiBsYWIyW2ldKTsgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3IkNShsYWIsICdsYWInKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoY29sb3JzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgLy8gY3ViaWMgYmV6aWVyIGludGVycG9sYXRpb25cbiAgICAgICAgICAgIHZhciBsYWIzO1xuICAgICAgICAgICAgKGFzc2lnbiQyID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5sYWIoKTsgfSksIGxhYjAgPSBhc3NpZ24kMlswXSwgbGFiMSA9IGFzc2lnbiQyWzFdLCBsYWIyID0gYXNzaWduJDJbMl0sIGxhYjMgPSBhc3NpZ24kMlszXSk7XG4gICAgICAgICAgICBJID0gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgIHZhciBsYWIgPSAoWzAsIDEsIDJdLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gKCgxLXQpKigxLXQpKigxLXQpICogbGFiMFtpXSkgKyAoMyAqICgxLXQpICogKDEtdCkgKiB0ICogbGFiMVtpXSkgKyAoMyAqICgxLXQpICogdCAqIHQgKiBsYWIyW2ldKSArICh0KnQqdCAqIGxhYjNbaV0pOyB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvciQ1KGxhYiwgJ2xhYicpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2xvcnMubGVuZ3RoID49IDUpIHtcbiAgICAgICAgICAgIC8vIGdlbmVyYWwgY2FzZSAoZGVncmVlIG4gYmV6aWVyKVxuICAgICAgICAgICAgdmFyIGxhYnMsIHJvdywgbjtcbiAgICAgICAgICAgIGxhYnMgPSBjb2xvcnMubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLmxhYigpOyB9KTtcbiAgICAgICAgICAgIG4gPSBjb2xvcnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHJvdyA9IGJpbm9tX3JvdyhuKTtcbiAgICAgICAgICAgIEkgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIHZhciB1ID0gMSAtIHQ7XG4gICAgICAgICAgICAgICAgdmFyIGxhYiA9IChbMCwgMSwgMl0ubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiBsYWJzLnJlZHVjZShmdW5jdGlvbiAoc3VtLCBlbCwgaikgeyByZXR1cm4gKHN1bSArIHJvd1tqXSAqIE1hdGgucG93KCB1LCAobiAtIGopICkgKiBNYXRoLnBvdyggdCwgaiApICogZWxbaV0pOyB9LCAwKTsgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3IkNShsYWIsICdsYWInKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk5vIHBvaW50IGluIHJ1bm5pbmcgYmV6aWVyIHdpdGggb25seSBvbmUgY29sb3IuXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEk7XG4gICAgfTtcblxuICAgIHZhciBiZXppZXJfMSA9IGZ1bmN0aW9uIChjb2xvcnMpIHtcbiAgICAgICAgdmFyIGYgPSBiZXppZXIoY29sb3JzKTtcbiAgICAgICAgZi5zY2FsZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNjYWxlJDEoZik7IH07XG4gICAgICAgIHJldHVybiBmO1xuICAgIH07XG5cbiAgICAvKlxuICAgICAqIGludGVycG9sYXRlcyBiZXR3ZWVuIGEgc2V0IG9mIGNvbG9ycyB1emluZyBhIGJlemllciBzcGxpbmVcbiAgICAgKiBibGVuZCBtb2RlIGZvcm11bGFzIHRha2VuIGZyb20gaHR0cDovL3d3dy52ZW50dXJlLXdhcmUuY29tL2tldmluL2NvZGluZy9sZXRzLWxlYXJuLW1hdGgtcGhvdG9zaG9wLWJsZW5kLW1vZGVzL1xuICAgICAqL1xuXG4gICAgdmFyIGNocm9tYSQzID0gY2hyb21hXzE7XG5cbiAgICB2YXIgYmxlbmQgPSBmdW5jdGlvbiAoYm90dG9tLCB0b3AsIG1vZGUpIHtcbiAgICAgICAgaWYgKCFibGVuZFttb2RlXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGJsZW5kIG1vZGUgJyArIG1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibGVuZFttb2RlXShib3R0b20sIHRvcCk7XG4gICAgfTtcblxuICAgIHZhciBibGVuZF9mID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGZ1bmN0aW9uIChib3R0b20sdG9wKSB7XG4gICAgICAgICAgICB2YXIgYzAgPSBjaHJvbWEkMyh0b3ApLnJnYigpO1xuICAgICAgICAgICAgdmFyIGMxID0gY2hyb21hJDMoYm90dG9tKS5yZ2IoKTtcbiAgICAgICAgICAgIHJldHVybiBjaHJvbWEkMy5yZ2IoZihjMCwgYzEpKTtcbiAgICAgICAgfTsgfTtcblxuICAgIHZhciBlYWNoID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGZ1bmN0aW9uIChjMCwgYzEpIHtcbiAgICAgICAgICAgIHZhciBvdXQgPSBbXTtcbiAgICAgICAgICAgIG91dFswXSA9IGYoYzBbMF0sIGMxWzBdKTtcbiAgICAgICAgICAgIG91dFsxXSA9IGYoYzBbMV0sIGMxWzFdKTtcbiAgICAgICAgICAgIG91dFsyXSA9IGYoYzBbMl0sIGMxWzJdKTtcbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH07IH07XG5cbiAgICB2YXIgbm9ybWFsID0gZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGE7IH07XG4gICAgdmFyIG11bHRpcGx5ID0gZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYSAqIGIgLyAyNTU7IH07XG4gICAgdmFyIGRhcmtlbiA9IGZ1bmN0aW9uIChhLGIpIHsgcmV0dXJuIGEgPiBiID8gYiA6IGE7IH07XG4gICAgdmFyIGxpZ2h0ZW4gPSBmdW5jdGlvbiAoYSxiKSB7IHJldHVybiBhID4gYiA/IGEgOiBiOyB9O1xuICAgIHZhciBzY3JlZW4gPSBmdW5jdGlvbiAoYSxiKSB7IHJldHVybiAyNTUgKiAoMSAtICgxLWEvMjU1KSAqICgxLWIvMjU1KSk7IH07XG4gICAgdmFyIG92ZXJsYXkgPSBmdW5jdGlvbiAoYSxiKSB7IHJldHVybiBiIDwgMTI4ID8gMiAqIGEgKiBiIC8gMjU1IDogMjU1ICogKDEgLSAyICogKDEgLSBhIC8gMjU1ICkgKiAoIDEgLSBiIC8gMjU1ICkpOyB9O1xuICAgIHZhciBidXJuID0gZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gMjU1ICogKDEgLSAoMSAtIGIgLyAyNTUpIC8gKGEvMjU1KSk7IH07XG4gICAgdmFyIGRvZGdlID0gZnVuY3Rpb24gKGEsYikge1xuICAgICAgICBpZiAoYSA9PT0gMjU1KSB7IHJldHVybiAyNTU7IH1cbiAgICAgICAgYSA9IDI1NSAqIChiIC8gMjU1KSAvICgxIC0gYSAvIDI1NSk7XG4gICAgICAgIHJldHVybiBhID4gMjU1ID8gMjU1IDogYVxuICAgIH07XG5cbiAgICAvLyAjIGFkZCA9IChhLGIpIC0+XG4gICAgLy8gIyAgICAgaWYgKGEgKyBiID4gMjU1KSB0aGVuIDI1NSBlbHNlIGEgKyBiXG5cbiAgICBibGVuZC5ub3JtYWwgPSBibGVuZF9mKGVhY2gobm9ybWFsKSk7XG4gICAgYmxlbmQubXVsdGlwbHkgPSBibGVuZF9mKGVhY2gobXVsdGlwbHkpKTtcbiAgICBibGVuZC5zY3JlZW4gPSBibGVuZF9mKGVhY2goc2NyZWVuKSk7XG4gICAgYmxlbmQub3ZlcmxheSA9IGJsZW5kX2YoZWFjaChvdmVybGF5KSk7XG4gICAgYmxlbmQuZGFya2VuID0gYmxlbmRfZihlYWNoKGRhcmtlbikpO1xuICAgIGJsZW5kLmxpZ2h0ZW4gPSBibGVuZF9mKGVhY2gobGlnaHRlbikpO1xuICAgIGJsZW5kLmRvZGdlID0gYmxlbmRfZihlYWNoKGRvZGdlKSk7XG4gICAgYmxlbmQuYnVybiA9IGJsZW5kX2YoZWFjaChidXJuKSk7XG4gICAgLy8gYmxlbmQuYWRkID0gYmxlbmRfZihlYWNoKGFkZCkpO1xuXG4gICAgdmFyIGJsZW5kXzEgPSBibGVuZDtcblxuICAgIC8vIGN1YmVoZWxpeCBpbnRlcnBvbGF0aW9uXG4gICAgLy8gYmFzZWQgb24gRC5BLiBHcmVlbiBcIkEgY29sb3VyIHNjaGVtZSBmb3IgdGhlIGRpc3BsYXkgb2YgYXN0cm9ub21pY2FsIGludGVuc2l0eSBpbWFnZXNcIlxuICAgIC8vIGh0dHA6Ly9hc3Ryb24tc29jLmluL2J1bGxldGluLzExSnVuZS8yODkzOTIwMTEucGRmXG5cbiAgICB2YXIgdHlwZSQxID0gdXRpbHMudHlwZTtcbiAgICB2YXIgY2xpcF9yZ2IgPSB1dGlscy5jbGlwX3JnYjtcbiAgICB2YXIgVFdPUEkgPSB1dGlscy5UV09QSTtcbiAgICB2YXIgcG93JDIgPSBNYXRoLnBvdztcbiAgICB2YXIgc2luJDEgPSBNYXRoLnNpbjtcbiAgICB2YXIgY29zJDEgPSBNYXRoLmNvcztcbiAgICB2YXIgY2hyb21hJDIgPSBjaHJvbWFfMTtcblxuICAgIHZhciBjdWJlaGVsaXggPSBmdW5jdGlvbihzdGFydCwgcm90YXRpb25zLCBodWUsIGdhbW1hLCBsaWdodG5lc3MpIHtcbiAgICAgICAgaWYgKCBzdGFydCA9PT0gdm9pZCAwICkgc3RhcnQ9MzAwO1xuICAgICAgICBpZiAoIHJvdGF0aW9ucyA9PT0gdm9pZCAwICkgcm90YXRpb25zPS0xLjU7XG4gICAgICAgIGlmICggaHVlID09PSB2b2lkIDAgKSBodWU9MTtcbiAgICAgICAgaWYgKCBnYW1tYSA9PT0gdm9pZCAwICkgZ2FtbWE9MTtcbiAgICAgICAgaWYgKCBsaWdodG5lc3MgPT09IHZvaWQgMCApIGxpZ2h0bmVzcz1bMCwxXTtcblxuICAgICAgICB2YXIgZGggPSAwLCBkbDtcbiAgICAgICAgaWYgKHR5cGUkMShsaWdodG5lc3MpID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICBkbCA9IGxpZ2h0bmVzc1sxXSAtIGxpZ2h0bmVzc1swXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRsID0gMDtcbiAgICAgICAgICAgIGxpZ2h0bmVzcyA9IFtsaWdodG5lc3MsIGxpZ2h0bmVzc107XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZiA9IGZ1bmN0aW9uKGZyYWN0KSB7XG4gICAgICAgICAgICB2YXIgYSA9IFRXT1BJICogKCgoc3RhcnQrMTIwKS8zNjApICsgKHJvdGF0aW9ucyAqIGZyYWN0KSk7XG4gICAgICAgICAgICB2YXIgbCA9IHBvdyQyKGxpZ2h0bmVzc1swXSArIChkbCAqIGZyYWN0KSwgZ2FtbWEpO1xuICAgICAgICAgICAgdmFyIGggPSBkaCAhPT0gMCA/IGh1ZVswXSArIChmcmFjdCAqIGRoKSA6IGh1ZTtcbiAgICAgICAgICAgIHZhciBhbXAgPSAoaCAqIGwgKiAoMS1sKSkgLyAyO1xuICAgICAgICAgICAgdmFyIGNvc19hID0gY29zJDEoYSk7XG4gICAgICAgICAgICB2YXIgc2luX2EgPSBzaW4kMShhKTtcbiAgICAgICAgICAgIHZhciByID0gbCArIChhbXAgKiAoKC0wLjE0ODYxICogY29zX2EpICsgKDEuNzgyNzcqIHNpbl9hKSkpO1xuICAgICAgICAgICAgdmFyIGcgPSBsICsgKGFtcCAqICgoLTAuMjkyMjcgKiBjb3NfYSkgLSAoMC45MDY0OSogc2luX2EpKSk7XG4gICAgICAgICAgICB2YXIgYiA9IGwgKyAoYW1wICogKCsxLjk3Mjk0ICogY29zX2EpKTtcbiAgICAgICAgICAgIHJldHVybiBjaHJvbWEkMihjbGlwX3JnYihbcioyNTUsZyoyNTUsYioyNTUsMV0pKTtcbiAgICAgICAgfTtcblxuICAgICAgICBmLnN0YXJ0ID0gZnVuY3Rpb24ocykge1xuICAgICAgICAgICAgaWYgKChzID09IG51bGwpKSB7IHJldHVybiBzdGFydDsgfVxuICAgICAgICAgICAgc3RhcnQgPSBzO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5yb3RhdGlvbnMgPSBmdW5jdGlvbihyKSB7XG4gICAgICAgICAgICBpZiAoKHIgPT0gbnVsbCkpIHsgcmV0dXJuIHJvdGF0aW9uczsgfVxuICAgICAgICAgICAgcm90YXRpb25zID0gcjtcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuZ2FtbWEgPSBmdW5jdGlvbihnKSB7XG4gICAgICAgICAgICBpZiAoKGcgPT0gbnVsbCkpIHsgcmV0dXJuIGdhbW1hOyB9XG4gICAgICAgICAgICBnYW1tYSA9IGc7XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLmh1ZSA9IGZ1bmN0aW9uKGgpIHtcbiAgICAgICAgICAgIGlmICgoaCA9PSBudWxsKSkgeyByZXR1cm4gaHVlOyB9XG4gICAgICAgICAgICBodWUgPSBoO1xuICAgICAgICAgICAgaWYgKHR5cGUkMShodWUpID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgZGggPSBodWVbMV0gLSBodWVbMF07XG4gICAgICAgICAgICAgICAgaWYgKGRoID09PSAwKSB7IGh1ZSA9IGh1ZVsxXTsgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLmxpZ2h0bmVzcyA9IGZ1bmN0aW9uKGgpIHtcbiAgICAgICAgICAgIGlmICgoaCA9PSBudWxsKSkgeyByZXR1cm4gbGlnaHRuZXNzOyB9XG4gICAgICAgICAgICBpZiAodHlwZSQxKGgpID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgbGlnaHRuZXNzID0gaDtcbiAgICAgICAgICAgICAgICBkbCA9IGhbMV0gLSBoWzBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaWdodG5lc3MgPSBbaCxoXTtcbiAgICAgICAgICAgICAgICBkbCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLnNjYWxlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY2hyb21hJDIuc2NhbGUoZik7IH07XG5cbiAgICAgICAgZi5odWUoaHVlKTtcblxuICAgICAgICByZXR1cm4gZjtcbiAgICB9O1xuXG4gICAgdmFyIENvbG9yJDQgPSBDb2xvcl8xO1xuICAgIHZhciBkaWdpdHMgPSAnMDEyMzQ1Njc4OWFiY2RlZic7XG5cbiAgICB2YXIgZmxvb3IkMSA9IE1hdGguZmxvb3I7XG4gICAgdmFyIHJhbmRvbSA9IE1hdGgucmFuZG9tO1xuXG4gICAgdmFyIHJhbmRvbV8xID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29kZSA9ICcjJztcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPDY7IGkrKykge1xuICAgICAgICAgICAgY29kZSArPSBkaWdpdHMuY2hhckF0KGZsb29yJDEocmFuZG9tKCkgKiAxNikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IkNChjb2RlLCAnaGV4Jyk7XG4gICAgfTtcblxuICAgIHZhciB0eXBlID0gdHlwZSRwO1xuICAgIHZhciBsb2cgPSBNYXRoLmxvZztcbiAgICB2YXIgcG93JDEgPSBNYXRoLnBvdztcbiAgICB2YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuICAgIHZhciBhYnMkMSA9IE1hdGguYWJzO1xuXG5cbiAgICB2YXIgYW5hbHl6ZSA9IGZ1bmN0aW9uIChkYXRhLCBrZXkpIHtcbiAgICAgICAgaWYgKCBrZXkgPT09IHZvaWQgMCApIGtleT1udWxsO1xuXG4gICAgICAgIHZhciByID0ge1xuICAgICAgICAgICAgbWluOiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgICAgbWF4OiBOdW1iZXIuTUFYX1ZBTFVFKi0xLFxuICAgICAgICAgICAgc3VtOiAwLFxuICAgICAgICAgICAgdmFsdWVzOiBbXSxcbiAgICAgICAgICAgIGNvdW50OiAwXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0eXBlKGRhdGEpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZGF0YSA9IE9iamVjdC52YWx1ZXMoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIGlmIChrZXkgJiYgdHlwZSh2YWwpID09PSAnb2JqZWN0JykgeyB2YWwgPSB2YWxba2V5XTsgfVxuICAgICAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbCAmJiAhaXNOYU4odmFsKSkge1xuICAgICAgICAgICAgICAgIHIudmFsdWVzLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgICByLnN1bSArPSB2YWw7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA8IHIubWluKSB7IHIubWluID0gdmFsOyB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA+IHIubWF4KSB7IHIubWF4ID0gdmFsOyB9XG4gICAgICAgICAgICAgICAgci5jb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByLmRvbWFpbiA9IFtyLm1pbiwgci5tYXhdO1xuXG4gICAgICAgIHIubGltaXRzID0gZnVuY3Rpb24gKG1vZGUsIG51bSkgeyByZXR1cm4gbGltaXRzKHIsIG1vZGUsIG51bSk7IH07XG5cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuXG4gICAgdmFyIGxpbWl0cyA9IGZ1bmN0aW9uIChkYXRhLCBtb2RlLCBudW0pIHtcbiAgICAgICAgaWYgKCBtb2RlID09PSB2b2lkIDAgKSBtb2RlPSdlcXVhbCc7XG4gICAgICAgIGlmICggbnVtID09PSB2b2lkIDAgKSBudW09NztcblxuICAgICAgICBpZiAodHlwZShkYXRhKSA9PSAnYXJyYXknKSB7XG4gICAgICAgICAgICBkYXRhID0gYW5hbHl6ZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWluID0gZGF0YS5taW47XG4gICAgICAgIHZhciBtYXggPSBkYXRhLm1heDtcbiAgICAgICAgdmFyIHZhbHVlcyA9IGRhdGEudmFsdWVzLnNvcnQoZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYS1iOyB9KTtcblxuICAgICAgICBpZiAobnVtID09PSAxKSB7IHJldHVybiBbbWluLG1heF07IH1cblxuICAgICAgICB2YXIgbGltaXRzID0gW107XG5cbiAgICAgICAgaWYgKG1vZGUuc3Vic3RyKDAsMSkgPT09ICdjJykgeyAvLyBjb250aW51b3VzXG4gICAgICAgICAgICBsaW1pdHMucHVzaChtaW4pO1xuICAgICAgICAgICAgbGltaXRzLnB1c2gobWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb2RlLnN1YnN0cigwLDEpID09PSAnZScpIHsgLy8gZXF1YWwgaW50ZXJ2YWxcbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1pbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTE7IGk8bnVtOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsaW1pdHMucHVzaChtaW4rKChpL251bSkqKG1heC1taW4pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW1pdHMucHVzaChtYXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobW9kZS5zdWJzdHIoMCwxKSA9PT0gJ2wnKSB7IC8vIGxvZyBzY2FsZVxuICAgICAgICAgICAgaWYgKG1pbiA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2dhcml0aG1pYyBzY2FsZXMgYXJlIG9ubHkgcG9zc2libGUgZm9yIHZhbHVlcyA+IDAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtaW5fbG9nID0gTWF0aC5MT0cxMEUgKiBsb2cobWluKTtcbiAgICAgICAgICAgIHZhciBtYXhfbG9nID0gTWF0aC5MT0cxMEUgKiBsb2cobWF4KTtcbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1pbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDE9MTsgaSQxPG51bTsgaSQxKyspIHtcbiAgICAgICAgICAgICAgICBsaW1pdHMucHVzaChwb3ckMSgxMCwgbWluX2xvZyArICgoaSQxL251bSkgKiAobWF4X2xvZyAtIG1pbl9sb2cpKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGltaXRzLnB1c2gobWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG1vZGUuc3Vic3RyKDAsMSkgPT09ICdxJykgeyAvLyBxdWFudGlsZSBzY2FsZVxuICAgICAgICAgICAgbGltaXRzLnB1c2gobWluKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMj0xOyBpJDI8bnVtOyBpJDIrKykge1xuICAgICAgICAgICAgICAgIHZhciBwID0gKCh2YWx1ZXMubGVuZ3RoLTEpICogaSQyKS9udW07XG4gICAgICAgICAgICAgICAgdmFyIHBiID0gZmxvb3IocCk7XG4gICAgICAgICAgICAgICAgaWYgKHBiID09PSBwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0cy5wdXNoKHZhbHVlc1twYl0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHAgPiBwYlxuICAgICAgICAgICAgICAgICAgICB2YXIgcHIgPSBwIC0gcGI7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0cy5wdXNoKCh2YWx1ZXNbcGJdKigxLXByKSkgKyAodmFsdWVzW3BiKzFdKnByKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGltaXRzLnB1c2gobWF4KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobW9kZS5zdWJzdHIoMCwxKSA9PT0gJ2snKSB7IC8vIGstbWVhbnMgY2x1c3RlcmluZ1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uXG4gICAgICAgICAgICBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvZmlndWUvc291cmNlL2Jyb3dzZS90cnVuay9maWd1ZS5qcyMzMzZcbiAgICAgICAgICAgIHNpbXBsaWZpZWQgZm9yIDEtZCBpbnB1dCB2YWx1ZXNcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgY2x1c3RlcjtcbiAgICAgICAgICAgIHZhciBuID0gdmFsdWVzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBhc3NpZ25tZW50cyA9IG5ldyBBcnJheShuKTtcbiAgICAgICAgICAgIHZhciBjbHVzdGVyU2l6ZXMgPSBuZXcgQXJyYXkobnVtKTtcbiAgICAgICAgICAgIHZhciByZXBlYXQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG5iX2l0ZXJzID0gMDtcbiAgICAgICAgICAgIHZhciBjZW50cm9pZHMgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBnZXQgc2VlZCB2YWx1ZXNcbiAgICAgICAgICAgIGNlbnRyb2lkcyA9IFtdO1xuICAgICAgICAgICAgY2VudHJvaWRzLnB1c2gobWluKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMz0xOyBpJDM8bnVtOyBpJDMrKykge1xuICAgICAgICAgICAgICAgIGNlbnRyb2lkcy5wdXNoKG1pbiArICgoaSQzL251bSkgKiAobWF4LW1pbikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNlbnRyb2lkcy5wdXNoKG1heCk7XG5cbiAgICAgICAgICAgIHdoaWxlIChyZXBlYXQpIHtcbiAgICAgICAgICAgICAgICAvLyBhc3NpZ25tZW50IHN0ZXBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8bnVtOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2x1c3RlclNpemVzW2pdID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSQ0PTA7IGkkNDxuOyBpJDQrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZXNbaSQ0XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pbmRpc3QgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmVzdCA9ICh2b2lkIDApO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqJDE9MDsgaiQxPG51bTsgaiQxKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXN0ID0gYWJzJDEoY2VudHJvaWRzW2okMV0tdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3QgPCBtaW5kaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluZGlzdCA9IGRpc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVzdCA9IGokMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsdXN0ZXJTaXplc1tiZXN0XSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudHNbaSQ0XSA9IGJlc3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgY2VudHJvaWRzIHN0ZXBcbiAgICAgICAgICAgICAgICB2YXIgbmV3Q2VudHJvaWRzID0gbmV3IEFycmF5KG51bSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiQyPTA7IGokMjxudW07IGokMisrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NlbnRyb2lkc1tqJDJdID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSQ1PTA7IGkkNTxuOyBpJDUrKykge1xuICAgICAgICAgICAgICAgICAgICBjbHVzdGVyID0gYXNzaWdubWVudHNbaSQ1XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0NlbnRyb2lkc1tjbHVzdGVyXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2VudHJvaWRzW2NsdXN0ZXJdID0gdmFsdWVzW2kkNV07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDZW50cm9pZHNbY2x1c3Rlcl0gKz0gdmFsdWVzW2kkNV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiQzPTA7IGokMzxudW07IGokMysrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NlbnRyb2lkc1tqJDNdICo9IDEvY2x1c3RlclNpemVzW2okM107XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgY29udmVyZ2VuY2VcbiAgICAgICAgICAgICAgICByZXBlYXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqJDQ9MDsgaiQ0PG51bTsgaiQ0KyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0NlbnRyb2lkc1tqJDRdICE9PSBjZW50cm9pZHNbaiQ0XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2VudHJvaWRzID0gbmV3Q2VudHJvaWRzO1xuICAgICAgICAgICAgICAgIG5iX2l0ZXJzKys7XG5cbiAgICAgICAgICAgICAgICBpZiAobmJfaXRlcnMgPiAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwZWF0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBmaW5pc2hlZCBrLW1lYW5zIGNsdXN0ZXJpbmdcbiAgICAgICAgICAgIC8vIHRoZSBuZXh0IHBhcnQgaXMgYm9ycm93ZWQgZnJvbSBnYWJyaWVsZmxvci5pdFxuICAgICAgICAgICAgdmFyIGtDbHVzdGVycyA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgaiQ1PTA7IGokNTxudW07IGokNSsrKSB7XG4gICAgICAgICAgICAgICAga0NsdXN0ZXJzW2okNV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkkNj0wOyBpJDY8bjsgaSQ2KyspIHtcbiAgICAgICAgICAgICAgICBjbHVzdGVyID0gYXNzaWdubWVudHNbaSQ2XTtcbiAgICAgICAgICAgICAgICBrQ2x1c3RlcnNbY2x1c3Rlcl0ucHVzaCh2YWx1ZXNbaSQ2XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdG1wS01lYW5zQnJlYWtzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBqJDY9MDsgaiQ2PG51bTsgaiQ2KyspIHtcbiAgICAgICAgICAgICAgICB0bXBLTWVhbnNCcmVha3MucHVzaChrQ2x1c3RlcnNbaiQ2XVswXSk7XG4gICAgICAgICAgICAgICAgdG1wS01lYW5zQnJlYWtzLnB1c2goa0NsdXN0ZXJzW2okNl1ba0NsdXN0ZXJzW2okNl0ubGVuZ3RoLTFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRtcEtNZWFuc0JyZWFrcyA9IHRtcEtNZWFuc0JyZWFrcy5zb3J0KGZ1bmN0aW9uIChhLGIpeyByZXR1cm4gYS1iOyB9KTtcbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKHRtcEtNZWFuc0JyZWFrc1swXSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDc9MTsgaSQ3IDwgdG1wS01lYW5zQnJlYWtzLmxlbmd0aDsgaSQ3Kz0gMikge1xuICAgICAgICAgICAgICAgIHZhciB2ID0gdG1wS01lYW5zQnJlYWtzW2kkN107XG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTih2KSAmJiAobGltaXRzLmluZGV4T2YodikgPT09IC0xKSkge1xuICAgICAgICAgICAgICAgICAgICBsaW1pdHMucHVzaCh2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpbWl0cztcbiAgICB9O1xuXG4gICAgdmFyIGFuYWx5emVfMSA9IHthbmFseXplOiBhbmFseXplLCBsaW1pdHM6IGxpbWl0c307XG5cbiAgICB2YXIgQ29sb3IkMyA9IENvbG9yXzE7XG5cblxuICAgIHZhciBjb250cmFzdCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIC8vIFdDQUcgY29udHJhc3QgcmF0aW9cbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jY29udHJhc3QtcmF0aW9kZWZcbiAgICAgICAgYSA9IG5ldyBDb2xvciQzKGEpO1xuICAgICAgICBiID0gbmV3IENvbG9yJDMoYik7XG4gICAgICAgIHZhciBsMSA9IGEubHVtaW5hbmNlKCk7XG4gICAgICAgIHZhciBsMiA9IGIubHVtaW5hbmNlKCk7XG4gICAgICAgIHJldHVybiBsMSA+IGwyID8gKGwxICsgMC4wNSkgLyAobDIgKyAwLjA1KSA6IChsMiArIDAuMDUpIC8gKGwxICsgMC4wNSk7XG4gICAgfTtcblxuICAgIHZhciBDb2xvciQyID0gQ29sb3JfMTtcbiAgICB2YXIgc3FydCA9IE1hdGguc3FydDtcbiAgICB2YXIgcG93ID0gTWF0aC5wb3c7XG4gICAgdmFyIG1pbiA9IE1hdGgubWluO1xuICAgIHZhciBtYXggPSBNYXRoLm1heDtcbiAgICB2YXIgYXRhbjIgPSBNYXRoLmF0YW4yO1xuICAgIHZhciBhYnMgPSBNYXRoLmFicztcbiAgICB2YXIgY29zID0gTWF0aC5jb3M7XG4gICAgdmFyIHNpbiA9IE1hdGguc2luO1xuICAgIHZhciBleHAgPSBNYXRoLmV4cDtcbiAgICB2YXIgUEkgPSBNYXRoLlBJO1xuXG4gICAgdmFyIGRlbHRhRSA9IGZ1bmN0aW9uKGEsIGIsIEtsLCBLYywgS2gpIHtcbiAgICAgICAgaWYgKCBLbCA9PT0gdm9pZCAwICkgS2w9MTtcbiAgICAgICAgaWYgKCBLYyA9PT0gdm9pZCAwICkgS2M9MTtcbiAgICAgICAgaWYgKCBLaCA9PT0gdm9pZCAwICkgS2g9MTtcblxuICAgICAgICAvLyBEZWx0YSBFIChDSUUgMjAwMClcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cuYnJ1Y2VsaW5kYmxvb20uY29tL2luZGV4Lmh0bWw/RXFuX0RlbHRhRV9DSUUyMDAwLmh0bWxcbiAgICAgICAgdmFyIHJhZDJkZWcgPSBmdW5jdGlvbihyYWQpIHtcbiAgICAgICAgICAgIHJldHVybiAzNjAgKiByYWQgLyAoMiAqIFBJKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRlZzJyYWQgPSBmdW5jdGlvbihkZWcpIHtcbiAgICAgICAgICAgIHJldHVybiAoMiAqIFBJICogZGVnKSAvIDM2MDtcbiAgICAgICAgfTtcbiAgICAgICAgYSA9IG5ldyBDb2xvciQyKGEpO1xuICAgICAgICBiID0gbmV3IENvbG9yJDIoYik7XG4gICAgICAgIHZhciByZWYgPSBBcnJheS5mcm9tKGEubGFiKCkpO1xuICAgICAgICB2YXIgTDEgPSByZWZbMF07XG4gICAgICAgIHZhciBhMSA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIxID0gcmVmWzJdO1xuICAgICAgICB2YXIgcmVmJDEgPSBBcnJheS5mcm9tKGIubGFiKCkpO1xuICAgICAgICB2YXIgTDIgPSByZWYkMVswXTtcbiAgICAgICAgdmFyIGEyID0gcmVmJDFbMV07XG4gICAgICAgIHZhciBiMiA9IHJlZiQxWzJdO1xuICAgICAgICB2YXIgYXZnTCA9IChMMSArIEwyKS8yO1xuICAgICAgICB2YXIgQzEgPSBzcXJ0KHBvdyhhMSwgMikgKyBwb3coYjEsIDIpKTtcbiAgICAgICAgdmFyIEMyID0gc3FydChwb3coYTIsIDIpICsgcG93KGIyLCAyKSk7XG4gICAgICAgIHZhciBhdmdDID0gKEMxICsgQzIpLzI7XG4gICAgICAgIHZhciBHID0gMC41KigxLXNxcnQocG93KGF2Z0MsIDcpLyhwb3coYXZnQywgNykgKyBwb3coMjUsIDcpKSkpO1xuICAgICAgICB2YXIgYTFwID0gYTEqKDErRyk7XG4gICAgICAgIHZhciBhMnAgPSBhMiooMStHKTtcbiAgICAgICAgdmFyIEMxcCA9IHNxcnQocG93KGExcCwgMikgKyBwb3coYjEsIDIpKTtcbiAgICAgICAgdmFyIEMycCA9IHNxcnQocG93KGEycCwgMikgKyBwb3coYjIsIDIpKTtcbiAgICAgICAgdmFyIGF2Z0NwID0gKEMxcCArIEMycCkvMjtcbiAgICAgICAgdmFyIGFyY3RhbjEgPSByYWQyZGVnKGF0YW4yKGIxLCBhMXApKTtcbiAgICAgICAgdmFyIGFyY3RhbjIgPSByYWQyZGVnKGF0YW4yKGIyLCBhMnApKTtcbiAgICAgICAgdmFyIGgxcCA9IGFyY3RhbjEgPj0gMCA/IGFyY3RhbjEgOiBhcmN0YW4xICsgMzYwO1xuICAgICAgICB2YXIgaDJwID0gYXJjdGFuMiA+PSAwID8gYXJjdGFuMiA6IGFyY3RhbjIgKyAzNjA7XG4gICAgICAgIHZhciBhdmdIcCA9IGFicyhoMXAgLSBoMnApID4gMTgwID8gKGgxcCArIGgycCArIDM2MCkvMiA6IChoMXAgKyBoMnApLzI7XG4gICAgICAgIHZhciBUID0gMSAtIDAuMTcqY29zKGRlZzJyYWQoYXZnSHAgLSAzMCkpICsgMC4yNCpjb3MoZGVnMnJhZCgyKmF2Z0hwKSkgKyAwLjMyKmNvcyhkZWcycmFkKDMqYXZnSHAgKyA2KSkgLSAwLjIqY29zKGRlZzJyYWQoNCphdmdIcCAtIDYzKSk7XG4gICAgICAgIHZhciBkZWx0YUhwID0gaDJwIC0gaDFwO1xuICAgICAgICBkZWx0YUhwID0gYWJzKGRlbHRhSHApIDw9IDE4MCA/IGRlbHRhSHAgOiBoMnAgPD0gaDFwID8gZGVsdGFIcCArIDM2MCA6IGRlbHRhSHAgLSAzNjA7XG4gICAgICAgIGRlbHRhSHAgPSAyKnNxcnQoQzFwKkMycCkqc2luKGRlZzJyYWQoZGVsdGFIcCkvMik7XG4gICAgICAgIHZhciBkZWx0YUwgPSBMMiAtIEwxO1xuICAgICAgICB2YXIgZGVsdGFDcCA9IEMycCAtIEMxcDsgICAgXG4gICAgICAgIHZhciBzbCA9IDEgKyAoMC4wMTUqcG93KGF2Z0wgLSA1MCwgMikpL3NxcnQoMjAgKyBwb3coYXZnTCAtIDUwLCAyKSk7XG4gICAgICAgIHZhciBzYyA9IDEgKyAwLjA0NSphdmdDcDtcbiAgICAgICAgdmFyIHNoID0gMSArIDAuMDE1KmF2Z0NwKlQ7XG4gICAgICAgIHZhciBkZWx0YVRoZXRhID0gMzAqZXhwKC1wb3coKGF2Z0hwIC0gMjc1KS8yNSwgMikpO1xuICAgICAgICB2YXIgUmMgPSAyKnNxcnQocG93KGF2Z0NwLCA3KS8ocG93KGF2Z0NwLCA3KSArIHBvdygyNSwgNykpKTtcbiAgICAgICAgdmFyIFJ0ID0gLVJjKnNpbigyKmRlZzJyYWQoZGVsdGFUaGV0YSkpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gc3FydChwb3coZGVsdGFMLyhLbCpzbCksIDIpICsgcG93KGRlbHRhQ3AvKEtjKnNjKSwgMikgKyBwb3coZGVsdGFIcC8oS2gqc2gpLCAyKSArIFJ0KihkZWx0YUNwLyhLYypzYykpKihkZWx0YUhwLyhLaCpzaCkpKTtcbiAgICAgICAgcmV0dXJuIG1heCgwLCBtaW4oMTAwLCByZXN1bHQpKTtcbiAgICB9O1xuXG4gICAgdmFyIENvbG9yJDEgPSBDb2xvcl8xO1xuXG4gICAgLy8gc2ltcGxlIEV1Y2xpZGVhbiBkaXN0YW5jZVxuICAgIHZhciBkaXN0YW5jZSA9IGZ1bmN0aW9uKGEsIGIsIG1vZGUpIHtcbiAgICAgICAgaWYgKCBtb2RlID09PSB2b2lkIDAgKSBtb2RlPSdsYWInO1xuXG4gICAgICAgIC8vIERlbHRhIEUgKENJRSAxOTc2KVxuICAgICAgICAvLyBzZWUgaHR0cDovL3d3dy5icnVjZWxpbmRibG9vbS5jb20vaW5kZXguaHRtbD9FcXVhdGlvbnMuaHRtbFxuICAgICAgICBhID0gbmV3IENvbG9yJDEoYSk7XG4gICAgICAgIGIgPSBuZXcgQ29sb3IkMShiKTtcbiAgICAgICAgdmFyIGwxID0gYS5nZXQobW9kZSk7XG4gICAgICAgIHZhciBsMiA9IGIuZ2V0KG1vZGUpO1xuICAgICAgICB2YXIgc3VtX3NxID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBsMSkge1xuICAgICAgICAgICAgdmFyIGQgPSAobDFbaV0gfHwgMCkgLSAobDJbaV0gfHwgMCk7XG4gICAgICAgICAgICBzdW1fc3EgKz0gZCpkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoc3VtX3NxKTtcbiAgICB9O1xuXG4gICAgdmFyIENvbG9yID0gQ29sb3JfMTtcblxuICAgIHZhciB2YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3IsIFsgbnVsbCBdLmNvbmNhdCggYXJncykgKSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIHNvbWUgcHJlLWRlZmluZWQgY29sb3Igc2NhbGVzOlxuICAgIHZhciBjaHJvbWEkMSA9IGNocm9tYV8xO1xuXG4gICAgdmFyIHNjYWxlID0gc2NhbGUkMjtcblxuICAgIHZhciBzY2FsZXMgPSB7XG4gICAgXHRjb29sOiBmdW5jdGlvbiBjb29sKCkgeyByZXR1cm4gc2NhbGUoW2Nocm9tYSQxLmhzbCgxODAsMSwuOSksIGNocm9tYSQxLmhzbCgyNTAsLjcsLjQpXSkgfSxcbiAgICBcdGhvdDogZnVuY3Rpb24gaG90KCkgeyByZXR1cm4gc2NhbGUoWycjMDAwJywnI2YwMCcsJyNmZjAnLCcjZmZmJ10pLm1vZGUoJ3JnYicpIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICAgIENvbG9yQnJld2VyIGNvbG9ycyBmb3IgY2hyb21hLmpzXG5cbiAgICAgICAgQ29weXJpZ2h0IChjKSAyMDAyIEN5bnRoaWEgQnJld2VyLCBNYXJrIEhhcnJvd2VyLCBhbmQgVGhlXG4gICAgICAgIFBlbm5zeWx2YW5pYSBTdGF0ZSBVbml2ZXJzaXR5LlxuXG4gICAgICAgIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gICAgICAgIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAgICAgICAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gICAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG4gICAgICAgIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUgZGlzdHJpYnV0ZWRcbiAgICAgICAgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1JcbiAgICAgICAgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAgICAgICAgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAgICAqL1xuXG4gICAgdmFyIGNvbG9yYnJld2VyID0ge1xuICAgICAgICAvLyBzZXF1ZW50aWFsXG4gICAgICAgIE9yUmQ6IFsnI2ZmZjdlYycsICcjZmVlOGM4JywgJyNmZGQ0OWUnLCAnI2ZkYmI4NCcsICcjZmM4ZDU5JywgJyNlZjY1NDgnLCAnI2Q3MzAxZicsICcjYjMwMDAwJywgJyM3ZjAwMDAnXSxcbiAgICAgICAgUHVCdTogWycjZmZmN2ZiJywgJyNlY2U3ZjInLCAnI2QwZDFlNicsICcjYTZiZGRiJywgJyM3NGE5Y2YnLCAnIzM2OTBjMCcsICcjMDU3MGIwJywgJyMwNDVhOGQnLCAnIzAyMzg1OCddLFxuICAgICAgICBCdVB1OiBbJyNmN2ZjZmQnLCAnI2UwZWNmNCcsICcjYmZkM2U2JywgJyM5ZWJjZGEnLCAnIzhjOTZjNicsICcjOGM2YmIxJywgJyM4ODQxOWQnLCAnIzgxMGY3YycsICcjNGQwMDRiJ10sXG4gICAgICAgIE9yYW5nZXM6IFsnI2ZmZjVlYicsICcjZmVlNmNlJywgJyNmZGQwYTInLCAnI2ZkYWU2YicsICcjZmQ4ZDNjJywgJyNmMTY5MTMnLCAnI2Q5NDgwMScsICcjYTYzNjAzJywgJyM3ZjI3MDQnXSxcbiAgICAgICAgQnVHbjogWycjZjdmY2ZkJywgJyNlNWY1ZjknLCAnI2NjZWNlNicsICcjOTlkOGM5JywgJyM2NmMyYTQnLCAnIzQxYWU3NicsICcjMjM4YjQ1JywgJyMwMDZkMmMnLCAnIzAwNDQxYiddLFxuICAgICAgICBZbE9yQnI6IFsnI2ZmZmZlNScsICcjZmZmN2JjJywgJyNmZWUzOTEnLCAnI2ZlYzQ0ZicsICcjZmU5OTI5JywgJyNlYzcwMTQnLCAnI2NjNGMwMicsICcjOTkzNDA0JywgJyM2NjI1MDYnXSxcbiAgICAgICAgWWxHbjogWycjZmZmZmU1JywgJyNmN2ZjYjknLCAnI2Q5ZjBhMycsICcjYWRkZDhlJywgJyM3OGM2NzknLCAnIzQxYWI1ZCcsICcjMjM4NDQzJywgJyMwMDY4MzcnLCAnIzAwNDUyOSddLFxuICAgICAgICBSZWRzOiBbJyNmZmY1ZjAnLCAnI2ZlZTBkMicsICcjZmNiYmExJywgJyNmYzkyNzInLCAnI2ZiNmE0YScsICcjZWYzYjJjJywgJyNjYjE4MWQnLCAnI2E1MGYxNScsICcjNjcwMDBkJ10sXG4gICAgICAgIFJkUHU6IFsnI2ZmZjdmMycsICcjZmRlMGRkJywgJyNmY2M1YzAnLCAnI2ZhOWZiNScsICcjZjc2OGExJywgJyNkZDM0OTcnLCAnI2FlMDE3ZScsICcjN2EwMTc3JywgJyM0OTAwNmEnXSxcbiAgICAgICAgR3JlZW5zOiBbJyNmN2ZjZjUnLCAnI2U1ZjVlMCcsICcjYzdlOWMwJywgJyNhMWQ5OWInLCAnIzc0YzQ3NicsICcjNDFhYjVkJywgJyMyMzhiNDUnLCAnIzAwNmQyYycsICcjMDA0NDFiJ10sXG4gICAgICAgIFlsR25CdTogWycjZmZmZmQ5JywgJyNlZGY4YjEnLCAnI2M3ZTliNCcsICcjN2ZjZGJiJywgJyM0MWI2YzQnLCAnIzFkOTFjMCcsICcjMjI1ZWE4JywgJyMyNTM0OTQnLCAnIzA4MWQ1OCddLFxuICAgICAgICBQdXJwbGVzOiBbJyNmY2ZiZmQnLCAnI2VmZWRmNScsICcjZGFkYWViJywgJyNiY2JkZGMnLCAnIzllOWFjOCcsICcjODA3ZGJhJywgJyM2YTUxYTMnLCAnIzU0Mjc4ZicsICcjM2YwMDdkJ10sXG4gICAgICAgIEduQnU6IFsnI2Y3ZmNmMCcsICcjZTBmM2RiJywgJyNjY2ViYzUnLCAnI2E4ZGRiNScsICcjN2JjY2M0JywgJyM0ZWIzZDMnLCAnIzJiOGNiZScsICcjMDg2OGFjJywgJyMwODQwODEnXSxcbiAgICAgICAgR3JleXM6IFsnI2ZmZmZmZicsICcjZjBmMGYwJywgJyNkOWQ5ZDknLCAnI2JkYmRiZCcsICcjOTY5Njk2JywgJyM3MzczNzMnLCAnIzUyNTI1MicsICcjMjUyNTI1JywgJyMwMDAwMDAnXSxcbiAgICAgICAgWWxPclJkOiBbJyNmZmZmY2MnLCAnI2ZmZWRhMCcsICcjZmVkOTc2JywgJyNmZWIyNGMnLCAnI2ZkOGQzYycsICcjZmM0ZTJhJywgJyNlMzFhMWMnLCAnI2JkMDAyNicsICcjODAwMDI2J10sXG4gICAgICAgIFB1UmQ6IFsnI2Y3ZjRmOScsICcjZTdlMWVmJywgJyNkNGI5ZGEnLCAnI2M5OTRjNycsICcjZGY2NWIwJywgJyNlNzI5OGEnLCAnI2NlMTI1NicsICcjOTgwMDQzJywgJyM2NzAwMWYnXSxcbiAgICAgICAgQmx1ZXM6IFsnI2Y3ZmJmZicsICcjZGVlYmY3JywgJyNjNmRiZWYnLCAnIzllY2FlMScsICcjNmJhZWQ2JywgJyM0MjkyYzYnLCAnIzIxNzFiNScsICcjMDg1MTljJywgJyMwODMwNmInXSxcbiAgICAgICAgUHVCdUduOiBbJyNmZmY3ZmInLCAnI2VjZTJmMCcsICcjZDBkMWU2JywgJyNhNmJkZGInLCAnIzY3YTljZicsICcjMzY5MGMwJywgJyMwMjgxOGEnLCAnIzAxNmM1OScsICcjMDE0NjM2J10sXG4gICAgICAgIFZpcmlkaXM6IFsnIzQ0MDE1NCcsICcjNDgyNzc3JywgJyMzZjRhOGEnLCAnIzMxNjc4ZScsICcjMjY4MzhmJywgJyMxZjlkOGEnLCAnIzZjY2U1YScsICcjYjZkZTJiJywgJyNmZWU4MjUnXSxcblxuICAgICAgICAvLyBkaXZlcmdpbmdcblxuICAgICAgICBTcGVjdHJhbDogWycjOWUwMTQyJywgJyNkNTNlNGYnLCAnI2Y0NmQ0MycsICcjZmRhZTYxJywgJyNmZWUwOGInLCAnI2ZmZmZiZicsICcjZTZmNTk4JywgJyNhYmRkYTQnLCAnIzY2YzJhNScsICcjMzI4OGJkJywgJyM1ZTRmYTInXSxcbiAgICAgICAgUmRZbEduOiBbJyNhNTAwMjYnLCAnI2Q3MzAyNycsICcjZjQ2ZDQzJywgJyNmZGFlNjEnLCAnI2ZlZTA4YicsICcjZmZmZmJmJywgJyNkOWVmOGInLCAnI2E2ZDk2YScsICcjNjZiZDYzJywgJyMxYTk4NTAnLCAnIzAwNjgzNyddLFxuICAgICAgICBSZEJ1OiBbJyM2NzAwMWYnLCAnI2IyMTgyYicsICcjZDY2MDRkJywgJyNmNGE1ODInLCAnI2ZkZGJjNycsICcjZjdmN2Y3JywgJyNkMWU1ZjAnLCAnIzkyYzVkZScsICcjNDM5M2MzJywgJyMyMTY2YWMnLCAnIzA1MzA2MSddLFxuICAgICAgICBQaVlHOiBbJyM4ZTAxNTInLCAnI2M1MWI3ZCcsICcjZGU3N2FlJywgJyNmMWI2ZGEnLCAnI2ZkZTBlZicsICcjZjdmN2Y3JywgJyNlNmY1ZDAnLCAnI2I4ZTE4NicsICcjN2ZiYzQxJywgJyM0ZDkyMjEnLCAnIzI3NjQxOSddLFxuICAgICAgICBQUkduOiBbJyM0MDAwNGInLCAnIzc2MmE4MycsICcjOTk3MGFiJywgJyNjMmE1Y2YnLCAnI2U3ZDRlOCcsICcjZjdmN2Y3JywgJyNkOWYwZDMnLCAnI2E2ZGJhMCcsICcjNWFhZTYxJywgJyMxYjc4MzcnLCAnIzAwNDQxYiddLFxuICAgICAgICBSZFlsQnU6IFsnI2E1MDAyNicsICcjZDczMDI3JywgJyNmNDZkNDMnLCAnI2ZkYWU2MScsICcjZmVlMDkwJywgJyNmZmZmYmYnLCAnI2UwZjNmOCcsICcjYWJkOWU5JywgJyM3NGFkZDEnLCAnIzQ1NzViNCcsICcjMzEzNjk1J10sXG4gICAgICAgIEJyQkc6IFsnIzU0MzAwNScsICcjOGM1MTBhJywgJyNiZjgxMmQnLCAnI2RmYzI3ZCcsICcjZjZlOGMzJywgJyNmNWY1ZjUnLCAnI2M3ZWFlNScsICcjODBjZGMxJywgJyMzNTk3OGYnLCAnIzAxNjY1ZScsICcjMDAzYzMwJ10sXG4gICAgICAgIFJkR3k6IFsnIzY3MDAxZicsICcjYjIxODJiJywgJyNkNjYwNGQnLCAnI2Y0YTU4MicsICcjZmRkYmM3JywgJyNmZmZmZmYnLCAnI2UwZTBlMCcsICcjYmFiYWJhJywgJyM4Nzg3ODcnLCAnIzRkNGQ0ZCcsICcjMWExYTFhJ10sXG4gICAgICAgIFB1T3I6IFsnIzdmM2IwOCcsICcjYjM1ODA2JywgJyNlMDgyMTQnLCAnI2ZkYjg2MycsICcjZmVlMGI2JywgJyNmN2Y3ZjcnLCAnI2Q4ZGFlYicsICcjYjJhYmQyJywgJyM4MDczYWMnLCAnIzU0Mjc4OCcsICcjMmQwMDRiJ10sXG5cbiAgICAgICAgLy8gcXVhbGl0YXRpdmVcblxuICAgICAgICBTZXQyOiBbJyM2NmMyYTUnLCAnI2ZjOGQ2MicsICcjOGRhMGNiJywgJyNlNzhhYzMnLCAnI2E2ZDg1NCcsICcjZmZkOTJmJywgJyNlNWM0OTQnLCAnI2IzYjNiMyddLFxuICAgICAgICBBY2NlbnQ6IFsnIzdmYzk3ZicsICcjYmVhZWQ0JywgJyNmZGMwODYnLCAnI2ZmZmY5OScsICcjMzg2Y2IwJywgJyNmMDAyN2YnLCAnI2JmNWIxNycsICcjNjY2NjY2J10sXG4gICAgICAgIFNldDE6IFsnI2U0MWExYycsICcjMzc3ZWI4JywgJyM0ZGFmNGEnLCAnIzk4NGVhMycsICcjZmY3ZjAwJywgJyNmZmZmMzMnLCAnI2E2NTYyOCcsICcjZjc4MWJmJywgJyM5OTk5OTknXSxcbiAgICAgICAgU2V0MzogWycjOGRkM2M3JywgJyNmZmZmYjMnLCAnI2JlYmFkYScsICcjZmI4MDcyJywgJyM4MGIxZDMnLCAnI2ZkYjQ2MicsICcjYjNkZTY5JywgJyNmY2NkZTUnLCAnI2Q5ZDlkOScsICcjYmM4MGJkJywgJyNjY2ViYzUnLCAnI2ZmZWQ2ZiddLFxuICAgICAgICBEYXJrMjogWycjMWI5ZTc3JywgJyNkOTVmMDInLCAnIzc1NzBiMycsICcjZTcyOThhJywgJyM2NmE2MWUnLCAnI2U2YWIwMicsICcjYTY3NjFkJywgJyM2NjY2NjYnXSxcbiAgICAgICAgUGFpcmVkOiBbJyNhNmNlZTMnLCAnIzFmNzhiNCcsICcjYjJkZjhhJywgJyMzM2EwMmMnLCAnI2ZiOWE5OScsICcjZTMxYTFjJywgJyNmZGJmNmYnLCAnI2ZmN2YwMCcsICcjY2FiMmQ2JywgJyM2YTNkOWEnLCAnI2ZmZmY5OScsICcjYjE1OTI4J10sXG4gICAgICAgIFBhc3RlbDI6IFsnI2IzZTJjZCcsICcjZmRjZGFjJywgJyNjYmQ1ZTgnLCAnI2Y0Y2FlNCcsICcjZTZmNWM5JywgJyNmZmYyYWUnLCAnI2YxZTJjYycsICcjY2NjY2NjJ10sXG4gICAgICAgIFBhc3RlbDE6IFsnI2ZiYjRhZScsICcjYjNjZGUzJywgJyNjY2ViYzUnLCAnI2RlY2JlNCcsICcjZmVkOWE2JywgJyNmZmZmY2MnLCAnI2U1ZDhiZCcsICcjZmRkYWVjJywgJyNmMmYyZjInXSxcbiAgICB9O1xuXG4gICAgLy8gYWRkIGxvd2VyY2FzZSBhbGlhc2VzIGZvciBjYXNlLWluc2Vuc2l0aXZlIG1hdGNoZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbGlzdCA9IE9iamVjdC5rZXlzKGNvbG9yYnJld2VyKTsgaSA8IGxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdmFyIGtleSA9IGxpc3RbaV07XG5cbiAgICAgICAgY29sb3JicmV3ZXJba2V5LnRvTG93ZXJDYXNlKCldID0gY29sb3JicmV3ZXJba2V5XTtcbiAgICB9XG5cbiAgICB2YXIgY29sb3JicmV3ZXJfMSA9IGNvbG9yYnJld2VyO1xuXG4gICAgdmFyIGNocm9tYSA9IGNocm9tYV8xO1xuXG4gICAgLy8gZmVlbCBmcmVlIHRvIGNvbW1lbnQgb3V0IGFueXRoaW5nIHRvIHJvbGx1cFxuICAgIC8vIGEgc21hbGxlciBjaHJvbWEuanMgYnVpbHRcblxuICAgIC8vIGlvIC0tPiBjb252ZXJ0IGNvbG9yc1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAvLyBvcGVyYXRvcnMgLS0+IG1vZGlmeSBleGlzdGluZyBDb2xvcnNcblxuXG5cblxuXG5cblxuXG5cblxuICAgIC8vIGludGVycG9sYXRvcnNcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAvLyBnZW5lcmF0b3JzIC0tID4gY3JlYXRlIG5ldyBjb2xvcnNcbiAgICBjaHJvbWEuYXZlcmFnZSA9IGF2ZXJhZ2U7XG4gICAgY2hyb21hLmJlemllciA9IGJlemllcl8xO1xuICAgIGNocm9tYS5ibGVuZCA9IGJsZW5kXzE7XG4gICAgY2hyb21hLmN1YmVoZWxpeCA9IGN1YmVoZWxpeDtcbiAgICBjaHJvbWEubWl4ID0gY2hyb21hLmludGVycG9sYXRlID0gbWl4JDE7XG4gICAgY2hyb21hLnJhbmRvbSA9IHJhbmRvbV8xO1xuICAgIGNocm9tYS5zY2FsZSA9IHNjYWxlJDI7XG5cbiAgICAvLyBvdGhlciB1dGlsaXR5IG1ldGhvZHNcbiAgICBjaHJvbWEuYW5hbHl6ZSA9IGFuYWx5emVfMS5hbmFseXplO1xuICAgIGNocm9tYS5jb250cmFzdCA9IGNvbnRyYXN0O1xuICAgIGNocm9tYS5kZWx0YUUgPSBkZWx0YUU7XG4gICAgY2hyb21hLmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgY2hyb21hLmxpbWl0cyA9IGFuYWx5emVfMS5saW1pdHM7XG4gICAgY2hyb21hLnZhbGlkID0gdmFsaWQ7XG5cbiAgICAvLyBzY2FsZVxuICAgIGNocm9tYS5zY2FsZXMgPSBzY2FsZXM7XG5cbiAgICAvLyBjb2xvcnNcbiAgICBjaHJvbWEuY29sb3JzID0gdzNjeDExXzE7XG4gICAgY2hyb21hLmJyZXdlciA9IGNvbG9yYnJld2VyXzE7XG5cbiAgICB2YXIgY2hyb21hX2pzID0gY2hyb21hO1xuXG4gICAgcmV0dXJuIGNocm9tYV9qcztcblxufSkpO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQge0RyYXdlcn0gZnJvbSBcIi4vRHJhd2VyXCI7XHJcbmltcG9ydCAqIGFzIFBhcnNlciBmcm9tIFwiLi9QYXJzZXJcIjtcclxuaW1wb3J0IHtSZWFjdGlvblBhcnNlcn0gZnJvbSBcIi4vUmVhY3Rpb25QYXJzZXJcIjtcclxuaW1wb3J0IHtTdmdEcmF3ZXJ9IGZyb20gXCIuL1N2Z0RyYXdlclwiO1xyXG5pbXBvcnQge1JlYWN0aW9uRHJhd2VyfSBmcm9tIFwiLi9SZWFjdGlvbkRyYXdlclwiO1xyXG4vLyBpbXBvcnQge1NtaURyYXdlcn0gZnJvbSBcIi4vc3JjL1NtaWxlc0RyYXdlclwiO1xyXG5pbXBvcnQge0dhdXNzRHJhd2VyfSBmcm9tIFwiLi9HYXVzc0RyYXdlclwiO1xyXG5cclxuY29uc3QgY2FuVXNlRE9NID1cclxuICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXHJcbiAgd2luZG93LmRvY3VtZW50ICYmXHJcbiAgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQ7XHJcblxyXG5leHBvcnQgY29uc3QgU21pbGVzRHJhd2VyID0ge1xyXG4gIFZlcnNpb246IFwiMS4wLjBcIixcclxuICBEcmF3ZXIsXHJcbiAgUGFyc2VyLFxyXG4gIFN2Z0RyYXdlcixcclxuICBSZWFjdGlvbkRyYXdlcixcclxuICBSZWFjdGlvblBhcnNlcixcclxuICBHYXVzc0RyYXdlcixcclxuXHJcbiAgY2xlYW4oc21pbGVzKSB7XHJcbiAgICByZXR1cm4gc21pbGVzLnJlcGxhY2UoL1teQS1aYS16MC05QC4rLT8hKClbXFxde31cXC9cXFxcPSMkOipdL2csIFwiXCIpO1xyXG4gIH0sXHJcblxyXG4gIGFwcGx5KFxyXG4gICAgb3B0aW9ucyxcclxuICAgIHNlbGVjdG9yID0gXCJjYW52YXNbZGF0YS1zbWlsZXNdXCIsXHJcbiAgICB0aGVtZU5hbWUgPSBcImxpZ2h0XCIsXHJcbiAgICBvbkVycm9yID0gbnVsbFxyXG4gICkge1xyXG4gICAgY29uc3Qgc21pbGVzRHJhd2VyID0gbmV3IERyYXdlcihvcHRpb25zKTtcclxuICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbaV07XHJcbiAgICAgIHRoaXMucGFyc2UoXHJcbiAgICAgICAgZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNtaWxlc1wiKSxcclxuICAgICAgICAodHJlZSkgPT4ge1xyXG4gICAgICAgICAgc21pbGVzRHJhd2VyLmRyYXcodHJlZSwgZWxlbWVudCwgdGhlbWVOYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAoZXJyKSA9PiB7XHJcbiAgICAgICAgICBpZiAob25FcnJvcikge1xyXG4gICAgICAgICAgICBvbkVycm9yKGVycik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHBhcnNlKHNtaWxlcywgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoc3VjY2Vzc0NhbGxiYWNrKSB7XHJcbiAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKFBhcnNlci5wYXJzZShzbWlsZXMpKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGlmIChlcnJvckNhbGxiYWNrKSB7XHJcbiAgICAgICAgZXJyb3JDYWxsYmFjayhlcnIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgcGFyc2VSZWFjdGlvbihyZWFjdGlvblNtaWxlcywgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoc3VjY2Vzc0NhbGxiYWNrKSB7XHJcbiAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKFJlYWN0aW9uUGFyc2VyLnBhcnNlKHJlYWN0aW9uU21pbGVzKSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBpZiAoZXJyb3JDYWxsYmFjaykge1xyXG4gICAgICAgIGVycm9yQ2FsbGJhY2soZXJyKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbn07XHJcblxyXG5pZiAoY2FuVXNlRE9NKSB7XHJcbiAgd2luZG93LlNtaWxlc0RyYXdlciA9IFNtaWxlc0RyYXdlcjtcclxufVxyXG5cclxuY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHV0XCIpO1xyXG5jb25zdCBkZWJ1Z0NoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWJ1Z1wiKTtcclxuY29uc3QgYm9uZFRoaWNrbmVzc0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib25kVGhpY2tuZXNzXCIpO1xyXG5jb25zdCB0ZXh0U2l6ZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXh0U2l6ZVwiKTtcclxuY29uc3QgYm9uZExlbmd0aElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib25kTGVuZ3RoXCIpO1xyXG5jb25zdCBzaG9ydEJvbmRMZW5ndGhJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hvcnRCb25kTGVuZ3RoXCIpO1xyXG5jb25zdCBib25kU3BhY2luZ0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib25kU3BhY2luZ1wiKTtcclxuY29uc3Qgc2l6ZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaXplXCIpO1xyXG5jb25zdCBvdmVybGFwSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm92ZXJsYXBcIik7XHJcblxyXG5jb25zdCBvcHRpb25zID0ge1xyXG4gIGRlYnVnOiBmYWxzZSxcclxuICBhdG9tVmlzdWFsaXphdGlvbjogXCJkZWZhdWx0XCIsXHJcbn07XHJcblxyXG5jb25zdCBzbWlsZXNEcmF3ZXIgPSBuZXcgU21pbGVzRHJhd2VyLkRyYXdlcihvcHRpb25zKTtcclxuY29uc3QgbG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2dcIik7XHJcblxyXG5jb25zdCBjaGVtYmwgPSBbXHJcbiAgJ0NPYzFjY2NjKGMxT0MpYzJuW25IXWMoQ2MzY2NjKENsKWMoQ2wpYzMpbjInLFxyXG4gICAgJ0NjMWNjMmMoY2MxQylbbitdKFtPLV0pYyhDI04pYyhOUyg9TykoPU8pYzNjY2M0Y2NjY2M0YzMpW24rXTJbTy1dJyxcclxuICAgICdPYzFuc2MoTjJDQ0NDQzIpYzFDI04nLFxyXG4gICAgJ0NPYzFjY2NjYzFDTlMoPU8pKD1PKWMyY2MoQnIpY2MzQ0MoQylOKEMoPU8pQyljMjMnLFxyXG4gICAgJ0NDTkMoPU8pW0NAQEhdMUNDQ04xQyg9TylbQ0BIXShDQ0NOPUMoTilOKU5DKD1PKVtDQEhdKENDKEMpQylOQyg9TylbQ0BASF0oQ0MoQylDKU4oQylDKD1PKVtDQEhdKENjMmNjYyhPKWNjMilOQyg9TylbQ0BIXShDTylOQyg9TylbQ0BIXShDYzNjW25IXWM0Y2NjY2MzNClOQyg9TylbQ0BIXShDYzVjW25IXWNuNSlOQyg9TylbQ0BASF02Q0NDKD1PKU42JyxcclxuICAgICdDUyg9TykoPU8pbjFjKFxcXFxDPUNcXFxcYzJjYyhDbCljYyhDbCljMiluYzNjYyhGKWNjYzEzJyxcclxuICAgICdDT2MxYyhPKWNjMkMoPU8pT2MzYyhPKWMoTyljYzRDKD1PKU9jMWMyYzM0JyxcclxuICAgICdDT2MxY2NjKFxcXFxDPUNcXFxcTkMoPU8pQyljKE9DKWMxJyxcclxuICAgICdPQyg9TyljMWNjYyhOQyg9TylOYzJuYzNjY2MoQ2wpY2MzczIpY2MxTycsXHJcbiAgICAnQ0NPQyg9TylDTkMoPU8pTjFDQ0NDKENOQyg9TyljMm9jY2MyKUMxJyxcclxuICAgICdDT2MxY2NjKE9DKWMoTkMoPU8pQ1NjMm9jKENOQyg9TylDT2MzY2NjKENsKWNjMylubjIpYzEnLFxyXG4gICAgJ0NDMShDKUNDKE8pQ0MoQykoQylOMUNDKE8pQ09DYzJjY2NjYzInLFxyXG4gICAgJ0NPQ0NPQ0NPYzFjY2MoY2MxKVMoPU8pKD1PKU4oQ0MoPU8pTlxcXFxOPUNcXFxcMi9DKD1PKU5jM2NjY2NjMjMpYzRjY2MoQ2wpY2M0JyxcclxuICAgICdDbGMxY2NjY2MxYzJubmMzc2Mobm4yMyljNGNjbmNjNCcsXHJcbiAgICAnQzFDTjJDKD1DYzNjY2NjYzNDMj1OMSljNGNjY25jNCcsXHJcbiAgICAnQ0MoPU8pTmMxY2NjMkMoPU8pQ0NDYzJjMScsXHJcbiAgICAnT1tDQEhdMUNbQ0BASF0yQ1tDQEhdKENDPUMpT0MoPU8pYzNjKE8pY2NjYzNDW0NAQEhdKEMxKU8yJyxcclxuICAgICdDQyhDKUNbQ0BIXShOQyg9TylbQ0BIXTFPW0NAQEhdMUMoPU8pTltDQEBIXShDQ0NOQyg9TilOKUMoPU8pTjJDQ0NbQ0BIXTJDKD1PKU4zQ0NDW0NASF0zQyg9TylONENDQ1tDQEhdNEMoPU8pTltDQEBIXShDTylDKD1PKU4pQyg9TylONUNDQ1tDQEhdNUMoPU8pTltDQEBIXShbQ0BASF0oQylPKUMoPU8pTicsXHJcbiAgICAnQ0MoQyg9TylOKW4xYyhjYzJjYyhDTjNDQ0MoQ0MzKU5jNG5jbmM1c2MoQ0MoRikoRilGKWNjNDUpY2NjMTIpQyNOJyxcclxuICAgICdDQyhDKShDKUMxPUNOKENbQ0BIXTJDQ0NPMilcXFxcQyg9TlxcXFxDKD1PKWMzY2MoY2NjM09DYzRjY2NjYzQpQyhGKShGKUYpXFxcXFMxJyxcclxuICAgICdDQyhDKWMxY2NjKGNjMSlTKD1PKSg9TyljMmNuYzNjY2MoQyljYzNjMk8nLFxyXG4gICAgJ0JyYzFjY2MoY2MxKUMyPUNDKGMzb2NjYzMpbjRuY25jNE4yJyxcclxuICAgICdDQ0NjMW5jYyhzMSlDKD1PKU8nLFxyXG4gICAgJ0NuMWMoY2MyY2MoTkMoPU8pQzMoQ0NDMylOQyg9TyljNGNjYzVjKEM2Q0NDQzYpYyhjN2NjY2NuNyluKEMpYzVjNCljY2MxMilDKD1PKU8nLFxyXG4gICAgJ05DQ2MxY24oQzI9QyhDKD1PKU5DMj1PKWMzY1tuSF1jNGNjYyhDbCljYzM0KWM1Y2NjY2MxNScsXHJcbiAgICAnT0MoPU8pXFxcXEM9Qy9DKD1PKU8uQyhDTmMxY2MoT0NjMmNjY2NjMiljY24xKUNPYzNjY2NjKENONENDQ0NDNCljMycsXHJcbiAgICAnRmMxY2NjKGNjMSlDMkNDTihDQ0MoQzNDQzMpQyg9TylOQ2M0Y2MoY2MoYzQpQyhGKShGKUYpQyhGKShGKUYpQ0MyJyxcclxuICAgICdDQ09DKD1PKUMxKENjMmNjY2MoT0MpYzIpQ0NDTihDYzNjKEMpbm4oQyhDKUMpYzNDKUMxJyxcclxuICAgICdDQ09QKD1PKShPQ0MpW0NAQEhdMUNbQ0BASF0oT04xQyluMmNjKG5uMiljM2NjY2NjM0YnLFxyXG4gICAgJ0NPYzFjY2NjKGMxKUMoPU8pTkNDKD1PKU9DQzI9Q0MoPU8pTjNOPUMoQylTQzM9TjInLFxyXG4gICAgJ0NPYzFjY2MoT0MpYyhOQyg9TyljMmNjYyhjYzIpTjNDKD1PKUM0Q0M9QyhDKUNDNEMzPU8pYzEnLFxyXG4gICAgJ0NDQyg9TylcXFxcQz1DKC9DKVxcXFxDPUNcXFxcQ0MoQylDQ0NDKEMpKEMpT0MnLFxyXG4gICAgJ09jMWNjYyhjYzFDKD1PKU5jMmNjYyhjKGMyKUMoRikoRilGKVtOK10oPU8pW08tXSljM2NjYyhGKWNjM0YnLFxyXG4gICAgJ0NDKE5DKD1PKUMxKEMpQyhDKShDKUMxKENsKUNsKWMyY2NjY2MyJyxcclxuICAgICdDT2MxY2NjKGNjMSlDMkNDKD1OTjJjM2NjYyhcXFxcQz1OXFxcXE5DKD1PKWM0Y2NuY2M0KWNjMyljNWNjY2NjNScsXHJcbiAgICAnTkNDTjFDPUNDKD1PKUMoPUMxKU8nLFxyXG4gICAgJ0NjMWMoT1MoPU8pKD1PKWMyY2NjY2MyRiljY2NjMUMzQ0NOQ0MzJyxcclxuICAgICdPQzE9QyhOPUMyQz1DQyg9Q04yQzE9TylOM0NDT0NDMyljNG5uYyhDYzVjY2MoRiljYzUpczQnLFxyXG4gICAgJ0NDKEMpQ1tDQEhdKE5DKD1PKU5DYzFjY2MoRiljYzEpQyg9TylOW0NAQEhdKEMoQylDKUMoPU8pTltDQEBIXShDQ0NOQyg9TilOKUMoPU8pYzJuY2NzMicsXHJcbiAgICAnTz1OTihDQyNDKUMoPU8pTkMoQ0NDQ05DKD1PKU9DYzFjY2NjYzEpQyg9TylPQ2MyY2NjY2MyJyxcclxuICAgICdDU2MxY2NjKFxcXFxDPUMoL0MjTilcXFxcQyg9TylOYzJjY2NjKEMpYzIpY2MxJyxcclxuICAgICdDTihDKUNbQ0BIXTFDW0NASF0yW0NASF0oTzEpYzNjYyhGKWNjYzNTYzRjY2NjYzI0JyxcclxuICAgICdDW0NASF0xQ0NbQ0BdMihDKU4xQyg9Q0MyPU8pTkMoPU8pYzNjY2NjYzMnLFxyXG4gICAgJ0NDYzFjKEMpbmMoTyljKE4oQylDKWMxQyg9TyljMmNjY2MoXFxcXEM9Q1xcXFxjM2NjY25jMyljMicsXHJcbiAgICAnQ0MoPU8pTmMxY2NjKFNDW0NASF0oQ2MyY2NjY2MyKU4zQ0NbQ0BASF0oTylDQ0MzPU8pY2MxJyxcclxuICAgICdDT2MxY2MyT0MoPUNDKD1PKWMyYyhPQyljMU9DKWMzY2NjYyhPQyg9TylONENDTihDKUNDNCljMycsXHJcbiAgICAnQ0NPQyg9TylbQ0BIXShDYzFjY2NjYzEpT0MoPU8pTihDKU5DKD1PKVtDQEBIXTJDQ0NOMkMoPU8pW0NASF0oQylOQyg9TylbQ0BIXShDKU5DKD1PKUMnLFxyXG4gICAgJ0NOMUNDQ04oQ0MxKWMyY25jYyhuMiljM2NjY2MoXFxcXEM9Q1xcXFxDKD1PKU4pYzMnLFxyXG4gICAgJ0NPQyg9TylbQ0BASF0oTilbQ0BIXTFDQ1tDQEhdKEMxKVxcXFxOPUMoXFxcXEMpL04nLFxyXG4gICAgJ089QyhOMUNDT0NDMSlcXFxcQyg9Q1xcXFwyL1NDPUMoTjJjM2NjY2NjMyljNGNjY2NjNClcXFxcQyNOJyxcclxuICAgICdDTihDKUNDU0MxPU5jMnNjKEMpYyhjM2NjYyhGKWNjMyljMkMoPU8pTjFjNGNjY2NjNCcsXHJcbiAgICAnQ2wuTltDQEBIXShDQ1NDQ0MoPU8pTkNDKD1PKU8pQyg9TylPJyxcclxuICAgICdOQyhDKD1PKU5DYzFjY2NjYzEpYzJuY2NjM2NjY2NjMjMnLFxyXG4gICAgJ0NQKD1TKShPKU9DQzFPQyhDPUMxKW4yY25jM2MoTiluY25jMjMnLFxyXG4gICAgJ05jMW5jMmMzY2NjY2MzQ1tDQEhdKGM0Y2NjNU9DT2M1YzQpYzJjNmNjY2NjMTYnLFxyXG4gICAgJ05DKD1PKW4xY2NjMmNjYyhuYzEyKU4zQ0NDQ0MzJyxcclxuICAgICdPQ0NbQ0BIXTFDW0NASF0oTylbQ0BASF0oTylbQ0BAXTIoQ2MzY2NjY2MzQ0NPMilPMScsXHJcbiAgICAnQ04oQylDQ0NDQ0NDQ0NOYzFjMkNDQ0NjMm5jM2NjY2NjMTMnLFxyXG4gICAgJ09jMWNjYyhOQyg9TyljMmNjKE5DM0NDQ0MzKW5jbjIpY2MxJyxcclxuICAgICdDbGMxY2NjYyhDbCljMUNPXFxcXE49Q1xcXFxjMmNjW24rXShDQ0NbbitdM2NjYyhcXFxcQz1OXFxcXE9DYzRjKENsKWNjY2M0Q2wpY2MzKWNjMicsXHJcbiAgICAnQ0NPYzFjY2MybmMoU0NbQ0BdMyhDKVNbQ0BASF00W0NAQEhdKENsKUMoPU8pTjRbQ0BIXTNDKD1PKU9DKXNjMmMxJyxcclxuICAgICdDT2MxY2NjYzJjKE5jM2NjY2NjM0MpY2NuYzEyJyxcclxuICAgICdDbC5OQyg9TilOYzFuYyhjczEpYzJjY2MoTyljKE8pYzInLFxyXG4gICAgJ0JyQzE9QzJjM2NjYzRbbkhdbmNjNGMzQ1tDQF0yKENDQzVDQzUpQ0NDMT1PJyxcclxuICAgICdPQyg9TylDU2MxbmMoQ2wpY2MoTmMyY2NjKE5jM2NjY2NjMyljYzIpbjEnLFxyXG4gICAgJ0NOMUNDTihDQ1xcXFxDPUMvYzJjY2NjYzIpQ0MxJyxcclxuICAgICdPPUMxQ09jMmNjYzNjY2MoT0NDKD1PKU5DYzRjY2MoY2M0KWM1Y2NjYyhjNSljNmNjYyhDTjEpY2M2KWNjM2MyJyxcclxuICAgICdDYzFjYzJubmMoYzNjY2NjYzMpbjJjKEMpbjEnLFxyXG4gICAgJ0NDW0NASF0oQylbQ0BIXShOQyg9TylDTkMoPU8pW0NASF0oQ0NDTkMoPU4pTilOQyg9TylbQ0BIXShDYzFjY2NjYzEpTkMoPU8pW0NAQEhdKE5DKD1PKVtDQEhdKENjMmNuY1tuSF0yKU5DKD1PKVtDQEhdKENjM2NuY1tuSF0zKU5DKD1PKVtDQEhdKENjNGNjY2NjNClOQyg9TylbQ0BASF0oTilDYzVjY2NjYzUpW0NAQEhdKEMpQ0MpQyg9TylOW0NAQEhdKEMoQylDKUMoPU8pTltDQEBIXShDYzZjbmNbbkhdNilDKD1PKU5bQ0BASF0oQyhDKUMpQyg9TylOQ0MoPU8pTltDQEBIXShDQ0NDTilDKD1PKU5bQ0BASF0oW0NAQEhdKEMpTylDKD1PKU5bQ0BASF0oW0NAQEhdKEMpQ0MpQyg9TylOW0NAQEhdKENjN2NuY1tuSF03KUMoPU8pTltDQEBIXShDQ0NOQyg9TilOKUMoPU8pTltDQEBIXShDQyhDKUMpQyg9TylOW0NAQEhdKEMoQylDKUMoPU8pTltDQEBIXShbQ0BASF0oQylPKUMoPU8pTkNDKD1PKU8nLFxyXG4gICAgJ0NPYzFjY2NjYzFOMkNDTihDQzIpQyg9TylDTjNDKD1PKW40bmMobmM0YzVjY2NjYzM1KWM2Y2NjKEMpY2M2JyxcclxuICAgICdDQ1tDQEhdKEMpQzE9QyhPKVtOQCtdMihbTy1dKU9jM2NjYyhjYzNPW0NAXTIoW0NAQEhdKEMpQ0MpQyg9TylOMU8pYzRjKE8pYyhPKWMoYyhPQyg9TylDKWM0T0MoPU8pQyljNWNjYyhPQyg9TylDKWNjNScsXHJcbiAgICAnQ09DKD1PKUMxPUMyTmMzY2NjY2MzW0NAQF0yNENDTjVbQ0BASF02T1tDQF03OFtDQEhdOUNbQ0BdJTEwJTExQ0NPW0NASF0lMTBDQ04lMTJDQ1tDQF03KFtDQEhdJTExJTEyKWMlMTNjY2NjKE9DKWMlMTNOOENbQ0BdNihDOSlbQ0BASF0lMTRPQ0NbQ0BdJTE0KEMxKVtDQEBIXTQ1JyxcclxuICAgICdDQyhDKUNDTkMoPU8pQ0NjMW9jKENPYzJjY2NjYzIpbm4xJyxcclxuICAgICdDQzE9Q0MoPU8pQyg9QyhPMSljMmNjYyhjYzIpUyg9TykoPU8pQylPYzNjY2MoQnIpY2MzRicsXHJcbiAgICAnTkMoPU8pQ1tDQEBIXTFDQ1tDQEhdKENDMSljMmNjYyhjYzIpTjNDQ09jNG5jbmMoTiljNEMzPU8nLFxyXG4gICAgJ05jMWNjYyhjYzEpUyg9TykoPU8pTmMyY2NjKGNjMilDKEYpKEYpRicsXHJcbiAgICAnT0NDKEMxQ0NOKENDMSlDKD1PKU5jMmNjYyhDbCljKENsKWMyKU4zQ0NDKENDMyljNGNbbkhdYzVjY2NjYzQ1JyxcclxuICAgICdDbGMxY2NjYyhjMSlOMkNDTihDQzIpUyg9TykoPU8pYzNjY2M0TihDQ2M0YzMpQyg9TyljNWNjYyhDbCljKENsKWM1JyxcclxuICAgICdDQyg9TylPW0NASF0xQ1tDQEhdMkNbQ0BAXTMoQ0NbQ0BIXTRbQ0BAXShDKShDQ0NbQ0BAXTQoQylDKD1PKU8pW0NASF0xMylbQ0BIXShPKUMyPUMnLFxyXG4gICAgJ0NDKE8pQzEoQ05TKD1PKSg9TylDKEYpKEYpRilDQ04oQ0MxKVMoPU8pKD1PKWMyY2NjKENsKWNjMlMoPU8pKD1PKWMzY2NjY2MzRicsXHJcbiAgICAnQ0NOQyg9TylOQyg9TylDU2MxbmMyY2NjY2MybjFDQyhDKUMnLFxyXG4gICAgJ0ZjMWNjYyhOQyg9TylDbjJjYyhjM2NjY2NjMjMpUyg9TykoPU8pQ2M0Y2NjYyhDbCljNCljYzFDbCcsXHJcbiAgICAnQ0NDQ0NOKENDQ0NDKUMoPU8pTjFDQ04oW0NAQEhdKEMxKUMoPU8pTkNDTihDKEMpQylDKEMpQylDKD1PKU4oYzJjY2NjYzIpYzNjY2NjYzMnLFxyXG4gICAgJ0NDT0MoPU8pTjFDPUMoRilDKD1PKU4oQyg9TylDKUMxPU8nLFxyXG4gICAgJ0NDKEMoPU8pTkMxQ0NjMmNjY2NjMTIpQyg9TylOQzNDKD1PKU4oQyljNGNjY2NjNGM1Y2NjY2MzNScsXHJcbiAgICAnQ2MxY2NjKGNjMSlOMkNDTihDQzIpQyg9TylDQ05DKD1PKWMzY2NjKGMoYzMpW04rXSg9TylbTy1dKVMoPU8pKD1PKUMnLFxyXG4gICAgJ0NjMW5jMmNjYyhuYzJuM2Mobm5jMTMpYzRjYyhjY2M0Q2wpQzUoTylDQ09DNSlDNkNDNicsXHJcbiAgICAnQ09jMWNjKGNjYzFjMm9jKEMpbmMyKWMzbm5jNEMoQ0NuMzQpYzVjY2MoQ2wpYyhDbCljNScsXHJcbiAgICAnQ0NbQ0BIXShDKVtDQEhdKE5DKD1PKVtDQEhdKENDKEMpQylOQyg9TylbQ0BASF0oTkMoPU8pW0NASF0oQ0MoQylDKU5DKD1PKVtDQEhdKENjMWNbbkhdY24xKU5DKD1PKVtDQEBIXTJDU1NDW0NAQEhdKE4pQyg9TylOW0NAQEhdKENPKUMoPU8pTltDQEBIXTNDU1NDW0NAQEhdKE5DKD1PKVtDQEhdKENDQyg9TylPKU5DKD1PKVtDQEBIXShDQ0NDTilOQyg9TylbQ0BIXShDQyg9TylPKU5DKD1PKVtDQEBIXShDQ1NDKU5DKD1PKVtDQEhdKENDKEMpQylOQyg9TylbQ0BASF0oQ08pTkMoPU8pW0NASF0oQ08pTkMzPU8pQyg9TylOW0NAQEhdKEMoQylDKUMoPU8pTltDQEhdKENjNGNjYyhPKWNjNClDKD1PKU5bQ0BASF0oQ2M1Y2NjY2M1KUMoPU8pTjIpW0NASF0oQylPKUMoPU8pTltDQEBIXShDYzZjW25IXWM3Y2NjY2M2NylDKD1PKU8nLFxyXG4gICAgJ0NsQ0MoPU8pTihDXFxcXEM9Q1xcXFxjMWNjY2NjMSljMmNjYzNPQ0NPYzNjMicsXHJcbiAgICAnQ0NTKD1PKSg9TylDQ04xQ0NOKENDMSlDMkNDQyhDQzIpQyhDKUMnLFxyXG4gICAgJ0NDQ1MoPU8pKD1PKUNDTkNjMW9jKGNjMSljMmNjYzNuY25jKE5jNGNjYyhPQ2M1Y2NjYyhGKWM1KWMoQ2wpYzQpYzNjMicsXHJcbiAgICAnTlMoPU8pKD1PKWMxY2NjKE5DKD1PKVxcXFxDPUNcXFxcYzJjY2NzMiljYzEnLFxyXG4gICAgJ0NDKEMpYzFub2MobjEpYzJuY24zYzJDTihDKUMoPU8pYzRjKEYpY2NjYzM0JyxcclxuICAgICdDYzFjY2MoY2MxKVMoPU8pKD1PKUNDQyg9TylOKENDTjJDQ09DQzIpYzNuYzRjY2NjYzRzMycsXHJcbiAgICAnQ0MxKEMpQzJDQz1DKFxcXFxDPU5cXFxcTkMoPU8pQzNDQzMpQzFDMicsXHJcbiAgICAnRmMxY2NjKGNjMSlDKD1PKU5DMkNDM0NDQ0MoQzIpTjNDKD1PKU5DNENDQ0NDNCcsXHJcbiAgICAnTmMxbmNuYzJjMW5jKFNDQ1AoPU8pKE8pTyluMkNDYzNjY2NjYzMnLFxyXG4gICAgJ0NsYzFjY2MoY2MxQ2wpYzJub2MobjIpYzNzY2NjM0NsJyxcclxuXVxyXG5cclxuLy8gY29uc3QgdHJlZXMgPSB7fVxyXG4vLyBjaGVtYmwuZm9yRWFjaCgoc21pbGVzKSA9PiB7XHJcbi8vICAgU21pbGVzRHJhd2VyLnBhcnNlKFxyXG4vLyAgICAgc21pbGVzLCAodHJlZSkgPT4ge1xyXG4vLyAgICAgICBjb25zb2xlLmxvZyh0cmVlKTtcclxuLy8gICAgICAgdHJlZXNbc21pbGVzXSA9IHRyZWU7XHJcbi8vICAgICB9XHJcbi8vICAgICApXHJcbi8vIH0pXHJcblxyXG4vLyBjb25zb2xlLmxvZyh0cmVlcylcclxuXHJcbmZ1bmN0aW9uIGRyYXcoKSB7XHJcbiAgY29uc3QgdCA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gIFNtaWxlc0RyYXdlci5wYXJzZShcclxuICAgIGlucHV0LnZhbHVlLFxyXG4gICAgKHRyZWUpID0+IHtcclxuICAgICAgY29uc29sZS5sb2codHJlZSk7XHJcbiAgICAgIHNtaWxlc0RyYXdlci5kcmF3KHRyZWUsIFwib3V0cHV0LWNhbnZhc1wiLCBcImRhcmtcIiwgZmFsc2UpO1xyXG4gICAgICBjb25zdCB0ZCA9IHBlcmZvcm1hbmNlLm5vdygpIC0gdDtcclxuICAgICAgbG9nLmlubmVySFRNTCA9IFwiJm5ic3A7XCI7XHJcbiAgICAgIGxvZy5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcclxuXHJcbiAgICAgIG5ldyBOb3R5KHtcclxuICAgICAgICB0ZXh0OiBgRHJhd2luZyB0b29rICR7dGQudG9GaXhlZChcclxuICAgICAgICAgIDNcclxuICAgICAgICApfW1zIHdpdGggYSB0b3RhbCBvdmVybGFwIHNjb3JlIG9mICR7c21pbGVzRHJhd2VyXHJcbiAgICAgICAgICAuZ2V0VG90YWxPdmVybGFwU2NvcmUoKVxyXG4gICAgICAgICAgLnRvRml4ZWQoMyl9LmAsXHJcbiAgICAgICAga2lsbGVyOiB0cnVlLFxyXG4gICAgICAgIHRpbWVvdXQ6IDIwMDAsXHJcbiAgICAgICAgYW5pbWF0aW9uOiB7XHJcbiAgICAgICAgICBvcGVuOiBudWxsLFxyXG4gICAgICAgICAgY2xvc2U6IG51bGwsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSkuc2hvdygpO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coc21pbGVzRHJhd2VyLmdldE1vbGVjdWxhckZvcm11bGEoKSk7XHJcbiAgICB9LFxyXG4gICAgKGVycikgPT4ge1xyXG4gICAgICBsb2cuaW5uZXJIVE1MID0gZXJyO1xyXG4gICAgICBsb2cuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfVxyXG4gICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnMoKSB7XHJcbiAgY29uc3QgdXBkYXRlZERyYXdlciA9IG5ldyBTbWlsZXNEcmF3ZXIuRHJhd2VyKG9wdGlvbnMpO1xyXG4gIGRyYXcoKTtcclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBkcmF3KTtcclxuXHJcbiAgZGVidWdDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgb3B0aW9ucy5kZWJ1ZyA9IGRlYnVnQ2hlY2tib3guY2hlY2tlZDtcclxuICAgIHVwZGF0ZU9wdGlvbnMoKTtcclxuICB9KTtcclxuXHJcbiAgdGV4dFNpemVJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgb3B0aW9ucy5mb250U2l6ZUxhcmdlID0gcGFyc2VJbnQodGV4dFNpemVJbnB1dC52YWx1ZSk7XHJcbiAgICBvcHRpb25zLmZvbnRTaXplU21hbGwgPSAoMyAvIDUpICogb3B0aW9ucy5mb250U2l6ZUxhcmdlO1xyXG4gICAgdXBkYXRlT3B0aW9ucygpO1xyXG4gIH0pO1xyXG5cclxuICBib25kVGhpY2tuZXNzSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgIG9wdGlvbnMuYm9uZFRoaWNrbmVzcyA9IHBhcnNlRmxvYXQoYm9uZFRoaWNrbmVzc0lucHV0LnZhbHVlKTtcclxuICAgIHVwZGF0ZU9wdGlvbnMoKTtcclxuICB9KTtcclxuXHJcbiAgYm9uZExlbmd0aElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICBvcHRpb25zLmJvbmRMZW5ndGggPSBwYXJzZUludChib25kTGVuZ3RoSW5wdXQudmFsdWUpO1xyXG4gICAgdXBkYXRlT3B0aW9ucygpO1xyXG4gIH0pO1xyXG5cclxuICBzaG9ydEJvbmRMZW5ndGhJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgb3B0aW9ucy5zaG9ydEJvbmRMZW5ndGggPSBwYXJzZUludChzaG9ydEJvbmRMZW5ndGhJbnB1dC52YWx1ZSkgLyAxMDA7XHJcbiAgICB1cGRhdGVPcHRpb25zKCk7XHJcbiAgfSk7XHJcblxyXG4gIGJvbmRTcGFjaW5nSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgIG9wdGlvbnMuYm9uZFNwYWNpbmcgPSBwYXJzZUludChib25kU3BhY2luZ0lucHV0LnZhbHVlKTtcclxuICAgIHVwZGF0ZU9wdGlvbnMoKTtcclxuICB9KTtcclxuXHJcbiAgc2l6ZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICBvcHRpb25zLndpZHRoID0gcGFyc2VJbnQoc2l6ZUlucHV0LnZhbHVlKTtcclxuICAgIG9wdGlvbnMuaGVpZ2h0ID0gcGFyc2VJbnQoc2l6ZUlucHV0LnZhbHVlKTtcclxuICAgIHVwZGF0ZU9wdGlvbnMoKTtcclxuICB9KTtcclxuXHJcbiAgb3ZlcmxhcElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICBvcHRpb25zLm92ZXJsYXBSZXNvbHV0aW9uSXRlcmF0aW9ucyA9IHBhcnNlSW50KG92ZXJsYXBJbnB1dC52YWx1ZSk7XHJcbiAgICB1cGRhdGVPcHRpb25zKCk7XHJcbiAgfSk7XHJcbn0pOyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicGVnJHN1YmNsYXNzIiwiY2hpbGQiLCJwYXJlbnQiLCJjdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJwZWckU3ludGF4RXJyb3IiLCJtZXNzYWdlIiwiZXhwZWN0ZWQiLCJmb3VuZCIsImxvY2F0aW9uIiwibmFtZSIsIkVycm9yIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJidWlsZE1lc3NhZ2UiLCJERVNDUklCRV9FWFBFQ1RBVElPTl9GTlMiLCJsaXRlcmFsIiwiZXhwZWN0YXRpb24iLCJsaXRlcmFsRXNjYXBlIiwidGV4dCIsImNsYXNzIiwiZXNjYXBlZFBhcnRzIiwiaSIsInBhcnRzIiwibGVuZ3RoIiwiQXJyYXkiLCJjbGFzc0VzY2FwZSIsImludmVydGVkIiwiYW55IiwiZW5kIiwib3RoZXIiLCJkZXNjcmlwdGlvbiIsImhleCIsImNoIiwiY2hhckNvZGVBdCIsInRvU3RyaW5nIiwidG9VcHBlckNhc2UiLCJzIiwicmVwbGFjZSIsImRlc2NyaWJlRXhwZWN0YXRpb24iLCJ0eXBlIiwiZGVzY3JpYmVFeHBlY3RlZCIsImRlc2NyaXB0aW9ucyIsImoiLCJzb3J0Iiwic2xpY2UiLCJqb2luIiwiZGVzY3JpYmVGb3VuZCIsInBlZyRwYXJzZSIsImlucHV0Iiwib3B0aW9ucyIsIm5PcGVuUGFyZW50aGVzZXMiLCJzcGxpdCIsIm5DbG9zZVBhcmVudGhlc2VzIiwicGVnJGJ1aWxkU2ltcGxlRXJyb3IiLCJwZWckRkFJTEVEIiwicGVnJHN0YXJ0UnVsZUZ1bmN0aW9ucyIsImNoYWluIiwicGVnJHBhcnNlY2hhaW4iLCJwZWckc3RhcnRSdWxlRnVuY3Rpb24iLCJwZWckYzAiLCJicmFuY2hlcyIsInJpbmdzIiwicHVzaCIsImJvbmQiLCJlbGVtZW50IiwicGVnJGMxIiwicGVnJGMyIiwicGVnJGxpdGVyYWxFeHBlY3RhdGlvbiIsInBlZyRjMyIsInBlZyRjNCIsInBlZyRjNSIsImIiLCJicmFuY2hCb25kIiwicGVnJGM2IiwiYSIsInBlZyRjNyIsInBlZyRjOCIsInBlZyRjbGFzc0V4cGVjdGF0aW9uIiwicGVnJGM5IiwicGVnJGMxMCIsInBlZyRjMTEiLCJwZWckYzEyIiwicGVnJGMxMyIsInBlZyRjMTQiLCJwZWckYzE1IiwicGVnJGMxNiIsInBlZyRjMTciLCJwZWckYzE4IiwicGVnJGMxOSIsInBlZyRjMjAiLCJwZWckYzIxIiwicGVnJGMyMiIsInBlZyRjMjMiLCJwZWckYzI0IiwicGVnJGMyNSIsInBlZyRjMjYiLCJwZWckYzI3IiwicGVnJGMyOCIsInBlZyRjMjkiLCJvIiwicGVnJGMzMCIsInBlZyRjMzEiLCJwZWckYzMyIiwicGVnJGMzMyIsInBlZyRjMzQiLCJ3IiwicGVnJGMzNSIsInBlZyRjMzYiLCJwZWckYzM3IiwicGVnJGMzOCIsInBlZyRjMzkiLCJlIiwicGVnJGM0MCIsInBlZyRjNDEiLCJwZWckYzQyIiwicGVnJGM0MyIsInBlZyRjNDQiLCJwZWckYzQ1IiwicGVnJGM0NiIsInIiLCJOdW1iZXIiLCJwZWckYzQ3IiwicGVnJGM0OCIsInBlZyRjNDkiLCJwZWckYzUwIiwicGVnJGM1MSIsInBlZyRjNTIiLCJwZWckYzUzIiwicGVnJGM1NCIsInBlZyRjNTUiLCJwZWckYzU2IiwicGVnJGM1NyIsInBlZyRjNTgiLCJwZWckYzU5IiwicGVnJGM2MCIsInBlZyRjNjEiLCJwZWckYzYyIiwicGVnJGM2MyIsImMiLCJwZWckYzY0IiwicGVnJGM2NSIsInBlZyRjNjYiLCJwZWckYzY3IiwicGVnJGM2OCIsInBlZyRjNjkiLCJwZWckYzcwIiwicGVnJGM3MSIsInBlZyRjNzIiLCJwZWckYzczIiwiaCIsInBlZyRjNzQiLCJwZWckYzc1IiwicGVnJGM3NiIsInBlZyRjNzciLCJwZWckYzc4IiwicGVnJGM3OSIsInBlZyRjdXJyUG9zIiwicGVnJHNhdmVkUG9zIiwicGVnJHBvc0RldGFpbHNDYWNoZSIsImxpbmUiLCJjb2x1bW4iLCJwZWckbWF4RmFpbFBvcyIsInBlZyRtYXhGYWlsRXhwZWN0ZWQiLCJwZWckc2lsZW50RmFpbHMiLCJwZWckcmVzdWx0Iiwic3RhcnRSdWxlIiwic3Vic3RyaW5nIiwicGVnJGNvbXB1dGVMb2NhdGlvbiIsInBlZyRidWlsZFN0cnVjdHVyZWRFcnJvciIsInBlZyRvdGhlckV4cGVjdGF0aW9uIiwiZXJyb3IiLCJpZ25vcmVDYXNlIiwicGVnJGFueUV4cGVjdGF0aW9uIiwicGVnJGVuZEV4cGVjdGF0aW9uIiwicGVnJGNvbXB1dGVQb3NEZXRhaWxzIiwicG9zIiwiZGV0YWlscyIsInAiLCJzdGFydFBvcyIsImVuZFBvcyIsInN0YXJ0UG9zRGV0YWlscyIsImVuZFBvc0RldGFpbHMiLCJzdGFydCIsIm9mZnNldCIsInBlZyRmYWlsIiwiczAiLCJzMSIsInMyIiwiczMiLCJzNCIsInM1IiwiczYiLCJzNyIsInM4IiwiczkiLCJwZWckcGFyc2VhdG9tIiwicGVnJHBhcnNlYnJhbmNoIiwicGVnJHBhcnNlYm9uZCIsInBlZyRwYXJzZXJpbmciLCJwZWckcGFyc2Vvcmdhbmljc3ltYm9sIiwicGVnJHBhcnNlYXJvbWF0aWNzeW1ib2wiLCJwZWckcGFyc2VicmFja2V0YXRvbSIsInBlZyRwYXJzZXdpbGRjYXJkIiwidGVzdCIsImNoYXJBdCIsInBlZyRwYXJzZWlzb3RvcGUiLCJzdWJzdHIiLCJwZWckcGFyc2VlbGVtZW50c3ltYm9sIiwicGVnJHBhcnNlY2hpcmFsIiwicGVnJHBhcnNlaGNvdW50IiwicGVnJHBhcnNlY2hhcmdlIiwicGVnJHBhcnNlY2xhc3MiLCJwZWckcGFyc2Vwb3NjaGFyZ2UiLCJwZWckcGFyc2VuZWdjaGFyZ2UiLCJTeW50YXhFcnJvciIsInBhcnNlIiwiR3JhcGgiLCJTU1NSIiwiZ2V0UmluZ3MiLCJncmFwaCIsImV4cGVyaW1lbnRhbCIsImFkamFjZW5jeU1hdHJpeCIsImdldENvbXBvbmVudHNBZGphY2VuY3lNYXRyaXgiLCJjb25uZWN0ZWRDb21wb25lbnRzIiwiZ2V0Q29ubmVjdGVkQ29tcG9uZW50cyIsImNvbm5lY3RlZENvbXBvbmVudCIsImNjQWRqYWNlbmN5TWF0cml4IiwiZ2V0U3ViZ3JhcGhBZGphY2VuY3lNYXRyaXgiLCJhcnJCb25kQ291bnQiLCJVaW50MTZBcnJheSIsImFyclJpbmdDb3VudCIsImsiLCJuRWRnZXMiLCJuU3NzciIsImFsbFRocmVlIiwiZCIsInBlIiwicGVfcHJpbWUiLCJnZXRQYXRoSW5jbHVkZWREaXN0YW5jZU1hdHJpY2VzIiwiZ2V0UmluZ0NhbmRpZGF0ZXMiLCJzc3NyIiwiZ2V0U1NTUiIsInJpbmciLCJzaXplIiwiaW5kZXgiLCJ2YWwiLCJtYXRyaXhUb1N0cmluZyIsIm1hdHJpeCIsInN0ciIsImwiLCJtIiwibiIsIlBPU0lUSVZFX0lORklOSVRZIiwicHJldmlvdXNQYXRoTGVuZ3RoIiwibmV3UGF0aExlbmd0aCIsInRtcCIsImNhbmRpZGF0ZXMiLCJJbmZpbml0eSIsIm5zc3NyIiwiY1Nzc3IiLCJhbGxCb25kcyIsImJvbmRzIiwiY29uY2F0IiwiYXRvbXMiLCJib25kc1RvQXRvbXMiLCJnZXRCb25kQ291bnQiLCJwYXRoU2V0c0NvbnRhaW4iLCJnZXRFZGdlQ291bnQiLCJlZGdlQ291bnQiLCJnZXRFZGdlTGlzdCIsImVkZ2VMaXN0IiwiU2V0IiwiYWRkIiwiY291bnQiLCJ1IiwidiIsInBhdGhTZXRzIiwicGF0aFNldCIsImlzU3VwZXJzZXRPZiIsImFyZVNldHNFcXVhbCIsImFsbENvbnRhaW5lZCIsInNwZWNpYWxDYXNlIiwic2V0QSIsInNldEIiLCJoYXMiLCJWZWN0b3IyIiwiTWF0aEhlbHBlciIsIkxpbmUiLCJtYWtlaWQiLCJyZXN1bHQiLCJjaGFyYWN0ZXJzIiwiY2hhcmFjdGVyc0xlbmd0aCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIlN2Z1dyYXBwZXIiLCJ0aGVtZU1hbmFnZXIiLCJ0YXJnZXQiLCJjbGVhciIsIlN0cmluZyIsInN2ZyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb250YWluZXIiLCJvcHRzIiwidWlkIiwiZ3JhZGllbnRJZCIsImJhY2tncm91bmRJdGVtcyIsInBhdGhzIiwidmVydGljZXMiLCJncmFkaWVudHMiLCJoaWdobGlnaHRzIiwiZHJhd2luZ1dpZHRoIiwiZHJhd2luZ0hlaWdodCIsImhhbGZCb25kVGhpY2tuZXNzIiwiYm9uZFRoaWNrbmVzcyIsIm1hc2tFbGVtZW50cyIsIm1heFgiLCJNQVhfVkFMVUUiLCJtYXhZIiwibWluWCIsIm1pblkiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnROUyIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJmb250U2l6ZUxhcmdlIiwiZm9udEZhbWlseSIsImZvbnRTaXplU21hbGwiLCJjb25zdHJ1Y3RTdmciLCJkZWZzIiwibWFza3MiLCJiYWNrZ3JvdW5kIiwicGF0aENoaWxkTm9kZXMiLCJtYXNrIiwic2V0QXR0cmlidXRlTlMiLCJwYXRoIiwiYmFja2dyb3VuZEl0ZW0iLCJoaWdobGlnaHQiLCJ2ZXJ0ZXgiLCJncmFkaWVudCIsInVwZGF0ZVZpZXdib3giLCJzY2FsZSIsImFkZExheWVyIiwiY3JlYXRlR3JhZGllbnQiLCJncmFkaWVudFVybCIsImdldExlZnRWZWN0b3IiLCJnZXRSaWdodFZlY3RvciIsImZyb21YIiwieCIsImZyb21ZIiwieSIsInRvWCIsInRvWSIsImZpcnN0U3RvcCIsImdldENvbG9yIiwiZ2V0TGVmdEVsZW1lbnQiLCJzZWNvbmRTdG9wIiwiZ2V0UmlnaHRFbGVtZW50IiwiY3JlYXRlU3ViU3VwZXJTY3JpcHRzIiwic2hpZnQiLCJlbGVtIiwiY3JlYXRlVW5pY29kZUNoYXJnZSIsImNyZWF0ZVVuaWNvZGVTdXBlcnNjcmlwdCIsImRldGVybWluZURpbWVuc2lvbnMiLCJ2YWx1ZSIsImlzRHJhd24iLCJwb3NpdGlvbiIsInBhZGRpbmciLCJ3aWR0aCIsImhlaWdodCIsImRpZmYiLCJkcmF3QmFsbCIsImVsZW1lbnROYW1lIiwiYm9uZExlbmd0aCIsImJhbGwiLCJkcmF3V2VkZ2UiLCJjbG9uZSIsIm5vcm1hbHMiLCJub3JtYWxpemUiLCJpc1JpZ2h0Q2hpcmFsQ2VudGVyIiwiZ2V0UmlnaHRDaGlyYWwiLCJ0IiwibXVsdGlwbHlTY2FsYXIiLCJwb2x5Z29uIiwiZHJhd0F0b21IaWdobGlnaHQiLCJjb2xvciIsImRyYXdEYXNoZWRXZWRnZSIsImlzTmFOIiwiZnJvbSIsInRvIiwiZGlyIiwic3VidHJhY3QiLCJnZXRMZW5ndGgiLCJzdGVwIiwiY2hhbmdlZCIsInN0YXJ0RGFzaCIsImRhc2hPZmZzZXQiLCJlbmREYXNoIiwiZHJhd0xpbmUiLCJkcmF3RGVidWdQb2ludCIsImRlYnVnVGV4dCIsInBvaW50IiwiZHJhd0RlYnVnVGV4dCIsInRleHRFbGVtIiwiZHJhd1JpbmciLCJjaXJjbGVFbGVtIiwicmFkaXVzIiwiYXBvdGhlbUZyb21TaWRlTGVuZ3RoIiwiYm9uZFNwYWNpbmciLCJkYXNoZWQiLCJsaW5lY2FwIiwic3R5bGVzQXJyIiwic3R5bGVzIiwibWFwIiwic3ViIiwibGluZUVsZW0iLCJkcmF3UG9pbnQiLCJkcmF3VGV4dCIsImh5ZHJvZ2VucyIsImRpcmVjdGlvbiIsImlzVGVybWluYWwiLCJjaGFyZ2UiLCJpc290b3BlIiwidG90YWxWZXJ0aWNlcyIsImF0dGFjaGVkUHNldWRvRWxlbWVudCIsImRpc3BsYXkiLCJjcmVhdGVVbmljb2RlU3Vic2NyaXB0IiwiaGFzT3duUHJvcGVydHkiLCJoeWRyb2dlbkNvdW50IiwicHJldmlvdXNFbGVtZW50Iiwia2V5Iiwid3JpdGUiLCJzaW5nbGVWZXJ0ZXgiLCJiYm94IiwibWVhc3VyZVRleHQiLCJjeCIsImN5IiwiZyIsInJldmVyc2UiLCJmb3JFYWNoIiwicGFydCIsInRzcGFuRWxlbSIsInRleHRDb250ZW50IiwibWFza1JhZGl1cyIsInRvQ2FudmFzIiwiY2FudmFzIiwiaW1hZ2UiLCJJbWFnZSIsIm9ubG9hZCIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJzcmMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJvdXRlckhUTUwiLCJwYXJzZUludCIsInBhcnNlZCIsInJlcGxhY2VOdW1iZXJzV2l0aFN1YnNjcmlwdCIsInN1YnNjcmlwdE51bWJlcnMiLCJPYmplY3QiLCJlbnRyaWVzIiwicmVwbGFjZUFsbCIsImZvbnRTaXplIiwibGluZUhlaWdodCIsImNyZWF0ZUVsZW1lbnQiLCJjdHgiLCJmb250IiwidGV4dE1ldHJpY3MiLCJjb21wV2lkdGgiLCJhYnMiLCJhY3R1YWxCb3VuZGluZ0JveExlZnQiLCJhY3R1YWxCb3VuZGluZ0JveFJpZ2h0IiwiYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQiLCJzdmdUb0NhbnZhcyIsImNhbGxiYWNrIiwiY29udGV4dCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsIm9uZXJyb3IiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwic3ZnVG9JbWciLCJpbWciLCJ0b0RhdGFVUkwiLCJ3cml0ZVRleHQiLCJtYXhXaWR0aCIsIk1BWF9TQUZFX0lOVEVHRVIiLCJtYXhMaW5lV2lkdGgiLCJ0b3RhbEhlaWdodCIsImxpbmVzIiwiZGltcyIsInRvdGFsV29yZHNXaWR0aCIsIm1heFdvcmRzSGVpZ2h0Iiwid29yZHMiLCJ3b3JkRGltcyIsIkRyYXdlciIsIlBhcnNlciIsIlJlYWN0aW9uUGFyc2VyIiwiU3ZnRHJhd2VyIiwiUmVhY3Rpb25EcmF3ZXIiLCJHYXVzc0RyYXdlciIsImNhblVzZURPTSIsIndpbmRvdyIsIlNtaWxlc0RyYXdlciIsIlZlcnNpb24iLCJjbGVhbiIsInNtaWxlcyIsImFwcGx5Iiwic2VsZWN0b3IiLCJ0aGVtZU5hbWUiLCJvbkVycm9yIiwic21pbGVzRHJhd2VyIiwiZWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZ2V0QXR0cmlidXRlIiwidHJlZSIsImRyYXciLCJzdWNjZXNzQ2FsbGJhY2siLCJlcnJvckNhbGxiYWNrIiwicGFyc2VSZWFjdGlvbiIsInJlYWN0aW9uU21pbGVzIiwiZGVidWdDaGVja2JveCIsImJvbmRUaGlja25lc3NJbnB1dCIsInRleHRTaXplSW5wdXQiLCJib25kTGVuZ3RoSW5wdXQiLCJzaG9ydEJvbmRMZW5ndGhJbnB1dCIsImJvbmRTcGFjaW5nSW5wdXQiLCJzaXplSW5wdXQiLCJvdmVybGFwSW5wdXQiLCJkZWJ1ZyIsImF0b21WaXN1YWxpemF0aW9uIiwiY2hlbWJsIiwicGVyZm9ybWFuY2UiLCJub3ciLCJ0ZCIsImlubmVySFRNTCIsInZpc2liaWxpdHkiLCJOb3R5IiwidG9GaXhlZCIsImdldFRvdGFsT3ZlcmxhcFNjb3JlIiwia2lsbGVyIiwidGltZW91dCIsImFuaW1hdGlvbiIsIm9wZW4iLCJjbG9zZSIsInNob3ciLCJnZXRNb2xlY3VsYXJGb3JtdWxhIiwidXBkYXRlT3B0aW9ucyIsInVwZGF0ZWREcmF3ZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiY2hlY2tlZCIsInBhcnNlRmxvYXQiLCJzaG9ydEJvbmRMZW5ndGgiLCJvdmVybGFwUmVzb2x1dGlvbkl0ZXJhdGlvbnMiXSwic291cmNlUm9vdCI6IiJ9